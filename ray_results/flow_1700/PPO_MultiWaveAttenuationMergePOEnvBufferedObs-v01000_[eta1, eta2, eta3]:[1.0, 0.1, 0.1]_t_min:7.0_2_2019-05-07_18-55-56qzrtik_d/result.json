{"date": "2019-05-07_18-57-25", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595db38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dcc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d320>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 47339, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 2, "time_this_iter_s": 55.739572048187256, "info": {"load_time_ms": 85.52, "grad_time_ms": 13068.373, "sample_time_ms": 40160.021, "update_time_ms": 2194.574, "default": {"entropy": 1.4162293672561646, "vf_loss": 1.9166339635849, "total_loss": 1.9163912534713745, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0003288869629614055, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8843646049499512, "kl": 0.0004314551770221442}, "num_steps_trained": 47339, "num_steps_sampled": 47339}, "timesteps_since_restore": 47339, "training_iteration": 1, "episodes_total": 2, "policy_reward_mean": {}, "episode_len_mean": 372.5, "timesteps_this_iter": 47339, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "time_since_restore": 55.739572048187256, "episode_reward_max": 544.8383389740134, "num_metric_batches_dropped": 0, "time_total_s": 55.739572048187256, "hostname": "flow-main", "timestamp": 1557255445, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 12.955163095175049, "system_level_velocity_max": 18.92092375300154, "cost2_min": -81.25971585838296, "outflow_rate_mean": 667.2127232554172, "outflow_rate_max": 861.6003999999999, "outflow_rate_min": 472.8250465108345, "system_level_velocity_mean": 15.938043424088294, "cost1_min": 29.89890729418399, "cost1_max": 330.38673264901325, "cost2_max": -17.15085716898958, "cost2_mean": -49.205286513686275, "cost1_mean": 180.1428199715986}, "episode_reward_mean": 296.6351539129989}
{"date": "2019-05-07_18-57-55", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbbe0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 91139, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 29.794375896453857, "info": {"load_time_ms": 46.544, "grad_time_ms": 12244.362, "sample_time_ms": 29195.403, "update_time_ms": 1102.982, "default": {"entropy": 1.4231345653533936, "vf_loss": 1.8443502187728882, "total_loss": 1.8438642024993896, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.000788722827564925, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9543992280960083, "kl": 0.003027631202712655}, "num_steps_trained": 91139, "num_steps_sampled": 91139}, "timesteps_since_restore": 91139, "training_iteration": 2, "episodes_total": 21, "policy_reward_mean": {}, "episode_len_mean": 668.8095238095239, "timesteps_this_iter": 43800, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "time_since_restore": 85.53394794464111, "episode_reward_max": 668.2627566502485, "num_metric_batches_dropped": 0, "time_total_s": 85.53394794464111, "hostname": "flow-main", "timestamp": 1557255475, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -96.37973658014083, "outflow_rate_mean": 555.345208770151, "outflow_rate_max": 910.5825090909091, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.61045687050252, "cost2_max": -17.15085716898958, "cost1_max": 359.73914445120266, "cost1_min": 29.89890729418399, "cost2_mean": -73.97794742818733, "cost1_mean": 225.07962488549998}, "episode_reward_mean": 464.4209232861228}
{"date": "2019-05-07_18-58-26", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb278>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb2e8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 131881, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 31.183375358581543, "info": {"load_time_ms": 33.357, "grad_time_ms": 11868.188, "sample_time_ms": 26109.615, "update_time_ms": 741.322, "default": {"entropy": 1.4017516374588013, "vf_loss": 1.378953456878662, "total_loss": 1.3774806261062622, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.0017688247608020902, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9788686037063599, "kl": 0.0059203184209764}, "num_steps_trained": 131881, "num_steps_sampled": 131881}, "timesteps_since_restore": 131881, "training_iteration": 3, "episodes_total": 41, "policy_reward_mean": {}, "episode_len_mean": 684.0243902439024, "timesteps_this_iter": 40742, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "time_since_restore": 116.71732330322266, "episode_reward_max": 668.2627566502485, "num_metric_batches_dropped": 0, "time_total_s": 116.71732330322266, "hostname": "flow-main", "timestamp": 1557255506, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -96.37973658014083, "outflow_rate_mean": 589.315069300391, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.794205384565977, "cost2_max": -17.15085716898958, "cost1_max": 370.2144280094176, "cost1_min": 29.89890729418399, "cost2_mean": -75.59941059999794, "cost1_mean": 240.64836645798474}, "episode_reward_mean": 481.6749754303273}
{"date": "2019-05-07_18-58-54", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa90>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 173209, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 14, "time_this_iter_s": 28.00213098526001, "info": {"load_time_ms": 27.142, "grad_time_ms": 11597.498, "sample_time_ms": 23859.41, "update_time_ms": 558.614, "default": {"entropy": 1.4018558263778687, "vf_loss": 0.9701481461524963, "total_loss": 0.9696844816207886, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0006317348452284932, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9782482385635376, "kl": 0.003360247705131769}, "num_steps_trained": 173209, "num_steps_sampled": 173209}, "timesteps_since_restore": 173209, "training_iteration": 4, "episodes_total": 55, "policy_reward_mean": {}, "episode_len_mean": 688.0909090909091, "timesteps_this_iter": 41328, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "time_since_restore": 144.71945428848267, "episode_reward_max": 668.2627566502485, "num_metric_batches_dropped": 0, "time_total_s": 144.71945428848267, "hostname": "flow-main", "timestamp": 1557255534, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -96.37973658014083, "outflow_rate_mean": 575.149628283668, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.579648044367215, "cost2_max": -17.15085716898958, "cost1_max": 370.2144280094176, "cost1_min": 29.89890729418399, "cost2_mean": -76.05059459609117, "cost1_mean": 237.77129748120302}, "episode_reward_mean": 485.21117205286953}
{"date": "2019-05-07_18-59-23", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900b38>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 216349, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 29.24439573287964, "info": {"load_time_ms": 23.177, "grad_time_ms": 11461.994, "sample_time_ms": 22727.749, "update_time_ms": 448.967, "default": {"entropy": 1.3971567153930664, "vf_loss": 1.5246323347091675, "total_loss": 1.522864818572998, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0019347110064700246, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9657419919967651, "kl": 0.006679650396108627}, "num_steps_trained": 216349, "num_steps_sampled": 216349}, "timesteps_since_restore": 216349, "training_iteration": 5, "episodes_total": 73, "policy_reward_mean": {}, "episode_len_mean": 691.027397260274, "timesteps_this_iter": 43140, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "time_since_restore": 173.9638500213623, "episode_reward_max": 668.2627566502485, "num_metric_batches_dropped": 0, "time_total_s": 173.9638500213623, "hostname": "flow-main", "timestamp": 1557255563, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -96.37973658014083, "outflow_rate_mean": 568.2893264866277, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.332765690448849, "cost2_max": -17.15085716898958, "cost1_max": 370.2144280094176, "cost1_min": 29.89890729418399, "cost2_mean": -73.95392711467333, "cost1_mean": 233.638591414357}, "episode_reward_mean": 483.1301697202823}
{"date": "2019-05-07_18-59-52", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbe48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fba90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931ef0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 259808, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 9, "time_this_iter_s": 28.916810512542725, "info": {"load_time_ms": 20.709, "grad_time_ms": 11424.29, "sample_time_ms": 21864.77, "update_time_ms": 375.815, "default": {"entropy": 1.3745821714401245, "vf_loss": 1.7851721048355103, "total_loss": 1.7822697162628174, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.003096682019531727, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9688799977302551, "kl": 0.007779985666275024}, "num_steps_trained": 259808, "num_steps_sampled": 259808}, "timesteps_since_restore": 259808, "training_iteration": 6, "episodes_total": 82, "policy_reward_mean": {}, "episode_len_mean": 692.0121951219512, "timesteps_this_iter": 43459, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "time_since_restore": 202.88066053390503, "episode_reward_max": 668.2627566502485, "num_metric_batches_dropped": 0, "time_total_s": 202.88066053390503, "hostname": "flow-main", "timestamp": 1557255592, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -96.37973658014083, "outflow_rate_mean": 570.9328791544716, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.140873939586807, "cost2_max": -17.15085716898958, "cost1_max": 370.2144280094176, "cost1_min": 29.89890729418399, "cost2_mean": -74.82427695361704, "cost1_mean": 229.50786956966593}, "episode_reward_mean": 487.3561897574169}
{"date": "2019-05-07_19-00-23", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb400>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 301857, "episode_reward_min": 48.43196885198439, "done": false, "pid": 42973, "episodes_this_iter": 15, "time_this_iter_s": 30.443154335021973, "info": {"load_time_ms": 18.797, "grad_time_ms": 11679.123, "sample_time_ms": 21185.88, "update_time_ms": 324.198, "default": {"entropy": 1.352333426475525, "vf_loss": 3.729992389678955, "total_loss": 3.7287158966064453, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0014297511661425233, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.93547123670578, "kl": 0.006133626215159893}, "num_steps_trained": 301857, "num_steps_sampled": 301857}, "timesteps_since_restore": 301857, "training_iteration": 7, "episodes_total": 97, "policy_reward_mean": {}, "episode_len_mean": 693.2474226804123, "timesteps_this_iter": 42049, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "time_since_restore": 233.323814868927, "episode_reward_max": 717.2077368992071, "num_metric_batches_dropped": 0, "time_total_s": 233.323814868927, "hostname": "flow-main", "timestamp": 1557255623, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 3.3861557967810674, "system_level_velocity_max": 18.92092375300154, "cost2_min": -113.77804806663353, "outflow_rate_mean": 588.5416790174501, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 239.94514285714283, "system_level_velocity_mean": 9.047485315953594, "cost2_max": -17.15085716898958, "cost1_max": 370.2144280094176, "cost1_min": 29.89890729418399, "cost2_mean": -77.23017804427774, "cost1_mean": 228.28138546222414}, "episode_reward_mean": 502.0078531846206}
{"date": "2019-05-07_19-00-52", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931ef0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 342818, "episode_reward_min": 376.0161709488809, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 28.98382592201233, "info": {"load_time_ms": 17.426, "grad_time_ms": 11671.327, "sample_time_ms": 20693.059, "update_time_ms": 284.864, "default": {"entropy": 1.3286478519439697, "vf_loss": 5.057011604309082, "total_loss": 5.05444860458374, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0027501829899847507, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9157112240791321, "kl": 0.007510154042392969}, "num_steps_trained": 342818, "num_steps_sampled": 342818}, "timesteps_since_restore": 342818, "training_iteration": 8, "episodes_total": 117, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 40961, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "time_since_restore": 262.30764079093933, "episode_reward_max": 717.2077368992071, "num_metric_batches_dropped": 0, "time_total_s": 262.30764079093933, "hostname": "flow-main", "timestamp": 1557255652, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 4.340850244060332, "system_level_velocity_max": 14.110702903074738, "cost2_min": -116.84878090084503, "outflow_rate_mean": 633.3799903896105, "outflow_rate_max": 971.7546857142856, "outflow_rate_min": 266.0516571428571, "system_level_velocity_mean": 8.881999409481299, "cost2_max": -51.104167849929134, "cost1_max": 370.2144280094176, "cost1_min": 105.97788791047202, "cost2_mean": -80.8029201743869, "cost1_mean": 229.75231824305604}, "episode_reward_mean": 536.8703948579033}
{"date": "2019-05-07_19-01-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900b38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59008d0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 382989, "episode_reward_min": 376.0161709488809, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 28.81686806678772, "info": {"load_time_ms": 16.286, "grad_time_ms": 11722.746, "sample_time_ms": 20234.306, "update_time_ms": 254.506, "default": {"entropy": 1.3066836595535278, "vf_loss": 4.138411521911621, "total_loss": 4.136447906494141, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.002166758757084608, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9419019222259521, "kl": 0.00813992228358984}, "num_steps_trained": 382989, "num_steps_sampled": 382989}, "timesteps_since_restore": 382989, "training_iteration": 9, "episodes_total": 134, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 40171, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "time_since_restore": 291.12450885772705, "episode_reward_max": 766.0639504867648, "num_metric_batches_dropped": 0, "time_total_s": 291.12450885772705, "hostname": "flow-main", "timestamp": 1557255681, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 4.340850244060332, "system_level_velocity_max": 14.110702903074738, "cost2_min": -124.06591563911651, "outflow_rate_mean": 668.7540127792208, "outflow_rate_max": 959.3323532467533, "outflow_rate_min": 266.0516571428571, "system_level_velocity_mean": 8.693447004537004, "cost2_max": -51.104167849929134, "cost1_max": 370.2144280094176, "cost1_min": 105.97788791047202, "cost2_mean": -84.18716320578942, "cost1_mean": 226.0363745678155}, "episode_reward_mean": 567.8055874551538}
{"date": "2019-05-07_19-01-51", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb0b8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 423842, "episode_reward_min": 394.5132369107071, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 30.545891284942627, "info": {"load_time_ms": 15.507, "grad_time_ms": 11895.928, "sample_time_ms": 19907.391, "update_time_ms": 230.12, "default": {"entropy": 1.2840198278427124, "vf_loss": 6.560132026672363, "total_loss": 6.559257984161377, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0010619757231324911, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8539307117462158, "kl": 0.007526107132434845}, "num_steps_trained": 423842, "num_steps_sampled": 423842}, "timesteps_since_restore": 423842, "training_iteration": 10, "episodes_total": 154, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 40853, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "time_since_restore": 321.6704001426697, "episode_reward_max": 796.7512734080984, "num_metric_batches_dropped": 0, "time_total_s": 321.6704001426697, "hostname": "flow-main", "timestamp": 1557255711, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 4.340850244060332, "system_level_velocity_max": 11.713972966557808, "cost2_min": -124.51750525070494, "outflow_rate_mean": 734.3553631688312, "outflow_rate_max": 1020.8262441558442, "outflow_rate_min": 345.2760571428571, "system_level_velocity_mean": 8.646547803740862, "cost2_max": -51.104167849929134, "cost1_max": 305.1078242760062, "cost1_min": 105.97788791047202, "cost2_mean": -90.34889052751979, "cost1_mean": 225.56358649453196}, "episode_reward_mean": 614.7522031636798}
{"date": "2019-05-07_19-02-20", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb2e8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 463597, "episode_reward_min": 405.2766595037428, "done": false, "pid": 42973, "episodes_this_iter": 9, "time_this_iter_s": 28.60330843925476, "info": {"load_time_ms": 7.756, "grad_time_ms": 11938.177, "sample_time_ms": 17390.853, "update_time_ms": 11.712, "default": {"entropy": 1.264775276184082, "vf_loss": 4.902121543884277, "total_loss": 4.899107933044434, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0033238022588193417, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9024730920791626, "kl": 0.012422443367540836}, "num_steps_trained": 463597, "num_steps_sampled": 463597}, "timesteps_since_restore": 463597, "training_iteration": 11, "episodes_total": 163, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 39755, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "time_since_restore": 350.27370858192444, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 350.27370858192444, "hostname": "flow-main", "timestamp": 1557255740, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 4.340850244060332, "system_level_velocity_max": 11.713972966557808, "cost2_min": -124.51750525070494, "outflow_rate_mean": 775.078106021978, "outflow_rate_max": 1020.8262441558442, "outflow_rate_min": 382.4036571428571, "system_level_velocity_mean": 8.727279484103327, "cost2_max": -51.104167849929134, "cost1_max": 305.1078242760062, "cost1_min": 105.97788791047202, "cost2_mean": -92.73287596050366, "cost1_mean": 228.41749702736033}, "episode_reward_mean": 643.1259245112584}
{"date": "2019-05-07_19-02-51", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900438>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 503012, "episode_reward_min": 521.6965023531918, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 30.673119068145752, "info": {"load_time_ms": 7.786, "grad_time_ms": 12032.227, "sample_time_ms": 17386.423, "update_time_ms": 11.822, "default": {"entropy": 1.2731287479400635, "vf_loss": 8.694745063781738, "total_loss": 8.6924467086792, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0025913207791745663, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8641446828842163, "kl": 0.01172247901558876}, "num_steps_trained": 503012, "num_steps_sampled": 503012}, "timesteps_since_restore": 503012, "training_iteration": 12, "episodes_total": 183, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 39415, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "time_since_restore": 380.9468276500702, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 380.9468276500702, "hostname": "flow-main", "timestamp": 1557255771, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 6.571835358049676, "system_level_velocity_max": 11.713972966557808, "cost2_min": -124.51750525070494, "outflow_rate_mean": 847.3910918401598, "outflow_rate_max": 1029.9706025974026, "outflow_rate_min": 546.2871428571428, "system_level_velocity_mean": 9.007868880132571, "cost2_max": -57.55185507164944, "cost1_max": 305.1078242760062, "cost1_min": 167.7784171755248, "cost2_mean": -93.89454835530846, "cost1_mean": 236.22982550072223}, "episode_reward_mean": 685.0493892083969}
{"date": "2019-05-07_19-03-20", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa90>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 542392, "episode_reward_min": 521.6965023531918, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 29.068504095077515, "info": {"load_time_ms": 7.44, "grad_time_ms": 12073.115, "sample_time_ms": 17136.981, "update_time_ms": 10.72, "default": {"entropy": 1.254633903503418, "vf_loss": 8.593680381774902, "total_loss": 8.591787338256836, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.002089164685457945, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8571677803993225, "kl": 0.007808268070220947}, "num_steps_trained": 542392, "num_steps_sampled": 542392}, "timesteps_since_restore": 542392, "training_iteration": 13, "episodes_total": 203, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 39380, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "time_since_restore": 410.0153317451477, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 410.0153317451477, "hostname": "flow-main", "timestamp": 1557255800, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 6.571835358049676, "system_level_velocity_max": 12.699032428590003, "cost2_min": -124.51750525070494, "outflow_rate_mean": 894.3329945414584, "outflow_rate_max": 1123.9587636363638, "outflow_rate_min": 562.2741714285714, "system_level_velocity_mean": 9.251978203570166, "cost2_max": -57.24917091473037, "cost1_max": 335.42724112548535, "cost1_min": 167.7784171755248, "cost2_mean": -89.8618509103831, "cost1_mean": 242.98091563332625}, "episode_reward_mean": 711.4767271855735}
{"date": "2019-05-07_19-03-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59052b0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 580129, "episode_reward_min": 521.6965023531918, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 28.09241533279419, "info": {"load_time_ms": 7.35, "grad_time_ms": 12063.592, "sample_time_ms": 17156.871, "update_time_ms": 10.391, "default": {"entropy": 1.2355296611785889, "vf_loss": 9.227153778076172, "total_loss": 9.226391792297363, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.000988791580311954, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8572658896446228, "kl": 0.009056213311851025}, "num_steps_trained": 580129, "num_steps_sampled": 580129}, "timesteps_since_restore": 580129, "training_iteration": 14, "episodes_total": 222, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37737, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "time_since_restore": 438.1077470779419, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 438.1077470779419, "hostname": "flow-main", "timestamp": 1557255828, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 7.617418637213492, "system_level_velocity_max": 12.699032428590003, "cost2_min": -124.51750525070494, "outflow_rate_mean": 935.2565399960039, "outflow_rate_max": 1123.9587636363638, "outflow_rate_min": 562.2741714285714, "system_level_velocity_mean": 9.573228711393408, "cost2_max": -53.30096915954427, "cost1_max": 335.42724112548535, "cost1_min": 200.63862583763452, "cost2_mean": -85.56466776844569, "cost1_mean": 251.6662044401081}, "episode_reward_mean": 726.2347813159944}
{"date": "2019-05-07_19-04-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905198>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 616516, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 27.46884512901306, "info": {"load_time_ms": 7.351, "grad_time_ms": 12053.219, "sample_time_ms": 16991.953, "update_time_ms": 10.231, "default": {"entropy": 1.2137202024459839, "vf_loss": 9.730299949645996, "total_loss": 9.728978157043457, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0015747761353850365, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8313504457473755, "kl": 0.01010213140398264}, "num_steps_trained": 616516, "num_steps_sampled": 616516}, "timesteps_since_restore": 616516, "training_iteration": 15, "episodes_total": 241, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 36387, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "time_since_restore": 465.57659220695496, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 465.57659220695496, "hostname": "flow-main", "timestamp": 1557255855, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 7.617418637213492, "system_level_velocity_max": 12.699032428590003, "cost2_min": -124.51750525070494, "outflow_rate_mean": 964.1049958401599, "outflow_rate_max": 1123.9587636363638, "outflow_rate_min": 818.0981714285715, "system_level_velocity_mean": 9.812664372331744, "cost2_max": -53.02224557632922, "cost1_max": 335.42724112548535, "cost1_min": 200.63862583763452, "cost2_mean": -78.98531228007515, "cost1_mean": 257.81067703330996}, "episode_reward_mean": 731.7485035667912}
{"date": "2019-05-07_19-04-43", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900d68>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 652686, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 27.60843849182129, "info": {"load_time_ms": 7.203, "grad_time_ms": 12043.172, "sample_time_ms": 16872.521, "update_time_ms": 10.042, "default": {"entropy": 1.1961567401885986, "vf_loss": 7.057048797607422, "total_loss": 7.054351329803467, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0030086066108196974, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.886501669883728, "kl": 0.012430446222424507}, "num_steps_trained": 652686, "num_steps_sampled": 652686}, "timesteps_since_restore": 652686, "training_iteration": 16, "episodes_total": 257, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 36170, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "time_since_restore": 493.18503069877625, "episode_reward_max": 827.5609524875885, "num_metric_batches_dropped": 0, "time_total_s": 493.18503069877625, "hostname": "flow-main", "timestamp": 1557255883, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 7.617418637213492, "system_level_velocity_max": 12.699032428590003, "cost2_min": -113.76014075011723, "outflow_rate_mean": 973.3538655024977, "outflow_rate_max": 1123.9587636363638, "outflow_rate_min": 818.0981714285715, "system_level_velocity_mean": 9.977936805954894, "cost2_max": -47.74225234174599, "cost1_max": 335.42724112548535, "cost1_min": 200.63862583763452, "cost2_mean": -71.86874274678016, "cost1_mean": 262.19807425059446}, "episode_reward_mean": 722.7191738745688}
{"date": "2019-05-07_19-05-11", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef898>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 689486, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 28.539392948150635, "info": {"load_time_ms": 7.264, "grad_time_ms": 11749.653, "sample_time_ms": 16977.012, "update_time_ms": 9.518, "default": {"entropy": 1.19913649559021, "vf_loss": 9.246654510498047, "total_loss": 9.244750022888184, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.0022106224205344915, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8300256133079529, "kl": 0.012242541648447514}, "num_steps_trained": 689486, "num_steps_sampled": 689486}, "timesteps_since_restore": 689486, "training_iteration": 17, "episodes_total": 278, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 36800, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "time_since_restore": 521.7244236469269, "episode_reward_max": 819.2234596481454, "num_metric_batches_dropped": 0, "time_total_s": 521.7244236469269, "hostname": "flow-main", "timestamp": 1557255911, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 7.617418637213492, "system_level_velocity_max": 13.358035882073722, "cost2_min": -89.43284038109593, "outflow_rate_mean": 978.4115866493505, "outflow_rate_max": 1123.9587636363638, "outflow_rate_min": 818.0981714285715, "system_level_velocity_mean": 10.13061535125663, "cost2_max": -46.714676597612254, "cost1_max": 350.41019072527786, "cost1_min": 200.63862583763452, "cost2_mean": -67.67873692833228, "cost1_mean": 266.41853739525345}, "episode_reward_mean": 717.9109143290897}
{"date": "2019-05-07_19-05-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905d68>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 726625, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 14, "time_this_iter_s": 28.329657793045044, "info": {"load_time_ms": 7.355, "grad_time_ms": 11676.68, "sample_time_ms": 16986.504, "update_time_ms": 9.398, "default": {"entropy": 1.1785165071487427, "vf_loss": 6.926485061645508, "total_loss": 6.925231456756592, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0014839376090094447, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9074879884719849, "kl": 0.009196875616908073}, "num_steps_trained": 726625, "num_steps_sampled": 726625}, "timesteps_since_restore": 726625, "training_iteration": 18, "episodes_total": 292, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37139, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "time_since_restore": 550.0540814399719, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 550.0540814399719, "hostname": "flow-main", "timestamp": 1557255940, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 7.617418637213492, "system_level_velocity_max": 13.358035882073722, "cost2_min": -91.63812762607691, "outflow_rate_mean": 980.1513918961037, "outflow_rate_max": 1119.003096103896, "outflow_rate_min": 818.0981714285715, "system_level_velocity_mean": 10.258853277473115, "cost2_max": -46.714676597612254, "cost1_max": 350.41019072527786, "cost1_min": 200.63862583763452, "cost2_mean": -65.86370687895966, "cost1_mean": 269.9513930964086}, "episode_reward_mean": 712.628346457133}
{"date": "2019-05-07_19-06-09", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb2e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb828>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 764765, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 29.26058077812195, "info": {"load_time_ms": 7.449, "grad_time_ms": 11474.318, "sample_time_ms": 17235.077, "update_time_ms": 9.053, "default": {"entropy": 1.1676567792892456, "vf_loss": 10.220464706420898, "total_loss": 10.218896865844727, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.001829202170483768, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8269630670547485, "kl": 0.010459654033184052}, "num_steps_trained": 764765, "num_steps_sampled": 764765}, "timesteps_since_restore": 764765, "training_iteration": 19, "episodes_total": 313, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38140, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "time_since_restore": 579.3146622180939, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 579.3146622180939, "hostname": "flow-main", "timestamp": 1557255969, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.053643390485485, "system_level_velocity_max": 13.358035882073722, "cost2_min": -91.63812762607691, "outflow_rate_mean": 989.0370430649351, "outflow_rate_max": 1119.003096103896, "outflow_rate_min": 877.244, "system_level_velocity_mean": 10.343556393628027, "cost2_max": -46.714676597612254, "cost1_max": 350.41019072527786, "cost1_min": 205.17284811680545, "cost2_mean": -64.38723735629273, "cost1_mean": 272.6643059798195}, "episode_reward_mean": 714.7607972207172}
{"date": "2019-05-07_19-06-36", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59a42e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900b38>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 802461, "episode_reward_min": 615.3975737051511, "done": false, "pid": 42973, "episodes_this_iter": 14, "time_this_iter_s": 27.330296516418457, "info": {"load_time_ms": 7.358, "grad_time_ms": 11084.622, "sample_time_ms": 17305.074, "update_time_ms": 8.989, "default": {"entropy": 1.167919397354126, "vf_loss": 6.423039436340332, "total_loss": 6.4209303855896, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.0023406222462654114, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.900141716003418, "kl": 0.009263116866350174}, "num_steps_trained": 802461, "num_steps_sampled": 802461}, "timesteps_since_restore": 802461, "training_iteration": 20, "episodes_total": 327, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37696, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "time_since_restore": 606.6449587345123, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 606.6449587345123, "hostname": "flow-main", "timestamp": 1557255996, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.053643390485485, "system_level_velocity_max": 13.358035882073722, "cost2_min": -91.63812762607691, "outflow_rate_mean": 990.9883015584414, "outflow_rate_max": 1110.676535064935, "outflow_rate_min": 877.244, "system_level_velocity_mean": 10.359801609737028, "cost2_max": -46.714676597612254, "cost1_max": 350.41019072527786, "cost1_min": 205.17284811680545, "cost2_mean": -65.19678641215063, "cost1_mean": 272.74567626989773}, "episode_reward_mean": 715.7487173074493}
{"date": "2019-05-07_19-07-06", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59058d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59059e8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 840339, "episode_reward_min": 625.9608909257792, "done": false, "pid": 42973, "episodes_this_iter": 22, "time_this_iter_s": 29.407539129257202, "info": {"load_time_ms": 7.188, "grad_time_ms": 10680.156, "sample_time_ms": 17791.866, "update_time_ms": 8.697, "default": {"entropy": 1.1763914823532104, "vf_loss": 11.99836254119873, "total_loss": 11.996192932128906, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0024607181549072266, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8487372994422913, "kl": 0.011598329991102219}, "num_steps_trained": 840339, "num_steps_sampled": 840339}, "timesteps_since_restore": 840339, "training_iteration": 21, "episodes_total": 349, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37878, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "time_since_restore": 636.0524978637695, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 636.0524978637695, "hostname": "flow-main", "timestamp": 1557256026, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.053643390485485, "system_level_velocity_max": 14.488681938183577, "cost2_min": -98.16145572570309, "outflow_rate_mean": 996.6152224935064, "outflow_rate_max": 1108.994457142857, "outflow_rate_min": 877.679335064935, "system_level_velocity_mean": 10.44004029525794, "cost2_max": -46.714676597612254, "cost1_max": 382.12316764065133, "cost1_min": 205.17284811680545, "cost2_mean": -66.57561862478433, "cost1_mean": 275.46781881345856}, "episode_reward_mean": 722.7587950774727}
{"date": "2019-05-07_19-07-34", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59057f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 878389, "episode_reward_min": 625.9608909257792, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 27.83072066307068, "info": {"load_time_ms": 7.242, "grad_time_ms": 10433.423, "sample_time_ms": 17756.214, "update_time_ms": 8.459, "default": {"entropy": 1.1695858240127563, "vf_loss": 8.942951202392578, "total_loss": 8.941067695617676, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.002163992263376713, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8569783568382263, "kl": 0.011180814355611801}, "num_steps_trained": 878389, "num_steps_sampled": 878389}, "timesteps_since_restore": 878389, "training_iteration": 22, "episodes_total": 366, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38050, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "time_since_restore": 663.8832185268402, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 663.8832185268402, "hostname": "flow-main", "timestamp": 1557256054, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.053643390485485, "system_level_velocity_max": 14.488681938183577, "cost2_min": -98.60387393594152, "outflow_rate_mean": 1001.6690890909092, "outflow_rate_max": 1108.994457142857, "outflow_rate_min": 877.679335064935, "system_level_velocity_mean": 10.407218867368483, "cost2_max": -46.714676597612254, "cost1_max": 382.12316764065133, "cost1_min": 205.17284811680545, "cost2_mean": -68.93731179042511, "cost1_mean": 274.38679104928883}, "episode_reward_mean": 726.3113799979687}
{"date": "2019-05-07_19-08-03", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb828>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 916492, "episode_reward_min": 75.2353722255327, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 29.003731727600098, "info": {"load_time_ms": 7.213, "grad_time_ms": 10352.229, "sample_time_ms": 17830.252, "update_time_ms": 8.653, "default": {"entropy": 1.1444159746170044, "vf_loss": 9.39577579498291, "total_loss": 9.393697738647461, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0023646350018680096, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8529596924781799, "kl": 0.011483590118587017}, "num_steps_trained": 916492, "num_steps_sampled": 916492}, "timesteps_since_restore": 916492, "training_iteration": 23, "episodes_total": 383, "policy_reward_mean": {}, "episode_len_mean": 693.59, "timesteps_this_iter": 38103, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "time_since_restore": 692.8869502544403, "episode_reward_max": 859.1186779459534, "num_metric_batches_dropped": 0, "time_total_s": 692.8869502544403, "hostname": "flow-main", "timestamp": 1557256083, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.366922330171919, "system_level_velocity_max": 18.130000436822097, "cost2_min": -99.00403580598405, "outflow_rate_mean": 1002.1799637402451, "outflow_rate_max": 1108.994457142857, "outflow_rate_min": 513.6606597388054, "system_level_velocity_mean": 10.540623102044668, "cost2_max": -21.025996264449656, "cost1_max": 382.12316764065133, "cost1_min": 38.917209885717526, "cost2_mean": -70.85119211973014, "cost1_mean": 273.7863402956497}, "episode_reward_mean": 729.8323987678938}
{"date": "2019-05-07_19-08-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900470>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 955297, "episode_reward_min": 75.2353722255327, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 27.205352544784546, "info": {"load_time_ms": 7.066, "grad_time_ms": 10346.149, "sample_time_ms": 17746.074, "update_time_ms": 8.831, "default": {"entropy": 1.1328824758529663, "vf_loss": 9.915266036987305, "total_loss": 9.914311408996582, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.001323326607234776, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8424550890922546, "kl": 0.014708197675645351}, "num_steps_trained": 955297, "num_steps_sampled": 955297}, "timesteps_since_restore": 955297, "training_iteration": 24, "episodes_total": 401, "policy_reward_mean": {}, "episode_len_mean": 693.59, "timesteps_this_iter": 38805, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "time_since_restore": 720.0923027992249, "episode_reward_max": 854.9479445172814, "num_metric_batches_dropped": 0, "time_total_s": 720.0923027992249, "hostname": "flow-main", "timestamp": 1557256110, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.366922330171919, "system_level_velocity_max": 18.130000436822097, "cost2_min": -99.73247338218454, "outflow_rate_mean": 1002.5094824695159, "outflow_rate_max": 1102.5570753246752, "outflow_rate_min": 513.6606597388054, "system_level_velocity_mean": 10.525588087069082, "cost2_max": -21.025996264449656, "cost1_max": 382.12316764065133, "cost1_min": 38.917209885717526, "cost2_mean": -74.05632865053406, "cost1_mean": 273.13089310380224}, "episode_reward_mean": 738.3850978346283}
{"date": "2019-05-07_19-08-58", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f98>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 993508, "episode_reward_min": 75.2353722255327, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 27.839912176132202, "info": {"load_time_ms": 7.057, "grad_time_ms": 10317.061, "sample_time_ms": 17811.897, "update_time_ms": 8.98, "default": {"entropy": 1.1287165880203247, "vf_loss": 9.090768814086914, "total_loss": 9.087924003601074, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003202290739864111, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8594344854354858, "kl": 0.014333544299006462}, "num_steps_trained": 993508, "num_steps_sampled": 993508}, "timesteps_since_restore": 993508, "training_iteration": 25, "episodes_total": 417, "policy_reward_mean": {}, "episode_len_mean": 693.59, "timesteps_this_iter": 38211, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "time_since_restore": 747.932214975357, "episode_reward_max": 856.418243506652, "num_metric_batches_dropped": 0, "time_total_s": 747.932214975357, "hostname": "flow-main", "timestamp": 1557256138, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.366922330171919, "system_level_velocity_max": 18.130000436822097, "cost2_min": -99.73247338218454, "outflow_rate_mean": 1000.0794169110744, "outflow_rate_max": 1102.5570753246752, "outflow_rate_min": 513.6606597388054, "system_level_velocity_mean": 10.536692174412241, "cost2_max": -21.025996264449656, "cost1_max": 382.12316764065133, "cost1_min": 38.917209885717526, "cost2_mean": -76.1591587933135, "cost1_mean": 273.2498103737837}, "episode_reward_mean": 739.7090296398236}
{"date": "2019-05-07_19-09-28", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590ff60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590ff28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fef0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1031423, "episode_reward_min": 75.2353722255327, "done": false, "pid": 42973, "episodes_this_iter": 22, "time_this_iter_s": 29.89255142211914, "info": {"load_time_ms": 6.987, "grad_time_ms": 10234.249, "sample_time_ms": 18124.961, "update_time_ms": 9.222, "default": {"entropy": 1.1179786920547485, "vf_loss": 12.66651725769043, "total_loss": 12.663881301879883, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0030131572857499123, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8020170331001282, "kl": 0.01509204600006342}, "num_steps_trained": 1031423, "num_steps_sampled": 1031423}, "timesteps_since_restore": 1031423, "training_iteration": 26, "episodes_total": 439, "policy_reward_mean": {}, "episode_len_mean": 687.19, "timesteps_this_iter": 37915, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "time_since_restore": 777.8247663974762, "episode_reward_max": 856.418243506652, "num_metric_batches_dropped": 0, "time_total_s": 777.8247663974762, "hostname": "flow-main", "timestamp": 1557256168, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.593051009519156, "system_level_velocity_max": 18.130000436822097, "cost2_min": -99.73247338218454, "outflow_rate_mean": 1000.3332944654389, "outflow_rate_max": 1148.8202545454546, "outflow_rate_min": 513.6606597388054, "system_level_velocity_mean": 10.567210264530866, "cost2_max": -19.153830519034237, "cost1_max": 371.31057796455855, "cost1_min": 38.917209885717526, "cost2_mean": -74.63510906859105, "cost1_mean": 270.61443574131295}, "episode_reward_mean": 737.0292296862903}
{"date": "2019-05-07_19-09-56", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f5c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1068852, "episode_reward_min": 57.14774832243651, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 27.96159863471985, "info": {"load_time_ms": 6.925, "grad_time_ms": 10229.367, "sample_time_ms": 18071.367, "update_time_ms": 9.205, "default": {"entropy": 1.1118249893188477, "vf_loss": 12.712911605834961, "total_loss": 12.710259437561035, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0029847656842321157, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8092161417007446, "kl": 0.013310794718563557}, "num_steps_trained": 1068852, "num_steps_sampled": 1068852}, "timesteps_since_restore": 1068852, "training_iteration": 27, "episodes_total": 458, "policy_reward_mean": {}, "episode_len_mean": 680.68, "timesteps_this_iter": 37429, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "time_since_restore": 805.786365032196, "episode_reward_max": 856.418243506652, "num_metric_batches_dropped": 0, "time_total_s": 805.786365032196, "hostname": "flow-main", "timestamp": 1557256196, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.881332218873002, "system_level_velocity_max": 19.12351860782884, "cost2_min": -99.73247338218454, "outflow_rate_mean": 1004.1672258971734, "outflow_rate_max": 1175.502, "outflow_rate_min": 477.6730392773371, "system_level_velocity_mean": 10.695453168857611, "cost2_max": -17.146323185743363, "cost1_max": 371.31057796455855, "cost1_min": 34.19421538573054, "cost2_mean": -72.13128792950373, "cost1_mean": 269.94644287675766}, "episode_reward_mean": 735.0079796259074}
{"date": "2019-05-07_19-10-24", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900080>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1106071, "episode_reward_min": 43.69145250787474, "done": false, "pid": 42973, "episodes_this_iter": 22, "time_this_iter_s": 28.542831897735596, "info": {"load_time_ms": 6.708, "grad_time_ms": 10062.791, "sample_time_ms": 18260.306, "update_time_ms": 9.408, "default": {"entropy": 1.1091245412826538, "vf_loss": 12.967190742492676, "total_loss": 12.962531089782715, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.005035551730543375, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8142220377922058, "kl": 0.015071864239871502}, "num_steps_trained": 1106071, "num_steps_sampled": 1106071}, "timesteps_since_restore": 1106071, "training_iteration": 28, "episodes_total": 480, "policy_reward_mean": {}, "episode_len_mean": 680.45, "timesteps_this_iter": 37219, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "time_since_restore": 834.3291969299316, "episode_reward_max": 884.7007655250472, "num_metric_batches_dropped": 0, "time_total_s": 834.3291969299316, "hostname": "flow-main", "timestamp": 1557256224, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.881332218873002, "system_level_velocity_max": 19.12351860782884, "cost2_min": -99.73247338218454, "outflow_rate_mean": 1013.5432423579258, "outflow_rate_max": 1175.502, "outflow_rate_min": 452.1660812385978, "system_level_velocity_mean": 10.768982680111238, "cost2_max": -15.596818728363678, "cost1_max": 371.31057796455855, "cost1_min": 24.058429256160878, "cost2_mean": -70.4084352651406, "cost1_mean": 272.3960338143439}, "episode_reward_mean": 741.1187445553802}
{"date": "2019-05-07_19-10-53", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59119b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59117f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1143229, "episode_reward_min": 43.69145250787474, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 28.300277709960938, "info": {"load_time_ms": 6.236, "grad_time_ms": 10029.548, "sample_time_ms": 18198.282, "update_time_ms": 9.645, "default": {"entropy": 1.1115574836730957, "vf_loss": 10.107171058654785, "total_loss": 10.105177879333496, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0022599282674491405, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8478897213935852, "kl": 0.010663142427802086}, "num_steps_trained": 1143229, "num_steps_sampled": 1143229}, "timesteps_since_restore": 1143229, "training_iteration": 29, "episodes_total": 496, "policy_reward_mean": {}, "episode_len_mean": 680.45, "timesteps_this_iter": 37158, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "time_since_restore": 862.6294746398926, "episode_reward_max": 884.7007655250472, "num_metric_batches_dropped": 0, "time_total_s": 862.6294746398926, "hostname": "flow-main", "timestamp": 1557256253, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.881332218873002, "system_level_velocity_max": 19.12351860782884, "cost2_min": -93.49736605581232, "outflow_rate_mean": 1022.139757622661, "outflow_rate_max": 1175.502, "outflow_rate_min": 452.1660812385978, "system_level_velocity_mean": 10.870343945247976, "cost2_max": -15.596818728363678, "cost1_max": 371.31057796455855, "cost1_min": 24.058429256160878, "cost2_mean": -68.44015146389624, "cost1_mean": 275.5566280771454}, "episode_reward_mean": 741.9179018943183}
{"date": "2019-05-07_19-11-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59112e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911160>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1182180, "episode_reward_min": 43.69145250787474, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 29.20837640762329, "info": {"load_time_ms": 6.132, "grad_time_ms": 10125.261, "sample_time_ms": 18289.439, "update_time_ms": 9.331, "default": {"entropy": 1.090020775794983, "vf_loss": 10.862462043762207, "total_loss": 10.859237670898438, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0036011275369673967, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8127752542495728, "kl": 0.01510736532509327}, "num_steps_trained": 1182180, "num_steps_sampled": 1182180}, "timesteps_since_restore": 1182180, "training_iteration": 30, "episodes_total": 512, "policy_reward_mean": {}, "episode_len_mean": 680.45, "timesteps_this_iter": 38951, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "time_since_restore": 891.8378510475159, "episode_reward_max": 957.0308941160273, "num_metric_batches_dropped": 0, "time_total_s": 891.8378510475159, "hostname": "flow-main", "timestamp": 1557256282, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.881332218873002, "system_level_velocity_max": 19.12351860782884, "cost2_min": -94.0825993930404, "outflow_rate_mean": 1033.482018737546, "outflow_rate_max": 1178.8550805194805, "outflow_rate_min": 452.1660812385978, "system_level_velocity_mean": 10.978019992806464, "cost2_max": -15.596818728363678, "cost1_max": 375.8075565153127, "cost1_min": 24.058429256160878, "cost2_mean": -68.24712589924916, "cost1_mean": 278.8305029509363}, "episode_reward_mean": 749.5965768947672}
{"date": "2019-05-07_19-11-50", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fa20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f5c0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1220737, "episode_reward_min": 43.69145250787474, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 28.06467890739441, "info": {"load_time_ms": 6.302, "grad_time_ms": 10213.008, "sample_time_ms": 18067.277, "update_time_ms": 9.517, "default": {"entropy": 1.0736329555511475, "vf_loss": 10.758258819580078, "total_loss": 10.755597114562988, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0031195234041661024, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8732212781906128, "kl": 0.018359515815973282}, "num_steps_trained": 1220737, "num_steps_sampled": 1220737}, "timesteps_since_restore": 1220737, "training_iteration": 31, "episodes_total": 529, "policy_reward_mean": {}, "episode_len_mean": 686.85, "timesteps_this_iter": 38557, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "time_since_restore": 919.9025299549103, "episode_reward_max": 957.0308941160273, "num_metric_batches_dropped": 0, "time_total_s": 919.9025299549103, "hostname": "flow-main", "timestamp": 1557256310, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.081551858465726, "system_level_velocity_max": 19.12351860782884, "cost2_min": -94.0825993930404, "outflow_rate_mean": 1050.2151748335311, "outflow_rate_max": 1221.0135436563437, "outflow_rate_min": 452.1660812385978, "system_level_velocity_mean": 11.06450217876248, "cost1_min": 24.058429256160878, "cost1_max": 375.8075565153127, "cost2_max": -15.596818728363678, "cost2_mean": -69.6852339300752, "cost1_mean": 285.7064177544999}, "episode_reward_mean": 767.0932659741618}
{"date": "2019-05-07_19-12-19", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a20>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1259595, "episode_reward_min": 43.69145250787474, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 28.766752243041992, "info": {"load_time_ms": 6.331, "grad_time_ms": 10266.527, "sample_time_ms": 18107.471, "update_time_ms": 9.209, "default": {"entropy": 1.0917434692382812, "vf_loss": 13.429459571838379, "total_loss": 13.427774429321289, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.001976452535018325, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8527487516403198, "kl": 0.01167489867657423}, "num_steps_trained": 1259595, "num_steps_sampled": 1259595}, "timesteps_since_restore": 1259595, "training_iteration": 32, "episodes_total": 548, "policy_reward_mean": {}, "episode_len_mean": 686.85, "timesteps_this_iter": 38858, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "time_since_restore": 948.6692821979523, "episode_reward_max": 962.1606571275676, "num_metric_batches_dropped": 0, "time_total_s": 948.6692821979523, "hostname": "flow-main", "timestamp": 1557256339, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.995122219693972, "system_level_velocity_max": 19.12351860782884, "cost2_min": -94.0825993930404, "outflow_rate_mean": 1063.4122996247397, "outflow_rate_max": 1270.1365090909087, "outflow_rate_min": 452.1660812385978, "system_level_velocity_mean": 11.129869408121554, "cost2_max": -15.596818728363678, "cost1_max": 375.8075565153127, "cost1_min": 24.058429256160878, "cost2_mean": -71.52580680093546, "cost1_mean": 287.37537682307527}, "episode_reward_mean": 774.0322773610336}
{"date": "2019-05-07_19-12-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59118d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911470>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1298126, "episode_reward_min": 693.060538238562, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 29.209689617156982, "info": {"load_time_ms": 6.827, "grad_time_ms": 10250.69, "sample_time_ms": 18145.055, "update_time_ms": 9.11, "default": {"entropy": 1.0786921977996826, "vf_loss": 11.925004959106445, "total_loss": 11.922529220581055, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0028974765446037054, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.874017059803009, "kl": 0.016860762611031532}, "num_steps_trained": 1298126, "num_steps_sampled": 1298126}, "timesteps_since_restore": 1298126, "training_iteration": 33, "episodes_total": 567, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38531, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "time_since_restore": 977.8789718151093, "episode_reward_max": 962.1606571275676, "num_metric_batches_dropped": 0, "time_total_s": 977.8789718151093, "hostname": "flow-main", "timestamp": 1557256368, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.995122219693972, "system_level_velocity_max": 14.380198838356149, "cost2_min": -94.0825993930404, "outflow_rate_mean": 1082.5259746773227, "outflow_rate_max": 1270.1365090909087, "outflow_rate_min": 939.787444155844, "system_level_velocity_mean": 11.055968865595444, "cost2_max": -52.72127217598482, "cost1_max": 381.99788791991347, "cost1_min": 239.92206915822322, "cost2_mean": -75.06250685973535, "cost1_mean": 294.5808036243272}, "episode_reward_mean": 796.6185103103207}
{"date": "2019-05-07_19-13-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59004a8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1335452, "episode_reward_min": 693.060538238562, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 27.22942352294922, "info": {"load_time_ms": 6.929, "grad_time_ms": 10240.151, "sample_time_ms": 18157.743, "update_time_ms": 8.999, "default": {"entropy": 1.0638513565063477, "vf_loss": 11.230741500854492, "total_loss": 11.230387687683105, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0006642464431934059, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8985669016838074, "kl": 0.012414309196174145}, "num_steps_trained": 1335452, "num_steps_sampled": 1335452}, "timesteps_since_restore": 1335452, "training_iteration": 34, "episodes_total": 585, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37326, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "time_since_restore": 1005.1083953380585, "episode_reward_max": 962.1606571275676, "num_metric_batches_dropped": 0, "time_total_s": 1005.1083953380585, "hostname": "flow-main", "timestamp": 1557256395, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.995122219693972, "system_level_velocity_max": 14.380198838356149, "cost2_min": -104.12669193347861, "outflow_rate_mean": 1091.850540971029, "outflow_rate_max": 1270.1365090909087, "outflow_rate_min": 939.787444155844, "system_level_velocity_mean": 11.213231771117053, "cost2_max": -55.66673246567303, "cost1_max": 381.99788791991347, "cost1_min": 239.92206915822322, "cost2_mean": -78.66658318900413, "cost1_mean": 298.5946809099183}, "episode_reward_mean": 805.8227195955691}
{"date": "2019-05-07_19-13-43", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590feb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fba8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1373205, "episode_reward_min": 693.060538238562, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 28.123363733291626, "info": {"load_time_ms": 6.786, "grad_time_ms": 10196.631, "sample_time_ms": 18228.706, "update_time_ms": 9.2, "default": {"entropy": 1.0608607530593872, "vf_loss": 11.710087776184082, "total_loss": 11.707123756408691, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.0033395597711205482, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8886936902999878, "kl": 0.015012008138000965}, "num_steps_trained": 1373205, "num_steps_sampled": 1373205}, "timesteps_since_restore": 1373205, "training_iteration": 35, "episodes_total": 603, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37753, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "time_since_restore": 1033.23175907135, "episode_reward_max": 977.001930415454, "num_metric_batches_dropped": 0, "time_total_s": 1033.23175907135, "hostname": "flow-main", "timestamp": 1557256423, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.995122219693972, "system_level_velocity_max": 14.579728425778583, "cost2_min": -109.66320229666073, "outflow_rate_mean": 1107.2181627852146, "outflow_rate_max": 1270.1365090909087, "outflow_rate_min": 939.787444155844, "system_level_velocity_mean": 11.418553593014888, "cost2_max": -55.99397239204636, "cost1_max": 391.1494675145374, "cost1_min": 239.92206915822322, "cost2_mean": -81.4667166318871, "cost1_mean": 304.04752871444606}, "episode_reward_mean": 820.0831162075535}
{"date": "2019-05-07_19-14-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59117f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1411563, "episode_reward_min": 57.565558582200936, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 26.509130477905273, "info": {"load_time_ms": 6.866, "grad_time_ms": 10211.818, "sample_time_ms": 17872.347, "update_time_ms": 9.134, "default": {"entropy": 1.0885815620422363, "vf_loss": 10.477835655212402, "total_loss": 10.47617244720459, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0019996222108602524, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.894039511680603, "kl": 0.013477679342031479}, "num_steps_trained": 1411563, "num_steps_sampled": 1411563}, "timesteps_since_restore": 1411563, "training_iteration": 36, "episodes_total": 620, "policy_reward_mean": {}, "episode_len_mean": 693.52, "timesteps_this_iter": 38358, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "time_since_restore": 1059.7408895492554, "episode_reward_max": 978.0294908294899, "num_metric_batches_dropped": 0, "time_total_s": 1059.7408895492554, "hostname": "flow-main", "timestamp": 1557256450, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.995122219693972, "system_level_velocity_max": 17.909070079848245, "cost2_min": -118.57765913296186, "outflow_rate_mean": 1108.3201004603295, "outflow_rate_max": 1270.1365090909087, "outflow_rate_min": 486.10381306592745, "system_level_velocity_mean": 11.479563098364645, "cost2_max": -18.088430207936227, "cost1_max": 391.1494675145374, "cost1_min": 34.92988830243427, "cost2_mean": -84.31446529013894, "cost1_mean": 301.00690788112286}, "episode_reward_mean": 815.6318354229529}
{"date": "2019-05-07_19-14-39", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc88>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1450537, "episode_reward_min": 57.565558582200936, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 29.02922773361206, "info": {"load_time_ms": 6.836, "grad_time_ms": 10239.09, "sample_time_ms": 17949.538, "update_time_ms": 9.207, "default": {"entropy": 1.0715875625610352, "vf_loss": 10.64213752746582, "total_loss": 10.641000747680664, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0014640884473919868, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8926751017570496, "kl": 0.01314203254878521}, "num_steps_trained": 1450537, "num_steps_sampled": 1450537}, "timesteps_since_restore": 1450537, "training_iteration": 37, "episodes_total": 637, "policy_reward_mean": {}, "episode_len_mean": 693.52, "timesteps_this_iter": 38974, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "time_since_restore": 1088.7701172828674, "episode_reward_max": 978.0294908294899, "num_metric_batches_dropped": 0, "time_total_s": 1088.7701172828674, "hostname": "flow-main", "timestamp": 1557256479, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.348237239032041, "system_level_velocity_max": 17.909070079848245, "cost2_min": -118.57765913296186, "outflow_rate_mean": 1108.9285411836065, "outflow_rate_max": 1258.4858137862138, "outflow_rate_min": 486.10381306592745, "system_level_velocity_mean": 11.534228788981483, "cost2_max": -18.088430207936227, "cost1_max": 391.1494675145374, "cost1_min": 34.92988830243427, "cost2_mean": -88.9239198809724, "cost1_mean": 302.41923182355566}, "episode_reward_mean": 818.0878854834643}
{"date": "2019-05-07_19-15-09", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f0f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59001d0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1488944, "episode_reward_min": 56.05606608020442, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 30.14722967147827, "info": {"load_time_ms": 7.029, "grad_time_ms": 10461.751, "sample_time_ms": 17883.834, "update_time_ms": 9.287, "default": {"entropy": 1.0682862997055054, "vf_loss": 13.158761024475098, "total_loss": 13.155280113220215, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.003907660022377968, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9011855125427246, "kl": 0.017072787508368492}, "num_steps_trained": 1488944, "num_steps_sampled": 1488944}, "timesteps_since_restore": 1488944, "training_iteration": 38, "episodes_total": 657, "policy_reward_mean": {}, "episode_len_mean": 686.98, "timesteps_this_iter": 38407, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "time_since_restore": 1118.9173469543457, "episode_reward_max": 978.0294908294899, "num_metric_batches_dropped": 0, "time_total_s": 1118.9173469543457, "hostname": "flow-main", "timestamp": 1557256509, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.348237239032041, "system_level_velocity_max": 17.909070079848245, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1102.1152580003782, "outflow_rate_max": 1258.4858137862138, "outflow_rate_min": 468.8999625962658, "system_level_velocity_mean": 11.646301823492323, "cost2_max": -15.773608693990052, "cost1_max": 391.1494675145374, "cost1_min": 30.86496554197596, "cost2_mean": -92.84851228529695, "cost1_mean": 300.2986110809089}, "episode_reward_mean": 807.6242569787828}
{"date": "2019-05-07_19-15-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f630>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1527173, "episode_reward_min": 56.05606608020442, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 30.306070566177368, "info": {"load_time_ms": 7.53, "grad_time_ms": 10732.229, "sample_time_ms": 17811.532, "update_time_ms": 9.532, "default": {"entropy": 1.0741585493087769, "vf_loss": 10.366974830627441, "total_loss": 10.36437702178955, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0029109609313309193, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9222179651260376, "kl": 0.012557191774249077}, "num_steps_trained": 1527173, "num_steps_sampled": 1527173}, "timesteps_since_restore": 1527173, "training_iteration": 39, "episodes_total": 673, "policy_reward_mean": {}, "episode_len_mean": 686.98, "timesteps_this_iter": 38229, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "time_since_restore": 1149.223417520523, "episode_reward_max": 1006.661240146793, "num_metric_batches_dropped": 0, "time_total_s": 1149.223417520523, "hostname": "flow-main", "timestamp": 1557256540, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.348237239032041, "system_level_velocity_max": 17.909070079848245, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1109.1316709194589, "outflow_rate_max": 1276.3821794205794, "outflow_rate_min": 468.8999625962658, "system_level_velocity_mean": 11.827938033918187, "cost2_max": -15.773608693990052, "cost1_max": 391.1494675145374, "cost1_min": 30.86496554197596, "cost2_mean": -95.40771972973856, "cost1_mean": 305.53575431530743}, "episode_reward_mean": 815.4467182547476}
{"date": "2019-05-07_19-16-09", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911518>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1565322, "episode_reward_min": 41.031778684753014, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 29.099198579788208, "info": {"load_time_ms": 7.191, "grad_time_ms": 10775.024, "sample_time_ms": 17760.232, "update_time_ms": 9.896, "default": {"entropy": 1.0659990310668945, "vf_loss": 13.53453254699707, "total_loss": 13.531231880187988, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003745388239622116, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8899276256561279, "kl": 0.01772887632250786}, "num_steps_trained": 1565322, "num_steps_sampled": 1565322}, "timesteps_since_restore": 1565322, "training_iteration": 40, "episodes_total": 694, "policy_reward_mean": {}, "episode_len_mean": 680.34, "timesteps_this_iter": 38149, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "time_since_restore": 1178.3226161003113, "episode_reward_max": 1006.661240146793, "num_metric_batches_dropped": 0, "time_total_s": 1178.3226161003113, "hostname": "flow-main", "timestamp": 1557256569, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.348237239032041, "system_level_velocity_max": 18.044802777143207, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1091.6545386062392, "outflow_rate_max": 1276.3821794205794, "outflow_rate_min": 446.0313081385432, "system_level_velocity_mean": 11.820677304948918, "cost2_max": -15.773608693990052, "cost1_max": 383.5097059136655, "cost1_min": 24.192601442332595, "cost2_mean": -95.41649570167245, "cost1_mean": 300.22582098432076}, "episode_reward_mean": 794.212907418304}
{"date": "2019-05-07_19-16-35", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1603394, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.715325832366943, "info": {"load_time_ms": 7.061, "grad_time_ms": 10785.713, "sample_time_ms": 17514.854, "update_time_ms": 9.867, "default": {"entropy": 1.0479620695114136, "vf_loss": 12.445321083068848, "total_loss": 12.441557884216309, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.004179338458925486, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8688554763793945, "kl": 0.01669476181268692}, "num_steps_trained": 1603394, "num_steps_sampled": 1603394}, "timesteps_since_restore": 1603394, "training_iteration": 41, "episodes_total": 712, "policy_reward_mean": {}, "episode_len_mean": 673.63, "timesteps_this_iter": 38072, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "time_since_restore": 1204.0379419326782, "episode_reward_max": 1006.661240146793, "num_metric_batches_dropped": 0, "time_total_s": 1204.0379419326782, "hostname": "flow-main", "timestamp": 1557256595, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.348237239032041, "system_level_velocity_max": 18.783311647794577, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1082.8663237782791, "outflow_rate_max": 1276.3821794205794, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.933686841940862, "cost2_max": -15.527927826887046, "cost1_max": 383.5097059136655, "cost1_min": 20.655853619373172, "cost2_mean": -93.93735426052527, "cost1_mean": 298.73842602022273}, "episode_reward_mean": 786.3345548427906}
{"date": "2019-05-07_19-16-59", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59001d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a90>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1641463, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 15, "time_this_iter_s": 24.929251670837402, "info": {"load_time_ms": 6.515, "grad_time_ms": 10741.866, "sample_time_ms": 17172.912, "update_time_ms": 10.015, "default": {"entropy": 1.0437158346176147, "vf_loss": 12.127936363220215, "total_loss": 12.124687194824219, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0036388635635375977, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8690493702888489, "kl": 0.015632225200533867}, "num_steps_trained": 1641463, "num_steps_sampled": 1641463}, "timesteps_since_restore": 1641463, "training_iteration": 42, "episodes_total": 727, "policy_reward_mean": {}, "episode_len_mean": 680.11, "timesteps_this_iter": 38069, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "time_since_restore": 1228.9671936035156, "episode_reward_max": 1006.661240146793, "num_metric_batches_dropped": 0, "time_total_s": 1228.9671936035156, "hostname": "flow-main", "timestamp": 1557256619, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.253107483914427, "system_level_velocity_max": 18.783311647794577, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1076.2172694478195, "outflow_rate_max": 1276.3821794205794, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.71346827806701, "cost2_max": -15.527927826887046, "cost1_max": 383.5097059136655, "cost1_min": 20.655853619373172, "cost2_mean": -92.74679164926518, "cost1_mean": 297.0937713216392}, "episode_reward_mean": 787.9408741271916}
{"date": "2019-05-07_19-17-25", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59009b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59007b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a20>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1679659, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.625954151153564, "info": {"load_time_ms": 6.37, "grad_time_ms": 10679.069, "sample_time_ms": 16876.408, "update_time_ms": 10.193, "default": {"entropy": 1.0306236743927002, "vf_loss": 14.560921669006348, "total_loss": 14.55800724029541, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0033796473871916533, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8793463706970215, "kl": 0.0185818150639534}, "num_steps_trained": 1679659, "num_steps_sampled": 1679659}, "timesteps_since_restore": 1679659, "training_iteration": 43, "episodes_total": 746, "policy_reward_mean": {}, "episode_len_mean": 680.11, "timesteps_this_iter": 38196, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "time_since_restore": 1254.5931477546692, "episode_reward_max": 1006.661240146793, "num_metric_batches_dropped": 0, "time_total_s": 1254.5931477546692, "hostname": "flow-main", "timestamp": 1557256645, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.253107483914427, "system_level_velocity_max": 18.783311647794577, "cost2_min": -119.5810773904299, "outflow_rate_mean": 1077.2333092759911, "outflow_rate_max": 1299.2348847152846, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.628852424939405, "cost2_max": -15.527927826887046, "cost1_max": 399.687204218956, "cost1_min": 20.655853619373172, "cost2_mean": -90.82734344155615, "cost1_mean": 295.1463398954068}, "episode_reward_mean": 786.6153895997812}
{"date": "2019-05-07_19-17-49", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922710>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1717598, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 23.701035022735596, "info": {"load_time_ms": 6.342, "grad_time_ms": 10571.014, "sample_time_ms": 16632.645, "update_time_ms": 10.166, "default": {"entropy": 1.0339231491088867, "vf_loss": 13.837557792663574, "total_loss": 13.833785057067871, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.00425580283626914, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8785104751586914, "kl": 0.019261609762907028}, "num_steps_trained": 1717598, "num_steps_sampled": 1717598}, "timesteps_since_restore": 1717598, "training_iteration": 44, "episodes_total": 764, "policy_reward_mean": {}, "episode_len_mean": 686.65, "timesteps_this_iter": 37939, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "time_since_restore": 1278.2941827774048, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1278.2941827774048, "hostname": "flow-main", "timestamp": 1557256669, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.253107483914427, "system_level_velocity_max": 18.783311647794577, "cost2_min": -107.63479014473248, "outflow_rate_mean": 1080.0605265691092, "outflow_rate_max": 1331.6040227772226, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.543362500858711, "cost2_max": -15.527927826887046, "cost1_max": 399.687204218956, "cost1_min": 20.655853619373172, "cost2_mean": -90.2823562923439, "cost1_mean": 297.5363836161009}, "episode_reward_mean": 791.4339384539159}
{"date": "2019-05-07_19-18-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922b38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1755290, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 26.010826587677002, "info": {"load_time_ms": 6.399, "grad_time_ms": 10491.561, "sample_time_ms": 16502.77, "update_time_ms": 9.632, "default": {"entropy": 1.0095282793045044, "vf_loss": 14.292917251586914, "total_loss": 14.290040969848633, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.0032486659474670887, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8842108845710754, "kl": 0.014893113635480404}, "num_steps_trained": 1755290, "num_steps_sampled": 1755290}, "timesteps_since_restore": 1755290, "training_iteration": 45, "episodes_total": 784, "policy_reward_mean": {}, "episode_len_mean": 686.65, "timesteps_this_iter": 37692, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "time_since_restore": 1304.3050093650818, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1304.3050093650818, "hostname": "flow-main", "timestamp": 1557256695, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.253107483914427, "system_level_velocity_max": 18.783311647794577, "cost2_min": -111.1725971561841, "outflow_rate_mean": 1075.7873073403384, "outflow_rate_max": 1331.6040227772226, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.44931156579815, "cost2_max": -15.527927826887046, "cost1_max": 399.687204218956, "cost1_min": 20.655853619373172, "cost2_mean": -90.16513630740323, "cost1_mean": 294.8363343077428}, "episode_reward_mean": 783.3177226555626}
{"date": "2019-05-07_19-18-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59008d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900eb8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1792782, "episode_reward_min": 36.29494699408909, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 25.211480617523193, "info": {"load_time_ms": 6.341, "grad_time_ms": 10395.103, "sample_time_ms": 16472.419, "update_time_ms": 9.495, "default": {"entropy": 1.0308647155761719, "vf_loss": 12.437934875488281, "total_loss": 12.435089111328125, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0032298907171934843, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9005837440490723, "kl": 0.015349511988461018}, "num_steps_trained": 1792782, "num_steps_sampled": 1792782}, "timesteps_since_restore": 1792782, "training_iteration": 46, "episodes_total": 801, "policy_reward_mean": {}, "episode_len_mean": 693.29, "timesteps_this_iter": 37492, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "time_since_restore": 1329.516489982605, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1329.516489982605, "hostname": "flow-main", "timestamp": 1557256720, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.253107483914427, "system_level_velocity_max": 18.783311647794577, "cost2_min": -120.27616906786949, "outflow_rate_mean": 1090.5957712339778, "outflow_rate_max": 1331.6040227772226, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 11.298637743394716, "cost2_max": -15.527927826887046, "cost1_max": 399.687204218956, "cost1_min": 20.655853619373172, "cost2_mean": -92.28738037874699, "cost1_mean": 295.8139918886367}, "episode_reward_mean": 793.7461800654315}
{"date": "2019-05-07_19-19-05", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911668>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911518>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1831073, "episode_reward_min": 707.3416852197796, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.09237766265869, "info": {"load_time_ms": 6.34, "grad_time_ms": 10310.274, "sample_time_ms": 16168.406, "update_time_ms": 9.216, "default": {"entropy": 1.0453057289123535, "vf_loss": 12.603013038635254, "total_loss": 12.600478172302246, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0029137409292161465, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9072801470756531, "kl": 0.015134964138269424}, "num_steps_trained": 1831073, "num_steps_sampled": 1831073}, "timesteps_since_restore": 1831073, "training_iteration": 47, "episodes_total": 820, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38291, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "time_since_restore": 1354.6088676452637, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1354.6088676452637, "hostname": "flow-main", "timestamp": 1557256745, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.28033515917324, "system_level_velocity_max": 15.189868240476587, "cost2_min": -121.34712033232782, "outflow_rate_mean": 1109.2164056183815, "outflow_rate_max": 1331.6040227772226, "outflow_rate_min": 960.7794545454545, "system_level_velocity_mean": 11.443147433333506, "cost2_max": -67.65740086203945, "cost1_max": 405.8458670649479, "cost1_min": 244.84533954605317, "cost2_mean": -96.603841673827, "cost1_mean": 304.19203186674724}, "episode_reward_mean": 804.0234675281483}
{"date": "2019-05-07_19-19-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59226a0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1869903, "episode_reward_min": 707.3416852197796, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 25.06186079978943, "info": {"load_time_ms": 6.121, "grad_time_ms": 10170.421, "sample_time_ms": 15801.144, "update_time_ms": 8.877, "default": {"entropy": 1.0457584857940674, "vf_loss": 11.504128456115723, "total_loss": 11.501235008239746, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0032719443552196026, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9040553569793701, "kl": 0.015146623365581036}, "num_steps_trained": 1869903, "num_steps_sampled": 1869903}, "timesteps_since_restore": 1869903, "training_iteration": 48, "episodes_total": 836, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38830, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "time_since_restore": 1379.670728445053, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1379.670728445053, "hostname": "flow-main", "timestamp": 1557256770, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.264633765066598, "system_level_velocity_max": 15.189868240476587, "cost2_min": -121.34712033232782, "outflow_rate_mean": 1114.1945344855144, "outflow_rate_max": 1331.6040227772226, "outflow_rate_min": 960.7794545454545, "system_level_velocity_mean": 11.563986539940128, "cost2_max": -67.65740086203945, "cost1_max": 405.8458670649479, "cost1_min": 244.84533954605317, "cost2_mean": -99.3301511987913, "cost1_mean": 307.3725484272534}, "episode_reward_mean": 807.6714188050427}
{"date": "2019-05-07_19-19-56", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbd30>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1908472, "episode_reward_min": 707.3416852197796, "done": false, "pid": 42973, "episodes_this_iter": 15, "time_this_iter_s": 25.25634741783142, "info": {"load_time_ms": 5.941, "grad_time_ms": 9931.617, "sample_time_ms": 15537.563, "update_time_ms": 8.285, "default": {"entropy": 1.0540282726287842, "vf_loss": 10.194323539733887, "total_loss": 10.190934181213379, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.003754611127078533, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9151023030281067, "kl": 0.014619861729443073}, "num_steps_trained": 1908472, "num_steps_sampled": 1908472}, "timesteps_since_restore": 1908472, "training_iteration": 49, "episodes_total": 851, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38569, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "time_since_restore": 1404.9270758628845, "episode_reward_max": 962.6552810537514, "num_metric_batches_dropped": 0, "time_total_s": 1404.9270758628845, "hostname": "flow-main", "timestamp": 1557256796, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.102375595225634, "system_level_velocity_max": 15.189868240476587, "cost2_min": -121.58372400727661, "outflow_rate_mean": 1116.3833689910089, "outflow_rate_max": 1340.7331392607396, "outflow_rate_min": 960.7794545454545, "system_level_velocity_mean": 11.584694327693226, "cost2_max": -67.65740086203945, "cost1_max": 405.8458670649479, "cost1_min": 241.15400107206878, "cost2_mean": -101.20812097783738, "cost1_mean": 307.9164911083721}, "episode_reward_mean": 807.2833807563463}
{"date": "2019-05-07_19-20-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922ba8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1948022, "episode_reward_min": 79.12368134664193, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 26.519940614700317, "info": {"load_time_ms": 6.332, "grad_time_ms": 9845.887, "sample_time_ms": 15364.539, "update_time_ms": 7.908, "default": {"entropy": 1.0434080362319946, "vf_loss": 13.076445579528809, "total_loss": 13.072811126708984, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0041239601559937, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8981386423110962, "kl": 0.019611431285738945}, "num_steps_trained": 1948022, "num_steps_sampled": 1948022}, "timesteps_since_restore": 1948022, "training_iteration": 50, "episodes_total": 870, "policy_reward_mean": {}, "episode_len_mean": 693.63, "timesteps_this_iter": 39550, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "time_since_restore": 1431.4470164775848, "episode_reward_max": 953.2192849380208, "num_metric_batches_dropped": 0, "time_total_s": 1431.4470164775848, "hostname": "flow-main", "timestamp": 1557256822, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.102375595225634, "system_level_velocity_max": 18.379275627801334, "cost2_min": -121.58372400727661, "outflow_rate_mean": 1112.2905682142823, "outflow_rate_max": 1340.7331392607396, "outflow_rate_min": 523.0078863632812, "system_level_velocity_mean": 11.609804419259012, "cost2_max": -20.244609436207515, "cost1_max": 405.8458670649479, "cost1_min": 42.6848369559911, "cost2_mean": -102.44987363453491, "cost1_mean": 303.9853482574513}, "episode_reward_mean": 799.4955358220336}
{"date": "2019-05-07_19-20-47", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb9b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbef0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1985884, "episode_reward_min": 79.12368134664193, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.28505825996399, "info": {"load_time_ms": 6.345, "grad_time_ms": 9730.012, "sample_time_ms": 15438.195, "update_time_ms": 7.769, "default": {"entropy": 0.9933649897575378, "vf_loss": 13.906157493591309, "total_loss": 13.903244018554688, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003318208269774914, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.890503466129303, "kl": 0.01618346758186817}, "num_steps_trained": 1985884, "num_steps_sampled": 1985884}, "timesteps_since_restore": 1985884, "training_iteration": 51, "episodes_total": 888, "policy_reward_mean": {}, "episode_len_mean": 693.63, "timesteps_this_iter": 37862, "iterations_since_restore": 51, "node_ip": "10.138.0.2", "time_since_restore": 1456.7320747375488, "episode_reward_max": 986.1455309296034, "num_metric_batches_dropped": 0, "time_total_s": 1456.7320747375488, "hostname": "flow-main", "timestamp": 1557256847, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.733095094442572, "system_level_velocity_max": 18.379275627801334, "cost2_min": -121.58372400727661, "outflow_rate_mean": 1113.209140957539, "outflow_rate_max": 1340.7331392607396, "outflow_rate_min": 523.0078863632812, "system_level_velocity_mean": 11.62756360193203, "cost2_max": -20.244609436207515, "cost1_max": 405.8458670649479, "cost1_min": 42.6848369559911, "cost2_mean": -99.67246293698099, "cost1_mean": 304.83861132785773}, "episode_reward_mean": 806.2163960522356}
{"date": "2019-05-07_19-21-13", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb6a0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2023474, "episode_reward_min": 79.12368134664193, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.8386013507843, "info": {"load_time_ms": 6.664, "grad_time_ms": 9715.469, "sample_time_ms": 15547.499, "update_time_ms": 7.638, "default": {"entropy": 0.968056321144104, "vf_loss": 14.995417594909668, "total_loss": 14.991650581359863, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004276625346392393, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.899654746055603, "kl": 0.02039709873497486}, "num_steps_trained": 2023474, "num_steps_sampled": 2023474}, "timesteps_since_restore": 2023474, "training_iteration": 52, "episodes_total": 909, "policy_reward_mean": {}, "episode_len_mean": 693.63, "timesteps_this_iter": 37590, "iterations_since_restore": 52, "node_ip": "10.138.0.2", "time_since_restore": 1482.5706760883331, "episode_reward_max": 986.1455309296034, "num_metric_batches_dropped": 0, "time_total_s": 1482.5706760883331, "hostname": "flow-main", "timestamp": 1557256873, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.733095094442572, "system_level_velocity_max": 18.379275627801334, "cost2_min": -121.58372400727661, "outflow_rate_mean": 1101.523031994502, "outflow_rate_max": 1340.7331392607396, "outflow_rate_min": 523.0078863632812, "system_level_velocity_mean": 11.492895268313378, "cost2_max": -20.244609436207515, "cost1_max": 403.85839904432476, "cost1_min": 42.6848369559911, "cost2_mean": -93.64839678387594, "cost1_mean": 301.5565959204425}, "episode_reward_mean": 800.4077676453173}
{"date": "2019-05-07_19-21-38", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb320>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb5c0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2060362, "episode_reward_min": 38.38127037224046, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 24.642083644866943, "info": {"load_time_ms": 6.678, "grad_time_ms": 9685.608, "sample_time_ms": 15479.626, "update_time_ms": 7.291, "default": {"entropy": 0.9428818225860596, "vf_loss": 17.431291580200195, "total_loss": 17.427852630615234, "cur_kl_coeff": 0.03749999776482582, "policy_loss": -0.004113870207220316, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8813222050666809, "kl": 0.017977731302380562}, "num_steps_trained": 2060362, "num_steps_sampled": 2060362}, "timesteps_since_restore": 2060362, "training_iteration": 53, "episodes_total": 929, "policy_reward_mean": {}, "episode_len_mean": 686.93, "timesteps_this_iter": 36888, "iterations_since_restore": 53, "node_ip": "10.138.0.2", "time_since_restore": 1507.2127597332, "episode_reward_max": 986.1455309296034, "num_metric_batches_dropped": 0, "time_total_s": 1507.2127597332, "hostname": "flow-main", "timestamp": 1557256898, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.733095094442572, "system_level_velocity_max": 19.068124348535896, "cost2_min": -121.58372400727661, "outflow_rate_mean": 1093.7921108535454, "outflow_rate_max": 1340.7331392607396, "outflow_rate_min": 439.3799426476077, "system_level_velocity_mean": 11.580769636324455, "cost2_max": -14.083800609286405, "cost1_max": 403.85839904432476, "cost1_min": 19.802642055526857, "cost2_mean": -85.70472987986088, "cost1_mean": 299.3472016354523}, "episode_reward_mean": 793.684086005246}
{"date": "2019-05-07_19-22-03", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2096674, "episode_reward_min": 38.38127037224046, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 24.54039716720581, "info": {"load_time_ms": 6.645, "grad_time_ms": 9750.427, "sample_time_ms": 15499.39, "update_time_ms": 7.181, "default": {"entropy": 0.9305906295776367, "vf_loss": 20.243913650512695, "total_loss": 20.240388870239258, "cur_kl_coeff": 0.03749999776482582, "policy_loss": -0.00428973650559783, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8343065977096558, "kl": 0.02035696618258953}, "num_steps_trained": 2096674, "num_steps_sampled": 2096674}, "timesteps_since_restore": 2096674, "training_iteration": 54, "episodes_total": 950, "policy_reward_mean": {}, "episode_len_mean": 680.43, "timesteps_this_iter": 36312, "iterations_since_restore": 54, "node_ip": "10.138.0.2", "time_since_restore": 1531.7531569004059, "episode_reward_max": 986.1455309296034, "num_metric_batches_dropped": 0, "time_total_s": 1531.7531569004059, "hostname": "flow-main", "timestamp": 1557256923, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.733095094442572, "system_level_velocity_max": 19.068124348535896, "cost2_min": -121.07034736596849, "outflow_rate_mean": 1086.3746483047971, "outflow_rate_max": 1297.891194005994, "outflow_rate_min": 439.3799426476077, "system_level_velocity_mean": 11.555602891444787, "cost2_max": -14.083800609286405, "cost1_max": 403.85839904432476, "cost1_min": 19.802642055526857, "cost2_mean": -76.60700804455516, "cost1_mean": 294.38608366793784}, "episode_reward_mean": 784.4142950831588}
{"date": "2019-05-07_19-22-28", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59059e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905518>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2134328, "episode_reward_min": 38.38127037224046, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 24.90938973426819, "info": {"load_time_ms": 6.738, "grad_time_ms": 9849.684, "sample_time_ms": 15288.982, "update_time_ms": 7.202, "default": {"entropy": 0.9401680827140808, "vf_loss": 15.870731353759766, "total_loss": 15.867805480957031, "cur_kl_coeff": 0.05625000596046448, "policy_loss": -0.0038521180395036936, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8582594394683838, "kl": 0.01646615006029606}, "num_steps_trained": 2134328, "num_steps_sampled": 2134328}, "timesteps_since_restore": 2134328, "training_iteration": 55, "episodes_total": 967, "policy_reward_mean": {}, "episode_len_mean": 686.8, "timesteps_this_iter": 37654, "iterations_since_restore": 55, "node_ip": "10.138.0.2", "time_since_restore": 1556.662546634674, "episode_reward_max": 986.1455309296034, "num_metric_batches_dropped": 0, "time_total_s": 1556.662546634674, "hostname": "flow-main", "timestamp": 1557256948, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.733095094442572, "system_level_velocity_max": 19.068124348535896, "cost2_min": -105.3891034391448, "outflow_rate_mean": 1091.2868548357696, "outflow_rate_max": 1292.8241766233766, "outflow_rate_min": 439.3799426476077, "system_level_velocity_mean": 11.554395592640477, "cost2_max": -14.083800609286405, "cost1_max": 403.85839904432476, "cost1_min": 19.802642055526857, "cost2_mean": -71.88210469402986, "cost1_mean": 298.94910058916196}, "episode_reward_mean": 792.248277532125}
{"date": "2019-05-07_19-22-53", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59226d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59220b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59220f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2172191, "episode_reward_min": 38.38127037224046, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.86979627609253, "info": {"load_time_ms": 6.865, "grad_time_ms": 9944.625, "sample_time_ms": 15260.016, "update_time_ms": 7.287, "default": {"entropy": 0.9466327428817749, "vf_loss": 16.620269775390625, "total_loss": 16.6162052154541, "cur_kl_coeff": 0.05625000596046448, "policy_loss": -0.005098395049571991, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8725714087486267, "kl": 0.01836879551410675}, "num_steps_trained": 2172191, "num_steps_sampled": 2172191}, "timesteps_since_restore": 2172191, "training_iteration": 56, "episodes_total": 985, "policy_reward_mean": {}, "episode_len_mean": 686.8, "timesteps_this_iter": 37863, "iterations_since_restore": 56, "node_ip": "10.138.0.2", "time_since_restore": 1582.5323429107666, "episode_reward_max": 957.4808990262394, "num_metric_batches_dropped": 0, "time_total_s": 1582.5323429107666, "hostname": "flow-main", "timestamp": 1557256973, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 19.068124348535896, "cost2_min": -92.93411432074409, "outflow_rate_mean": 1093.0749361304752, "outflow_rate_max": 1243.4417946053945, "outflow_rate_min": 439.3799426476077, "system_level_velocity_mean": 11.567736671387035, "cost2_max": -14.083800609286405, "cost1_max": 396.012430257374, "cost1_min": 19.802642055526857, "cost2_mean": -68.76810571931283, "cost1_mean": 299.3636431577159}, "episode_reward_mean": 793.6710514838146}
{"date": "2019-05-07_19-23-20", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbdd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59119b0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2210311, "episode_reward_min": 38.38127037224046, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 26.135992765426636, "info": {"load_time_ms": 6.913, "grad_time_ms": 9966.23, "sample_time_ms": 15341.687, "update_time_ms": 7.236, "default": {"entropy": 0.9881577491760254, "vf_loss": 17.99855613708496, "total_loss": 17.996078491210938, "cur_kl_coeff": 0.05625000223517418, "policy_loss": -0.003469357965514064, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8624640703201294, "kl": 0.017623290419578552}, "num_steps_trained": 2210311, "num_steps_sampled": 2210311}, "timesteps_since_restore": 2210311, "training_iteration": 57, "episodes_total": 1005, "policy_reward_mean": {}, "episode_len_mean": 680.19, "timesteps_this_iter": 38120, "iterations_since_restore": 57, "node_ip": "10.138.0.2", "time_since_restore": 1608.6683356761932, "episode_reward_max": 955.6250487918296, "num_metric_batches_dropped": 0, "time_total_s": 1608.6683356761932, "hostname": "flow-main", "timestamp": 1557257000, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 19.068124348535896, "cost2_min": -90.42100960029546, "outflow_rate_mean": 1092.046680085165, "outflow_rate_max": 1255.4095068931067, "outflow_rate_min": 439.3799426476077, "system_level_velocity_mean": 11.650695527179288, "cost2_max": -14.083800609286405, "cost1_max": 392.46667326068416, "cost1_min": 19.802642055526857, "cost2_mean": -67.97355498390615, "cost1_mean": 297.02140081424966}, "episode_reward_mean": 788.9706239538624}
{"date": "2019-05-07_19-23-45", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905668>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2247962, "episode_reward_min": 45.4935735055674, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.86722183227539, "info": {"load_time_ms": 7.013, "grad_time_ms": 9952.257, "sample_time_ms": 15437.931, "update_time_ms": 7.243, "default": {"entropy": 0.9978843331336975, "vf_loss": 16.59779930114746, "total_loss": 16.595312118530273, "cur_kl_coeff": 0.05625000596046448, "policy_loss": -0.0032787127420306206, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8785493969917297, "kl": 0.014103351160883904}, "num_steps_trained": 2247962, "num_steps_sampled": 2247962}, "timesteps_since_restore": 2247962, "training_iteration": 58, "episodes_total": 1023, "policy_reward_mean": {}, "episode_len_mean": 680.52, "timesteps_this_iter": 37651, "iterations_since_restore": 58, "node_ip": "10.138.0.2", "time_since_restore": 1634.5355575084686, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1634.5355575084686, "hostname": "flow-main", "timestamp": 1557257025, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 18.681897773057486, "cost2_min": -105.28884356795083, "outflow_rate_mean": 1091.219226715983, "outflow_rate_max": 1304.1093222777224, "outflow_rate_min": 459.8456134510134, "system_level_velocity_mean": 11.58708643845734, "cost2_max": -15.328928775471626, "cost1_max": 388.89808260962354, "cost1_min": 26.426037213155226, "cost2_mean": -70.09931383520134, "cost1_mean": 295.61178604830525}, "episode_reward_mean": 787.7634162009606}
{"date": "2019-05-07_19-24-11", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59053c8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2285423, "episode_reward_min": 35.77462563599225, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 25.661784887313843, "info": {"load_time_ms": 7.076, "grad_time_ms": 9919.437, "sample_time_ms": 15511.467, "update_time_ms": 7.232, "default": {"entropy": 0.9912102222442627, "vf_loss": 19.59268569946289, "total_loss": 19.589141845703125, "cur_kl_coeff": 0.05625000223517418, "policy_loss": -0.004707925952970982, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8728026747703552, "kl": 0.020657995715737343}, "num_steps_trained": 2285423, "num_steps_sampled": 2285423}, "timesteps_since_restore": 2285423, "training_iteration": 59, "episodes_total": 1043, "policy_reward_mean": {}, "episode_len_mean": 673.81, "timesteps_this_iter": 37461, "iterations_since_restore": 59, "node_ip": "10.138.0.2", "time_since_restore": 1660.1973423957825, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1660.1973423957825, "hostname": "flow-main", "timestamp": 1557257051, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 19.681369113182942, "cost2_min": -105.28884356795083, "outflow_rate_mean": 1089.997939447158, "outflow_rate_max": 1304.1093222777224, "outflow_rate_min": 424.36196003057626, "system_level_velocity_mean": 11.793496165721859, "cost2_max": -13.27555774786478, "cost1_max": 388.89808260962354, "cost1_min": 20.18690984461346, "cost2_mean": -73.50334346042435, "cost1_mean": 295.9472388005535}, "episode_reward_mean": 783.9293753059454}
{"date": "2019-05-07_19-24-36", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905198>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2322534, "episode_reward_min": 35.77462563599225, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 25.048558235168457, "info": {"load_time_ms": 7.088, "grad_time_ms": 9869.612, "sample_time_ms": 15413.506, "update_time_ms": 7.221, "default": {"entropy": 0.950456440448761, "vf_loss": 18.274404525756836, "total_loss": 18.271312713623047, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004406648688018322, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.894436240196228, "kl": 0.01557335164397955}, "num_steps_trained": 2322534, "num_steps_sampled": 2322534}, "timesteps_since_restore": 2322534, "training_iteration": 60, "episodes_total": 1063, "policy_reward_mean": {}, "episode_len_mean": 667.19, "timesteps_this_iter": 37111, "iterations_since_restore": 60, "node_ip": "10.138.0.2", "time_since_restore": 1685.245900630951, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1685.245900630951, "hostname": "flow-main", "timestamp": 1557257076, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 19.681369113182942, "cost2_min": -105.28884356795083, "outflow_rate_mean": 1087.951490366224, "outflow_rate_max": 1304.1093222777224, "outflow_rate_min": 424.36196003057626, "system_level_velocity_mean": 12.00765628263327, "cost2_max": -13.27555774786478, "cost1_max": 402.4578118214092, "cost1_min": 20.18690984461346, "cost2_mean": -75.54313549969886, "cost1_mean": 296.88833326818303}, "episode_reward_mean": 782.7096984944261}
{"date": "2019-05-07_19-25-02", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efd68>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2360386, "episode_reward_min": 35.77462563599225, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 26.137853384017944, "info": {"load_time_ms": 7.159, "grad_time_ms": 9903.776, "sample_time_ms": 15462.879, "update_time_ms": 7.231, "default": {"entropy": 0.9502905011177063, "vf_loss": 15.213225364685059, "total_loss": 15.211180686950684, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0031060529872775078, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8773108720779419, "kl": 0.012591898441314697}, "num_steps_trained": 2360386, "num_steps_sampled": 2360386}, "timesteps_since_restore": 2360386, "training_iteration": 61, "episodes_total": 1082, "policy_reward_mean": {}, "episode_len_mean": 667.19, "timesteps_this_iter": 37852, "iterations_since_restore": 61, "node_ip": "10.138.0.2", "time_since_restore": 1711.3837540149689, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1711.3837540149689, "hostname": "flow-main", "timestamp": 1557257102, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.528119543787167, "system_level_velocity_max": 19.681369113182942, "cost2_min": -105.28884356795083, "outflow_rate_mean": 1093.1383745380524, "outflow_rate_max": 1304.1093222777224, "outflow_rate_min": 424.36196003057626, "system_level_velocity_mean": 12.071419679870658, "cost2_max": -13.27555774786478, "cost1_max": 402.4578118214092, "cost1_min": 20.18690984461346, "cost2_mean": -78.70805549639834, "cost1_mean": 298.4579651987726}, "episode_reward_mean": 783.2352541819123}
{"date": "2019-05-07_19-25-28", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905860>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2397946, "episode_reward_min": 35.77462563599225, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.937105417251587, "info": {"load_time_ms": 7.235, "grad_time_ms": 9859.05, "sample_time_ms": 15516.718, "update_time_ms": 7.224, "default": {"entropy": 0.9146022200584412, "vf_loss": 17.972246170043945, "total_loss": 17.970369338989258, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0032805567607283592, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8790602087974548, "kl": 0.016631586477160454}, "num_steps_trained": 2397946, "num_steps_sampled": 2397946}, "timesteps_since_restore": 2397946, "training_iteration": 62, "episodes_total": 1101, "policy_reward_mean": {}, "episode_len_mean": 667.23, "timesteps_this_iter": 37560, "iterations_since_restore": 62, "node_ip": "10.138.0.2", "time_since_restore": 1737.3208594322205, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1737.3208594322205, "hostname": "flow-main", "timestamp": 1557257128, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.496370243292919, "system_level_velocity_max": 19.681369113182942, "cost2_min": -105.28884356795083, "outflow_rate_mean": 1106.693139385703, "outflow_rate_max": 1304.1093222777224, "outflow_rate_min": 424.36196003057626, "system_level_velocity_mean": 12.262166024483664, "cost2_max": -13.27555774786478, "cost1_max": 402.4578118214092, "cost1_min": 20.18690984461346, "cost2_mean": -80.26005021947479, "cost1_mean": 303.7832690412726}, "episode_reward_mean": 790.8084700139697}
{"date": "2019-05-07_19-25-54", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59110b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2436019, "episode_reward_min": 35.77462563599225, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.380282640457153, "info": {"load_time_ms": 7.229, "grad_time_ms": 9845.293, "sample_time_ms": 15605.016, "update_time_ms": 7.309, "default": {"entropy": 0.9737507700920105, "vf_loss": 14.372293472290039, "total_loss": 14.368762969970703, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0047174664214253426, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9110072255134583, "kl": 0.014054575935006142}, "num_steps_trained": 2436019, "num_steps_sampled": 2436019}, "timesteps_since_restore": 2436019, "training_iteration": 63, "episodes_total": 1119, "policy_reward_mean": {}, "episode_len_mean": 673.6, "timesteps_this_iter": 38073, "iterations_since_restore": 63, "node_ip": "10.138.0.2", "time_since_restore": 1762.7011420726776, "episode_reward_max": 979.2566931570807, "num_metric_batches_dropped": 0, "time_total_s": 1762.7011420726776, "hostname": "flow-main", "timestamp": 1557257154, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.39392348965915, "system_level_velocity_max": 19.681369113182942, "cost2_min": -106.10037015930645, "outflow_rate_mean": 1113.6976890367005, "outflow_rate_max": 1302.3490825174824, "outflow_rate_min": 424.36196003057626, "system_level_velocity_mean": 12.244490665756013, "cost2_max": -13.27555774786478, "cost1_max": 402.4578118214092, "cost1_min": 20.18690984461346, "cost2_mean": -82.45271999987328, "cost1_mean": 307.42699183483694}, "episode_reward_mean": 798.8091710795228}
{"date": "2019-05-07_19-26-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a198>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2473801, "episode_reward_min": 48.78920257636256, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 26.959527492523193, "info": {"load_time_ms": 7.242, "grad_time_ms": 9912.366, "sample_time_ms": 15779.925, "update_time_ms": 7.511, "default": {"entropy": 0.9368544816970825, "vf_loss": 14.19880485534668, "total_loss": 14.198841094970703, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0015862046275287867, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9134215116500854, "kl": 0.019249925389885902}, "num_steps_trained": 2473801, "num_steps_sampled": 2473801}, "timesteps_since_restore": 2473801, "training_iteration": 64, "episodes_total": 1137, "policy_reward_mean": {}, "episode_len_mean": 680.31, "timesteps_this_iter": 37782, "iterations_since_restore": 64, "node_ip": "10.138.0.2", "time_since_restore": 1789.6606695652008, "episode_reward_max": 977.0765524911325, "num_metric_batches_dropped": 0, "time_total_s": 1789.6606695652008, "hostname": "flow-main", "timestamp": 1557257181, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.39392348965915, "system_level_velocity_max": 18.51695807830567, "cost2_min": -106.10037015930645, "outflow_rate_mean": 1121.8501323015296, "outflow_rate_max": 1302.3490825174824, "outflow_rate_min": 468.9762540602214, "system_level_velocity_mean": 12.159668045200467, "cost2_max": -15.365972372398696, "cost1_max": 402.4578118214092, "cost1_min": 28.92473772793153, "cost2_mean": -82.37360462331179, "cost1_mean": 309.90366989151175}, "episode_reward_mean": 804.9756075224607}
{"date": "2019-05-07_19-26-46", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ac18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad30>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2511559, "episode_reward_min": 48.78920257636256, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.318071842193604, "info": {"load_time_ms": 7.306, "grad_time_ms": 9844.014, "sample_time_ms": 15889.274, "update_time_ms": 7.525, "default": {"entropy": 0.9082780480384827, "vf_loss": 19.206090927124023, "total_loss": 19.201730728149414, "cur_kl_coeff": 0.08437500149011612, "policy_loss": -0.005620300769805908, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8622206449508667, "kl": 0.014934015460312366}, "num_steps_trained": 2511559, "num_steps_sampled": 2511559}, "timesteps_since_restore": 2511559, "training_iteration": 65, "episodes_total": 1156, "policy_reward_mean": {}, "episode_len_mean": 680.31, "timesteps_this_iter": 37758, "iterations_since_restore": 65, "node_ip": "10.138.0.2", "time_since_restore": 1814.9787414073944, "episode_reward_max": 977.0765524911325, "num_metric_batches_dropped": 0, "time_total_s": 1814.9787414073944, "hostname": "flow-main", "timestamp": 1557257206, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.39392348965915, "system_level_velocity_max": 18.51695807830567, "cost2_min": -106.10037015930645, "outflow_rate_mean": 1122.7996473624685, "outflow_rate_max": 1302.3490825174824, "outflow_rate_min": 468.9762540602214, "system_level_velocity_mean": 12.094715330985084, "cost2_max": -15.365972372398696, "cost1_max": 393.15638962812443, "cost1_min": 28.92473772793153, "cost2_mean": -80.65778033395935, "cost1_mean": 308.7354520570181}, "episode_reward_mean": 810.5125254788062}
{"date": "2019-05-07_19-27-11", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e10>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2549893, "episode_reward_min": 48.78920257636256, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 25.14767098426819, "info": {"load_time_ms": 7.308, "grad_time_ms": 9774.43, "sample_time_ms": 15885.378, "update_time_ms": 7.369, "default": {"entropy": 0.9924018383026123, "vf_loss": 15.242595672607422, "total_loss": 15.238602638244629, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005459548439830542, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8976494669914246, "kl": 0.017383314669132233}, "num_steps_trained": 2549893, "num_steps_sampled": 2549893}, "timesteps_since_restore": 2549893, "training_iteration": 66, "episodes_total": 1173, "policy_reward_mean": {}, "episode_len_mean": 693.43, "timesteps_this_iter": 38334, "iterations_since_restore": 66, "node_ip": "10.138.0.2", "time_since_restore": 1840.1264123916626, "episode_reward_max": 957.1592307301833, "num_metric_batches_dropped": 0, "time_total_s": 1840.1264123916626, "hostname": "flow-main", "timestamp": 1557257231, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.296491478789203, "system_level_velocity_max": 18.49045020612033, "cost2_min": -106.10037015930645, "outflow_rate_mean": 1130.9025917953475, "outflow_rate_max": 1302.3490825174824, "outflow_rate_min": 468.9762540602214, "system_level_velocity_mean": 11.855286442792039, "cost2_max": -16.922039638008968, "cost1_max": 393.15638962812443, "cost1_min": 28.97360584225552, "cost2_mean": -81.49055245603131, "cost1_mean": 311.48125964906643}, "episode_reward_mean": 822.265079237832}
{"date": "2019-05-07_19-27-36", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2587699, "episode_reward_min": 692.973644195901, "done": false, "pid": 42973, "episodes_this_iter": 16, "time_this_iter_s": 24.85233759880066, "info": {"load_time_ms": 7.266, "grad_time_ms": 9751.908, "sample_time_ms": 15779.796, "update_time_ms": 7.433, "default": {"entropy": 0.9866030812263489, "vf_loss": 12.1930570602417, "total_loss": 12.189153671264648, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0052626715041697025, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9270910024642944, "kl": 0.01611059531569481}, "num_steps_trained": 2587699, "num_steps_sampled": 2587699}, "timesteps_since_restore": 2587699, "training_iteration": 67, "episodes_total": 1189, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37806, "iterations_since_restore": 67, "node_ip": "10.138.0.2", "time_since_restore": 1864.9787499904633, "episode_reward_max": 957.1592307301833, "num_metric_batches_dropped": 0, "time_total_s": 1864.9787499904633, "hostname": "flow-main", "timestamp": 1557257256, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 14.527268062356642, "cost2_min": -108.00991833885786, "outflow_rate_mean": 1129.105290997003, "outflow_rate_max": 1302.3490825174824, "outflow_rate_min": 967.4347844155844, "system_level_velocity_mean": 11.70573411896658, "cost2_max": -57.76580501152195, "cost1_max": 384.08981508902696, "cost1_min": 241.40533941674067, "cost2_mean": -83.02116832727762, "cost1_mean": 311.8353527866136}, "episode_reward_mean": 827.9140632489576}
{"date": "2019-05-07_19-28-02", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905588>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2625335, "episode_reward_min": 692.973644195901, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 25.612637996673584, "info": {"load_time_ms": 7.323, "grad_time_ms": 9764.28, "sample_time_ms": 15742.034, "update_time_ms": 7.293, "default": {"entropy": 0.9725499749183655, "vf_loss": 15.560626983642578, "total_loss": 15.55650806427002, "cur_kl_coeff": 0.08437500149011612, "policy_loss": -0.005523799452930689, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9013445377349854, "kl": 0.016652056947350502}, "num_steps_trained": 2625335, "num_steps_sampled": 2625335}, "timesteps_since_restore": 2625335, "training_iteration": 68, "episodes_total": 1209, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 37636, "iterations_since_restore": 68, "node_ip": "10.138.0.2", "time_since_restore": 1890.5913879871368, "episode_reward_max": 982.809894497856, "num_metric_batches_dropped": 0, "time_total_s": 1890.5913879871368, "hostname": "flow-main", "timestamp": 1557257282, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 14.685439000706067, "cost2_min": -111.58927884030884, "outflow_rate_mean": 1122.2919413586415, "outflow_rate_max": 1268.9413978021976, "outflow_rate_min": 967.4347844155844, "system_level_velocity_mean": 11.670907470372292, "cost2_max": -57.76580501152195, "cost1_max": 391.18576937056014, "cost1_min": 241.40533941674067, "cost2_mean": -84.0141320843158, "cost1_mean": 310.78970013544233}, "episode_reward_mean": 825.7761515847234}
{"date": "2019-05-07_19-28-27", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e10>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2664528, "episode_reward_min": 695.4847148195134, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 25.528443336486816, "info": {"load_time_ms": 7.245, "grad_time_ms": 9821.758, "sample_time_ms": 15670.738, "update_time_ms": 7.255, "default": {"entropy": 1.0149102210998535, "vf_loss": 12.421372413635254, "total_loss": 12.417804718017578, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004961598664522171, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.925294041633606, "kl": 0.016509948298335075}, "num_steps_trained": 2664528, "num_steps_sampled": 2664528}, "timesteps_since_restore": 2664528, "training_iteration": 69, "episodes_total": 1226, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 39193, "iterations_since_restore": 69, "node_ip": "10.138.0.2", "time_since_restore": 1916.1198313236237, "episode_reward_max": 982.809894497856, "num_metric_batches_dropped": 0, "time_total_s": 1916.1198313236237, "hostname": "flow-main", "timestamp": 1557257307, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 14.685439000706067, "cost2_min": -111.58927884030884, "outflow_rate_mean": 1120.6674895184817, "outflow_rate_max": 1267.1542773226774, "outflow_rate_min": 985.9573706293706, "system_level_velocity_mean": 11.70605151435164, "cost2_max": -57.76580501152195, "cost1_max": 391.18576937056014, "cost1_min": 241.40533941674067, "cost2_mean": -84.18490127790102, "cost1_mean": 311.64020561294814}, "episode_reward_mean": 823.857899530209}
{"date": "2019-05-07_19-28-52", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a4e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ada0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a2e8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2702922, "episode_reward_min": 695.4847148195134, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 24.68550133705139, "info": {"load_time_ms": 7.199, "grad_time_ms": 9911.883, "sample_time_ms": 15545.364, "update_time_ms": 7.377, "default": {"entropy": 1.0187675952911377, "vf_loss": 14.179102897644043, "total_loss": 14.17488956451416, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005489074159413576, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.927063524723053, "kl": 0.0151140745729208}, "num_steps_trained": 2702922, "num_steps_sampled": 2702922}, "timesteps_since_restore": 2702922, "training_iteration": 70, "episodes_total": 1244, "policy_reward_mean": {}, "episode_len_mean": 700.0, "timesteps_this_iter": 38394, "iterations_since_restore": 70, "node_ip": "10.138.0.2", "time_since_restore": 1940.805332660675, "episode_reward_max": 982.809894497856, "num_metric_batches_dropped": 0, "time_total_s": 1940.805332660675, "hostname": "flow-main", "timestamp": 1557257332, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 15.26513908120944, "cost2_min": -111.58927884030884, "outflow_rate_mean": 1117.991457014985, "outflow_rate_max": 1267.1542773226774, "outflow_rate_min": 985.9573706293706, "system_level_velocity_mean": 11.762214952858116, "cost2_max": -59.64483064788408, "cost1_max": 406.77572583972966, "cost1_min": 241.40533941674067, "cost2_mean": -87.24295997102327, "cost1_mean": 313.0269525063427}, "episode_reward_mean": 823.670902130397}
{"date": "2019-05-07_19-29-18", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a320>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59220f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2741150, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 26.28583550453186, "info": {"load_time_ms": 7.197, "grad_time_ms": 9972.531, "sample_time_ms": 15499.412, "update_time_ms": 7.548, "default": {"entropy": 1.014632225036621, "vf_loss": 14.681857109069824, "total_loss": 14.678071975708008, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004987237975001335, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9341690540313721, "kl": 0.01425294578075409}, "num_steps_trained": 2741150, "num_steps_sampled": 2741150}, "timesteps_since_restore": 2741150, "training_iteration": 71, "episodes_total": 1264, "policy_reward_mean": {}, "episode_len_mean": 686.91, "timesteps_this_iter": 38228, "iterations_since_restore": 71, "node_ip": "10.138.0.2", "time_since_restore": 1967.091168165207, "episode_reward_max": 982.809894497856, "num_metric_batches_dropped": 0, "time_total_s": 1967.091168165207, "hostname": "flow-main", "timestamp": 1557257358, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 19.143131674502484, "cost2_min": -116.70424162471224, "outflow_rate_mean": 1102.8998923005079, "outflow_rate_max": 1267.1542773226774, "outflow_rate_min": 469.85664106165524, "system_level_velocity_mean": 12.056696183948707, "cost2_max": -17.05960247380659, "cost1_max": 416.1058731468778, "cost1_min": 29.91380919602193, "cost2_mean": -88.33189010311641, "cost1_mean": 311.03821351039005}, "episode_reward_mean": 807.6472141704461}
{"date": "2019-05-07_19-29-43", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aeb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb5c0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2779111, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 24.354267358779907, "info": {"load_time_ms": 7.256, "grad_time_ms": 10087.868, "sample_time_ms": 15224.571, "update_time_ms": 7.637, "default": {"entropy": 0.9792808294296265, "vf_loss": 10.700948715209961, "total_loss": 10.697819709777832, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004548768512904644, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9506334662437439, "kl": 0.01683254912495613}, "num_steps_trained": 2779111, "num_steps_sampled": 2779111}, "timesteps_since_restore": 2779111, "training_iteration": 72, "episodes_total": 1282, "policy_reward_mean": {}, "episode_len_mean": 686.91, "timesteps_this_iter": 37961, "iterations_since_restore": 72, "node_ip": "10.138.0.2", "time_since_restore": 1991.4454355239868, "episode_reward_max": 982.809894497856, "num_metric_batches_dropped": 0, "time_total_s": 1991.4454355239868, "hostname": "flow-main", "timestamp": 1557257383, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.11865827892202, "system_level_velocity_max": 19.143131674502484, "cost2_min": -116.70424162471224, "outflow_rate_mean": 1100.907898526282, "outflow_rate_max": 1267.1542773226774, "outflow_rate_min": 469.85664106165524, "system_level_velocity_mean": 12.184223889054914, "cost2_max": -17.05960247380659, "cost1_max": 416.1058731468778, "cost1_min": 29.91380919602193, "cost2_mean": -89.95633112508276, "cost1_mean": 314.46048832249517}, "episode_reward_mean": 808.457094949511}
{"date": "2019-05-07_19-30-08", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a6d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a3c8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2817394, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.591381549835205, "info": {"load_time_ms": 7.259, "grad_time_ms": 10214.983, "sample_time_ms": 15117.959, "update_time_ms": 7.879, "default": {"entropy": 0.9738597869873047, "vf_loss": 12.339518547058105, "total_loss": 12.33666706085205, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004094632342457771, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9335458874702454, "kl": 0.014737691730260849}, "num_steps_trained": 2817394, "num_steps_sampled": 2817394}, "timesteps_since_restore": 2817394, "training_iteration": 73, "episodes_total": 1300, "policy_reward_mean": {}, "episode_len_mean": 686.91, "timesteps_this_iter": 38283, "iterations_since_restore": 73, "node_ip": "10.138.0.2", "time_since_restore": 2017.036817073822, "episode_reward_max": 972.888612504526, "num_metric_batches_dropped": 0, "time_total_s": 2017.036817073822, "hostname": "flow-main", "timestamp": 1557257408, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.332873632056375, "system_level_velocity_max": 19.143131674502484, "cost2_min": -116.70424162471224, "outflow_rate_mean": 1103.5126765522562, "outflow_rate_max": 1292.8415632367632, "outflow_rate_min": 469.85664106165524, "system_level_velocity_mean": 12.261415469003008, "cost2_max": -17.05960247380659, "cost1_max": 416.1058731468778, "cost1_min": 29.91380919602193, "cost2_mean": -89.7954174579738, "cost1_mean": 316.6036455497343}, "episode_reward_mean": 810.7387143697945}
{"date": "2019-05-07_19-30-34", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a048>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2855250, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 25.533701419830322, "info": {"load_time_ms": 7.202, "grad_time_ms": 10137.707, "sample_time_ms": 15050.304, "update_time_ms": 7.729, "default": {"entropy": 0.928875207901001, "vf_loss": 14.915095329284668, "total_loss": 14.911805152893066, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0045963372103869915, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9158943891525269, "kl": 0.015478365123271942}, "num_steps_trained": 2855250, "num_steps_sampled": 2855250}, "timesteps_since_restore": 2855250, "training_iteration": 74, "episodes_total": 1317, "policy_reward_mean": {}, "episode_len_mean": 686.91, "timesteps_this_iter": 37856, "iterations_since_restore": 74, "node_ip": "10.138.0.2", "time_since_restore": 2042.5705184936523, "episode_reward_max": 972.888612504526, "num_metric_batches_dropped": 0, "time_total_s": 2042.5705184936523, "hostname": "flow-main", "timestamp": 1557257434, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.332873632056375, "system_level_velocity_max": 19.143131674502484, "cost2_min": -116.70424162471224, "outflow_rate_mean": 1104.2053284083997, "outflow_rate_max": 1311.6933094905094, "outflow_rate_min": 469.85664106165524, "system_level_velocity_mean": 12.28894107037528, "cost2_max": -17.05960247380659, "cost1_max": 417.5763150500643, "cost1_min": 29.91380919602193, "cost2_mean": -89.59522352316297, "cost1_mean": 317.38889156847154}, "episode_reward_mean": 809.3810181480935}
{"date": "2019-05-07_19-31-00", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb940>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb588>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2892787, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 26.24368643760681, "info": {"load_time_ms": 7.095, "grad_time_ms": 10125.098, "sample_time_ms": 15154.242, "update_time_ms": 8.026, "default": {"entropy": 0.9186086654663086, "vf_loss": 14.151877403259277, "total_loss": 14.147688865661621, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0055121793411672115, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9280168414115906, "kl": 0.015704041346907616}, "num_steps_trained": 2892787, "num_steps_sampled": 2892787}, "timesteps_since_restore": 2892787, "training_iteration": 75, "episodes_total": 1336, "policy_reward_mean": {}, "episode_len_mean": 686.91, "timesteps_this_iter": 37537, "iterations_since_restore": 75, "node_ip": "10.138.0.2", "time_since_restore": 2068.814204931259, "episode_reward_max": 972.888612504526, "num_metric_batches_dropped": 0, "time_total_s": 2068.814204931259, "hostname": "flow-main", "timestamp": 1557257460, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.332873632056375, "system_level_velocity_max": 19.143131674502484, "cost2_min": -116.70424162471224, "outflow_rate_mean": 1110.9014371116966, "outflow_rate_max": 1311.6933094905094, "outflow_rate_min": 469.85664106165524, "system_level_velocity_mean": 12.307073088217969, "cost2_max": -17.05960247380659, "cost1_max": 424.11753020570325, "cost1_min": 29.91380919602193, "cost2_mean": -88.22749085512012, "cost1_mean": 318.0484793306001}, "episode_reward_mean": 811.5818892029341}
{"date": "2019-05-07_19-31-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59004a8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2930945, "episode_reward_min": 49.485967364704976, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 29.70565152168274, "info": {"load_time_ms": 6.985, "grad_time_ms": 10280.456, "sample_time_ms": 15454.612, "update_time_ms": 8.012, "default": {"entropy": 0.9656420350074768, "vf_loss": 15.539909362792969, "total_loss": 15.536454200744629, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0051285806111991405, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9219663739204407, "kl": 0.019850153475999832}, "num_steps_trained": 2930945, "num_steps_sampled": 2930945}, "timesteps_since_restore": 2930945, "training_iteration": 76, "episodes_total": 1356, "policy_reward_mean": {}, "episode_len_mean": 674.71, "timesteps_this_iter": 38158, "iterations_since_restore": 76, "node_ip": "10.138.0.2", "time_since_restore": 2098.519856452942, "episode_reward_max": 946.6377176442797, "num_metric_batches_dropped": 0, "time_total_s": 2098.519856452942, "hostname": "flow-main", "timestamp": 1557257490, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.332873632056375, "system_level_velocity_max": 19.143131674502484, "cost2_min": -109.4006966656751, "outflow_rate_mean": 1104.591645653295, "outflow_rate_max": 1311.6933094905094, "outflow_rate_min": 462.16574634854777, "system_level_velocity_mean": 12.419855046424297, "cost2_max": -16.03919758169559, "cost1_max": 424.11753020570325, "cost1_min": 28.645367874036967, "cost2_mean": -85.37441815614817, "cost1_mean": 312.9203417266847}, "episode_reward_mean": 799.5106774158791}
{"date": "2019-05-07_19-31-56", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050f0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2968845, "episode_reward_min": 52.32299474180834, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 26.03466248512268, "info": {"load_time_ms": 6.997, "grad_time_ms": 10257.522, "sample_time_ms": 15593.586, "update_time_ms": 8.039, "default": {"entropy": 0.9463144540786743, "vf_loss": 10.746505737304688, "total_loss": 10.742748260498047, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005135230720043182, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9477638006210327, "kl": 0.016336189582943916}, "num_steps_trained": 2968845, "num_steps_sampled": 2968845}, "timesteps_since_restore": 2968845, "training_iteration": 77, "episodes_total": 1373, "policy_reward_mean": {}, "episode_len_mean": 687.8, "timesteps_this_iter": 37900, "iterations_since_restore": 77, "node_ip": "10.138.0.2", "time_since_restore": 2124.5545189380646, "episode_reward_max": 946.6377176442797, "num_metric_batches_dropped": 0, "time_total_s": 2124.5545189380646, "hostname": "flow-main", "timestamp": 1557257516, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.694421883716394, "system_level_velocity_max": 18.667100298675685, "cost2_min": -109.4006966656751, "outflow_rate_mean": 1109.6960821439957, "outflow_rate_max": 1311.6933094905094, "outflow_rate_min": 462.16574634854777, "system_level_velocity_mean": 12.23996902860212, "cost2_max": -16.03919758169559, "cost1_max": 424.11753020570325, "cost1_min": 28.645367874036967, "cost2_mean": -85.86335658584267, "cost1_mean": 317.52346343551767}, "episode_reward_mean": 809.8246113461205}
{"date": "2019-05-07_19-32-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591add8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af98>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3006270, "episode_reward_min": 52.32299474180834, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.825177907943726, "info": {"load_time_ms": 6.951, "grad_time_ms": 10144.219, "sample_time_ms": 15727.231, "update_time_ms": 8.105, "default": {"entropy": 0.9310600757598877, "vf_loss": 15.758088111877441, "total_loss": 15.754505157470703, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004813413601368666, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.925507664680481, "kl": 0.014560147188603878}, "num_steps_trained": 3006270, "num_steps_sampled": 3006270}, "timesteps_since_restore": 3006270, "training_iteration": 78, "episodes_total": 1394, "policy_reward_mean": {}, "episode_len_mean": 682.1, "timesteps_this_iter": 37425, "iterations_since_restore": 78, "node_ip": "10.138.0.2", "time_since_restore": 2150.3796968460083, "episode_reward_max": 953.1965394191384, "num_metric_batches_dropped": 0, "time_total_s": 2150.3796968460083, "hostname": "flow-main", "timestamp": 1557257542, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.694421883716394, "system_level_velocity_max": 18.667100298675685, "cost2_min": -107.70285890665136, "outflow_rate_mean": 1103.309042484848, "outflow_rate_max": 1311.6933094905094, "outflow_rate_min": 462.16574634854777, "system_level_velocity_mean": 12.26112595220892, "cost2_max": -16.03919758169559, "cost1_max": 424.11753020570325, "cost1_min": 28.645367874036967, "cost2_mean": -83.89758877276104, "cost1_mean": 314.1552509013755}, "episode_reward_mean": 795.7090342669284}
{"date": "2019-05-07_19-32-47", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59225c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a58>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3043798, "episode_reward_min": 45.81737691798284, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.254209518432617, "info": {"load_time_ms": 6.967, "grad_time_ms": 10043.853, "sample_time_ms": 15799.73, "update_time_ms": 8.094, "default": {"entropy": 0.941014289855957, "vf_loss": 15.936763763427734, "total_loss": 15.932554244995117, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005875025410205126, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9119625091552734, "kl": 0.01973830536007881}, "num_steps_trained": 3043798, "num_steps_sampled": 3043798}, "timesteps_since_restore": 3043798, "training_iteration": 79, "episodes_total": 1413, "policy_reward_mean": {}, "episode_len_mean": 675.44, "timesteps_this_iter": 37528, "iterations_since_restore": 79, "node_ip": "10.138.0.2", "time_since_restore": 2175.633906364441, "episode_reward_max": 953.1965394191384, "num_metric_batches_dropped": 0, "time_total_s": 2175.633906364441, "hostname": "flow-main", "timestamp": 1557257567, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.751690463156402, "system_level_velocity_max": 18.667100298675685, "cost2_min": -111.39669072433757, "outflow_rate_mean": 1094.2354151564496, "outflow_rate_max": 1294.4973246753248, "outflow_rate_min": 433.9557894378445, "system_level_velocity_mean": 12.288785262063008, "cost2_max": -15.469290301294366, "cost1_max": 424.11753020570325, "cost1_min": 23.607838047901573, "cost2_mean": -82.71394863719938, "cost1_mean": 309.9727880535657}, "episode_reward_mean": 780.9194862953877}
{"date": "2019-05-07_19-33-13", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59224e0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3080949, "episode_reward_min": 45.81737691798284, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.605441570281982, "info": {"load_time_ms": 6.924, "grad_time_ms": 9872.901, "sample_time_ms": 16062.887, "update_time_ms": 8.249, "default": {"entropy": 0.9084086418151855, "vf_loss": 16.58869171142578, "total_loss": 16.58395004272461, "cur_kl_coeff": 0.08437501639127731, "policy_loss": -0.006362437270581722, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9104882478713989, "kl": 0.01922687515616417}, "num_steps_trained": 3080949, "num_steps_sampled": 3080949}, "timesteps_since_restore": 3080949, "training_iteration": 80, "episodes_total": 1432, "policy_reward_mean": {}, "episode_len_mean": 668.92, "timesteps_this_iter": 37151, "iterations_since_restore": 80, "node_ip": "10.138.0.2", "time_since_restore": 2201.239347934723, "episode_reward_max": 953.1965394191384, "num_metric_batches_dropped": 0, "time_total_s": 2201.239347934723, "hostname": "flow-main", "timestamp": 1557257593, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.751690463156402, "system_level_velocity_max": 18.87692594360281, "cost2_min": -111.39669072433757, "outflow_rate_mean": 1088.606880705799, "outflow_rate_max": 1294.4973246753248, "outflow_rate_min": 433.9557894378445, "system_level_velocity_mean": 12.309059262026437, "cost2_max": -15.469290301294366, "cost1_max": 413.2708557760714, "cost1_min": 23.607838047901573, "cost2_mean": -81.66779825482244, "cost1_mean": 305.7840580306003}, "episode_reward_mean": 771.0061978040799}
{"date": "2019-05-07_19-33-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59059e8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3118110, "episode_reward_min": 45.81737691798284, "done": false, "pid": 42973, "episodes_this_iter": 22, "time_this_iter_s": 26.77741265296936, "info": {"load_time_ms": 6.497, "grad_time_ms": 9785.305, "sample_time_ms": 16200.251, "update_time_ms": 8.092, "default": {"entropy": 0.9141253232955933, "vf_loss": 16.633699417114258, "total_loss": 16.628437042236328, "cur_kl_coeff": 0.08437501639127731, "policy_loss": -0.00699538504704833, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9217982888221741, "kl": 0.02052328549325466}, "num_steps_trained": 3118110, "num_steps_sampled": 3118110}, "timesteps_since_restore": 3118110, "training_iteration": 81, "episodes_total": 1454, "policy_reward_mean": {}, "episode_len_mean": 668.1, "timesteps_this_iter": 37161, "iterations_since_restore": 81, "node_ip": "10.138.0.2", "time_since_restore": 2228.0167605876923, "episode_reward_max": 953.1965394191384, "num_metric_batches_dropped": 0, "time_total_s": 2228.0167605876923, "hostname": "flow-main", "timestamp": 1557257620, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.13347759813131, "system_level_velocity_max": 18.87692594360281, "cost2_min": -111.39669072433757, "outflow_rate_mean": 1090.8265042545547, "outflow_rate_max": 1294.4973246753248, "outflow_rate_min": 433.9557894378445, "system_level_velocity_mean": 12.45726120884352, "cost2_max": -15.469290301294366, "cost1_max": 444.25555378227523, "cost1_min": 23.607838047901573, "cost2_mean": -81.06804787730199, "cost1_mean": 308.75660315982134}, "episode_reward_mean": 771.9801675875325}
{"date": "2019-05-07_19-34-04", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a320>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3154690, "episode_reward_min": 45.81737691798284, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 24.723806858062744, "info": {"load_time_ms": 6.338, "grad_time_ms": 9597.604, "sample_time_ms": 16426.364, "update_time_ms": 7.936, "default": {"entropy": 0.8809354305267334, "vf_loss": 18.390275955200195, "total_loss": 18.38661003112793, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.005586015991866589, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8995199799537659, "kl": 0.01516906637698412}, "num_steps_trained": 3154690, "num_steps_sampled": 3154690}, "timesteps_since_restore": 3154690, "training_iteration": 82, "episodes_total": 1471, "policy_reward_mean": {}, "episode_len_mean": 668.1, "timesteps_this_iter": 36580, "iterations_since_restore": 82, "node_ip": "10.138.0.2", "time_since_restore": 2252.740567445755, "episode_reward_max": 963.6079666763793, "num_metric_batches_dropped": 0, "time_total_s": 2252.740567445755, "hostname": "flow-main", "timestamp": 1557257644, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.13347759813131, "system_level_velocity_max": 18.87692594360281, "cost2_min": -111.39669072433757, "outflow_rate_mean": 1105.3956862965128, "outflow_rate_max": 1298.5860247752248, "outflow_rate_min": 433.9557894378445, "system_level_velocity_mean": 12.4113062188382, "cost2_max": -15.469290301294366, "cost1_max": 449.3171047067084, "cost1_min": 23.607838047901573, "cost2_mean": -81.02453034730816, "cost1_mean": 307.6049376363571}, "episode_reward_mean": 775.9500153566871}
{"date": "2019-05-07_19-34-29", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d68>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922588>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3193086, "episode_reward_min": 45.81737691798284, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.0879967212677, "info": {"load_time_ms": 6.315, "grad_time_ms": 9417.382, "sample_time_ms": 16556.766, "update_time_ms": 7.736, "default": {"entropy": 0.9158567190170288, "vf_loss": 16.924299240112305, "total_loss": 16.92008399963379, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006270954385399818, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9081390500068665, "kl": 0.01623637229204178}, "num_steps_trained": 3193086, "num_steps_sampled": 3193086}, "timesteps_since_restore": 3193086, "training_iteration": 83, "episodes_total": 1489, "policy_reward_mean": {}, "episode_len_mean": 668.1, "timesteps_this_iter": 38396, "iterations_since_restore": 83, "node_ip": "10.138.0.2", "time_since_restore": 2277.8285641670227, "episode_reward_max": 963.6079666763793, "num_metric_batches_dropped": 0, "time_total_s": 2277.8285641670227, "hostname": "flow-main", "timestamp": 1557257669, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.87692594360281, "cost2_min": -111.39669072433757, "outflow_rate_mean": 1115.575380650159, "outflow_rate_max": 1323.5094605394604, "outflow_rate_min": 433.9557894378445, "system_level_velocity_mean": 12.472891201305476, "cost2_max": -15.469290301294366, "cost1_max": 449.3171047067084, "cost1_min": 23.607838047901573, "cost2_mean": -81.84550018049663, "cost1_mean": 309.2974057900207}, "episode_reward_mean": 783.8063459549473}
{"date": "2019-05-07_19-34-55", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905198>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3230553, "episode_reward_min": 51.05645121214499, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.285776138305664, "info": {"load_time_ms": 6.37, "grad_time_ms": 9312.271, "sample_time_ms": 16640.209, "update_time_ms": 7.727, "default": {"entropy": 0.8791545629501343, "vf_loss": 14.227017402648926, "total_loss": 14.223146438598633, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.005880675278604031, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.923236608505249, "kl": 0.0158711988478899}, "num_steps_trained": 3230553, "num_steps_sampled": 3230553}, "timesteps_since_restore": 3230553, "training_iteration": 84, "episodes_total": 1507, "policy_reward_mean": {}, "episode_len_mean": 680.46, "timesteps_this_iter": 37467, "iterations_since_restore": 84, "node_ip": "10.138.0.2", "time_since_restore": 2303.1143403053284, "episode_reward_max": 963.6079666763793, "num_metric_batches_dropped": 0, "time_total_s": 2303.1143403053284, "hostname": "flow-main", "timestamp": 1557257695, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.87692594360281, "cost2_min": -111.09069381854145, "outflow_rate_mean": 1133.9949819234196, "outflow_rate_max": 1323.5094605394604, "outflow_rate_min": 483.2499368177343, "system_level_velocity_mean": 12.314674611798418, "cost2_max": -16.35345827016556, "cost1_max": 449.3171047067084, "cost1_min": 31.970031251496252, "cost2_mean": -83.44787981923632, "cost1_mean": 313.5618454764479}, "episode_reward_mean": 803.8112123639966}
{"date": "2019-05-07_19-35-20", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ac8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3269049, "episode_reward_min": 51.05645121214499, "done": false, "pid": 42973, "episodes_this_iter": 17, "time_this_iter_s": 25.38816499710083, "info": {"load_time_ms": 6.478, "grad_time_ms": 9272.994, "sample_time_ms": 16594.923, "update_time_ms": 7.561, "default": {"entropy": 0.9516203999519348, "vf_loss": 14.178476333618164, "total_loss": 14.175140380859375, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.005268624518066645, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9148006439208984, "kl": 0.015261252410709858}, "num_steps_trained": 3269049, "num_steps_sampled": 3269049}, "timesteps_since_restore": 3269049, "training_iteration": 85, "episodes_total": 1524, "policy_reward_mean": {}, "episode_len_mean": 680.5, "timesteps_this_iter": 38496, "iterations_since_restore": 85, "node_ip": "10.138.0.2", "time_since_restore": 2328.502505302429, "episode_reward_max": 963.6079666763793, "num_metric_batches_dropped": 0, "time_total_s": 2328.502505302429, "hostname": "flow-main", "timestamp": 1557257720, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.663994473600173, "cost2_min": -109.31370756108963, "outflow_rate_mean": 1134.6860683930347, "outflow_rate_max": 1323.5094605394604, "outflow_rate_min": 483.2499368177343, "system_level_velocity_mean": 12.295156046795437, "cost2_max": -16.35345827016556, "cost1_max": 449.3171047067084, "cost1_min": 32.38648300438136, "cost2_mean": -83.50189704724791, "cost1_mean": 313.2489052743875}, "episode_reward_mean": 803.3237656639249}
{"date": "2019-05-07_19-35-45", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591acf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591add8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3306342, "episode_reward_min": 35.71376218360459, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 24.423288345336914, "info": {"load_time_ms": 6.55, "grad_time_ms": 9013.309, "sample_time_ms": 16328.558, "update_time_ms": 7.556, "default": {"entropy": 0.9568727016448975, "vf_loss": 15.005305290222168, "total_loss": 15.001405715942383, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.005992780905216932, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9270780682563782, "kl": 0.016560479998588562}, "num_steps_trained": 3306342, "num_steps_sampled": 3306342}, "timesteps_since_restore": 3306342, "training_iteration": 86, "episodes_total": 1544, "policy_reward_mean": {}, "episode_len_mean": 680.38, "timesteps_this_iter": 37293, "iterations_since_restore": 86, "node_ip": "10.138.0.2", "time_since_restore": 2352.925793647766, "episode_reward_max": 963.6079666763793, "num_metric_batches_dropped": 0, "time_total_s": 2352.925793647766, "hostname": "flow-main", "timestamp": 1557257745, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.735431202155496, "cost2_min": -116.5197805084285, "outflow_rate_mean": 1130.0216838781193, "outflow_rate_max": 1338.1151768231766, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 12.240805258833575, "cost2_max": -16.37452008450405, "cost1_max": 449.3171047067084, "cost1_min": 20.411425860425794, "cost2_mean": -86.49024660637728, "cost1_mean": 311.34041688582454}, "episode_reward_mean": 807.0911694251503}
{"date": "2019-05-07_19-36-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922080>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3344319, "episode_reward_min": 35.71376218360459, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.554911375045776, "info": {"load_time_ms": 6.442, "grad_time_ms": 8995.848, "sample_time_ms": 16300.051, "update_time_ms": 7.485, "default": {"entropy": 0.9191463589668274, "vf_loss": 18.899188995361328, "total_loss": 18.894630432128906, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.006512833759188652, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9220315217971802, "kl": 0.015443327836692333}, "num_steps_trained": 3344319, "num_steps_sampled": 3344319}, "timesteps_since_restore": 3344319, "training_iteration": 87, "episodes_total": 1565, "policy_reward_mean": {}, "episode_len_mean": 678.17, "timesteps_this_iter": 37977, "iterations_since_restore": 87, "node_ip": "10.138.0.2", "time_since_restore": 2378.480705022812, "episode_reward_max": 970.0693156616744, "num_metric_batches_dropped": 0, "time_total_s": 2378.480705022812, "hostname": "flow-main", "timestamp": 1557257770, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.735431202155496, "cost2_min": -121.12443851653106, "outflow_rate_mean": 1136.1386108358154, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 12.401731834157392, "cost2_max": -16.37452008450405, "cost1_max": 460.32175763662553, "cost1_min": 20.411425860425794, "cost2_mean": -87.02803387827214, "cost1_mean": 314.4609176939559}, "episode_reward_mean": 811.0596364614871}
{"date": "2019-05-07_19-36-37", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920390>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3382023, "episode_reward_min": 35.71376218360459, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 26.80738925933838, "info": {"load_time_ms": 6.316, "grad_time_ms": 9128.545, "sample_time_ms": 16265.905, "update_time_ms": 7.54, "default": {"entropy": 0.9780672788619995, "vf_loss": 13.214639663696289, "total_loss": 13.211063385009766, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.005257466807961464, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9491851329803467, "kl": 0.013285988010466099}, "num_steps_trained": 3382023, "num_steps_sampled": 3382023}, "timesteps_since_restore": 3382023, "training_iteration": 88, "episodes_total": 1583, "policy_reward_mean": {}, "episode_len_mean": 678.17, "timesteps_this_iter": 37704, "iterations_since_restore": 88, "node_ip": "10.138.0.2", "time_since_restore": 2405.2880942821503, "episode_reward_max": 970.0693156616744, "num_metric_batches_dropped": 0, "time_total_s": 2405.2880942821503, "hostname": "flow-main", "timestamp": 1557257797, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.811874069233737, "system_level_velocity_max": 18.735431202155496, "cost2_min": -121.12443851653106, "outflow_rate_mean": 1132.2015281505007, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 12.72848134848123, "cost2_max": -16.37452008450405, "cost1_max": 460.32175763662553, "cost1_min": 20.411425860425794, "cost2_mean": -87.179415586914, "cost1_mean": 322.6761611478534}, "episode_reward_mean": 813.3980554172538}
{"date": "2019-05-07_19-37-03", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59208d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efe80>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3419282, "episode_reward_min": 35.71376218360459, "done": false, "pid": 42973, "episodes_this_iter": 20, "time_this_iter_s": 25.709316968917847, "info": {"load_time_ms": 6.325, "grad_time_ms": 9069.695, "sample_time_ms": 16369.971, "update_time_ms": 7.781, "default": {"entropy": 0.9570887088775635, "vf_loss": 16.691884994506836, "total_loss": 16.686473846435547, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.007709943223744631, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9222671389579773, "kl": 0.018163973465561867}, "num_steps_trained": 3419282, "num_steps_sampled": 3419282}, "timesteps_since_restore": 3419282, "training_iteration": 89, "episodes_total": 1603, "policy_reward_mean": {}, "episode_len_mean": 665.88, "timesteps_this_iter": 37259, "iterations_since_restore": 89, "node_ip": "10.138.0.2", "time_since_restore": 2430.997411251068, "episode_reward_max": 973.8590045603606, "num_metric_batches_dropped": 0, "time_total_s": 2430.997411251068, "hostname": "flow-main", "timestamp": 1557257823, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.385785093439383, "system_level_velocity_max": 19.684261716843743, "cost2_min": -121.12443851653106, "outflow_rate_mean": 1119.3419109799643, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 12.967126161391963, "cost2_max": -16.37452008450405, "cost1_max": 460.32175763662553, "cost1_min": 20.411425860425794, "cost2_mean": -86.42606816492913, "cost1_mean": 320.2055664962209}, "episode_reward_mean": 796.3309177409578}
{"date": "2019-05-07_19-37-29", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aa90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aef0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3457206, "episode_reward_min": 35.71376218360459, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 26.032267332077026, "info": {"load_time_ms": 6.361, "grad_time_ms": 9080.715, "sample_time_ms": 16401.185, "update_time_ms": 7.618, "default": {"entropy": 0.9369635581970215, "vf_loss": 17.058698654174805, "total_loss": 17.054319381713867, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.006511725950986147, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9054133296012878, "kl": 0.016861548647284508}, "num_steps_trained": 3457206, "num_steps_sampled": 3457206}, "timesteps_since_restore": 3457206, "training_iteration": 90, "episodes_total": 1621, "policy_reward_mean": {}, "episode_len_mean": 672.36, "timesteps_this_iter": 37924, "iterations_since_restore": 90, "node_ip": "10.138.0.2", "time_since_restore": 2457.029678583145, "episode_reward_max": 973.8590045603606, "num_metric_batches_dropped": 0, "time_total_s": 2457.029678583145, "hostname": "flow-main", "timestamp": 1557257849, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.385785093439383, "system_level_velocity_max": 19.684261716843743, "cost2_min": -121.12443851653106, "outflow_rate_mean": 1135.1526374105506, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 439.6544456755007, "system_level_velocity_mean": 13.006358004649393, "cost2_max": -16.37452008450405, "cost1_max": 460.32175763662553, "cost1_min": 20.411425860425794, "cost2_mean": -87.58124870178447, "cost1_mean": 325.80760622795043}, "episode_reward_mean": 809.1742350714597}
{"date": "2019-05-07_19-37-54", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59229b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922080>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3494587, "episode_reward_min": 43.22524357190672, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 24.96984076499939, "info": {"load_time_ms": 6.838, "grad_time_ms": 9001.592, "sample_time_ms": 16300.459, "update_time_ms": 7.592, "default": {"entropy": 0.9146405458450317, "vf_loss": 20.403690338134766, "total_loss": 20.40059471130371, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.005196642130613327, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9004253149032593, "kl": 0.016600046306848526}, "num_steps_trained": 3494587, "num_steps_sampled": 3494587}, "timesteps_since_restore": 3494587, "training_iteration": 91, "episodes_total": 1642, "policy_reward_mean": {}, "episode_len_mean": 672.28, "timesteps_this_iter": 37381, "iterations_since_restore": 91, "node_ip": "10.138.0.2", "time_since_restore": 2481.9995193481445, "episode_reward_max": 1020.1234321140238, "num_metric_batches_dropped": 0, "time_total_s": 2481.9995193481445, "hostname": "flow-main", "timestamp": 1557257874, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.382291094167433, "system_level_velocity_max": 19.684261716843743, "cost2_min": -121.12443851653106, "outflow_rate_mean": 1143.4737315906455, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 462.61484422024415, "system_level_velocity_mean": 13.137981499082168, "cost2_max": -15.997682896599828, "cost1_max": 460.32175763662553, "cost1_min": 26.094680798884482, "cost2_mean": -85.51039461544804, "cost1_mean": 329.4640888423839}, "episode_reward_mean": 811.7990950552389}
{"date": "2019-05-07_19-38-19", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920f28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920c18>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3531536, "episode_reward_min": 43.22524357190672, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.251596689224243, "info": {"load_time_ms": 6.921, "grad_time_ms": 8999.178, "sample_time_ms": 16355.032, "update_time_ms": 7.647, "default": {"entropy": 0.9097869396209717, "vf_loss": 19.33359718322754, "total_loss": 19.329994201660156, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.005980175919830799, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9110694527626038, "kl": 0.018755555152893066}, "num_steps_trained": 3531536, "num_steps_sampled": 3531536}, "timesteps_since_restore": 3531536, "training_iteration": 92, "episodes_total": 1663, "policy_reward_mean": {}, "episode_len_mean": 674.49, "timesteps_this_iter": 36949, "iterations_since_restore": 92, "node_ip": "10.138.0.2", "time_since_restore": 2507.251116037369, "episode_reward_max": 1020.1234321140238, "num_metric_batches_dropped": 0, "time_total_s": 2507.251116037369, "hostname": "flow-main", "timestamp": 1557257899, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.382291094167433, "system_level_velocity_max": 19.684261716843743, "cost2_min": -120.59120674854849, "outflow_rate_mean": 1139.0729899076748, "outflow_rate_max": 1365.2303364635366, "outflow_rate_min": 462.61484422024415, "system_level_velocity_mean": 13.04218282608186, "cost2_max": -15.997682896599828, "cost1_max": 438.9656799022956, "cost1_min": 26.094680798884482, "cost2_mean": -83.56231951234395, "cost1_mean": 328.0102137893103}, "episode_reward_mean": 807.080894729455}
{"date": "2019-05-07_19-38-45", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920ba8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3568364, "episode_reward_min": 43.22524357190672, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.7404887676239, "info": {"load_time_ms": 6.852, "grad_time_ms": 8977.745, "sample_time_ms": 16441.863, "update_time_ms": 7.676, "default": {"entropy": 0.9144492149353027, "vf_loss": 18.799116134643555, "total_loss": 18.794410705566406, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.00703089265152812, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8993237018585205, "kl": 0.018378283828496933}, "num_steps_trained": 3568364, "num_steps_sampled": 3568364}, "timesteps_since_restore": 3568364, "training_iteration": 93, "episodes_total": 1684, "policy_reward_mean": {}, "episode_len_mean": 668.08, "timesteps_this_iter": 36828, "iterations_since_restore": 93, "node_ip": "10.138.0.2", "time_since_restore": 2532.9916048049927, "episode_reward_max": 1020.1234321140238, "num_metric_batches_dropped": 0, "time_total_s": 2532.9916048049927, "hostname": "flow-main", "timestamp": 1557257925, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.382291094167433, "system_level_velocity_max": 19.684261716843743, "cost2_min": -120.59120674854849, "outflow_rate_mean": 1130.9040333671269, "outflow_rate_max": 1362.1924463536466, "outflow_rate_min": 462.61484422024415, "system_level_velocity_mean": 12.91881422387604, "cost2_max": -15.997682896599828, "cost1_max": 438.9656799022956, "cost1_min": 26.094680798884482, "cost2_mean": -81.78950288905472, "cost1_mean": 319.96729893679606}, "episode_reward_mean": 793.4141242008092}
{"date": "2019-05-07_19-39-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59206a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920f28>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3605920, "episode_reward_min": 43.22524357190672, "done": false, "pid": 42973, "episodes_this_iter": 19, "time_this_iter_s": 25.328495502471924, "info": {"load_time_ms": 6.785, "grad_time_ms": 8914.843, "sample_time_ms": 16508.592, "update_time_ms": 7.722, "default": {"entropy": 0.9351803660392761, "vf_loss": 18.485416412353516, "total_loss": 18.481895446777344, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.00571303628385067, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8955757021903992, "kl": 0.01732471212744713}, "num_steps_trained": 3605920, "num_steps_sampled": 3605920}, "timesteps_since_restore": 3605920, "training_iteration": 94, "episodes_total": 1703, "policy_reward_mean": {}, "episode_len_mean": 673.8, "timesteps_this_iter": 37556, "iterations_since_restore": 94, "node_ip": "10.138.0.2", "time_since_restore": 2558.3201003074646, "episode_reward_max": 1020.1234321140238, "num_metric_batches_dropped": 0, "time_total_s": 2558.3201003074646, "hostname": "flow-main", "timestamp": 1557257950, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.382291094167433, "system_level_velocity_max": 19.840568110236095, "cost2_min": -106.1959571325296, "outflow_rate_mean": 1139.7406804666907, "outflow_rate_max": 1362.1924463536466, "outflow_rate_min": 462.61484422024415, "system_level_velocity_mean": 12.818213572623572, "cost2_max": -15.997682896599828, "cost1_max": 438.9656799022956, "cost1_min": 26.094680798884482, "cost2_mean": -80.48259323663352, "cost1_mean": 321.17361765595274}, "episode_reward_mean": 800.1493956045523}
{"date": "2019-05-07_19-39-37", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a208>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3643212, "episode_reward_min": 35.38280079722217, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 26.578778982162476, "info": {"load_time_ms": 6.669, "grad_time_ms": 8892.01, "sample_time_ms": 16650.53, "update_time_ms": 7.933, "default": {"entropy": 0.9456598162651062, "vf_loss": 20.193002700805664, "total_loss": 20.190465927124023, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.004908456467092037, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9049748778343201, "kl": 0.018736450001597404}, "num_steps_trained": 3643212, "num_steps_sampled": 3643212}, "timesteps_since_restore": 3643212, "training_iteration": 95, "episodes_total": 1721, "policy_reward_mean": {}, "episode_len_mean": 654.87, "timesteps_this_iter": 37292, "iterations_since_restore": 95, "node_ip": "10.138.0.2", "time_since_restore": 2584.898879289627, "episode_reward_max": 1020.1234321140238, "num_metric_batches_dropped": 0, "time_total_s": 2584.898879289627, "hostname": "flow-main", "timestamp": 1557257977, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.382291094167433, "system_level_velocity_max": 19.840568110236095, "cost2_min": -103.79230024024284, "outflow_rate_mean": 1113.3383699077247, "outflow_rate_max": 1362.1924463536466, "outflow_rate_min": 441.79929748631736, "system_level_velocity_mean": 12.957217398513267, "cost2_max": -14.233357610472053, "cost1_max": 438.9656799022956, "cost1_min": 19.935906006424545, "cost2_mean": -77.56304017212653, "cost1_mean": 311.38106154262596}, "episode_reward_mean": 776.9055544112982}
{"date": "2019-05-07_19-40-03", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922ba8>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3680595, "episode_reward_min": 35.38280079722217, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 26.139484405517578, "info": {"load_time_ms": 6.526, "grad_time_ms": 8958.713, "sample_time_ms": 16754.456, "update_time_ms": 8.033, "default": {"entropy": 0.9355776309967041, "vf_loss": 20.157012939453125, "total_loss": 20.152360916137695, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.00659272400662303, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9075062274932861, "kl": 0.015326287597417831}, "num_steps_trained": 3680595, "num_steps_sampled": 3680595}, "timesteps_since_restore": 3680595, "training_iteration": 96, "episodes_total": 1742, "policy_reward_mean": {}, "episode_len_mean": 668.09, "timesteps_this_iter": 37383, "iterations_since_restore": 96, "node_ip": "10.138.0.2", "time_since_restore": 2611.0383636951447, "episode_reward_max": 970.1209651551833, "num_metric_batches_dropped": 0, "time_total_s": 2611.0383636951447, "hostname": "flow-main", "timestamp": 1557258003, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 9.566655673781128, "system_level_velocity_max": 19.840568110236095, "cost2_min": -103.79230024024284, "outflow_rate_mean": 1127.533674306037, "outflow_rate_max": 1362.0839948051948, "outflow_rate_min": 441.79929748631736, "system_level_velocity_mean": 12.934435274500022, "cost2_max": -14.233357610472053, "cost1_max": 456.8458351905991, "cost1_min": 19.935906006424545, "cost2_mean": -77.60276479319194, "cost1_mean": 319.80015483813577}, "episode_reward_mean": 788.6903629771701}
{"date": "2019-05-07_19-40-28", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59209e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920320>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3717490, "episode_reward_min": 35.38280079722217, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 25.190924406051636, "info": {"load_time_ms": 6.518, "grad_time_ms": 8918.106, "sample_time_ms": 16759.682, "update_time_ms": 8.24, "default": {"entropy": 0.9226542711257935, "vf_loss": 16.96768569946289, "total_loss": 16.96403694152832, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.0058472114615142345, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9025622606277466, "kl": 0.017352504655718803}, "num_steps_trained": 3717490, "num_steps_sampled": 3717490}, "timesteps_since_restore": 3717490, "training_iteration": 97, "episodes_total": 1760, "policy_reward_mean": {}, "episode_len_mean": 668.09, "timesteps_this_iter": 36895, "iterations_since_restore": 97, "node_ip": "10.138.0.2", "time_since_restore": 2636.2292881011963, "episode_reward_max": 969.3128559786295, "num_metric_batches_dropped": 0, "time_total_s": 2636.2292881011963, "hostname": "flow-main", "timestamp": 1557258028, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.967366539196767, "system_level_velocity_max": 19.840568110236095, "cost2_min": -103.79230024024284, "outflow_rate_mean": 1126.1795174389042, "outflow_rate_max": 1362.0839948051948, "outflow_rate_min": 441.79929748631736, "system_level_velocity_mean": 12.878062473891486, "cost2_max": -14.233357610472053, "cost1_max": 456.8458351905991, "cost1_min": 19.935906006424545, "cost2_mean": -77.76751761652473, "cost1_mean": 318.31786286263923}, "episode_reward_mean": 790.31840522085}
{"date": "2019-05-07_19-40-53", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931f28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931978>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3754946, "episode_reward_min": 35.38280079722217, "done": false, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 25.144466161727905, "info": {"load_time_ms": 6.51, "grad_time_ms": 8743.763, "sample_time_ms": 16749.471, "update_time_ms": 8.457, "default": {"entropy": 0.9654031991958618, "vf_loss": 20.278858184814453, "total_loss": 20.272878646850586, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.008378291502594948, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8905096054077148, "kl": 0.018950296565890312}, "num_steps_trained": 3754946, "num_steps_sampled": 3754946}, "timesteps_since_restore": 3754946, "training_iteration": 98, "episodes_total": 1781, "policy_reward_mean": {}, "episode_len_mean": 667.84, "timesteps_this_iter": 37456, "iterations_since_restore": 98, "node_ip": "10.138.0.2", "time_since_restore": 2661.373754262924, "episode_reward_max": 969.3128559786295, "num_metric_batches_dropped": 0, "time_total_s": 2661.373754262924, "hostname": "flow-main", "timestamp": 1557258053, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.967366539196767, "system_level_velocity_max": 19.840568110236095, "cost2_min": -96.56640423550925, "outflow_rate_mean": 1131.1949308967448, "outflow_rate_max": 1362.0839948051948, "outflow_rate_min": 441.79929748631736, "system_level_velocity_mean": 12.864760693388163, "cost2_max": -14.233357610472053, "cost1_max": 456.8458351905991, "cost1_min": 19.935906006424545, "cost2_mean": -76.76736081642004, "cost1_mean": 318.2280709754403}, "episode_reward_mean": 793.5285583483741}
{"date": "2019-05-07_19-41-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e48>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3792815, "episode_reward_min": 35.38280079722217, "done": false, "pid": 42973, "episodes_this_iter": 18, "time_this_iter_s": 46.445988178253174, "info": {"load_time_ms": 6.602, "grad_time_ms": 9371.794, "sample_time_ms": 18170.741, "update_time_ms": 16.003, "default": {"entropy": 0.9616056680679321, "vf_loss": 17.579608917236328, "total_loss": 17.575088500976562, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006693532690405846, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.927251398563385, "kl": 0.01715996116399765}, "num_steps_trained": 3792815, "num_steps_sampled": 3792815}, "timesteps_since_restore": 3792815, "training_iteration": 99, "episodes_total": 1799, "policy_reward_mean": {}, "episode_len_mean": 669.85, "timesteps_this_iter": 37869, "iterations_since_restore": 99, "node_ip": "10.138.0.2", "time_since_restore": 2707.8197424411774, "episode_reward_max": 969.3164427364889, "num_metric_batches_dropped": 0, "time_total_s": 2707.8197424411774, "hostname": "flow-main", "timestamp": 1557258100, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.967366539196767, "system_level_velocity_max": 19.25010417863696, "cost2_min": -97.22694807164177, "outflow_rate_mean": 1139.1706238745608, "outflow_rate_max": 1385.2999592407593, "outflow_rate_min": 441.79929748631736, "system_level_velocity_mean": 12.947487961472525, "cost2_max": -14.233357610472053, "cost1_max": 456.8458351905991, "cost1_min": 19.935906006424545, "cost2_mean": -76.40921765845185, "cost1_mean": 322.2925786643216}, "episode_reward_mean": 803.6315870857444}
{"date": "2019-05-07_19-42-05", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "output": null, "log_level": "INFO", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "num_workers": 20, "sgd_minibatch_size": 128, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "framestack": true, "use_lstm": false, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "zero_mean": true, "lstm_use_prev_action_reward": false, "custom_options": {}, "conv_activation": "relu", "grayscale": false, "custom_preprocessor": null, "custom_model": null, "free_log_std": false, "conv_filters": null, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d0b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d5c0>", "on_sample_end": null}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3830830, "episode_reward_min": 40.89981803856639, "done": true, "pid": 42973, "episodes_this_iter": 21, "time_this_iter_s": 24.727563619613647, "info": {"load_time_ms": 6.523, "grad_time_ms": 9161.628, "sample_time_ms": 18250.702, "update_time_ms": 16.731, "default": {"entropy": 1.023188591003418, "vf_loss": 15.25467300415039, "total_loss": 15.249613761901855, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007457742001861334, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9324628710746765, "kl": 0.018953897058963776}, "num_steps_trained": 3830830, "num_steps_sampled": 3830830}, "timesteps_since_restore": 3830830, "training_iteration": 100, "episodes_total": 1820, "policy_reward_mean": {}, "episode_len_mean": 688.78, "timesteps_this_iter": 38015, "iterations_since_restore": 100, "node_ip": "10.138.0.2", "time_since_restore": 2732.547306060791, "episode_reward_max": 969.3164427364889, "num_metric_batches_dropped": 0, "time_total_s": 2732.547306060791, "hostname": "flow-main", "timestamp": 1557258125, "experiment_id": "a74e1f8cc901489fa9c4e75a4d9b7081", "custom_metrics": {"system_level_velocity_min": 8.967366539196767, "system_level_velocity_max": 18.393264405554696, "cost2_min": -102.41391854646497, "outflow_rate_mean": 1151.0423520559048, "outflow_rate_max": 1385.2999592407593, "outflow_rate_min": 449.11702719380946, "system_level_velocity_mean": 12.771464336621177, "cost2_max": -16.9951171786794, "cost1_max": 456.8458351905991, "cost1_min": 22.850346513089303, "cost2_mean": -78.62607832683904, "cost1_mean": 330.91472823939074}, "episode_reward_mean": 817.8160668012382}
