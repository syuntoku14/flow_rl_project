{"date": "2019-05-07_19-42-07", "timesteps_this_iter": 44970, "timesteps_total": 44970, "time_this_iter_s": 60.841896295547485, "done": false, "timesteps_since_restore": 44970, "pid": 42996, "episodes_this_iter": 8, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 55.797, "grad_time_ms": 9737.885, "sample_time_ms": 48380.266, "update_time_ms": 2564.677, "default": {"entropy": 1.4190126657485962, "vf_loss": 2.716872453689575, "total_loss": 2.7165355682373047, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0006911323289386928, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8606356978416443, "kl": 0.0017708432860672474}, "num_steps_trained": 44970, "num_steps_sampled": 44970}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 60.841896295547485, "episodes_total": 8, "policy_reward_mean": {}, "episode_len_mean": 449.75, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "time_since_restore": 60.841896295547485, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 1, "episode_reward_max": 563.7377948444686, "timestamp": 1557258127, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.106338019463632, "system_level_velocity_max": 19.811765128899943, "outflow_rate_min": 432.1811795330158, "outflow_rate_mean": 490.3959860796955, "outflow_rate_max": 630.8106857142857, "cost2_min": -105.16496881149858, "system_level_velocity_mean": 12.974704861546794, "cost2_max": -20.330833255651953, "cost1_mean": 159.45844399850682, "cost1_min": 19.58260306732248, "cost2_mean": -69.79933111641773, "cost1_max": 263.69805185471336}, "episode_reward_mean": 322.26885502470725}
{"date": "2019-05-07_19-42-29", "timesteps_this_iter": 40794, "timesteps_total": 85764, "time_this_iter_s": 22.82550883293152, "done": false, "timesteps_since_restore": 85764, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 31.99, "grad_time_ms": 9580.42, "sample_time_ms": 30843.703, "update_time_ms": 1285.917, "default": {"entropy": 1.4288825988769531, "vf_loss": 1.5337172746658325, "total_loss": 1.5334670543670654, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.000398634176235646, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9574260711669922, "kl": 0.001482998370192945}, "num_steps_trained": 85764, "num_steps_sampled": 85764}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 83.667405128479, "episodes_total": 29, "policy_reward_mean": {}, "episode_len_mean": 607.7586206896551, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "time_since_restore": 83.667405128479, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 2, "episode_reward_max": 666.4811096145785, "timestamp": 1557258149, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e80>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.920603196582652, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 324.7402285714286, "outflow_rate_mean": 511.99852997184365, "outflow_rate_max": 1053.464915084915, "cost2_min": -117.93078106103091, "system_level_velocity_mean": 10.898646188845795, "cost2_max": -19.281809836144948, "cost1_mean": 215.0518036396071, "cost1_min": 18.718080050339623, "cost2_mean": -88.75862275311998, "cost1_max": 402.2426347555508}, "episode_reward_mean": 416.3781370370366}
{"date": "2019-05-07_19-42-55", "timesteps_this_iter": 45236, "timesteps_total": 131000, "time_this_iter_s": 25.218717336654663, "done": false, "timesteps_since_restore": 131000, "pid": 42996, "episodes_this_iter": 13, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 24.218, "grad_time_ms": 9913.229, "sample_time_ms": 25406.6, "update_time_ms": 859.818, "default": {"entropy": 1.4267849922180176, "vf_loss": 0.8451014757156372, "total_loss": 0.8441137671470642, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0011261340696364641, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9743780493736267, "kl": 0.0027675912715494633}, "num_steps_trained": 131000, "num_steps_sampled": 131000}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 108.88612246513367, "episodes_total": 42, "policy_reward_mean": {}, "episode_len_mean": 636.3095238095239, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "time_since_restore": 108.88612246513367, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 3, "episode_reward_max": 666.4811096145785, "timestamp": 1557258175, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f9b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fb38>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.920603196582652, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 290.2108, "outflow_rate_mean": 523.8183251166131, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.31988288469256, "system_level_velocity_mean": 10.557461255585753, "cost2_max": -19.281809836144948, "cost1_mean": 226.8211180660896, "cost1_min": 18.718080050339623, "cost2_mean": -91.18093878107693, "cost1_max": 402.2426347555508}, "episode_reward_mean": 432.3409684426393}
{"date": "2019-05-07_19-43-20", "timesteps_this_iter": 43387, "timesteps_total": 174387, "time_this_iter_s": 25.0405490398407, "done": false, "timesteps_since_restore": 174387, "pid": 42996, "episodes_this_iter": 11, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 19.925, "grad_time_ms": 9984.945, "sample_time_ms": 22743.066, "update_time_ms": 646.605, "default": {"entropy": 1.4032963514328003, "vf_loss": 1.246962070465088, "total_loss": 1.2458659410476685, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0012413687072694302, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9828771352767944, "kl": 0.005811082664877176}, "num_steps_trained": 174387, "num_steps_sampled": 174387}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 133.92667150497437, "episodes_total": 53, "policy_reward_mean": {}, "episode_len_mean": 649.5283018867924, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "time_since_restore": 133.92667150497437, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 4, "episode_reward_max": 666.4811096145785, "timestamp": 1557258200, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595db00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dbe0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dda0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 502.89731316518674, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.31988288469256, "system_level_velocity_mean": 10.070265808068088, "cost2_max": -19.281809836144948, "cost1_mean": 223.58025213251167, "cost1_min": 18.718080050339623, "cost2_mean": -91.21411211764853, "cost1_max": 402.2426347555508}, "episode_reward_mean": 429.8545173411275}
{"date": "2019-05-07_19-43-43", "timesteps_this_iter": 43413, "timesteps_total": 217800, "time_this_iter_s": 23.156858682632446, "done": false, "timesteps_since_restore": 217800, "pid": 42996, "episodes_this_iter": 14, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 17.348, "grad_time_ms": 10015.591, "sample_time_ms": 20779.814, "update_time_ms": 518.698, "default": {"entropy": 1.4097826480865479, "vf_loss": 1.7618087530136108, "total_loss": 1.7600828409194946, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0018804330611601472, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9786015748977661, "kl": 0.006182975601404905}, "num_steps_trained": 217800, "num_steps_sampled": 217800}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 157.0835301876068, "episodes_total": 67, "policy_reward_mean": {}, "episode_len_mean": 660.0746268656717, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "time_since_restore": 157.0835301876068, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 5, "episode_reward_max": 666.4811096145785, "timestamp": 1557258223, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fd30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590ff60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 523.1375027383461, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.31988288469256, "system_level_velocity_mean": 9.914847759089197, "cost2_max": -19.281809836144948, "cost1_mean": 227.09976203494816, "cost1_min": 18.718080050339623, "cost2_mean": -91.30414719450182, "cost1_max": 402.2426347555508}, "episode_reward_mean": 439.42222235706913}
{"date": "2019-05-07_19-44-06", "timesteps_this_iter": 40394, "timesteps_total": 258194, "time_this_iter_s": 23.353484869003296, "done": false, "timesteps_since_restore": 258194, "pid": 42996, "episodes_this_iter": 18, "episode_reward_min": 30.95516401522979, "info": {"load_time_ms": 15.619, "grad_time_ms": 9970.388, "sample_time_ms": 19568.971, "update_time_ms": 433.414, "default": {"entropy": 1.4111193418502808, "vf_loss": 2.4550676345825195, "total_loss": 2.452592134475708, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.002719012089073658, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9655072093009949, "kl": 0.009734749794006348}, "num_steps_trained": 258194, "num_steps_sampled": 258194}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 180.4370150566101, "episodes_total": 85, "policy_reward_mean": {}, "episode_len_mean": 668.5294117647059, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "time_since_restore": 180.4370150566101, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 6, "episode_reward_max": 666.4811096145785, "timestamp": 1557258246, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f400>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950780>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 547.784857788713, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.9580160045015, "system_level_velocity_mean": 9.739094174946116, "cost2_max": -19.281809836144948, "cost1_mean": 228.70595618327974, "cost1_min": 18.718080050339623, "cost2_mean": -91.16577613312491, "cost1_max": 402.2426347555508}, "episode_reward_mean": 450.246344081067}
{"date": "2019-05-07_19-44-29", "timesteps_this_iter": 37955, "timesteps_total": 296149, "time_this_iter_s": 22.49391531944275, "done": false, "timesteps_since_restore": 296149, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 31.72955356027514, "info": {"load_time_ms": 14.357, "grad_time_ms": 9835.288, "sample_time_ms": 18684.385, "update_time_ms": 372.658, "default": {"entropy": 1.3936835527420044, "vf_loss": 4.024378299713135, "total_loss": 4.0207014083862305, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0039316993206739426, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9524402022361755, "kl": 0.010204218327999115}, "num_steps_trained": 296149, "num_steps_sampled": 296149}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 202.93093037605286, "episodes_total": 105, "policy_reward_mean": {}, "episode_len_mean": 679.96, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "time_since_restore": 202.93093037605286, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 7, "episode_reward_max": 666.4811096145785, "timestamp": 1557258269, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950668>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59504e0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 569.7074835207941, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.9580160045015, "system_level_velocity_mean": 9.456378677517204, "cost2_max": -19.281809836144948, "cost1_mean": 229.60641700499906, "cost1_min": 18.718080050339623, "cost2_mean": -87.72807402738447, "cost1_max": 402.2426347555508}, "episode_reward_mean": 453.283850162241}
{"date": "2019-05-07_19-44-52", "timesteps_this_iter": 38033, "timesteps_total": 334182, "time_this_iter_s": 23.013015270233154, "done": false, "timesteps_since_restore": 334182, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 31.72955356027514, "info": {"load_time_ms": 13.414, "grad_time_ms": 9717.501, "sample_time_ms": 18101.932, "update_time_ms": 327.017, "default": {"entropy": 1.373084306716919, "vf_loss": 4.586201190948486, "total_loss": 4.582256317138672, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.004269617609679699, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9404180645942688, "kl": 0.012992900796234608}, "num_steps_trained": 334182, "num_steps_sampled": 334182}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 225.943945646286, "episodes_total": 126, "policy_reward_mean": {}, "episode_len_mean": 686.6, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "time_since_restore": 225.943945646286, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 8, "episode_reward_max": 666.4811096145785, "timestamp": 1557258292, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dbe0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dc88>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 20.127229431225754, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 611.9199973020878, "outflow_rate_max": 1053.464915084915, "cost2_min": -118.9580160045015, "system_level_velocity_mean": 9.246202650130376, "cost2_max": -19.281809836144948, "cost1_mean": 228.66761256640817, "cost1_min": 18.718080050339623, "cost2_mean": -82.02962270191247, "cost1_max": 402.2426347555508}, "episode_reward_mean": 456.2932158519627}
{"date": "2019-05-07_19-45-15", "timesteps_this_iter": 37522, "timesteps_total": 371704, "time_this_iter_s": 22.8018901348114, "done": false, "timesteps_since_restore": 371704, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 42.02313867040989, "info": {"load_time_ms": 12.702, "grad_time_ms": 9595.487, "sample_time_ms": 17656.691, "update_time_ms": 291.516, "default": {"entropy": 1.3508388996124268, "vf_loss": 4.684326171875, "total_loss": 4.679863929748535, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004764083307236433, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9463354349136353, "kl": 0.012071567587554455}, "num_steps_trained": 371704, "num_steps_sampled": 371704}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 248.7458357810974, "episodes_total": 147, "policy_reward_mean": {}, "episode_len_mean": 686.77, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "time_since_restore": 248.7458357810974, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 9, "episode_reward_max": 648.948594490729, "timestamp": 1557258315, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f080>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.818630808338846, "system_level_velocity_max": 19.435112619555333, "outflow_rate_min": 137.35542857142858, "outflow_rate_mean": 671.6785134470225, "outflow_rate_max": 1030.6172, "cost2_min": -118.9580160045015, "system_level_velocity_mean": 9.190529043988263, "cost2_max": -20.66282098136495, "cost1_mean": 227.89225215982947, "cost1_min": 22.18395937643529, "cost2_mean": -79.00989013982094, "cost1_max": 343.42582711955674}, "episode_reward_mean": 469.4028439518409}
{"date": "2019-05-07_19-45-37", "timesteps_this_iter": 36674, "timesteps_total": 408378, "time_this_iter_s": 22.204893589019775, "done": false, "timesteps_since_restore": 408378, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 42.02313867040989, "info": {"load_time_ms": 12.137, "grad_time_ms": 9503.334, "sample_time_ms": 17235.235, "update_time_ms": 263.081, "default": {"entropy": 1.3159641027450562, "vf_loss": 6.879012107849121, "total_loss": 6.875840187072754, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0035752432886511087, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8936828970909119, "kl": 0.016138577833771706}, "num_steps_trained": 408378, "num_steps_sampled": 408378}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 270.9507293701172, "episodes_total": 167, "policy_reward_mean": {}, "episode_len_mean": 686.77, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "time_since_restore": 270.9507293701172, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 10, "episode_reward_max": 763.6215580475557, "timestamp": 1557258337, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595da20>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dfd0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.862154857975083, "system_level_velocity_max": 19.435112619555333, "outflow_rate_min": 447.45390680574303, "outflow_rate_mean": 753.4931520963733, "outflow_rate_max": 1043.7478077922078, "cost2_min": -118.9580160045015, "system_level_velocity_mean": 9.513541196723738, "cost2_max": -20.66282098136495, "cost1_mean": 237.26073305994228, "cost1_min": 22.18395937643529, "cost2_mean": -78.72211402266039, "cost1_max": 333.18072068733863}, "episode_reward_mean": 505.7278381757913}
{"date": "2019-05-07_19-45-58", "timesteps_this_iter": 37367, "timesteps_total": 445745, "time_this_iter_s": 21.011418104171753, "done": false, "timesteps_since_restore": 445745, "pid": 42996, "episodes_this_iter": 16, "episode_reward_min": 42.02313867040989, "info": {"load_time_ms": 7.279, "grad_time_ms": 9411.435, "sample_time_ms": 13607.378, "update_time_ms": 7.287, "default": {"entropy": 1.3025898933410645, "vf_loss": 5.585784435272217, "total_loss": 5.58533239364624, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0006607606774196029, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8931689858436584, "kl": 0.008336127735674381}, "num_steps_trained": 445745, "num_steps_sampled": 445745}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 291.96214747428894, "episodes_total": 183, "policy_reward_mean": {}, "episode_len_mean": 686.77, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "time_since_restore": 291.96214747428894, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 11, "episode_reward_max": 769.414566978583, "timestamp": 1557258358, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931518>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 5.906894391847746, "system_level_velocity_max": 19.435112619555333, "outflow_rate_min": 447.45390680574303, "outflow_rate_mean": 798.7635982262433, "outflow_rate_max": 1051.5014285714287, "cost2_min": -117.52428963721076, "system_level_velocity_mean": 9.74811170294942, "cost2_max": -20.66282098136495, "cost1_mean": 243.89525192124472, "cost1_min": 22.18395937643529, "cost2_mean": -80.27873827033004, "cost1_max": 333.18072068733863}, "episode_reward_mean": 535.6851280430187}
{"date": "2019-05-07_19-46-22", "timesteps_this_iter": 38376, "timesteps_total": 484121, "time_this_iter_s": 23.542523860931396, "done": false, "timesteps_since_restore": 484121, "pid": 42996, "episodes_this_iter": 17, "episode_reward_min": 42.02313867040989, "info": {"load_time_ms": 7.215, "grad_time_ms": 9362.122, "sample_time_ms": 13728.689, "update_time_ms": 7.342, "default": {"entropy": 1.3092775344848633, "vf_loss": 6.679211616516113, "total_loss": 6.6765522956848145, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0028611738234758377, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8523429036140442, "kl": 0.008093299344182014}, "num_steps_trained": 484121, "num_steps_sampled": 484121}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 315.50467133522034, "episodes_total": 200, "policy_reward_mean": {}, "episode_len_mean": 686.77, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "time_since_restore": 315.50467133522034, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 12, "episode_reward_max": 769.414566978583, "timestamp": 1557258382, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931470>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.885442776703842, "system_level_velocity_max": 19.435112619555333, "outflow_rate_min": 447.45390680574303, "outflow_rate_mean": 848.7802438885809, "outflow_rate_max": 1054.7645558441557, "cost2_min": -118.74460380556482, "system_level_velocity_mean": 9.943009691767875, "cost2_max": -20.66282098136495, "cost1_mean": 249.7625770509345, "cost1_min": 22.18395937643529, "cost2_mean": -84.35326393644877, "cost1_max": 333.18072068733863}, "episode_reward_mean": 571.5460334248522}
{"date": "2019-05-07_19-46-44", "timesteps_this_iter": 38932, "timesteps_total": 523053, "time_this_iter_s": 22.699339389801025, "done": false, "timesteps_since_restore": 523053, "pid": 42996, "episodes_this_iter": 14, "episode_reward_min": 42.02313867040989, "info": {"load_time_ms": 7.123, "grad_time_ms": 9216.294, "sample_time_ms": 13624.62, "update_time_ms": 7.301, "default": {"entropy": 1.2996022701263428, "vf_loss": 6.407100677490234, "total_loss": 6.405237197875977, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.002131643472239375, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8906436562538147, "kl": 0.01072013657540083}, "num_steps_trained": 523053, "num_steps_sampled": 523053}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 338.20401072502136, "episodes_total": 214, "policy_reward_mean": {}, "episode_len_mean": 686.77, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "time_since_restore": 338.20401072502136, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 13, "episode_reward_max": 792.6533148277318, "timestamp": 1557258404, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f9b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f2e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.885442776703842, "system_level_velocity_max": 19.435112619555333, "outflow_rate_min": 447.45390680574303, "outflow_rate_mean": 885.0695347457238, "outflow_rate_max": 1055.80934025974, "cost2_min": -141.25388148341264, "system_level_velocity_mean": 10.181961753099802, "cost2_max": -20.66282098136495, "cost1_mean": 256.52127664476853, "cost1_min": 22.18395937643529, "cost2_mean": -90.39763388879436, "cost1_max": 333.18072068733863}, "episode_reward_mean": 605.5524118531304}
{"date": "2019-05-07_19-47-09", "timesteps_this_iter": 39098, "timesteps_total": 562151, "time_this_iter_s": 25.06277823448181, "done": false, "timesteps_since_restore": 562151, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 48.25849654048461, "info": {"load_time_ms": 7.192, "grad_time_ms": 9159.925, "sample_time_ms": 13682.569, "update_time_ms": 7.498, "default": {"entropy": 1.3068840503692627, "vf_loss": 9.997095108032227, "total_loss": 9.994789123535156, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0025500271003693342, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8500621318817139, "kl": 0.009745466522872448}, "num_steps_trained": 562151, "num_steps_sampled": 562151}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 363.2667889595032, "episodes_total": 236, "policy_reward_mean": {}, "episode_len_mean": 686.89, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "time_since_restore": 363.2667889595032, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 14, "episode_reward_max": 801.3062817962518, "timestamp": 1557258429, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d0f0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595df60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 18.561089289428256, "outflow_rate_min": 468.9540664679436, "outflow_rate_mean": 935.0264814704325, "outflow_rate_max": 1174.2635064935064, "cost2_min": -146.71655106361897, "system_level_velocity_mean": 10.46317488851783, "cost2_max": -19.60358598026864, "cost1_mean": 265.0582293609214, "cost1_min": 28.858293846764983, "cost2_mean": -100.97346366030207, "cost1_max": 333.18072068733863}, "episode_reward_mean": 649.713936054051}
{"date": "2019-05-07_19-47-31", "timesteps_this_iter": 38065, "timesteps_total": 600216, "time_this_iter_s": 22.14226484298706, "done": false, "timesteps_since_restore": 600216, "pid": 42996, "episodes_this_iter": 17, "episode_reward_min": 55.83336473274047, "info": {"load_time_ms": 7.175, "grad_time_ms": 9035.119, "sample_time_ms": 13706.255, "update_time_ms": 7.51, "default": {"entropy": 1.30509352684021, "vf_loss": 8.747586250305176, "total_loss": 8.74588680267334, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.001954885898157954, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8903313279151917, "kl": 0.010227241553366184}, "num_steps_trained": 600216, "num_steps_sampled": 600216}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 385.40905380249023, "episodes_total": 253, "policy_reward_mean": {}, "episode_len_mean": 693.45, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "time_since_restore": 385.40905380249023, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 15, "episode_reward_max": 844.9755580298337, "timestamp": 1557258451, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f5c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f7f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 18.389783321191597, "outflow_rate_min": 470.5328649908782, "outflow_rate_mean": 962.8444656768817, "outflow_rate_max": 1216.2011792207793, "cost2_min": -159.6320135128629, "system_level_velocity_mean": 10.567022548052543, "cost2_max": -19.60358598026864, "cost1_mean": 272.50378972774416, "cost1_min": 29.60125918398075, "cost2_mean": -109.44713109377038, "cost1_max": 371.84735614483145}, "episode_reward_mean": 678.7756143279171}
{"date": "2019-05-07_19-47-55", "timesteps_this_iter": 38068, "timesteps_total": 638284, "time_this_iter_s": 23.07155442237854, "done": false, "timesteps_since_restore": 638284, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 55.83336473274047, "info": {"load_time_ms": 6.742, "grad_time_ms": 8951.135, "sample_time_ms": 13763.439, "update_time_ms": 7.464, "default": {"entropy": 1.299020528793335, "vf_loss": 10.337963104248047, "total_loss": 10.334858894348145, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0033482457511126995, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.899864137172699, "kl": 0.009789173491299152}, "num_steps_trained": 638284, "num_steps_sampled": 638284}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 408.4806082248688, "episodes_total": 273, "policy_reward_mean": {}, "episode_len_mean": 693.45, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "time_since_restore": 408.4806082248688, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 16, "episode_reward_max": 844.9755580298337, "timestamp": 1557258475, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fba58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb588>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 18.389783321191597, "outflow_rate_min": 470.5328649908782, "outflow_rate_mean": 994.5690507597989, "outflow_rate_max": 1305.5812327672327, "cost2_min": -175.91643574590347, "system_level_velocity_mean": 10.839287608021023, "cost2_max": -19.60358598026864, "cost1_mean": 279.3486074461396, "cost1_min": 29.60125918398075, "cost2_mean": -117.8442714153646, "cost1_max": 448.0043991237876}, "episode_reward_mean": 695.2614781867024}
{"date": "2019-05-07_19-48-16", "timesteps_this_iter": 37854, "timesteps_total": 676138, "time_this_iter_s": 21.205490350723267, "done": false, "timesteps_since_restore": 676138, "pid": 42996, "episodes_this_iter": 18, "episode_reward_min": 55.83336473274047, "info": {"load_time_ms": 6.863, "grad_time_ms": 8942.431, "sample_time_ms": 13643.604, "update_time_ms": 7.425, "default": {"entropy": 1.308591365814209, "vf_loss": 8.375569343566895, "total_loss": 8.37311840057373, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0026479463558644056, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9053590893745422, "kl": 0.007884451188147068}, "num_steps_trained": 676138, "num_steps_sampled": 676138}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 429.68609857559204, "episodes_total": 291, "policy_reward_mean": {}, "episode_len_mean": 693.45, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "time_since_restore": 429.68609857559204, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 17, "episode_reward_max": 844.9755580298337, "timestamp": 1557258496, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 18.389783321191597, "outflow_rate_min": 470.5328649908782, "outflow_rate_mean": 1016.7489496089497, "outflow_rate_max": 1305.5812327672327, "cost2_min": -175.91643574590347, "system_level_velocity_mean": 11.1743452785926, "cost2_max": -19.60358598026864, "cost1_mean": 287.70551477676577, "cost1_min": 29.60125918398075, "cost2_mean": -122.99895238800205, "cost1_max": 448.0043991237876}, "episode_reward_mean": 699.5196542795327}
{"date": "2019-05-07_19-48-37", "timesteps_this_iter": 36450, "timesteps_total": 712588, "time_this_iter_s": 21.007373571395874, "done": false, "timesteps_since_restore": 712588, "pid": 42996, "episodes_this_iter": 17, "episode_reward_min": 55.83336473274047, "info": {"load_time_ms": 6.926, "grad_time_ms": 8901.049, "sample_time_ms": 13484.936, "update_time_ms": 7.457, "default": {"entropy": 1.297916054725647, "vf_loss": 8.461004257202148, "total_loss": 8.457775115966797, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0034805499017238617, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.931119978427887, "kl": 0.01006001140922308}, "num_steps_trained": 712588, "num_steps_sampled": 712588}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 450.6934721469879, "episodes_total": 308, "policy_reward_mean": {}, "episode_len_mean": 693.45, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "time_since_restore": 450.6934721469879, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 18, "episode_reward_max": 844.9755580298337, "timestamp": 1557258517, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59503c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef6a0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950198>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 18.389783321191597, "outflow_rate_min": 470.5328649908782, "outflow_rate_mean": 1037.2337950754832, "outflow_rate_max": 1305.5812327672327, "cost2_min": -175.91643574590347, "system_level_velocity_mean": 11.443683388053723, "cost2_max": -19.60358598026864, "cost1_mean": 294.4601421268064, "cost1_min": 29.60125918398075, "cost2_mean": -125.52420567244462, "cost1_max": 448.0043991237876}, "episode_reward_mean": 706.5960479052416}
{"date": "2019-05-07_19-49-01", "timesteps_this_iter": 37616, "timesteps_total": 750204, "time_this_iter_s": 23.719785928726196, "done": false, "timesteps_since_restore": 750204, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 615.3954075690056, "info": {"load_time_ms": 6.91, "grad_time_ms": 8993.275, "sample_time_ms": 13484.693, "update_time_ms": 7.456, "default": {"entropy": 1.2676334381103516, "vf_loss": 9.819446563720703, "total_loss": 9.816546440124512, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003237201366573572, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9048039317131042, "kl": 0.013450153172016144}, "num_steps_trained": 750204, "num_steps_sampled": 750204}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 474.4132580757141, "episodes_total": 328, "policy_reward_mean": {}, "episode_len_mean": 700.0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "time_since_restore": 474.4132580757141, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 19, "episode_reward_max": 844.9755580298337, "timestamp": 1557258541, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f470>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.258217863646252, "system_level_velocity_max": 16.975102003318902, "outflow_rate_min": 896.2259324675326, "outflow_rate_mean": 1065.9781001598399, "outflow_rate_max": 1366.2838409590408, "cost2_min": -175.91643574590347, "system_level_velocity_mean": 11.774273403041253, "cost2_max": -99.42996241752601, "cost1_mean": 306.84400740306154, "cost1_min": 215.9833018142313, "cost2_mean": -126.44897818203593, "cost1_max": 448.0043991237876}, "episode_reward_mean": 714.7898453385973}
{"date": "2019-05-07_19-49-23", "timesteps_this_iter": 37465, "timesteps_total": 787669, "time_this_iter_s": 22.033373594284058, "done": false, "timesteps_since_restore": 787669, "pid": 42996, "episodes_this_iter": 16, "episode_reward_min": 615.3954075690056, "info": {"load_time_ms": 6.841, "grad_time_ms": 9015.419, "sample_time_ms": 13445.365, "update_time_ms": 7.393, "default": {"entropy": 1.26301109790802, "vf_loss": 7.621217727661133, "total_loss": 7.618941783905029, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.002486791927367449, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9310814738273621, "kl": 0.008425730280578136}, "num_steps_trained": 787669, "num_steps_sampled": 787669}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 496.44663166999817, "episodes_total": 344, "policy_reward_mean": {}, "episode_len_mean": 700.0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "time_since_restore": 496.44663166999817, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 20, "episode_reward_max": 842.6931472534251, "timestamp": 1557258563, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fba58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb588>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.736815221319622, "system_level_velocity_max": 16.975102003318902, "outflow_rate_min": 896.2259324675326, "outflow_rate_mean": 1068.814667932068, "outflow_rate_max": 1366.2838409590408, "cost2_min": -175.91643574590347, "system_level_velocity_mean": 11.965176197249168, "cost2_max": -99.04050329226746, "cost1_mean": 311.26872945237443, "cost1_min": 226.674525102944, "cost2_mean": -124.09778851085554, "cost1_max": 448.0043991237876}, "episode_reward_mean": 709.6230893736316}
{"date": "2019-05-07_19-49-43", "timesteps_this_iter": 37683, "timesteps_total": 825352, "time_this_iter_s": 20.799501657485962, "done": false, "timesteps_since_restore": 825352, "pid": 42996, "episodes_this_iter": 18, "episode_reward_min": 615.3954075690056, "info": {"load_time_ms": 6.716, "grad_time_ms": 8997.982, "sample_time_ms": 13441.943, "update_time_ms": 7.444, "default": {"entropy": 1.2461696863174438, "vf_loss": 8.45350456237793, "total_loss": 8.451299667358398, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.0024748065043240786, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9001826047897339, "kl": 0.010832037776708603}, "num_steps_trained": 825352, "num_steps_sampled": 825352}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 517.2461333274841, "episodes_total": 362, "policy_reward_mean": {}, "episode_len_mean": 700.0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "time_since_restore": 517.2461333274841, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 21, "episode_reward_max": 842.6931472534251, "timestamp": 1557258583, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59507f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.736815221319622, "system_level_velocity_max": 16.857069127603157, "outflow_rate_min": 867.9483116883116, "outflow_rate_mean": 1050.3875515724276, "outflow_rate_max": 1366.2838409590408, "cost2_min": -150.30297080140653, "system_level_velocity_mean": 11.745233189583457, "cost2_max": -96.99713140369235, "cost1_mean": 305.0028027828653, "cost1_min": 226.674525102944, "cost2_mean": -121.109598399156, "cost1_max": 444.7712464844344}, "episode_reward_mean": 703.9255268251208}
{"date": "2019-05-07_19-50-07", "timesteps_this_iter": 37529, "timesteps_total": 862881, "time_this_iter_s": 23.027271509170532, "done": false, "timesteps_since_restore": 862881, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 46.10589360841831, "info": {"load_time_ms": 6.545, "grad_time_ms": 8969.33, "sample_time_ms": 13419.474, "update_time_ms": 7.394, "default": {"entropy": 1.2523480653762817, "vf_loss": 9.61590576171875, "total_loss": 9.613188743591309, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0029411548748612404, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9102171659469604, "kl": 0.008980230428278446}, "num_steps_trained": 862881, "num_steps_sampled": 862881}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 540.2734048366547, "episodes_total": 381, "policy_reward_mean": {}, "episode_len_mean": 686.75, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "time_since_restore": 540.2734048366547, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 22, "episode_reward_max": 842.6931472534251, "timestamp": 1557258607, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59509e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59504e0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 19.24452736670897, "outflow_rate_min": 444.7819702791465, "outflow_rate_mean": 1034.8810913363561, "outflow_rate_max": 1366.2838409590408, "cost2_min": -150.30297080140653, "system_level_velocity_mean": 11.88931029117241, "cost2_max": -20.332960811059618, "cost1_mean": 299.5040209285893, "cost1_min": 24.132627809322305, "cost2_mean": -116.20007654592763, "cost1_max": 444.7712464844344}, "episode_reward_mean": 687.714619249987}
{"date": "2019-05-07_19-50-29", "timesteps_this_iter": 38175, "timesteps_total": 901056, "time_this_iter_s": 22.742289304733276, "done": false, "timesteps_since_restore": 901056, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 46.10589360841831, "info": {"load_time_ms": 6.371, "grad_time_ms": 8944.013, "sample_time_ms": 13448.773, "update_time_ms": 7.482, "default": {"entropy": 1.250105381011963, "vf_loss": 7.704977989196777, "total_loss": 7.7026801109313965, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0025939082261174917, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9152787923812866, "kl": 0.011836822144687176}, "num_steps_trained": 901056, "num_steps_sampled": 901056}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 563.0156941413879, "episodes_total": 400, "policy_reward_mean": {}, "episode_len_mean": 686.75, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "time_since_restore": 563.0156941413879, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 23, "episode_reward_max": 842.6931472534251, "timestamp": 1557258629, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 19.24452736670897, "outflow_rate_min": 444.7819702791465, "outflow_rate_mean": 1025.8742001155767, "outflow_rate_max": 1366.2838409590408, "cost2_min": -143.09154660029375, "system_level_velocity_mean": 11.76829754931575, "cost2_max": -20.332960811059618, "cost1_mean": 296.20446690645406, "cost1_min": 24.132627809322305, "cost2_mean": -114.77847938883582, "cost1_max": 444.7712464844344}, "episode_reward_mean": 685.7612202766495}
{"date": "2019-05-07_19-50-53", "timesteps_this_iter": 37414, "timesteps_total": 938470, "time_this_iter_s": 23.46528673171997, "done": false, "timesteps_since_restore": 938470, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 31.965034691548254, "info": {"load_time_ms": 6.338, "grad_time_ms": 8847.161, "sample_time_ms": 13386.729, "update_time_ms": 7.287, "default": {"entropy": 1.2373327016830444, "vf_loss": 8.724605560302734, "total_loss": 8.7207612991333, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004153278656303883, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9343255162239075, "kl": 0.012376287952065468}, "num_steps_trained": 938470, "num_steps_sampled": 938470}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 586.4809808731079, "episodes_total": 419, "policy_reward_mean": {}, "episode_len_mean": 673.51, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "time_since_restore": 586.4809808731079, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 24, "episode_reward_max": 842.6931472534251, "timestamp": 1557258653, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59503c8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 20.060052316308226, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1010.7243216667853, "outflow_rate_max": 1366.2838409590408, "cost2_min": -147.90803107952235, "system_level_velocity_mean": 11.954296185699793, "cost2_max": -20.241454979927816, "cost1_mean": 291.55382197881346, "cost1_min": 20.516422388201775, "cost2_mean": -114.15461740112146, "cost1_max": 441.3929273029671}, "episode_reward_mean": 670.7839494711028}
{"date": "2019-05-07_19-51-15", "timesteps_this_iter": 37848, "timesteps_total": 976318, "time_this_iter_s": 22.185193300247192, "done": false, "timesteps_since_restore": 976318, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 31.965034691548254, "info": {"load_time_ms": 6.356, "grad_time_ms": 8850.361, "sample_time_ms": 13388.123, "update_time_ms": 7.28, "default": {"entropy": 1.2295410633087158, "vf_loss": 8.483076095581055, "total_loss": 8.48123550415039, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0021002611611038446, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9335986971855164, "kl": 0.010402890853583813}, "num_steps_trained": 976318, "num_steps_sampled": 976318}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 608.6661741733551, "episodes_total": 439, "policy_reward_mean": {}, "episode_len_mean": 667.04, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "time_since_restore": 608.6661741733551, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 25, "episode_reward_max": 873.562986336089, "timestamp": 1557258675, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950668>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f4418065b70>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 20.060052316308226, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 999.3370493920249, "outflow_rate_max": 1293.3186089910087, "cost2_min": -154.84773186749194, "system_level_velocity_mean": 12.000601317785978, "cost2_max": -20.241454979927816, "cost1_mean": 287.9666552875158, "cost1_min": 20.516422388201775, "cost2_mean": -114.1887515257801, "cost1_max": 441.3929273029671}, "episode_reward_mean": 666.6273373022711}
{"date": "2019-05-07_19-51-37", "timesteps_this_iter": 37168, "timesteps_total": 1013486, "time_this_iter_s": 22.112833261489868, "done": false, "timesteps_since_restore": 1013486, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 31.965034691548254, "info": {"load_time_ms": 6.765, "grad_time_ms": 8838.625, "sample_time_ms": 13303.039, "update_time_ms": 7.349, "default": {"entropy": 1.222511887550354, "vf_loss": 9.298501014709473, "total_loss": 9.295646667480469, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.003131820820271969, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9399710893630981, "kl": 0.011076177470386028}, "num_steps_trained": 1013486, "num_steps_sampled": 1013486}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 630.779007434845, "episodes_total": 459, "policy_reward_mean": {}, "episode_len_mean": 660.52, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "time_since_restore": 630.779007434845, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 26, "episode_reward_max": 873.562986336089, "timestamp": 1557258697, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 20.060052316308226, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1002.677995220933, "outflow_rate_max": 1335.7893714285717, "cost2_min": -159.3200848111878, "system_level_velocity_mean": 12.287248905862679, "cost2_max": -20.241454979927816, "cost1_mean": 290.7693193009642, "cost1_min": 20.516422388201775, "cost2_mean": -115.60160571865492, "cost1_max": 479.42323764776796}, "episode_reward_mean": 662.1201197208542}
{"date": "2019-05-07_19-52-00", "timesteps_this_iter": 37552, "timesteps_total": 1051038, "time_this_iter_s": 22.972455739974976, "done": false, "timesteps_since_restore": 1051038, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 31.965034691548254, "info": {"load_time_ms": 6.628, "grad_time_ms": 8826.687, "sample_time_ms": 13491.813, "update_time_ms": 7.267, "default": {"entropy": 1.2123323678970337, "vf_loss": 10.799196243286133, "total_loss": 10.79764175415039, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.0017941069090738893, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.930172860622406, "kl": 0.009579308331012726}, "num_steps_trained": 1051038, "num_steps_sampled": 1051038}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 653.75146317482, "episodes_total": 480, "policy_reward_mean": {}, "episode_len_mean": 667.21, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "time_since_restore": 653.75146317482, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 27, "episode_reward_max": 895.29483271837, "timestamp": 1557258720, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922208>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922898>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.842663727026522, "system_level_velocity_max": 20.060052316308226, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1019.5475623634421, "outflow_rate_max": 1373.1230817182818, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.419901128674553, "cost2_max": -20.241454979927816, "cost1_mean": 298.2665813384408, "cost1_min": 20.516422388201775, "cost2_mean": -121.0643685839057, "cost1_max": 479.42323764776796}, "episode_reward_mean": 672.1072127466151}
{"date": "2019-05-07_19-52-22", "timesteps_this_iter": 36560, "timesteps_total": 1087598, "time_this_iter_s": 21.8039710521698, "done": false, "timesteps_since_restore": 1087598, "pid": 42996, "episodes_this_iter": 17, "episode_reward_min": 31.965034691548254, "info": {"load_time_ms": 6.506, "grad_time_ms": 8827.566, "sample_time_ms": 13570.503, "update_time_ms": 7.206, "default": {"entropy": 1.2339829206466675, "vf_loss": 7.3034796714782715, "total_loss": 7.301788806915283, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0019310223869979382, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9269933700561523, "kl": 0.009606652893126011}, "num_steps_trained": 1087598, "num_steps_sampled": 1087598}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 675.5554342269897, "episodes_total": 497, "policy_reward_mean": {}, "episode_len_mean": 660.83, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "time_since_restore": 675.5554342269897, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 28, "episode_reward_max": 895.29483271837, "timestamp": 1557258742, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dc18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dd30>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.6792761838410195, "system_level_velocity_max": 20.060052316308226, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1017.5906869243137, "outflow_rate_max": 1373.1230817182818, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.608757166616938, "cost2_max": -20.241454979927816, "cost1_mean": 298.1710892429564, "cost1_min": 20.516422388201775, "cost2_mean": -123.8220567561831, "cost1_max": 479.42323764776796}, "episode_reward_mean": 662.6972133231374}
{"date": "2019-05-07_19-52-44", "timesteps_this_iter": 38025, "timesteps_total": 1125623, "time_this_iter_s": 21.984392166137695, "done": false, "timesteps_since_restore": 1125623, "pid": 42996, "episodes_this_iter": 15, "episode_reward_min": 53.30515643027059, "info": {"load_time_ms": 6.498, "grad_time_ms": 8768.072, "sample_time_ms": 13456.335, "update_time_ms": 7.174, "default": {"entropy": 1.22129225730896, "vf_loss": 6.874884128570557, "total_loss": 6.871572017669678, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.003566744737327099, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9437389373779297, "kl": 0.010207736864686012}, "num_steps_trained": 1125623, "num_steps_sampled": 1125623}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 697.5398263931274, "episodes_total": 512, "policy_reward_mean": {}, "episode_len_mean": 674.07, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "time_since_restore": 697.5398263931274, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 29, "episode_reward_max": 895.29483271837, "timestamp": 1557258764, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59200f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920f98>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.6792761838410195, "system_level_velocity_max": 19.54908388459998, "outflow_rate_min": 453.77448858514293, "outflow_rate_mean": 1032.1549932772014, "outflow_rate_max": 1373.1230817182818, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.476249145465225, "cost2_max": -22.6067411161746, "cost1_mean": 303.45161640208863, "cost1_min": 29.355782046829113, "cost2_mean": -128.6342781290232, "cost1_max": 479.42323764776796}, "episode_reward_mean": 675.8303951102793}
{"date": "2019-05-07_19-53-07", "timesteps_this_iter": 38424, "timesteps_total": 1164047, "time_this_iter_s": 22.833656549453735, "done": false, "timesteps_since_restore": 1164047, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 53.30515643027059, "info": {"load_time_ms": 6.515, "grad_time_ms": 8768.133, "sample_time_ms": 13536.234, "update_time_ms": 7.261, "default": {"entropy": 1.2166693210601807, "vf_loss": 9.090925216674805, "total_loss": 9.086705207824707, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.004628213122487068, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.921859860420227, "kl": 0.016301322728395462}, "num_steps_trained": 1164047, "num_steps_sampled": 1164047}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 720.3734829425812, "episodes_total": 532, "policy_reward_mean": {}, "episode_len_mean": 674.07, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "time_since_restore": 720.3734829425812, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 30, "episode_reward_max": 895.29483271837, "timestamp": 1557258787, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922c88>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.6792761838410195, "system_level_velocity_max": 19.54908388459998, "outflow_rate_min": 453.77448858514293, "outflow_rate_mean": 1027.910883015463, "outflow_rate_max": 1373.1230817182818, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.340988504784168, "cost2_max": -22.6067411161746, "cost1_mean": 299.53455532164827, "cost1_min": 29.355782046829113, "cost2_mean": -131.25465680248513, "cost1_max": 479.42323764776796}, "episode_reward_mean": 669.7266788540301}
{"date": "2019-05-07_19-53-31", "timesteps_this_iter": 37890, "timesteps_total": 1201937, "time_this_iter_s": 23.64044189453125, "done": false, "timesteps_since_restore": 1201937, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.613, "grad_time_ms": 8790.791, "sample_time_ms": 13798.203, "update_time_ms": 7.146, "default": {"entropy": 1.2114274501800537, "vf_loss": 10.857441902160645, "total_loss": 10.854016304016113, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003716664621606469, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9061129689216614, "kl": 0.01169456448405981}, "num_steps_trained": 1201937, "num_steps_sampled": 1201937}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 744.0139248371124, "episodes_total": 552, "policy_reward_mean": {}, "episode_len_mean": 667.2, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "time_since_restore": 744.0139248371124, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 31, "episode_reward_max": 895.29483271837, "timestamp": 1557258811, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a710>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.6792761838410195, "system_level_velocity_max": 20.14527796538525, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1031.1200567521146, "outflow_rate_max": 1373.1230817182818, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.417735131778029, "cost2_max": -21.970012848831452, "cost1_mean": 296.03158514291516, "cost1_min": 22.352007103295573, "cost2_mean": -133.51257052999443, "cost1_max": 479.42323764776796}, "episode_reward_mean": 661.8777178693649}
{"date": "2019-05-07_19-53-52", "timesteps_this_iter": 37286, "timesteps_total": 1239223, "time_this_iter_s": 21.77003502845764, "done": false, "timesteps_since_restore": 1239223, "pid": 42996, "episodes_this_iter": 18, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.734, "grad_time_ms": 8792.306, "sample_time_ms": 13670.593, "update_time_ms": 7.197, "default": {"entropy": 1.2134125232696533, "vf_loss": 8.668474197387695, "total_loss": 8.6648588180542, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.003910608123987913, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9035189151763916, "kl": 0.011806119233369827}, "num_steps_trained": 1239223, "num_steps_sampled": 1239223}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 765.7839598655701, "episodes_total": 570, "policy_reward_mean": {}, "episode_len_mean": 667.2, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "time_since_restore": 765.7839598655701, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 32, "episode_reward_max": 799.6709609484444, "timestamp": 1557258832, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.6792761838410195, "system_level_velocity_max": 20.14527796538525, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1012.7974327880787, "outflow_rate_max": 1243.5370821178822, "cost2_min": -174.7430854723956, "system_level_velocity_mean": 12.066214164531955, "cost2_max": -21.970012848831452, "cost1_mean": 286.4366180283222, "cost1_min": 22.352007103295573, "cost2_mean": -134.52145799977362, "cost1_max": 435.9529037243774}, "episode_reward_mean": 652.2241287338037}
{"date": "2019-05-07_19-54-15", "timesteps_this_iter": 37283, "timesteps_total": 1276506, "time_this_iter_s": 22.350865602493286, "done": false, "timesteps_since_restore": 1276506, "pid": 42996, "episodes_this_iter": 18, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.421, "grad_time_ms": 8769.121, "sample_time_ms": 13655.695, "update_time_ms": 7.031, "default": {"entropy": 1.1776580810546875, "vf_loss": 8.795357704162598, "total_loss": 8.79104232788086, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004688502289354801, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9360820055007935, "kl": 0.01490017119795084}, "num_steps_trained": 1276506, "num_steps_sampled": 1276506}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 788.1348254680634, "episodes_total": 588, "policy_reward_mean": {}, "episode_len_mean": 673.76, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "time_since_restore": 788.1348254680634, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 33, "episode_reward_max": 799.6709609484444, "timestamp": 1557258855, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922fd0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.908460959024636, "system_level_velocity_max": 20.14527796538525, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1024.845248918604, "outflow_rate_max": 1314.7591780219782, "cost2_min": -174.1121480872156, "system_level_velocity_mean": 12.157362635467605, "cost2_max": -21.970012848831452, "cost1_mean": 292.7409980674887, "cost1_min": 22.352007103295573, "cost2_mean": -135.59099272330147, "cost1_max": 485.07107170643246}, "episode_reward_mean": 659.201096774647}
{"date": "2019-05-07_19-54-36", "timesteps_this_iter": 38130, "timesteps_total": 1314636, "time_this_iter_s": 21.695395708084106, "done": false, "timesteps_since_restore": 1314636, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.335, "grad_time_ms": 8769.396, "sample_time_ms": 13478.394, "update_time_ms": 6.982, "default": {"entropy": 1.2023043632507324, "vf_loss": 11.557080268859863, "total_loss": 11.551016807556152, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.006410286296159029, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9258412718772888, "kl": 0.01383254025131464}, "num_steps_trained": 1314636, "num_steps_sampled": 1314636}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 809.8302211761475, "episodes_total": 608, "policy_reward_mean": {}, "episode_len_mean": 673.66, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "time_since_restore": 809.8302211761475, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 34, "episode_reward_max": 959.2266742353305, "timestamp": 1557258876, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595db38>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dba8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.908460959024636, "system_level_velocity_max": 20.354339664831944, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1019.5565978991747, "outflow_rate_max": 1582.8648295704295, "cost2_min": -174.1121480872156, "system_level_velocity_mean": 12.170327508375564, "cost2_max": -21.970012848831452, "cost1_mean": 292.9946610523752, "cost1_min": 22.352007103295573, "cost2_mean": -135.68134478508367, "cost1_max": 513.8296819941465}, "episode_reward_mean": 657.8343040213783}
{"date": "2019-05-07_19-54-58", "timesteps_this_iter": 38192, "timesteps_total": 1352828, "time_this_iter_s": 21.913996696472168, "done": false, "timesteps_since_restore": 1352828, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.195, "grad_time_ms": 8751.574, "sample_time_ms": 13468.903, "update_time_ms": 6.977, "default": {"entropy": 1.2046982049942017, "vf_loss": 9.226662635803223, "total_loss": 9.222868919372559, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004168880637735128, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9359523057937622, "kl": 0.01501076016575098}, "num_steps_trained": 1352828, "num_steps_sampled": 1352828}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 831.7442178726196, "episodes_total": 628, "policy_reward_mean": {}, "episode_len_mean": 667.13, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "time_since_restore": 831.7442178726196, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 35, "episode_reward_max": 959.2266742353305, "timestamp": 1557258898, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59209b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920828>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59209e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.261923695174751, "system_level_velocity_max": 20.354339664831944, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1017.7435067151065, "outflow_rate_max": 1582.8648295704295, "cost2_min": -174.1121480872156, "system_level_velocity_mean": 12.376951149996158, "cost2_max": -21.970012848831452, "cost1_mean": 293.1084890746504, "cost1_min": 22.352007103295573, "cost2_mean": -132.50582477333128, "cost1_max": 513.8296819941465}, "episode_reward_mean": 646.4162446555177}
{"date": "2019-05-07_19-55-20", "timesteps_this_iter": 37665, "timesteps_total": 1390493, "time_this_iter_s": 21.181730270385742, "done": false, "timesteps_since_restore": 1390493, "pid": 42996, "episodes_this_iter": 16, "episode_reward_min": 38.68988777957527, "info": {"load_time_ms": 6.084, "grad_time_ms": 8734.3, "sample_time_ms": 13393.289, "update_time_ms": 6.954, "default": {"entropy": 1.1780081987380981, "vf_loss": 10.569973945617676, "total_loss": 10.565404891967773, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.005000550765544176, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9496521353721619, "kl": 0.017294012010097504}, "num_steps_trained": 1390493, "num_steps_sampled": 1390493}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 852.9259481430054, "episodes_total": 644, "policy_reward_mean": {}, "episode_len_mean": 675.0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "time_since_restore": 852.9259481430054, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 36, "episode_reward_max": 959.2266742353305, "timestamp": 1557258920, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59313c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59318d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931240>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.261923695174751, "system_level_velocity_max": 20.354339664831944, "outflow_rate_min": 434.0150557844458, "outflow_rate_mean": 1032.0300999355668, "outflow_rate_max": 1589.7579168243522, "cost2_min": -174.1121480872156, "system_level_velocity_mean": 12.469247943585987, "cost2_max": -23.502291035859336, "cost1_mean": 301.2292653756532, "cost1_min": 22.352007103295573, "cost2_mean": -132.97341854610468, "cost1_max": 515.2429625930986}, "episode_reward_mean": 653.5476420429371}
{"date": "2019-05-07_19-55-43", "timesteps_this_iter": 36713, "timesteps_total": 1427206, "time_this_iter_s": 23.227134943008423, "done": false, "timesteps_since_restore": 1427206, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 48.86573417579504, "info": {"load_time_ms": 6.055, "grad_time_ms": 8695.754, "sample_time_ms": 13457.312, "update_time_ms": 7.005, "default": {"entropy": 1.1721380949020386, "vf_loss": 12.666607856750488, "total_loss": 12.660965919494629, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.006084829103201628, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9414501190185547, "kl": 0.01771431788802147}, "num_steps_trained": 1427206, "num_steps_sampled": 1427206}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 876.1530830860138, "episodes_total": 666, "policy_reward_mean": {}, "episode_len_mean": 681.67, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "time_since_restore": 876.1530830860138, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 37, "episode_reward_max": 959.2266742353305, "timestamp": 1557258943, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab70>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a978>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.261923695174751, "system_level_velocity_max": 20.354339664831944, "outflow_rate_min": 486.5101898848834, "outflow_rate_mean": 1061.311348126973, "outflow_rate_max": 1589.7579168243522, "cost2_min": -166.4603519882153, "system_level_velocity_mean": 12.781943062777728, "cost2_max": -26.643402149415056, "cost1_mean": 313.7494253753148, "cost1_min": 32.43538522173676, "cost2_mean": -132.61348122128382, "cost1_max": 521.6279663159221}, "episode_reward_mean": 664.6776471900572}
{"date": "2019-05-07_19-56-05", "timesteps_this_iter": 36981, "timesteps_total": 1464187, "time_this_iter_s": 21.920169591903687, "done": false, "timesteps_since_restore": 1464187, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 34.3166176861964, "info": {"load_time_ms": 6.108, "grad_time_ms": 8704.136, "sample_time_ms": 13460.795, "update_time_ms": 6.992, "default": {"entropy": 1.189594030380249, "vf_loss": 13.448019981384277, "total_loss": 13.44370174407959, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004702290520071983, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9187146425247192, "kl": 0.01536024920642376}, "num_steps_trained": 1464187, "num_steps_sampled": 1464187}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 898.0732526779175, "episodes_total": 685, "policy_reward_mean": {}, "episode_len_mean": 669.81, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "time_since_restore": 898.0732526779175, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 38, "episode_reward_max": 959.2266742353305, "timestamp": 1557258965, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.261923695174751, "system_level_velocity_max": 20.683228048127685, "outflow_rate_min": 437.35639016391144, "outflow_rate_mean": 1069.9007831212684, "outflow_rate_max": 1589.7579168243522, "cost2_min": -169.74985693012638, "system_level_velocity_mean": 13.170307081439763, "cost2_max": -19.971202438571538, "cost1_mean": 315.0905255963288, "cost1_min": 20.05384646313226, "cost2_mean": -130.9561705959977, "cost1_max": 521.6279663159221}, "episode_reward_mean": 656.9336284985786}
{"date": "2019-05-07_19-56-26", "timesteps_this_iter": 36793, "timesteps_total": 1500980, "time_this_iter_s": 21.585407495498657, "done": false, "timesteps_since_restore": 1500980, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 34.3166176861964, "info": {"load_time_ms": 5.996, "grad_time_ms": 8664.065, "sample_time_ms": 13461.028, "update_time_ms": 6.984, "default": {"entropy": 1.1761912107467651, "vf_loss": 11.092427253723145, "total_loss": 11.088094711303711, "cur_kl_coeff": 0.02500000037252903, "policy_loss": -0.004718299489468336, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9345076680183411, "kl": 0.015456585213541985}, "num_steps_trained": 1500980, "num_steps_sampled": 1500980}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 919.6586601734161, "episodes_total": 705, "policy_reward_mean": {}, "episode_len_mean": 676.29, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "time_since_restore": 919.6586601734161, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 39, "episode_reward_max": 937.2678268848786, "timestamp": 1557258986, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a6a0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.261923695174751, "system_level_velocity_max": 20.683228048127685, "outflow_rate_min": 437.35639016391144, "outflow_rate_mean": 1097.9738495118943, "outflow_rate_max": 1589.7579168243522, "cost2_min": -171.73307410362293, "system_level_velocity_mean": 13.280538559807681, "cost2_max": -19.971202438571538, "cost1_mean": 322.02329119909336, "cost1_min": 20.05384646313226, "cost2_mean": -133.0176030029824, "cost1_max": 521.6279663159221}, "episode_reward_mean": 668.1818452343697}
{"date": "2019-05-07_19-56-49", "timesteps_this_iter": 36595, "timesteps_total": 1537575, "time_this_iter_s": 22.459877967834473, "done": false, "timesteps_since_restore": 1537575, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 34.3166176861964, "info": {"load_time_ms": 5.912, "grad_time_ms": 8629.11, "sample_time_ms": 13458.835, "update_time_ms": 6.994, "default": {"entropy": 1.1651698350906372, "vf_loss": 14.42790699005127, "total_loss": 14.423135757446289, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.005143945105373859, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9289034605026245, "kl": 0.014901358634233475}, "num_steps_trained": 1537575, "num_steps_sampled": 1537575}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 942.1185381412506, "episodes_total": 727, "policy_reward_mean": {}, "episode_len_mean": 670.83, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "time_since_restore": 942.1185381412506, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 40, "episode_reward_max": 937.2678268848786, "timestamp": 1557259009, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59311d0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.634278498734524, "system_level_velocity_max": 20.683228048127685, "outflow_rate_min": 437.35639016391144, "outflow_rate_mean": 1120.1112612862185, "outflow_rate_max": 1589.7579168243522, "cost2_min": -171.73307410362293, "system_level_velocity_mean": 13.748193359945603, "cost2_max": -19.971202438571538, "cost1_mean": 329.6608218949397, "cost1_min": 20.05384646313226, "cost2_mean": -134.2397492937278, "cost1_max": 531.7972505866164}, "episode_reward_mean": 672.7879253638012}
{"date": "2019-05-07_19-57-11", "timesteps_this_iter": 36632, "timesteps_total": 1574207, "time_this_iter_s": 21.90911102294922, "done": false, "timesteps_since_restore": 1574207, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 34.3166176861964, "info": {"load_time_ms": 5.931, "grad_time_ms": 8590.456, "sample_time_ms": 13323.914, "update_time_ms": 7.103, "default": {"entropy": 1.1623351573944092, "vf_loss": 11.849042892456055, "total_loss": 11.844698905944824, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004744027275592089, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9191198945045471, "kl": 0.016025835648179054}, "num_steps_trained": 1574207, "num_steps_sampled": 1574207}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 964.0276491641998, "episodes_total": 747, "policy_reward_mean": {}, "episode_len_mean": 682.68, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "time_since_restore": 964.0276491641998, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 41, "episode_reward_max": 896.1343268417622, "timestamp": 1557259031, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a5c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a978>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.634278498734524, "system_level_velocity_max": 20.683228048127685, "outflow_rate_min": 437.35639016391144, "outflow_rate_mean": 1145.2386120433446, "outflow_rate_max": 1573.9741374625376, "cost2_min": -171.73307410362293, "system_level_velocity_mean": 13.793862583222257, "cost2_max": -19.971202438571538, "cost1_mean": 338.6830232261307, "cost1_min": 20.05384646313226, "cost2_mean": -138.19655252360687, "cost1_max": 531.7972505866164}, "episode_reward_mean": 694.5089716847982}
{"date": "2019-05-07_19-57-34", "timesteps_this_iter": 37255, "timesteps_total": 1611462, "time_this_iter_s": 23.305124282836914, "done": false, "timesteps_since_restore": 1611462, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 34.3166176861964, "info": {"load_time_ms": 5.86, "grad_time_ms": 8592.493, "sample_time_ms": 13475.397, "update_time_ms": 7.015, "default": {"entropy": 1.1534630060195923, "vf_loss": 13.229775428771973, "total_loss": 13.224933624267578, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.005303178448230028, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9117848873138428, "kl": 0.018424591049551964}, "num_steps_trained": 1611462, "num_steps_sampled": 1611462}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 987.3327734470367, "episodes_total": 769, "policy_reward_mean": {}, "episode_len_mean": 663.63, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "time_since_restore": 987.3327734470367, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 42, "episode_reward_max": 839.8251839896136, "timestamp": 1557259054, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a7f0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a748>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.634278498734524, "system_level_velocity_max": 20.751605932290598, "outflow_rate_min": 437.35639016391144, "outflow_rate_mean": 1138.2498789702563, "outflow_rate_max": 1573.9741374625376, "cost2_min": -171.73307410362293, "system_level_velocity_mean": 14.092803548892247, "cost2_max": -19.971202438571538, "cost1_mean": 332.510642759749, "cost1_min": 20.05384646313226, "cost2_mean": -134.23519951536574, "cost1_max": 531.7972505866164}, "episode_reward_mean": 673.0307867181976}
{"date": "2019-05-07_19-57-58", "timesteps_this_iter": 36662, "timesteps_total": 1648124, "time_this_iter_s": 23.678794145584106, "done": false, "timesteps_since_restore": 1648124, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 40.83996574276685, "info": {"load_time_ms": 6.268, "grad_time_ms": 8587.449, "sample_time_ms": 13612.2, "update_time_ms": 7.082, "default": {"entropy": 1.1508846282958984, "vf_loss": 9.754042625427246, "total_loss": 9.750324249267578, "cur_kl_coeff": 0.02500000223517418, "policy_loss": -0.004071166273206472, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9204814434051514, "kl": 0.014094304293394089}, "num_steps_trained": 1648124, "num_steps_sampled": 1648124}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1011.0115675926208, "episodes_total": 788, "policy_reward_mean": {}, "episode_len_mean": 668.96, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "time_since_restore": 1011.0115675926208, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 43, "episode_reward_max": 889.5859043921503, "timestamp": 1557259078, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59503c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931470>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.634278498734524, "system_level_velocity_max": 20.751605932290598, "outflow_rate_min": 445.6868413934225, "outflow_rate_mean": 1134.070364510092, "outflow_rate_max": 1573.9741374625376, "cost2_min": -171.73307410362293, "system_level_velocity_mean": 13.820484644335647, "cost2_max": -21.653663753004984, "cost1_mean": 329.42818189528896, "cost1_min": 21.736913044966467, "cost2_mean": -133.79364910465642, "cost1_max": 531.7972505866164}, "episode_reward_mean": 677.0821215628698}
{"date": "2019-05-07_19-58-19", "timesteps_this_iter": 35946, "timesteps_total": 1684070, "time_this_iter_s": 21.47445511817932, "done": false, "timesteps_since_restore": 1684070, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 40.83996574276685, "info": {"load_time_ms": 6.248, "grad_time_ms": 8539.276, "sample_time_ms": 13638.018, "update_time_ms": 7.152, "default": {"entropy": 1.1085463762283325, "vf_loss": 10.839176177978516, "total_loss": 10.833902359008789, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.005807077046483755, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9469096660614014, "kl": 0.021351108327507973}, "num_steps_trained": 1684070, "num_steps_sampled": 1684070}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1032.4860227108002, "episodes_total": 808, "policy_reward_mean": {}, "episode_len_mean": 664.99, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "time_since_restore": 1032.4860227108002, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 44, "episode_reward_max": 889.5859043921503, "timestamp": 1557259099, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ae48>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.997216797575607, "system_level_velocity_max": 20.751605932290598, "outflow_rate_min": 445.6868413934225, "outflow_rate_mean": 1132.1506450615248, "outflow_rate_max": 1564.1653226773226, "cost2_min": -169.54331838496583, "system_level_velocity_mean": 13.971074624505952, "cost2_max": -21.653663753004984, "cost1_mean": 329.98435563414756, "cost1_min": 21.736913044966467, "cost2_mean": -132.38891389867354, "cost1_max": 531.7972505866164}, "episode_reward_mean": 671.7749756391651}
{"date": "2019-05-07_19-58-42", "timesteps_this_iter": 39572, "timesteps_total": 1723642, "time_this_iter_s": 22.756225109100342, "done": false, "timesteps_since_restore": 1723642, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 40.83996574276685, "info": {"load_time_ms": 6.317, "grad_time_ms": 8585.862, "sample_time_ms": 13675.224, "update_time_ms": 7.218, "default": {"entropy": 1.1679449081420898, "vf_loss": 10.159550666809082, "total_loss": 10.155014038085938, "cur_kl_coeff": 0.03749999403953552, "policy_loss": -0.00544691039249301, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9552811980247498, "kl": 0.02430633082985878}, "num_steps_trained": 1723642, "num_steps_sampled": 1723642}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1055.2422478199005, "episodes_total": 827, "policy_reward_mean": {}, "episode_len_mean": 669.18, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "time_since_restore": 1055.2422478199005, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 45, "episode_reward_max": 889.5859043921503, "timestamp": 1557259122, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a5c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.997216797575607, "system_level_velocity_max": 20.751605932290598, "outflow_rate_min": 445.6868413934225, "outflow_rate_mean": 1123.1404756808072, "outflow_rate_max": 1529.4044755244756, "cost2_min": -169.54331838496583, "system_level_velocity_mean": 13.883127916329265, "cost2_max": -21.653663753004984, "cost1_mean": 330.49481829742246, "cost1_min": 21.736913044966467, "cost2_mean": -131.9406565666041, "cost1_max": 532.2727575604597}, "episode_reward_mean": 669.3484271035928}
{"date": "2019-05-07_19-59-07", "timesteps_this_iter": 37470, "timesteps_total": 1761112, "time_this_iter_s": 24.399168491363525, "done": false, "timesteps_since_restore": 1761112, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 40.83996574276685, "info": {"load_time_ms": 6.455, "grad_time_ms": 8672.917, "sample_time_ms": 13909.765, "update_time_ms": 7.215, "default": {"entropy": 1.0987069606781006, "vf_loss": 15.255777359008789, "total_loss": 15.249849319458008, "cur_kl_coeff": 0.05625000223517418, "policy_loss": -0.006969796493649483, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9379885196685791, "kl": 0.01853499934077263}, "num_steps_trained": 1761112, "num_steps_sampled": 1761112}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1079.641416311264, "episodes_total": 849, "policy_reward_mean": {}, "episode_len_mean": 669.18, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "time_since_restore": 1079.641416311264, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 46, "episode_reward_max": 889.5859043921503, "timestamp": 1557259147, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59208d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920cc0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 7.997216797575607, "system_level_velocity_max": 20.811653579640478, "outflow_rate_min": 445.6868413934225, "outflow_rate_mean": 1122.5600509455426, "outflow_rate_max": 1529.4044755244756, "cost2_min": -171.0896784672289, "system_level_velocity_mean": 14.178751037876232, "cost2_max": -21.653663753004984, "cost1_mean": 337.85875349536616, "cost1_min": 21.736913044966467, "cost2_mean": -131.1921663872913, "cost1_max": 532.5891646125315}, "episode_reward_mean": 665.2858164472433}
{"date": "2019-05-07_19-59-28", "timesteps_this_iter": 36416, "timesteps_total": 1797528, "time_this_iter_s": 21.754438638687134, "done": false, "timesteps_since_restore": 1797528, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 53.78175480357671, "info": {"load_time_ms": 6.404, "grad_time_ms": 8679.424, "sample_time_ms": 13755.752, "update_time_ms": 7.256, "default": {"entropy": 1.0972685813903809, "vf_loss": 13.352994918823242, "total_loss": 13.348129272460938, "cur_kl_coeff": 0.05625000596046448, "policy_loss": -0.005829196888953447, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9333863854408264, "kl": 0.017130941152572632}, "num_steps_trained": 1797528, "num_steps_sampled": 1797528}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1101.3958549499512, "episodes_total": 868, "policy_reward_mean": {}, "episode_len_mean": 677.1, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "time_since_restore": 1101.3958549499512, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 47, "episode_reward_max": 889.5859043921503, "timestamp": 1557259168, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a470>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a9e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.598132756051825, "system_level_velocity_max": 20.811653579640478, "outflow_rate_min": 473.30844342312156, "outflow_rate_mean": 1109.9023060147329, "outflow_rate_max": 1525.6657954045957, "cost2_min": -171.0896784672289, "system_level_velocity_mean": 13.89773744410137, "cost2_max": -27.869694534102937, "cost1_mean": 335.6337896334865, "cost1_min": 32.04418694331845, "cost2_mean": -133.39327503014664, "cost1_max": 532.5891646125315}, "episode_reward_mean": 663.1238785049043}
{"date": "2019-05-07_19-59-50", "timesteps_this_iter": 34609, "timesteps_total": 1832137, "time_this_iter_s": 21.31963014602661, "done": false, "timesteps_since_restore": 1832137, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 54.413411341164384, "info": {"load_time_ms": 6.355, "grad_time_ms": 8627.743, "sample_time_ms": 13747.85, "update_time_ms": 7.28, "default": {"entropy": 1.0465112924575806, "vf_loss": 15.232046127319336, "total_loss": 15.228838920593262, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.004040585830807686, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9277616143226624, "kl": 0.014822825789451599}, "num_steps_trained": 1832137, "num_steps_sampled": 1832137}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1122.7154850959778, "episodes_total": 888, "policy_reward_mean": {}, "episode_len_mean": 672.7, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "time_since_restore": 1122.7154850959778, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 48, "episode_reward_max": 901.4647455521999, "timestamp": 1557259190, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dcc0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595df98>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.598132756051825, "system_level_velocity_max": 20.950400745457117, "outflow_rate_min": 441.9259740635993, "outflow_rate_mean": 1125.629995327596, "outflow_rate_max": 1641.9546821178822, "cost2_min": -171.0896784672289, "system_level_velocity_mean": 14.288447650430408, "cost2_max": -32.49089479056812, "cost1_mean": 342.38034064084815, "cost1_min": 32.139666920082774, "cost2_mean": -134.62310838566822, "cost1_max": 535.894948623134}, "episode_reward_mean": 666.306198105845}
{"date": "2019-05-07_20-00-12", "timesteps_this_iter": 36347, "timesteps_total": 1868484, "time_this_iter_s": 22.372450828552246, "done": false, "timesteps_since_restore": 1868484, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 43.2472868795426, "info": {"load_time_ms": 6.5, "grad_time_ms": 8623.731, "sample_time_ms": 13830.778, "update_time_ms": 7.265, "default": {"entropy": 1.0303939580917358, "vf_loss": 16.115564346313477, "total_loss": 16.110563278198242, "cur_kl_coeff": 0.05625000596046448, "policy_loss": -0.006205172277987003, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9189735651016235, "kl": 0.02145836316049099}, "num_steps_trained": 1868484, "num_steps_sampled": 1868484}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1145.08793592453, "episodes_total": 909, "policy_reward_mean": {}, "episode_len_mean": 668.66, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "time_since_restore": 1145.08793592453, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 49, "episode_reward_max": 901.4647455521999, "timestamp": 1557259212, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab38>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.598132756051825, "system_level_velocity_max": 20.950400745457117, "outflow_rate_min": 431.7681375175722, "outflow_rate_mean": 1137.023535192298, "outflow_rate_max": 1641.9546821178822, "cost2_min": -171.0896784672289, "system_level_velocity_mean": 14.607336745223293, "cost2_max": -24.701493702866546, "cost1_mean": 348.09423811132643, "cost1_min": 23.220261040220716, "cost2_mean": -134.97663615296685, "cost1_max": 535.894948623134}, "episode_reward_mean": 672.0965172034479}
{"date": "2019-05-07_20-00-35", "timesteps_this_iter": 36178, "timesteps_total": 1904662, "time_this_iter_s": 22.650869607925415, "done": false, "timesteps_since_restore": 1904662, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 43.2472868795426, "info": {"load_time_ms": 6.617, "grad_time_ms": 8615.157, "sample_time_ms": 13858.534, "update_time_ms": 7.207, "default": {"entropy": 1.0348762273788452, "vf_loss": 16.349430084228516, "total_loss": 16.343992233276367, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.006875704508274794, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9229058623313904, "kl": 0.017023278400301933}, "num_steps_trained": 1904662, "num_steps_sampled": 1904662}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1167.7388055324554, "episodes_total": 931, "policy_reward_mean": {}, "episode_len_mean": 664.04, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "time_since_restore": 1167.7388055324554, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 50, "episode_reward_max": 1000.7956055207827, "timestamp": 1557259235, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59504e0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.742409732580827, "system_level_velocity_max": 20.950400745457117, "outflow_rate_min": 431.7681375175722, "outflow_rate_mean": 1160.5931835045717, "outflow_rate_max": 1774.42082555092, "cost2_min": -171.0896784672289, "system_level_velocity_mean": 14.697865545855144, "cost2_max": -24.701493702866546, "cost1_mean": 347.2159031911165, "cost1_min": 23.220261040220716, "cost2_mean": -135.8330334876811, "cost1_max": 535.894948623134}, "episode_reward_mean": 682.6523306643259}
{"date": "2019-05-07_20-00-56", "timesteps_this_iter": 35434, "timesteps_total": 1940096, "time_this_iter_s": 21.56716752052307, "done": false, "timesteps_since_restore": 1940096, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 43.2472868795426, "info": {"load_time_ms": 6.509, "grad_time_ms": 8608.163, "sample_time_ms": 13831.576, "update_time_ms": 7.141, "default": {"entropy": 1.0326120853424072, "vf_loss": 16.052343368530273, "total_loss": 16.049531936645508, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.004075143951922655, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9309749603271484, "kl": 0.014975368045270443}, "num_steps_trained": 1940096, "num_steps_sampled": 1940096}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1189.3059730529785, "episodes_total": 951, "policy_reward_mean": {}, "episode_len_mean": 657.47, "iterations_since_restore": 51, "node_ip": "10.138.0.2", "time_since_restore": 1189.3059730529785, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 51, "episode_reward_max": 1000.7956055207827, "timestamp": 1557259256, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab38>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.742409732580827, "system_level_velocity_max": 20.950400745457117, "outflow_rate_min": 431.7681375175722, "outflow_rate_mean": 1167.5985400831821, "outflow_rate_max": 1774.42082555092, "cost2_min": -164.52052691574133, "system_level_velocity_mean": 14.757039728622527, "cost2_max": -24.701493702866546, "cost1_mean": 343.9540979983156, "cost1_min": 23.220261040220716, "cost2_mean": -135.00395768375236, "cost1_max": 535.894948623134}, "episode_reward_mean": 683.0444018121386}
{"date": "2019-05-07_20-01-20", "timesteps_this_iter": 35976, "timesteps_total": 1976072, "time_this_iter_s": 23.195208072662354, "done": false, "timesteps_since_restore": 1976072, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 43.2472868795426, "info": {"load_time_ms": 6.474, "grad_time_ms": 8589.966, "sample_time_ms": 13839.325, "update_time_ms": 7.141, "default": {"entropy": 1.0437875986099243, "vf_loss": 17.472702026367188, "total_loss": 17.46981430053711, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.003907460253685713, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9250381588935852, "kl": 0.012086249887943268}, "num_steps_trained": 1976072, "num_steps_sampled": 1976072}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1212.5011811256409, "episodes_total": 974, "policy_reward_mean": {}, "episode_len_mean": 671.69, "iterations_since_restore": 52, "node_ip": "10.138.0.2", "time_since_restore": 1212.5011811256409, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 52, "episode_reward_max": 1000.7956055207827, "timestamp": 1557259280, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920e10>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.742409732580827, "system_level_velocity_max": 20.97232028256247, "outflow_rate_min": 431.7681375175722, "outflow_rate_mean": 1231.7814198308897, "outflow_rate_max": 1774.42082555092, "cost2_min": -164.52052691574133, "system_level_velocity_mean": 15.320318329875583, "cost2_max": -24.701493702866546, "cost1_mean": 368.99163835159845, "cost1_min": 23.220261040220716, "cost2_mean": -137.70675569145732, "cost1_max": 538.8362804707751}, "episode_reward_mean": 720.3248564585109}
{"date": "2019-05-07_20-01-42", "timesteps_this_iter": 35859, "timesteps_total": 2011931, "time_this_iter_s": 22.28939127922058, "done": false, "timesteps_since_restore": 2011931, "pid": 42996, "episodes_this_iter": 24, "episode_reward_min": 42.4684442995004, "info": {"load_time_ms": 6.335, "grad_time_ms": 8567.369, "sample_time_ms": 13723.43, "update_time_ms": 7.207, "default": {"entropy": 1.0503051280975342, "vf_loss": 21.40497398376465, "total_loss": 21.40387535095215, "cur_kl_coeff": 0.08437501639127731, "policy_loss": -0.0021984425839036703, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9116941094398499, "kl": 0.01300986111164093}, "num_steps_trained": 2011931, "num_steps_sampled": 2011931}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1234.7905724048615, "episodes_total": 998, "policy_reward_mean": {}, "episode_len_mean": 652.0, "iterations_since_restore": 53, "node_ip": "10.138.0.2", "time_since_restore": 1234.7905724048615, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 53, "episode_reward_max": 1000.7956055207827, "timestamp": 1557259302, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a908>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad68>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 6.742409732580827, "system_level_velocity_max": 20.97232028256247, "outflow_rate_min": 429.65049045874866, "outflow_rate_mean": 1210.3116176922965, "outflow_rate_max": 1774.42082555092, "cost2_min": -171.22717629665763, "system_level_velocity_mean": 15.475019964731525, "cost2_max": -22.86502113788367, "cost1_mean": 359.3233357655193, "cost1_min": 22.649081344783962, "cost2_mean": -134.41429498969325, "cost1_max": 538.8362804707751}, "episode_reward_mean": 703.2543892929905}
{"date": "2019-05-07_20-02-04", "timesteps_this_iter": 36420, "timesteps_total": 2048351, "time_this_iter_s": 21.861854553222656, "done": false, "timesteps_since_restore": 2048351, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 42.4684442995004, "info": {"load_time_ms": 6.372, "grad_time_ms": 8593.024, "sample_time_ms": 13736.388, "update_time_ms": 7.233, "default": {"entropy": 1.0656217336654663, "vf_loss": 14.723395347595215, "total_loss": 14.719362258911133, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005192937795072794, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9209506511688232, "kl": 0.013754619285464287}, "num_steps_trained": 2048351, "num_steps_sampled": 2048351}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1256.652426958084, "episodes_total": 1017, "policy_reward_mean": {}, "episode_len_mean": 658.66, "iterations_since_restore": 54, "node_ip": "10.138.0.2", "time_since_restore": 1256.652426958084, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 54, "episode_reward_max": 1000.7956055207827, "timestamp": 1557259324, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922320>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59226d8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.237707504661765, "system_level_velocity_max": 21.252657006692917, "outflow_rate_min": 429.65049045874866, "outflow_rate_mean": 1224.0902407089643, "outflow_rate_max": 1774.42082555092, "cost2_min": -171.22717629665763, "system_level_velocity_mean": 15.54428862589328, "cost2_max": -22.86502113788367, "cost1_mean": 365.77089798665037, "cost1_min": 22.649081344783962, "cost2_mean": -135.21934644082918, "cost1_max": 542.0947764877795}, "episode_reward_mean": 714.9365515453409}
{"date": "2019-05-07_20-02-26", "timesteps_this_iter": 34827, "timesteps_total": 2083178, "time_this_iter_s": 21.73082160949707, "done": false, "timesteps_since_restore": 2083178, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 42.4684442995004, "info": {"load_time_ms": 6.281, "grad_time_ms": 8492.622, "sample_time_ms": 13735.246, "update_time_ms": 7.165, "default": {"entropy": 1.0605138540267944, "vf_loss": 18.25702667236328, "total_loss": 18.253055572509766, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005078606773167849, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9086682796478271, "kl": 0.013131862506270409}, "num_steps_trained": 2083178, "num_steps_sampled": 2083178}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1278.3832485675812, "episodes_total": 1040, "policy_reward_mean": {}, "episode_len_mean": 665.44, "iterations_since_restore": 55, "node_ip": "10.138.0.2", "time_since_restore": 1278.3832485675812, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 55, "episode_reward_max": 946.7825775301944, "timestamp": 1557259346, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aeb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad30>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.237707504661765, "system_level_velocity_max": 21.252657006692917, "outflow_rate_min": 429.65049045874866, "outflow_rate_mean": 1230.2286618272892, "outflow_rate_max": 1670.5413590409594, "cost2_min": -173.4718759188516, "system_level_velocity_mean": 15.320985279898153, "cost2_max": -22.86502113788367, "cost1_mean": 364.6708828122469, "cost1_min": 22.649081344783962, "cost2_mean": -137.0412479996578, "cost1_max": 542.0947764877795}, "episode_reward_mean": 720.8638724177861}
{"date": "2019-05-07_20-02-49", "timesteps_this_iter": 35603, "timesteps_total": 2118781, "time_this_iter_s": 23.095849990844727, "done": false, "timesteps_since_restore": 2118781, "pid": 42996, "episodes_this_iter": 24, "episode_reward_min": 42.4684442995004, "info": {"load_time_ms": 6.219, "grad_time_ms": 8366.106, "sample_time_ms": 13731.304, "update_time_ms": 7.331, "default": {"entropy": 1.0536270141601562, "vf_loss": 18.71596336364746, "total_loss": 18.712154388427734, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005069604609161615, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9172282814979553, "kl": 0.01495150662958622}, "num_steps_trained": 2118781, "num_steps_sampled": 2118781}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1301.479098558426, "episodes_total": 1064, "policy_reward_mean": {}, "episode_len_mean": 650.33, "iterations_since_restore": 56, "node_ip": "10.138.0.2", "time_since_restore": 1301.479098558426, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 56, "episode_reward_max": 946.7825775301944, "timestamp": 1557259369, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59228d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.308645111959088, "system_level_velocity_max": 21.252657006692917, "outflow_rate_min": 429.65049045874866, "outflow_rate_mean": 1213.344907318632, "outflow_rate_max": 1670.5413590409594, "cost2_min": -173.4718759188516, "system_level_velocity_mean": 15.4256377449208, "cost2_max": -22.86502113788367, "cost1_mean": 356.3590731579407, "cost1_min": 22.649081344783962, "cost2_mean": -135.80235954154747, "cost1_max": 542.0947764877795}, "episode_reward_mean": 705.7483480702764}
{"date": "2019-05-07_20-03-10", "timesteps_this_iter": 36008, "timesteps_total": 2154789, "time_this_iter_s": 21.726958513259888, "done": false, "timesteps_since_restore": 2154789, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 42.4684442995004, "info": {"load_time_ms": 6.255, "grad_time_ms": 8357.053, "sample_time_ms": 13738.065, "update_time_ms": 7.28, "default": {"entropy": 1.0674749612808228, "vf_loss": 15.292277336120605, "total_loss": 15.286876678466797, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.006719894707202911, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.916346549987793, "kl": 0.01563330553472042}, "num_steps_trained": 2154789, "num_steps_sampled": 2154789}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1323.2060570716858, "episodes_total": 1084, "policy_reward_mean": {}, "episode_len_mean": 656.76, "iterations_since_restore": 57, "node_ip": "10.138.0.2", "time_since_restore": 1323.2060570716858, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 57, "episode_reward_max": 966.5213485457188, "timestamp": 1557259390, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a8d0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.308645111959088, "system_level_velocity_max": 21.252657006692917, "outflow_rate_min": 429.65049045874866, "outflow_rate_mean": 1204.314074277814, "outflow_rate_max": 1670.5413590409594, "cost2_min": -173.4718759188516, "system_level_velocity_mean": 15.146523769347455, "cost2_max": -22.86502113788367, "cost1_mean": 353.15441533782456, "cost1_min": 22.649081344783962, "cost2_mean": -136.81360675562345, "cost1_max": 542.0947764877795}, "episode_reward_mean": 707.5089077031141}
{"date": "2019-05-07_20-03-32", "timesteps_this_iter": 36048, "timesteps_total": 2190837, "time_this_iter_s": 21.6962628364563, "done": false, "timesteps_since_restore": 2190837, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 44.19824390783842, "info": {"load_time_ms": 5.875, "grad_time_ms": 8395.771, "sample_time_ms": 13737.516, "update_time_ms": 7.156, "default": {"entropy": 1.0680917501449585, "vf_loss": 14.099879264831543, "total_loss": 14.094794273376465, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.0063692983239889145, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9154391288757324, "kl": 0.015213080681860447}, "num_steps_trained": 2190837, "num_steps_sampled": 2190837}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1344.902319908142, "episodes_total": 1103, "policy_reward_mean": {}, "episode_len_mean": 664.14, "iterations_since_restore": 58, "node_ip": "10.138.0.2", "time_since_restore": 1344.902319908142, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 58, "episode_reward_max": 966.5213485457188, "timestamp": 1557259412, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922dd8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922390>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.308645111959088, "system_level_velocity_max": 21.252657006692917, "outflow_rate_min": 458.79813058942443, "outflow_rate_mean": 1215.1112127554945, "outflow_rate_max": 1670.5413590409594, "cost2_min": -173.4718759188516, "system_level_velocity_mean": 15.171257817345616, "cost2_max": -25.7986921557256, "cost1_mean": 358.93457093679916, "cost1_min": 27.738502584567236, "cost2_mean": -137.08684102413588, "cost1_max": 542.0947764877795}, "episode_reward_mean": 711.8373143464322}
{"date": "2019-05-07_20-03-54", "timesteps_this_iter": 37032, "timesteps_total": 2227869, "time_this_iter_s": 22.209938049316406, "done": false, "timesteps_since_restore": 2227869, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 44.19824390783842, "info": {"load_time_ms": 5.837, "grad_time_ms": 8398.438, "sample_time_ms": 13717.823, "update_time_ms": 7.192, "default": {"entropy": 1.0803351402282715, "vf_loss": 13.317549705505371, "total_loss": 13.312214851379395, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.006871654186397791, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9127550721168518, "kl": 0.018215347081422806}, "num_steps_trained": 2227869, "num_steps_sampled": 2227869}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1367.1122579574585, "episodes_total": 1123, "policy_reward_mean": {}, "episode_len_mean": 664.14, "iterations_since_restore": 59, "node_ip": "10.138.0.2", "time_since_restore": 1367.1122579574585, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 59, "episode_reward_max": 966.5213485457188, "timestamp": 1557259434, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab38>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad68>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.308645111959088, "system_level_velocity_max": 21.21915130247799, "outflow_rate_min": 458.79813058942443, "outflow_rate_mean": 1195.9407469570576, "outflow_rate_max": 1654.2302159605101, "cost2_min": -184.78740919297712, "system_level_velocity_mean": 14.80671491159627, "cost2_max": -25.7986921557256, "cost1_mean": 349.32057677540166, "cost1_min": 27.738502584567236, "cost2_mean": -136.90573677136436, "cost1_max": 539.4535495446073}, "episode_reward_mean": 707.7816991286902}
{"date": "2019-05-07_20-04-18", "timesteps_this_iter": 35647, "timesteps_total": 2263516, "time_this_iter_s": 23.180297374725342, "done": false, "timesteps_since_restore": 2263516, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 44.19824390783842, "info": {"load_time_ms": 5.823, "grad_time_ms": 8460.993, "sample_time_ms": 13708.044, "update_time_ms": 7.21, "default": {"entropy": 1.0717591047286987, "vf_loss": 14.404170036315918, "total_loss": 14.399405479431152, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005969393067061901, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9258543848991394, "kl": 0.014279761351644993}, "num_steps_trained": 2263516, "num_steps_sampled": 2263516}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1390.2925553321838, "episodes_total": 1144, "policy_reward_mean": {}, "episode_len_mean": 669.82, "iterations_since_restore": 60, "node_ip": "10.138.0.2", "time_since_restore": 1390.2925553321838, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 60, "episode_reward_max": 966.5213485457188, "timestamp": 1557259458, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a58>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.308645111959088, "system_level_velocity_max": 21.21915130247799, "outflow_rate_min": 458.79813058942443, "outflow_rate_mean": 1198.8350094153811, "outflow_rate_max": 1654.2302159605101, "cost2_min": -184.78740919297712, "system_level_velocity_mean": 14.76501487404064, "cost2_max": -25.7986921557256, "cost1_mean": 352.39421327786965, "cost1_min": 27.738502584567236, "cost2_mean": -137.18130193434754, "cost1_max": 539.4535495446073}, "episode_reward_mean": 717.7845449211802}
{"date": "2019-05-07_20-04-40", "timesteps_this_iter": 36298, "timesteps_total": 2299814, "time_this_iter_s": 22.203896045684814, "done": false, "timesteps_since_restore": 2299814, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 42.95320615114553, "info": {"load_time_ms": 5.815, "grad_time_ms": 8478.539, "sample_time_ms": 13753.4, "update_time_ms": 7.253, "default": {"entropy": 1.053185224533081, "vf_loss": 16.70570182800293, "total_loss": 16.701814651489258, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005261851940304041, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9114638566970825, "kl": 0.016270454972982407}, "num_steps_trained": 2299814, "num_steps_sampled": 2299814}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1412.4964513778687, "episodes_total": 1166, "policy_reward_mean": {}, "episode_len_mean": 676.34, "iterations_since_restore": 61, "node_ip": "10.138.0.2", "time_since_restore": 1412.4964513778687, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 61, "episode_reward_max": 866.7159992313591, "timestamp": 1557259480, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e48>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d68>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.551497439196956, "system_level_velocity_max": 21.11127022582817, "outflow_rate_min": 462.32375471863577, "outflow_rate_mean": 1199.1186988537384, "outflow_rate_max": 1591.4183686313686, "cost2_min": -184.78740919297712, "system_level_velocity_mean": 14.577202508501678, "cost2_max": -24.45612544851294, "cost1_mean": 352.54742886142753, "cost1_min": 25.50444580101783, "cost2_mean": -137.5375758342337, "cost1_max": 541.2662991676353}, "episode_reward_mean": 719.5993247714057}
{"date": "2019-05-07_20-05-02", "timesteps_this_iter": 35539, "timesteps_total": 2335353, "time_this_iter_s": 21.813639879226685, "done": false, "timesteps_since_restore": 2335353, "pid": 42996, "episodes_this_iter": 19, "episode_reward_min": 42.95320615114553, "info": {"load_time_ms": 5.774, "grad_time_ms": 8472.369, "sample_time_ms": 13621.864, "update_time_ms": 7.41, "default": {"entropy": 1.040982961654663, "vf_loss": 14.644732475280762, "total_loss": 14.639969825744629, "cur_kl_coeff": 0.08437500149011612, "policy_loss": -0.006188707891851664, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.901086151599884, "kl": 0.01691260188817978}, "num_steps_trained": 2335353, "num_steps_sampled": 2335353}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1434.3100912570953, "episodes_total": 1185, "policy_reward_mean": {}, "episode_len_mean": 676.39, "iterations_since_restore": 62, "node_ip": "10.138.0.2", "time_since_restore": 1434.3100912570953, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 62, "episode_reward_max": 897.810639093784, "timestamp": 1557259502, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cc0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.551497439196956, "system_level_velocity_max": 21.044985574455954, "outflow_rate_min": 462.32375471863577, "outflow_rate_mean": 1199.6172860682213, "outflow_rate_max": 1553.8539940059939, "cost2_min": -184.78740919297712, "system_level_velocity_mean": 14.38818301200749, "cost2_max": -24.45612544851294, "cost1_mean": 347.5410851215772, "cost1_min": 25.50444580101783, "cost2_mean": -137.26297365387595, "cost1_max": 541.2662991676353}, "episode_reward_mean": 720.3203963041707}
{"date": "2019-05-07_20-05-25", "timesteps_this_iter": 36015, "timesteps_total": 2371368, "time_this_iter_s": 23.198179960250854, "done": false, "timesteps_since_restore": 2371368, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 42.78526231004336, "info": {"load_time_ms": 5.819, "grad_time_ms": 8483.725, "sample_time_ms": 13700.979, "update_time_ms": 7.413, "default": {"entropy": 1.0442785024642944, "vf_loss": 17.379255294799805, "total_loss": 17.37470054626465, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005828836001455784, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9013861417770386, "kl": 0.015102836303412914}, "num_steps_trained": 2371368, "num_steps_sampled": 2371368}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1457.5082712173462, "episodes_total": 1207, "policy_reward_mean": {}, "episode_len_mean": 668.19, "iterations_since_restore": 63, "node_ip": "10.138.0.2", "time_since_restore": 1457.5082712173462, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 63, "episode_reward_max": 899.9334699455558, "timestamp": 1557259525, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fe10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fe80>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.551497439196956, "system_level_velocity_max": 21.044985574455954, "outflow_rate_min": 414.1782380250154, "outflow_rate_mean": 1181.1032502632424, "outflow_rate_max": 1648.5434440030556, "cost2_min": -167.80516097727414, "system_level_velocity_mean": 14.265536560231856, "cost2_max": -24.45612544851294, "cost1_mean": 339.1232264422071, "cost1_min": 25.074373843965155, "cost2_mean": -134.6889625312955, "cost1_max": 541.2662991676353}, "episode_reward_mean": 713.4795656733025}
{"date": "2019-05-07_20-05-47", "timesteps_this_iter": 35744, "timesteps_total": 2407112, "time_this_iter_s": 21.80056095123291, "done": false, "timesteps_since_restore": 2407112, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 42.78526231004336, "info": {"load_time_ms": 5.832, "grad_time_ms": 8480.605, "sample_time_ms": 13698.046, "update_time_ms": 7.469, "default": {"entropy": 1.038395881652832, "vf_loss": 13.870928764343262, "total_loss": 13.86596393585205, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.006371580995619297, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9204491972923279, "kl": 0.016658464446663857}, "num_steps_trained": 2407112, "num_steps_sampled": 2407112}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1479.308832168579, "episodes_total": 1227, "policy_reward_mean": {}, "episode_len_mean": 662.59, "iterations_since_restore": 64, "node_ip": "10.138.0.2", "time_since_restore": 1479.308832168579, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 64, "episode_reward_max": 899.9334699455558, "timestamp": 1557259547, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59225c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.551497439196956, "system_level_velocity_max": 21.044985574455954, "outflow_rate_min": 414.1782380250154, "outflow_rate_mean": 1178.981597235378, "outflow_rate_max": 1648.5434440030556, "cost2_min": -172.47010712388595, "system_level_velocity_mean": 14.420146970765575, "cost2_max": -24.45612544851294, "cost1_mean": 339.1535631789736, "cost1_min": 25.074373843965155, "cost2_mean": -132.8703137969924, "cost1_max": 541.2662991676353}, "episode_reward_mean": 701.1191253189369}
{"date": "2019-05-07_20-06-10", "timesteps_this_iter": 37006, "timesteps_total": 2444118, "time_this_iter_s": 22.889511346817017, "done": false, "timesteps_since_restore": 2444118, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 42.78526231004336, "info": {"load_time_ms": 5.983, "grad_time_ms": 8530.928, "sample_time_ms": 13762.663, "update_time_ms": 7.6, "default": {"entropy": 1.0456386804580688, "vf_loss": 18.15374183654785, "total_loss": 18.147247314453125, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.007896825671195984, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9077101945877075, "kl": 0.016645800322294235}, "num_steps_trained": 2444118, "num_steps_sampled": 2444118}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1502.1983435153961, "episodes_total": 1249, "policy_reward_mean": {}, "episode_len_mean": 656.11, "iterations_since_restore": 65, "node_ip": "10.138.0.2", "time_since_restore": 1502.1983435153961, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 65, "episode_reward_max": 899.9334699455558, "timestamp": 1557259570, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922358>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922eb8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.94812648258205, "system_level_velocity_max": 21.044985574455954, "outflow_rate_min": 414.1782380250154, "outflow_rate_mean": 1178.4361841394575, "outflow_rate_max": 1648.5434440030556, "cost2_min": -174.0875844246554, "system_level_velocity_mean": 14.500996631997236, "cost2_max": -24.45612544851294, "cost1_mean": 336.7100506348741, "cost1_min": 25.074373843965155, "cost2_mean": -130.72711676577504, "cost1_max": 541.2662991676353}, "episode_reward_mean": 692.349791292267}
{"date": "2019-05-07_20-06-32", "timesteps_this_iter": 35528, "timesteps_total": 2479646, "time_this_iter_s": 22.439738750457764, "done": false, "timesteps_since_restore": 2479646, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 42.78526231004336, "info": {"load_time_ms": 5.987, "grad_time_ms": 8526.615, "sample_time_ms": 13701.321, "update_time_ms": 7.452, "default": {"entropy": 1.0219141244888306, "vf_loss": 21.90375518798828, "total_loss": 21.899538040161133, "cur_kl_coeff": 0.08437500149011612, "policy_loss": -0.005619200877845287, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9091164469718933, "kl": 0.016622640192508698}, "num_steps_trained": 2479646, "num_steps_sampled": 2479646}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1524.6380822658539, "episodes_total": 1272, "policy_reward_mean": {}, "episode_len_mean": 651.62, "iterations_since_restore": 66, "node_ip": "10.138.0.2", "time_since_restore": 1524.6380822658539, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 66, "episode_reward_max": 899.9334699455558, "timestamp": 1557259592, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59224e0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.94812648258205, "system_level_velocity_max": 21.06874001210911, "outflow_rate_min": 414.1782380250154, "outflow_rate_mean": 1169.3244312686043, "outflow_rate_max": 1648.5434440030556, "cost2_min": -174.0875844246554, "system_level_velocity_mean": 14.480281638869362, "cost2_max": -25.872293586157426, "cost1_mean": 332.9578071423764, "cost1_min": 24.731036795287352, "cost2_mean": -128.6165223585673, "cost1_max": 538.6798585959062}, "episode_reward_mean": 690.8668044193028}
{"date": "2019-05-07_20-06-54", "timesteps_this_iter": 35186, "timesteps_total": 2514832, "time_this_iter_s": 21.97584581375122, "done": false, "timesteps_since_restore": 2514832, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 42.78526231004336, "info": {"load_time_ms": 5.978, "grad_time_ms": 8496.444, "sample_time_ms": 13756.267, "update_time_ms": 7.48, "default": {"entropy": 1.0372897386550903, "vf_loss": 17.05838966369629, "total_loss": 17.054798126220703, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.005208977498114109, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.919437050819397, "kl": 0.01916859671473503}, "num_steps_trained": 2514832, "num_steps_sampled": 2514832}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1546.613928079605, "episodes_total": 1294, "policy_reward_mean": {}, "episode_len_mean": 658.18, "iterations_since_restore": 67, "node_ip": "10.138.0.2", "time_since_restore": 1546.613928079605, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 67, "episode_reward_max": 899.9334699455558, "timestamp": 1557259614, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a20>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.059506414259012, "system_level_velocity_max": 21.06874001210911, "outflow_rate_min": 421.6831890812658, "outflow_rate_mean": 1179.4093016940685, "outflow_rate_max": 1648.5434440030556, "cost2_min": -174.0875844246554, "system_level_velocity_mean": 14.702457610117888, "cost2_max": -25.4270658915248, "cost1_mean": 343.1461904099213, "cost1_min": 24.731036795287352, "cost2_mean": -128.02056729186637, "cost1_max": 538.6798585959062}, "episode_reward_mean": 694.3933568751497}
{"date": "2019-05-07_20-07-16", "timesteps_this_iter": 35254, "timesteps_total": 2550086, "time_this_iter_s": 22.25757122039795, "done": false, "timesteps_since_restore": 2550086, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 45.941054475714196, "info": {"load_time_ms": 6.374, "grad_time_ms": 8457.367, "sample_time_ms": 13850.614, "update_time_ms": 7.566, "default": {"entropy": 1.0450825691223145, "vf_loss": 19.044275283813477, "total_loss": 19.038785934448242, "cur_kl_coeff": 0.08437501639127731, "policy_loss": -0.0070085180923342705, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9164804816246033, "kl": 0.01801116019487381}, "num_steps_trained": 2550086, "num_steps_sampled": 2550086}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1568.871499300003, "episodes_total": 1315, "policy_reward_mean": {}, "episode_len_mean": 664.8, "iterations_since_restore": 68, "node_ip": "10.138.0.2", "time_since_restore": 1568.871499300003, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 68, "episode_reward_max": 894.1660553499463, "timestamp": 1557259636, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.059506414259012, "system_level_velocity_max": 21.06874001210911, "outflow_rate_min": 421.6831890812658, "outflow_rate_mean": 1196.9014290000478, "outflow_rate_max": 1597.2202325674323, "cost2_min": -174.0875844246554, "system_level_velocity_mean": 15.079842423428405, "cost2_max": -25.4270658915248, "cost1_mean": 357.29053769571243, "cost1_min": 24.731036795287352, "cost2_mean": -126.69836387284913, "cost1_max": 538.6798585959062}, "episode_reward_mean": 698.5304917354058}
{"date": "2019-05-07_20-07-39", "timesteps_this_iter": 35440, "timesteps_total": 2585526, "time_this_iter_s": 22.147162914276123, "done": false, "timesteps_since_restore": 2585526, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 45.941054475714196, "info": {"load_time_ms": 6.385, "grad_time_ms": 8473.334, "sample_time_ms": 13828.437, "update_time_ms": 7.515, "default": {"entropy": 1.0631574392318726, "vf_loss": 16.224815368652344, "total_loss": 16.218339920043945, "cur_kl_coeff": 0.08437500894069672, "policy_loss": -0.008170729503035545, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9262719750404358, "kl": 0.020106496289372444}, "num_steps_trained": 2585526, "num_steps_sampled": 2585526}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1591.0186622142792, "episodes_total": 1335, "policy_reward_mean": {}, "episode_len_mean": 676.88, "iterations_since_restore": 69, "node_ip": "10.138.0.2", "time_since_restore": 1591.0186622142792, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 69, "episode_reward_max": 868.2070727709157, "timestamp": 1557259659, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a90>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.70526219843312, "system_level_velocity_max": 21.06874001210911, "outflow_rate_min": 421.6831890812658, "outflow_rate_mean": 1211.654022748208, "outflow_rate_max": 1597.2202325674323, "cost2_min": -174.0875844246554, "system_level_velocity_mean": 15.0059468386709, "cost2_max": -25.4270658915248, "cost1_mean": 364.0104758714464, "cost1_min": 24.731036795287352, "cost2_mean": -128.05377070248542, "cost1_max": 536.3341135858485}, "episode_reward_mean": 712.0629754602186}
{"date": "2019-05-07_20-08-01", "timesteps_this_iter": 35914, "timesteps_total": 2621440, "time_this_iter_s": 22.462725162506104, "done": false, "timesteps_since_restore": 2621440, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 45.941054475714196, "info": {"load_time_ms": 6.292, "grad_time_ms": 8395.054, "sample_time_ms": 13834.467, "update_time_ms": 7.708, "default": {"entropy": 1.0871529579162598, "vf_loss": 17.888046264648438, "total_loss": 17.88311195373535, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.006994773633778095, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9212254285812378, "kl": 0.016278082504868507}, "num_steps_trained": 2621440, "num_steps_sampled": 2621440}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1613.4813873767853, "episodes_total": 1356, "policy_reward_mean": {}, "episode_len_mean": 680.09, "iterations_since_restore": 70, "node_ip": "10.138.0.2", "time_since_restore": 1613.4813873767853, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 70, "episode_reward_max": 877.3068177625308, "timestamp": 1557259681, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59224e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922240>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.70526219843312, "system_level_velocity_max": 21.271625857115218, "outflow_rate_min": 421.6831890812658, "outflow_rate_mean": 1209.1625116755633, "outflow_rate_max": 1734.3927098901097, "cost2_min": -157.47591148284658, "system_level_velocity_mean": 15.04638733015105, "cost2_max": -25.4270658915248, "cost1_mean": 366.8876536348978, "cost1_min": 24.731036795287352, "cost2_mean": -126.96685113030836, "cost1_max": 542.4163222334175}, "episode_reward_mean": 712.7353330862612}
{"date": "2019-05-07_20-08-23", "timesteps_this_iter": 36263, "timesteps_total": 2657703, "time_this_iter_s": 21.708186626434326, "done": false, "timesteps_since_restore": 2657703, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 475.4595900299605, "info": {"load_time_ms": 6.407, "grad_time_ms": 8376.811, "sample_time_ms": 13803.469, "update_time_ms": 7.718, "default": {"entropy": 1.074333906173706, "vf_loss": 16.4137020111084, "total_loss": 16.409080505371094, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.006496706511825323, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9233229160308838, "kl": 0.014814580790698528}, "num_steps_trained": 2657703, "num_steps_sampled": 2657703}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1635.1895740032196, "episodes_total": 1376, "policy_reward_mean": {}, "episode_len_mean": 697.56, "iterations_since_restore": 71, "node_ip": "10.138.0.2", "time_since_restore": 1635.1895740032196, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 71, "episode_reward_max": 902.9206694794509, "timestamp": 1557259703, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fe10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f6a0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.70526219843312, "system_level_velocity_max": 21.271625857115218, "outflow_rate_min": 958.794825974026, "outflow_rate_mean": 1235.9797456564463, "outflow_rate_max": 1734.3927098901097, "cost2_min": -157.47591148284658, "system_level_velocity_mean": 15.012880581349261, "cost2_max": -106.85910791374543, "cost1_mean": 377.9139038291324, "cost1_min": 217.0884154700305, "cost2_mean": -129.13416740514197, "cost1_max": 542.4163222334175}, "episode_reward_mean": 728.0645882843088}
{"date": "2019-05-07_20-08-45", "timesteps_this_iter": 35335, "timesteps_total": 2693038, "time_this_iter_s": 21.792717218399048, "done": false, "timesteps_since_restore": 2693038, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 35.327316884094124, "info": {"load_time_ms": 6.546, "grad_time_ms": 8360.96, "sample_time_ms": 13816.582, "update_time_ms": 7.672, "default": {"entropy": 1.0816730260849, "vf_loss": 17.916776657104492, "total_loss": 17.912403106689453, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006251106038689613, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9095051288604736, "kl": 0.014832151122391224}, "num_steps_trained": 2693038, "num_steps_sampled": 2693038}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1656.9822912216187, "episodes_total": 1398, "policy_reward_mean": {}, "episode_len_mean": 684.3, "iterations_since_restore": 72, "node_ip": "10.138.0.2", "time_since_restore": 1656.9822912216187, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 72, "episode_reward_max": 902.9206694794509, "timestamp": 1557259725, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922320>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 8.70526219843312, "system_level_velocity_max": 21.271625857115218, "outflow_rate_min": 444.29290248664114, "outflow_rate_mean": 1219.2171825450341, "outflow_rate_max": 1734.3927098901097, "cost2_min": -157.47591148284658, "system_level_velocity_mean": 15.019075090942358, "cost2_max": -22.028379942385534, "cost1_mean": 368.4210925875825, "cost1_min": 21.338855212734646, "cost2_mean": -127.30519194636874, "cost1_max": 542.4163222334175}, "episode_reward_mean": 714.4082012631205}
{"date": "2019-05-07_20-09-07", "timesteps_this_iter": 35904, "timesteps_total": 2728942, "time_this_iter_s": 22.031105518341064, "done": false, "timesteps_since_restore": 2728942, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 35.327316884094124, "info": {"load_time_ms": 6.606, "grad_time_ms": 8343.745, "sample_time_ms": 13717.446, "update_time_ms": 7.597, "default": {"entropy": 1.089604139328003, "vf_loss": 20.543107986450195, "total_loss": 20.537336349487305, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007966769859194756, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8774179816246033, "kl": 0.0173336174339056}, "num_steps_trained": 2728942, "num_steps_sampled": 2728942}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1679.0133967399597, "episodes_total": 1421, "policy_reward_mean": {}, "episode_len_mean": 668.21, "iterations_since_restore": 73, "node_ip": "10.138.0.2", "time_since_restore": 1679.0133967399597, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 73, "episode_reward_max": 902.9206694794509, "timestamp": 1557259747, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59507f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.119716153588277, "system_level_velocity_max": 21.271625857115218, "outflow_rate_min": 444.29290248664114, "outflow_rate_mean": 1194.824613376634, "outflow_rate_max": 1734.3927098901097, "cost2_min": -157.41344888559638, "system_level_velocity_mean": 14.772900690456565, "cost2_max": -22.028379942385534, "cost1_mean": 349.5499620481816, "cost1_min": 21.338855212734646, "cost2_mean": -124.68661454202692, "cost1_max": 542.4163222334175}, "episode_reward_mean": 687.9893373093993}
{"date": "2019-05-07_20-09-30", "timesteps_this_iter": 35456, "timesteps_total": 2764398, "time_this_iter_s": 23.23601984977722, "done": false, "timesteps_since_restore": 2764398, "pid": 42996, "episodes_this_iter": 24, "episode_reward_min": 35.327316884094124, "info": {"load_time_ms": 6.593, "grad_time_ms": 8330.68, "sample_time_ms": 13874.54, "update_time_ms": 7.483, "default": {"entropy": 1.0466669797897339, "vf_loss": 21.186283111572266, "total_loss": 21.182147979736328, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006093594245612621, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9071378111839294, "kl": 0.015463871881365776}, "num_steps_trained": 2764398, "num_steps_sampled": 2764398}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1702.249416589737, "episodes_total": 1445, "policy_reward_mean": {}, "episode_len_mean": 654.94, "iterations_since_restore": 74, "node_ip": "10.138.0.2", "time_since_restore": 1702.249416589737, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 74, "episode_reward_max": 902.9206694794509, "timestamp": 1557259770, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f9b0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.119716153588277, "system_level_velocity_max": 21.06196301268144, "outflow_rate_min": 408.40628409437323, "outflow_rate_mean": 1167.7190071338061, "outflow_rate_max": 1645.0785566551097, "cost2_min": -157.41344888559638, "system_level_velocity_mean": 14.702585435630517, "cost2_max": -22.028379942385534, "cost1_mean": 337.94978016289605, "cost1_min": 21.030761374338134, "cost2_mean": -122.05620405936047, "cost1_max": 533.1285239376305}, "episode_reward_mean": 671.2038243101806}
{"date": "2019-05-07_20-09-51", "timesteps_this_iter": 34401, "timesteps_total": 2798799, "time_this_iter_s": 21.28899884223938, "done": false, "timesteps_since_restore": 2798799, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 35.327316884094124, "info": {"load_time_ms": 6.53, "grad_time_ms": 8252.433, "sample_time_ms": 13793.473, "update_time_ms": 7.467, "default": {"entropy": 1.0231406688690186, "vf_loss": 16.73268699645996, "total_loss": 16.726802825927734, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.00775506068021059, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9372539520263672, "kl": 0.014796123839914799}, "num_steps_trained": 2798799, "num_steps_sampled": 2798799}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1723.5384154319763, "episodes_total": 1467, "policy_reward_mean": {}, "episode_len_mean": 654.81, "iterations_since_restore": 75, "node_ip": "10.138.0.2", "time_since_restore": 1723.5384154319763, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 75, "episode_reward_max": 888.1237806987089, "timestamp": 1557259791, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595d6a0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920358>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.119716153588277, "system_level_velocity_max": 21.25473248163879, "outflow_rate_min": 408.40628409437323, "outflow_rate_mean": 1165.5052904949991, "outflow_rate_max": 1685.8061482517483, "cost2_min": -157.41344888559638, "system_level_velocity_mean": 14.780180703871046, "cost2_max": -22.028379942385534, "cost1_mean": 339.2742988250962, "cost1_min": 21.030761374338134, "cost2_mean": -120.80378055127635, "cost1_max": 533.1285239376305}, "episode_reward_mean": 661.4638566360996}
{"date": "2019-05-07_20-10-12", "timesteps_this_iter": 35696, "timesteps_total": 2834495, "time_this_iter_s": 20.81177282333374, "done": false, "timesteps_since_restore": 2834495, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 38.50381649184266, "info": {"load_time_ms": 6.541, "grad_time_ms": 8271.092, "sample_time_ms": 13612.463, "update_time_ms": 7.413, "default": {"entropy": 1.0584583282470703, "vf_loss": 20.07956886291504, "total_loss": 20.075380325317383, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006028827279806137, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8998662233352661, "kl": 0.014531677588820457}, "num_steps_trained": 2834495, "num_steps_sampled": 2834495}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1744.35018825531, "episodes_total": 1487, "policy_reward_mean": {}, "episode_len_mean": 652.55, "iterations_since_restore": 76, "node_ip": "10.138.0.2", "time_since_restore": 1744.35018825531, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 76, "episode_reward_max": 888.1237806987089, "timestamp": 1557259812, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922908>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.119716153588277, "system_level_velocity_max": 21.25473248163879, "outflow_rate_min": 408.40628409437323, "outflow_rate_mean": 1172.1332476881828, "outflow_rate_max": 1685.8061482517483, "cost2_min": -157.41344888559638, "system_level_velocity_mean": 14.954825326194, "cost2_max": -25.809370726358104, "cost1_mean": 341.7452371421473, "cost1_min": 21.030761374338134, "cost2_mean": -120.46585649035606, "cost1_max": 531.5953606821217}, "episode_reward_mean": 661.9843300884492}
{"date": "2019-05-07_20-10-34", "timesteps_this_iter": 35629, "timesteps_total": 2870124, "time_this_iter_s": 21.667752265930176, "done": false, "timesteps_since_restore": 2870124, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 38.50381649184266, "info": {"load_time_ms": 6.191, "grad_time_ms": 8287.598, "sample_time_ms": 13565.625, "update_time_ms": 7.314, "default": {"entropy": 1.0571012496948242, "vf_loss": 19.44410514831543, "total_loss": 19.438695907592773, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.007879622280597687, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.917664110660553, "kl": 0.019519250839948654}, "num_steps_trained": 2870124, "num_steps_sampled": 2870124}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1766.0179405212402, "episodes_total": 1509, "policy_reward_mean": {}, "episode_len_mean": 652.26, "iterations_since_restore": 77, "node_ip": "10.138.0.2", "time_since_restore": 1766.0179405212402, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 77, "episode_reward_max": 888.1237806987089, "timestamp": 1557259834, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591afd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ada0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a8d0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.119716153588277, "system_level_velocity_max": 21.524968395889744, "outflow_rate_min": 408.40628409437323, "outflow_rate_mean": 1174.0153450259556, "outflow_rate_max": 1685.8061482517483, "cost2_min": -146.4753477270031, "system_level_velocity_mean": 14.994454435575154, "cost2_max": -25.809370726358104, "cost1_mean": 342.89088617940246, "cost1_min": 21.030761374338134, "cost2_mean": -120.18336877514365, "cost1_max": 540.3465369112153}, "episode_reward_mean": 668.184498137385}
{"date": "2019-05-07_20-10-56", "timesteps_this_iter": 35820, "timesteps_total": 2905944, "time_this_iter_s": 22.427014112472534, "done": false, "timesteps_since_restore": 2905944, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 32.00281736956695, "info": {"load_time_ms": 6.184, "grad_time_ms": 8313.588, "sample_time_ms": 13556.673, "update_time_ms": 7.322, "default": {"entropy": 1.0707134008407593, "vf_loss": 21.795251846313477, "total_loss": 21.790252685546875, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006977926008403301, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9084712266921997, "kl": 0.015655267983675003}, "num_steps_trained": 2905944, "num_steps_sampled": 2905944}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1788.4449546337128, "episodes_total": 1532, "policy_reward_mean": {}, "episode_len_mean": 650.44, "iterations_since_restore": 78, "node_ip": "10.138.0.2", "time_since_restore": 1788.4449546337128, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 78, "episode_reward_max": 888.1237806987089, "timestamp": 1557259856, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59220b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922748>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.392868693635636, "system_level_velocity_max": 21.524968395889744, "outflow_rate_min": 408.40628409437323, "outflow_rate_mean": 1168.4030459775913, "outflow_rate_max": 1685.8061482517483, "cost2_min": -148.7922330844163, "system_level_velocity_mean": 15.196439689451516, "cost2_max": -19.832758929084747, "cost1_mean": 347.26741662085874, "cost1_min": 18.89905001863562, "cost2_mean": -119.58029254284685, "cost1_max": 540.3465369112153}, "episode_reward_mean": 661.2935681366871}
{"date": "2019-05-07_20-11-18", "timesteps_this_iter": 36146, "timesteps_total": 2942090, "time_this_iter_s": 22.30067205429077, "done": false, "timesteps_since_restore": 2942090, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 32.00281736956695, "info": {"load_time_ms": 6.181, "grad_time_ms": 8297.657, "sample_time_ms": 13588.193, "update_time_ms": 7.278, "default": {"entropy": 1.0672111511230469, "vf_loss": 19.112823486328125, "total_loss": 19.107778549194336, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007505987770855427, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9142670035362244, "kl": 0.01945692114531994}, "num_steps_trained": 2942090, "num_steps_sampled": 2942090}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1810.7456266880035, "episodes_total": 1554, "policy_reward_mean": {}, "episode_len_mean": 663.71, "iterations_since_restore": 79, "node_ip": "10.138.0.2", "time_since_restore": 1810.7456266880035, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 79, "episode_reward_max": 888.7015790985679, "timestamp": 1557259878, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ae48>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a9e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.007459674083538, "system_level_velocity_max": 21.524968395889744, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1180.7811876789604, "outflow_rate_max": 1749.3364351648352, "cost2_min": -148.7922330844163, "system_level_velocity_mean": 15.239747476707294, "cost2_max": -19.832758929084747, "cost1_mean": 357.3052801441908, "cost1_min": 18.89905001863562, "cost2_mean": -121.50628928847382, "cost1_max": 540.3465369112153}, "episode_reward_mean": 672.4249451050217}
{"date": "2019-05-07_20-11-40", "timesteps_this_iter": 35245, "timesteps_total": 2977335, "time_this_iter_s": 21.607780933380127, "done": false, "timesteps_since_restore": 2977335, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 31.960866567660993, "info": {"load_time_ms": 6.276, "grad_time_ms": 8302.833, "sample_time_ms": 13498.073, "update_time_ms": 7.094, "default": {"entropy": 1.0505857467651367, "vf_loss": 23.01939582824707, "total_loss": 23.016799926757812, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.004535493906587362, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8906756639480591, "kl": 0.015346894972026348}, "num_steps_trained": 2977335, "num_steps_sampled": 2977335}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1832.3534076213837, "episodes_total": 1577, "policy_reward_mean": {}, "episode_len_mean": 652.68, "iterations_since_restore": 80, "node_ip": "10.138.0.2", "time_since_restore": 1832.3534076213837, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 80, "episode_reward_max": 888.7015790985679, "timestamp": 1557259900, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d68>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922320>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.007459674083538, "system_level_velocity_max": 21.524968395889744, "outflow_rate_min": 410.30911791830283, "outflow_rate_mean": 1153.8192510432602, "outflow_rate_max": 1749.3364351648352, "cost2_min": -148.7922330844163, "system_level_velocity_mean": 15.034338071415535, "cost2_max": -18.77449898450638, "cost1_mean": 343.57600894020175, "cost1_min": 18.73160969627381, "cost2_mean": -119.78908705883283, "cost1_max": 540.3465369112153}, "episode_reward_mean": 657.7750106865258}
{"date": "2019-05-07_20-12-02", "timesteps_this_iter": 35939, "timesteps_total": 3013274, "time_this_iter_s": 22.10295295715332, "done": false, "timesteps_since_restore": 3013274, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 31.960866567660993, "info": {"load_time_ms": 6.236, "grad_time_ms": 8307.875, "sample_time_ms": 13532.133, "update_time_ms": 7.096, "default": {"entropy": 1.0666792392730713, "vf_loss": 18.105714797973633, "total_loss": 18.102436065673828, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.005591935943812132, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9246677756309509, "kl": 0.018277430906891823}, "num_steps_trained": 3013274, "num_steps_sampled": 3013274}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1854.456360578537, "episodes_total": 1598, "policy_reward_mean": {}, "episode_len_mean": 648.05, "iterations_since_restore": 81, "node_ip": "10.138.0.2", "time_since_restore": 1854.456360578537, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 81, "episode_reward_max": 888.7015790985679, "timestamp": 1557259922, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591acf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591afd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a710>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.299072530937984, "system_level_velocity_max": 21.524968395889744, "outflow_rate_min": 410.30911791830283, "outflow_rate_mean": 1159.4091136824723, "outflow_rate_max": 1749.3364351648352, "cost2_min": -148.7922330844163, "system_level_velocity_mean": 15.186696939536814, "cost2_max": -18.77449898450638, "cost1_mean": 344.7141814872306, "cost1_min": 18.73160969627381, "cost2_mean": -118.75933987817412, "cost1_max": 540.3465369112153}, "episode_reward_mean": 652.6022802119065}
{"date": "2019-05-07_20-12-25", "timesteps_this_iter": 36385, "timesteps_total": 3049659, "time_this_iter_s": 22.309582471847534, "done": false, "timesteps_since_restore": 3049659, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 31.960866567660993, "info": {"load_time_ms": 6.095, "grad_time_ms": 8338.163, "sample_time_ms": 13552.765, "update_time_ms": 7.188, "default": {"entropy": 1.0791256427764893, "vf_loss": 18.864667892456055, "total_loss": 18.860342025756836, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006260592956095934, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.923427402973175, "kl": 0.015282882377505302}, "num_steps_trained": 3049659, "num_steps_sampled": 3049659}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1876.7659430503845, "episodes_total": 1620, "policy_reward_mean": {}, "episode_len_mean": 644.9, "iterations_since_restore": 82, "node_ip": "10.138.0.2", "time_since_restore": 1876.7659430503845, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 82, "episode_reward_max": 888.7015790985679, "timestamp": 1557259945, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922f60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.299072530937984, "system_level_velocity_max": 21.522949974672862, "outflow_rate_min": 410.30911791830283, "outflow_rate_mean": 1161.7597312710213, "outflow_rate_max": 1749.3364351648352, "cost2_min": -148.7922330844163, "system_level_velocity_mean": 15.208687403065683, "cost2_max": -18.77449898450638, "cost1_mean": 343.960779423654, "cost1_min": 18.73160969627381, "cost2_mean": -118.5416345951564, "cost1_max": 538.2727728842151}, "episode_reward_mean": 650.7896871471902}
{"date": "2019-05-07_20-12-50", "timesteps_this_iter": 35997, "timesteps_total": 3085656, "time_this_iter_s": 25.22286343574524, "done": false, "timesteps_since_restore": 3085656, "pid": 42996, "episodes_this_iter": 22, "episode_reward_min": 30.603748613821335, "info": {"load_time_ms": 6.124, "grad_time_ms": 8423.143, "sample_time_ms": 13785.549, "update_time_ms": 7.32, "default": {"entropy": 1.1062524318695068, "vf_loss": 17.381267547607422, "total_loss": 17.376863479614258, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.006420426536351442, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9201710224151611, "kl": 0.01593322679400444}, "num_steps_trained": 3085656, "num_steps_sampled": 3085656}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1901.9888064861298, "episodes_total": 1642, "policy_reward_mean": {}, "episode_len_mean": 651.5, "iterations_since_restore": 83, "node_ip": "10.138.0.2", "time_since_restore": 1901.9888064861298, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 83, "episode_reward_max": 825.8732950173745, "timestamp": 1557259970, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a9e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f748>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.299072530937984, "system_level_velocity_max": 21.522949974672862, "outflow_rate_min": 410.30911791830283, "outflow_rate_mean": 1159.8863420710147, "outflow_rate_max": 1743.3767836163836, "cost2_min": -145.39858665113667, "system_level_velocity_mean": 15.05873915332402, "cost2_max": -18.77449898450638, "cost1_mean": 344.8547710952278, "cost1_min": 18.302908344161334, "cost2_mean": -118.24441748695692, "cost1_max": 537.3830327543828}, "episode_reward_mean": 653.7821813580905}
{"date": "2019-05-07_20-13-13", "timesteps_this_iter": 36213, "timesteps_total": 3121869, "time_this_iter_s": 22.898054599761963, "done": false, "timesteps_since_restore": 3121869, "pid": 42996, "episodes_this_iter": 25, "episode_reward_min": 30.603748613821335, "info": {"load_time_ms": 6.104, "grad_time_ms": 8420.427, "sample_time_ms": 13753.856, "update_time_ms": 7.468, "default": {"entropy": 1.06998872756958, "vf_loss": 24.512720108032227, "total_loss": 24.50766372680664, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007217037957161665, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.90099036693573, "kl": 0.01707160472869873}, "num_steps_trained": 3121869, "num_steps_sampled": 3121869}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1924.8868610858917, "episodes_total": 1667, "policy_reward_mean": {}, "episode_len_mean": 640.69, "iterations_since_restore": 84, "node_ip": "10.138.0.2", "time_since_restore": 1924.8868610858917, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 84, "episode_reward_max": 898.6470627062911, "timestamp": 1557259993, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d68>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.299072530937984, "system_level_velocity_max": 21.51072055953863, "outflow_rate_min": 410.30911791830283, "outflow_rate_mean": 1164.0094361967851, "outflow_rate_max": 1781.330015984016, "cost2_min": -161.60445073875397, "system_level_velocity_mean": 15.2969168790753, "cost2_max": -18.77449898450638, "cost1_mean": 344.2581044626211, "cost1_min": 18.158110483464636, "cost2_mean": -117.70422291310985, "cost1_max": 537.3830327543828}, "episode_reward_mean": 645.7664781597807}
{"date": "2019-05-07_20-13-36", "timesteps_this_iter": 37285, "timesteps_total": 3159154, "time_this_iter_s": 22.812626600265503, "done": false, "timesteps_since_restore": 3159154, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 30.603748613821335, "info": {"load_time_ms": 6.12, "grad_time_ms": 8495.851, "sample_time_ms": 13830.517, "update_time_ms": 7.254, "default": {"entropy": 1.0865654945373535, "vf_loss": 14.720216751098633, "total_loss": 14.714505195617676, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.00789177417755127, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.938486635684967, "kl": 0.017227832227945328}, "num_steps_trained": 3159154, "num_steps_sampled": 3159154}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1947.6994876861572, "episodes_total": 1687, "policy_reward_mean": {}, "episode_len_mean": 652.91, "iterations_since_restore": 85, "node_ip": "10.138.0.2", "time_since_restore": 1947.6994876861572, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 85, "episode_reward_max": 939.6290471074964, "timestamp": 1557260016, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59504e0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59507f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.547578796063219, "system_level_velocity_max": 21.51072055953863, "outflow_rate_min": 415.0921745365531, "outflow_rate_mean": 1181.9943798348902, "outflow_rate_max": 1781.330015984016, "cost2_min": -161.60445073875397, "system_level_velocity_mean": 15.368090666194826, "cost2_max": -19.85419304970485, "cost1_mean": 355.3121971751687, "cost1_min": 18.158110483464636, "cost2_mean": -120.29476139514361, "cost1_max": 538.1618682585914}, "episode_reward_mean": 661.3367995186411}
{"date": "2019-05-07_20-13-58", "timesteps_this_iter": 35927, "timesteps_total": 3195081, "time_this_iter_s": 22.6577467918396, "done": false, "timesteps_since_restore": 3195081, "pid": 42996, "episodes_this_iter": 27, "episode_reward_min": 30.603748613821335, "info": {"load_time_ms": 6.158, "grad_time_ms": 8506.902, "sample_time_ms": 14003.471, "update_time_ms": 7.337, "default": {"entropy": 1.0549876689910889, "vf_loss": 21.80063819885254, "total_loss": 21.795103073120117, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007703692652285099, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9107323288917542, "kl": 0.017135918140411377}, "num_steps_trained": 3195081, "num_steps_sampled": 3195081}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1970.3572344779968, "episodes_total": 1714, "policy_reward_mean": {}, "episode_len_mean": 639.48, "iterations_since_restore": 86, "node_ip": "10.138.0.2", "time_since_restore": 1970.3572344779968, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 86, "episode_reward_max": 939.6290471074964, "timestamp": 1557260038, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922f60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.547578796063219, "system_level_velocity_max": 21.51072055953863, "outflow_rate_min": 415.58574771374566, "outflow_rate_mean": 1167.138074067358, "outflow_rate_max": 1781.330015984016, "cost2_min": -166.4486186698548, "system_level_velocity_mean": 15.500321405512464, "cost2_max": -19.85419304970485, "cost1_mean": 348.49509252952834, "cost1_min": 18.158110483464636, "cost2_mean": -119.70989138327315, "cost1_max": 538.1618682585914}, "episode_reward_mean": 656.8297056186672}
{"date": "2019-05-07_20-14-21", "timesteps_this_iter": 36108, "timesteps_total": 3231189, "time_this_iter_s": 22.48448872566223, "done": false, "timesteps_since_restore": 3231189, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 30.603748613821335, "info": {"load_time_ms": 6.546, "grad_time_ms": 8547.281, "sample_time_ms": 14043.168, "update_time_ms": 7.473, "default": {"entropy": 1.0811070203781128, "vf_loss": 16.861167907714844, "total_loss": 16.855998992919922, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.007423155475407839, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9175782799720764, "kl": 0.01780705340206623}, "num_steps_trained": 3231189, "num_steps_sampled": 3231189}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 1992.841723203659, "episodes_total": 1734, "policy_reward_mean": {}, "episode_len_mean": 641.13, "iterations_since_restore": 87, "node_ip": "10.138.0.2", "time_since_restore": 1992.841723203659, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 87, "episode_reward_max": 939.6290471074964, "timestamp": 1557260061, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ae48>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.481854078670347, "system_level_velocity_max": 21.48887564872214, "outflow_rate_min": 423.90729040321156, "outflow_rate_mean": 1166.163020633563, "outflow_rate_max": 1781.330015984016, "cost2_min": -166.4486186698548, "system_level_velocity_mean": 15.187418114607603, "cost2_max": -19.85419304970485, "cost1_mean": 341.4389894844373, "cost1_min": 18.158110483464636, "cost2_mean": -121.76122576133842, "cost1_max": 538.1618682585914}, "episode_reward_mean": 661.133594736706}
{"date": "2019-05-07_20-14-44", "timesteps_this_iter": 36344, "timesteps_total": 3267533, "time_this_iter_s": 23.045718908309937, "done": false, "timesteps_since_restore": 3267533, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 33.644457925709624, "info": {"load_time_ms": 6.544, "grad_time_ms": 8565.122, "sample_time_ms": 14086.42, "update_time_ms": 7.555, "default": {"entropy": 1.076621651649475, "vf_loss": 17.296743392944336, "total_loss": 17.292741775512695, "cur_kl_coeff": 0.12656249105930328, "policy_loss": -0.006020303815603256, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9251182675361633, "kl": 0.01591889187693596}, "num_steps_trained": 3267533, "num_steps_sampled": 3267533}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2015.887442111969, "episodes_total": 1755, "policy_reward_mean": {}, "episode_len_mean": 662.27, "iterations_since_restore": 88, "node_ip": "10.138.0.2", "time_since_restore": 2015.887442111969, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 88, "episode_reward_max": 939.6290471074964, "timestamp": 1557260084, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931438>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931320>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.195636027089368, "system_level_velocity_max": 21.48887564872214, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1189.4389913786938, "outflow_rate_max": 1781.330015984016, "cost2_min": -166.4486186698548, "system_level_velocity_mean": 14.977876229621968, "cost2_max": -20.391405241684595, "cost1_mean": 351.4458165591432, "cost1_min": 18.158110483464636, "cost2_mean": -124.80997783587947, "cost1_max": 541.6451797939619}, "episode_reward_mean": 688.7607056136846}
{"date": "2019-05-07_20-15-07", "timesteps_this_iter": 36079, "timesteps_total": 3303612, "time_this_iter_s": 22.755260944366455, "done": false, "timesteps_since_restore": 3303612, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 44.44833692313046, "info": {"load_time_ms": 6.495, "grad_time_ms": 8571.414, "sample_time_ms": 14125.973, "update_time_ms": 7.725, "default": {"entropy": 1.0588345527648926, "vf_loss": 17.562721252441406, "total_loss": 17.55694580078125, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.008057278580963612, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9304921627044678, "kl": 0.018033165484666824}, "num_steps_trained": 3303612, "num_steps_sampled": 3303612}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2038.6427030563354, "episodes_total": 1776, "policy_reward_mean": {}, "episode_len_mean": 656.89, "iterations_since_restore": 89, "node_ip": "10.138.0.2", "time_since_restore": 2038.6427030563354, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 89, "episode_reward_max": 964.9509303457124, "timestamp": 1557260107, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591acc0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a080>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.195636027089368, "system_level_velocity_max": 21.48887564872214, "outflow_rate_min": 446.81803376946186, "outflow_rate_mean": 1177.6799845422656, "outflow_rate_max": 1717.6687976141507, "cost2_min": -166.4486186698548, "system_level_velocity_mean": 14.899607474427748, "cost2_max": -26.721808941234524, "cost1_mean": 345.38394259804875, "cost1_min": 29.750280975189796, "cost2_mean": -123.53695280384888, "cost1_max": 541.6451797939619}, "episode_reward_mean": 683.1614357783758}
{"date": "2019-05-07_20-15-30", "timesteps_this_iter": 36363, "timesteps_total": 3339975, "time_this_iter_s": 23.598639488220215, "done": false, "timesteps_since_restore": 3339975, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 49.832305027626774, "info": {"load_time_ms": 6.483, "grad_time_ms": 8602.239, "sample_time_ms": 14294.041, "update_time_ms": 7.7, "default": {"entropy": 1.066959261894226, "vf_loss": 16.180063247680664, "total_loss": 16.174299240112305, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.008030290715396404, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.927278459072113, "kl": 0.0179058238863945}, "num_steps_trained": 3339975, "num_steps_sampled": 3339975}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2062.2413425445557, "episodes_total": 1799, "policy_reward_mean": {}, "episode_len_mean": 657.52, "iterations_since_restore": 90, "node_ip": "10.138.0.2", "time_since_restore": 2062.2413425445557, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 90, "episode_reward_max": 964.9509303457124, "timestamp": 1557260130, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.195636027089368, "system_level_velocity_max": 21.43359302304706, "outflow_rate_min": 446.81803376946186, "outflow_rate_mean": 1183.0864343542046, "outflow_rate_max": 1717.6687976141507, "cost2_min": -157.70108762770187, "system_level_velocity_mean": 14.754004699890096, "cost2_max": -26.721808941234524, "cost1_mean": 342.3645741140624, "cost1_min": 29.750280975189796, "cost2_mean": -122.62781963229446, "cost1_max": 541.6451797939619}, "episode_reward_mean": 683.0583512753673}
{"date": "2019-05-07_20-15-53", "timesteps_this_iter": 35687, "timesteps_total": 3375662, "time_this_iter_s": 22.444766998291016, "done": false, "timesteps_since_restore": 3375662, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 44.41993472630709, "info": {"load_time_ms": 6.464, "grad_time_ms": 8597.376, "sample_time_ms": 14333.098, "update_time_ms": 7.708, "default": {"entropy": 1.0713878870010376, "vf_loss": 13.899422645568848, "total_loss": 13.89301586151123, "cur_kl_coeff": 0.1265624761581421, "policy_loss": -0.008985787630081177, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9399558901786804, "kl": 0.020372088998556137}, "num_steps_trained": 3375662, "num_steps_sampled": 3375662}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2084.6861095428467, "episodes_total": 1820, "policy_reward_mean": {}, "episode_len_mean": 664.02, "iterations_since_restore": 91, "node_ip": "10.138.0.2", "time_since_restore": 2084.6861095428467, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 91, "episode_reward_max": 964.9509303457124, "timestamp": 1557260153, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922b70>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.195636027089368, "system_level_velocity_max": 21.43359302304706, "outflow_rate_min": 446.81803376946186, "outflow_rate_mean": 1189.0453662202015, "outflow_rate_max": 1717.6687976141507, "cost2_min": -148.14631975918104, "system_level_velocity_mean": 14.856930780913256, "cost2_max": -25.792633320876206, "cost1_mean": 349.3818989758936, "cost1_min": 27.091140596872698, "cost2_mean": -122.75472795311849, "cost1_max": 541.6451797939619}, "episode_reward_mean": 679.4218303936199}
{"date": "2019-05-07_20-16-15", "timesteps_this_iter": 36077, "timesteps_total": 3411739, "time_this_iter_s": 22.681331157684326, "done": false, "timesteps_since_restore": 3411739, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 44.41993472630709, "info": {"load_time_ms": 6.587, "grad_time_ms": 8594.495, "sample_time_ms": 14373.474, "update_time_ms": 7.592, "default": {"entropy": 1.1176337003707886, "vf_loss": 14.524229049682617, "total_loss": 14.517569541931152, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.009929324500262737, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9361490607261658, "kl": 0.017217988148331642}, "num_steps_trained": 3411739, "num_steps_sampled": 3411739}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2107.367440700531, "episodes_total": 1840, "policy_reward_mean": {}, "episode_len_mean": 668.39, "iterations_since_restore": 92, "node_ip": "10.138.0.2", "time_since_restore": 2107.367440700531, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 92, "episode_reward_max": 964.9509303457124, "timestamp": 1557260175, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab70>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a160>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.024167641712664, "system_level_velocity_max": 21.43359302304706, "outflow_rate_min": 446.81803376946186, "outflow_rate_mean": 1182.8230882268092, "outflow_rate_max": 1717.6687976141507, "cost2_min": -148.14631975918104, "system_level_velocity_mean": 14.69213738113303, "cost2_max": -25.792633320876206, "cost1_mean": 348.30826879822075, "cost1_min": 27.091140596872698, "cost2_mean": -121.39807277112942, "cost1_max": 541.6451797939619}, "episode_reward_mean": 674.3062534796397}
{"date": "2019-05-07_20-16-38", "timesteps_this_iter": 36165, "timesteps_total": 3447904, "time_this_iter_s": 22.387935876846313, "done": false, "timesteps_since_restore": 3447904, "pid": 42996, "episodes_this_iter": 25, "episode_reward_min": 32.389906171840515, "info": {"load_time_ms": 6.429, "grad_time_ms": 8514.445, "sample_time_ms": 14170.987, "update_time_ms": 7.524, "default": {"entropy": 1.0808464288711548, "vf_loss": 20.22359848022461, "total_loss": 20.21761703491211, "cur_kl_coeff": 0.18984375894069672, "policy_loss": -0.00871238112449646, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.928216814994812, "kl": 0.014384972862899303}, "num_steps_trained": 3447904, "num_steps_sampled": 3447904}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2129.7553765773773, "episodes_total": 1865, "policy_reward_mean": {}, "episode_len_mean": 661.3, "iterations_since_restore": 93, "node_ip": "10.138.0.2", "time_since_restore": 2129.7553765773773, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 93, "episode_reward_max": 875.5019997168298, "timestamp": 1557260198, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.024167641712664, "system_level_velocity_max": 21.3154821031262, "outflow_rate_min": 432.2299586380585, "outflow_rate_mean": 1182.644674993729, "outflow_rate_max": 1678.0325978021979, "cost2_min": -149.2698204443197, "system_level_velocity_mean": 14.99085095555818, "cost2_max": -19.830273573119353, "cost1_mean": 350.36397730584855, "cost1_min": 17.50519215177736, "cost2_mean": -120.01275337422058, "cost1_max": 532.2288088877888}, "episode_reward_mean": 660.6936855722488}
{"date": "2019-05-07_20-17-01", "timesteps_this_iter": 34409, "timesteps_total": 3482313, "time_this_iter_s": 22.974838972091675, "done": false, "timesteps_since_restore": 3482313, "pid": 42996, "episodes_this_iter": 25, "episode_reward_min": 32.389906171840515, "info": {"load_time_ms": 6.457, "grad_time_ms": 8489.486, "sample_time_ms": 14203.754, "update_time_ms": 7.464, "default": {"entropy": 1.0715782642364502, "vf_loss": 20.627775192260742, "total_loss": 20.624170303344727, "cur_kl_coeff": 0.18984375894069672, "policy_loss": -0.006976557429879904, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9358724355697632, "kl": 0.017762767150998116}, "num_steps_trained": 3482313, "num_steps_sampled": 3482313}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2152.730215549469, "episodes_total": 1890, "policy_reward_mean": {}, "episode_len_mean": 653.29, "iterations_since_restore": 94, "node_ip": "10.138.0.2", "time_since_restore": 2152.730215549469, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 94, "episode_reward_max": 873.3451632475497, "timestamp": 1557260221, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59504e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950668>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950198>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.024167641712664, "system_level_velocity_max": 21.3154821031262, "outflow_rate_min": 432.2299586380585, "outflow_rate_mean": 1179.009182538969, "outflow_rate_max": 1678.0325978021979, "cost2_min": -151.20382956089497, "system_level_velocity_mean": 15.203046709999104, "cost2_max": -19.830273573119353, "cost1_mean": 349.7531933359949, "cost1_min": 17.50519215177736, "cost2_mean": -118.82930470524097, "cost1_max": 532.2288088877888}, "episode_reward_mean": 646.5605483875296}
{"date": "2019-05-07_20-17-23", "timesteps_this_iter": 35718, "timesteps_total": 3518031, "time_this_iter_s": 22.20830249786377, "done": false, "timesteps_since_restore": 3518031, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 32.389906171840515, "info": {"load_time_ms": 6.501, "grad_time_ms": 8459.211, "sample_time_ms": 14173.545, "update_time_ms": 7.623, "default": {"entropy": 1.0915412902832031, "vf_loss": 19.65951156616211, "total_loss": 19.655078887939453, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.007172298151999712, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9246985912322998, "kl": 0.014428048394620419}, "num_steps_trained": 3518031, "num_steps_sampled": 3518031}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2174.9385180473328, "episodes_total": 1913, "policy_reward_mean": {}, "episode_len_mean": 641.78, "iterations_since_restore": 95, "node_ip": "10.138.0.2", "time_since_restore": 2174.9385180473328, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 95, "episode_reward_max": 873.3451632475497, "timestamp": 1557260243, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595db38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595df28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dc18>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.523615554042525, "system_level_velocity_max": 21.3154821031262, "outflow_rate_min": 432.2299586380585, "outflow_rate_mean": 1184.7067920435716, "outflow_rate_max": 1678.0325978021979, "cost2_min": -151.20382956089497, "system_level_velocity_mean": 15.488977899108923, "cost2_max": -19.830273573119353, "cost1_mean": 348.63810451719473, "cost1_min": 17.50519215177736, "cost2_mean": -117.93464865119249, "cost1_max": 532.2288088877888}, "episode_reward_mean": 638.383183691302}
{"date": "2019-05-07_20-17-46", "timesteps_this_iter": 35789, "timesteps_total": 3553820, "time_this_iter_s": 23.154622316360474, "done": false, "timesteps_since_restore": 3553820, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 32.389906171840515, "info": {"load_time_ms": 6.085, "grad_time_ms": 8459.873, "sample_time_ms": 14223.26, "update_time_ms": 7.619, "default": {"entropy": 1.0906283855438232, "vf_loss": 18.2672061920166, "total_loss": 18.262451171875, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.007554127834737301, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.922213077545166, "kl": 0.014736971817910671}, "num_steps_trained": 3553820, "num_steps_sampled": 3553820}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2198.0931403636932, "episodes_total": 1936, "policy_reward_mean": {}, "episode_len_mean": 632.03, "iterations_since_restore": 96, "node_ip": "10.138.0.2", "time_since_restore": 2198.0931403636932, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 96, "episode_reward_max": 831.7081007711059, "timestamp": 1557260266, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5931080>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.523615554042525, "system_level_velocity_max": 21.3154821031262, "outflow_rate_min": 432.2299586380585, "outflow_rate_mean": 1187.1139369287284, "outflow_rate_max": 1611.9277054945053, "cost2_min": -156.98902931747267, "system_level_velocity_mean": 15.796912330315742, "cost2_max": -19.830273573119353, "cost1_mean": 349.1267846532856, "cost1_min": 17.50519215177736, "cost2_mean": -117.62404214306794, "cost1_max": 536.3890119913369}, "episode_reward_mean": 630.6613711264825}
{"date": "2019-05-07_20-18-11", "timesteps_this_iter": 35686, "timesteps_total": 3589506, "time_this_iter_s": 24.879068851470947, "done": false, "timesteps_since_restore": 3589506, "pid": 42996, "episodes_this_iter": 23, "episode_reward_min": 32.389906171840515, "info": {"load_time_ms": 6.106, "grad_time_ms": 8562.695, "sample_time_ms": 14360.598, "update_time_ms": 7.554, "default": {"entropy": 1.1024188995361328, "vf_loss": 14.424022674560547, "total_loss": 14.417818069458008, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.009268572553992271, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9361756443977356, "kl": 0.01613987796008587}, "num_steps_trained": 3589506, "num_steps_sampled": 3589506}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2222.972209215164, "episodes_total": 1959, "policy_reward_mean": {}, "episode_len_mean": 632.07, "iterations_since_restore": 97, "node_ip": "10.138.0.2", "time_since_restore": 2222.972209215164, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 97, "episode_reward_max": 831.7081007711059, "timestamp": 1557260291, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950198>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.523615554042525, "system_level_velocity_max": 21.273721574744737, "outflow_rate_min": 432.2299586380585, "outflow_rate_mean": 1171.9882703551464, "outflow_rate_max": 1611.9277054945053, "cost2_min": -157.3813408475681, "system_level_velocity_mean": 15.515302780961465, "cost2_max": -19.830273573119353, "cost1_mean": 342.01610188526377, "cost1_min": 17.50519215177736, "cost2_mean": -117.06088849915712, "cost1_max": 536.3890119913369}, "episode_reward_mean": 624.68540462701}
{"date": "2019-05-07_20-18-34", "timesteps_this_iter": 35378, "timesteps_total": 3624884, "time_this_iter_s": 22.286092281341553, "done": false, "timesteps_since_restore": 3624884, "pid": 42996, "episodes_this_iter": 21, "episode_reward_min": 48.53728481914625, "info": {"load_time_ms": 6.047, "grad_time_ms": 8545.432, "sample_time_ms": 14302.441, "update_time_ms": 7.47, "default": {"entropy": 1.0800740718841553, "vf_loss": 17.916706085205078, "total_loss": 17.91107177734375, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.008834782056510448, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9174721837043762, "kl": 0.016870656982064247}, "num_steps_trained": 3624884, "num_steps_sampled": 3624884}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2245.2583014965057, "episodes_total": 1980, "policy_reward_mean": {}, "episode_len_mean": 645.44, "iterations_since_restore": 98, "node_ip": "10.138.0.2", "time_since_restore": 2245.2583014965057, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 98, "episode_reward_max": 868.2007358265668, "timestamp": 1557260314, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595deb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595dd30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a595db00>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.523615554042525, "system_level_velocity_max": 21.273721574744737, "outflow_rate_min": 476.7137839187981, "outflow_rate_mean": 1189.0300286513293, "outflow_rate_max": 1730.9207688311687, "cost2_min": -157.3813408475681, "system_level_velocity_mean": 15.390288533324307, "cost2_max": -26.34128951580862, "cost1_mean": 348.77658859934724, "cost1_min": 30.389874293323622, "cost2_mean": -119.40104385815283, "cost1_max": 536.3890119913369}, "episode_reward_mean": 641.7576263354138}
{"date": "2019-05-07_20-18-55", "timesteps_this_iter": 35770, "timesteps_total": 3660654, "time_this_iter_s": 21.96125602722168, "done": false, "timesteps_since_restore": 3660654, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 60.38735902471753, "info": {"load_time_ms": 6.126, "grad_time_ms": 8528.031, "sample_time_ms": 14240.154, "update_time_ms": 7.32, "default": {"entropy": 1.1128313541412354, "vf_loss": 13.177323341369629, "total_loss": 13.171183586120605, "cur_kl_coeff": 0.1898437738418579, "policy_loss": -0.008979260921478271, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9274810552597046, "kl": 0.014954693615436554}, "num_steps_trained": 3660654, "num_steps_sampled": 3660654}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2267.2195575237274, "episodes_total": 2000, "policy_reward_mean": {}, "episode_len_mean": 653.45, "iterations_since_restore": 99, "node_ip": "10.138.0.2", "time_since_restore": 2267.2195575237274, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 99, "episode_reward_max": 868.2007358265668, "timestamp": 1557260335, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59228d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922b00>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 9.523615554042525, "system_level_velocity_max": 21.273721574744737, "outflow_rate_min": 538.6776088913477, "outflow_rate_mean": 1180.70897051529, "outflow_rate_max": 1730.9207688311687, "cost2_min": -158.34991075012414, "system_level_velocity_mean": 14.881714454509101, "cost2_max": -34.164503463714304, "cost1_mean": 341.3670403765176, "cost1_min": 40.6855313263833, "cost2_mean": -120.13339543889757, "cost1_max": 536.3890119913369}, "episode_reward_mean": 646.1299843341045}
{"date": "2019-05-07_20-19-17", "timesteps_this_iter": 36201, "timesteps_total": 3696855, "time_this_iter_s": 21.53755784034729, "done": true, "timesteps_since_restore": 3696855, "pid": 42996, "episodes_this_iter": 20, "episode_reward_min": 60.38735902471753, "info": {"load_time_ms": 6.063, "grad_time_ms": 8503.595, "sample_time_ms": 14058.706, "update_time_ms": 7.349, "default": {"entropy": 1.1238374710083008, "vf_loss": 12.8485689163208, "total_loss": 12.842146873474121, "cur_kl_coeff": 0.18984375894069672, "policy_loss": -0.009258355014026165, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9356318116188049, "kl": 0.01493579801172018}, "num_steps_trained": 3696855, "num_steps_sampled": 3696855}, "experiment_id": "a60e9ee7876e4f01a05555bf8d43523f", "time_total_s": 2288.7571153640747, "episodes_total": 2020, "policy_reward_mean": {}, "episode_len_mean": 674.77, "iterations_since_restore": 100, "node_ip": "10.138.0.2", "time_since_restore": 2288.7571153640747, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 100, "episode_reward_max": 868.2007358265668, "timestamp": 1557260357, "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "batch_mode": "truncate_episodes", "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "dim": 84, "fcnet_activation": "tanh", "squash_to_range": false, "channel_major": false, "grayscale": false, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_options": {}, "zero_mean": true, "custom_preprocessor": null, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a160>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a7b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr_schedule": null, "lr": 0.0005}, "custom_metrics": {"system_level_velocity_min": 10.316825007580942, "system_level_velocity_max": 21.273721574744737, "outflow_rate_min": 538.6776088913477, "outflow_rate_mean": 1181.5344522751602, "outflow_rate_max": 1730.9207688311687, "cost2_min": -158.34991075012414, "system_level_velocity_mean": 14.53575812002179, "cost2_max": -34.164503463714304, "cost1_mean": 347.9155419879641, "cost1_min": 40.6855313263833, "cost2_mean": -122.38474393455495, "cost1_max": 536.3890119913369}, "episode_reward_mean": 666.3827704485034}
