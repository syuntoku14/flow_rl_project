{"policy_reward_mean": {}, "info": {"load_time_ms": 53.545, "default": {"policy_loss": -0.005159649066627026, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6818649172782898, "entropy": 1.4117060899734497, "vf_loss": 1.4117375612258911, "cur_lr": 0.0005000000237487257, "total_loss": 1.4080299139022827, "kl": 0.007260895799845457}, "grad_time_ms": 10402.191, "num_steps_sampled": 45776, "update_time_ms": 677.128, "sample_time_ms": 36641.521, "num_steps_trained": 45776}, "timesteps_total": 45776, "training_iteration": 1, "timestamp": 1558247647, "time_total_s": 47.93086075782776, "time_this_iter_s": 47.93086075782776, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aaa90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aaa58>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aa978>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 51, "time_since_restore": 47.93086075782776, "episode_reward_max": 186.64811039751766, "hostname": "flow-main", "date": "2019-05-19_06-34-07", "episode_reward_mean": 99.27480975011477, "custom_metrics": {"cost1_mean": 36.934804755558886, "cost1_max": 84.65398559580022, "cost2_min": -32.25, "system_level_velocity_max": 8.771420211085253, "system_level_velocity_mean": 4.750524853914354, "cost1_min": 9.908112789031708, "system_level_velocity_min": 2.164162819125447, "cost2_mean": -4.340290556910391, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 45776, "done": false, "episode_reward_min": 32.866025010796434, "episodes_this_iter": 51, "episode_len_mean": 242.80392156862746, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 1, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45776}
{"policy_reward_mean": {}, "info": {"load_time_ms": 32.988, "default": {"policy_loss": -0.005765478126704693, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.7664737701416016, "entropy": 1.4112557172775269, "vf_loss": 1.681278944015503, "cur_lr": 0.0005000000237487257, "total_loss": 1.6770540475845337, "kl": 0.0077034360729157925}, "grad_time_ms": 10598.579, "num_steps_sampled": 93862, "update_time_ms": 342.244, "sample_time_ms": 37464.608, "num_steps_trained": 93862}, "timesteps_total": 93862, "training_iteration": 2, "timestamp": 1558247697, "time_total_s": 97.11491107940674, "time_this_iter_s": 49.18405032157898, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e898>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e860>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 106, "time_since_restore": 97.11491107940674, "episode_reward_max": 252.04271893243185, "hostname": "flow-main", "date": "2019-05-19_06-34-57", "episode_reward_mean": 110.72243808256722, "custom_metrics": {"cost1_mean": 39.93585063014535, "cost1_max": 84.65398559580022, "cost2_min": -51.33333333333333, "system_level_velocity_max": 8.771420211085253, "system_level_velocity_mean": 4.785662367381129, "cost1_min": 9.935298254001667, "system_level_velocity_min": 2.164162819125447, "cost2_mean": -5.1119903239381435, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 93862, "done": false, "episode_reward_min": 31.624962437012048, "episodes_this_iter": 55, "episode_len_mean": 259.12, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 2, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48086}
{"policy_reward_mean": {}, "info": {"load_time_ms": 27.07, "default": {"policy_loss": -0.0060066538862884045, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8167179822921753, "entropy": 1.4070305824279785, "vf_loss": 2.00180721282959, "cur_lr": 0.0005000000237487257, "total_loss": 1.9972846508026123, "kl": 0.007419476751238108}, "grad_time_ms": 10695.608, "num_steps_sampled": 139947, "update_time_ms": 230.546, "sample_time_ms": 36960.054, "num_steps_trained": 139947}, "timesteps_total": 139947, "training_iteration": 3, "timestamp": 1558247743, "time_total_s": 144.06608390808105, "time_this_iter_s": 46.951172828674316, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661780>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 152, "time_since_restore": 144.06608390808105, "episode_reward_max": 300.27196103320654, "hostname": "flow-main", "date": "2019-05-19_06-35-43", "episode_reward_mean": 136.63781995414996, "custom_metrics": {"cost1_mean": 48.265980876020166, "cost1_max": 90.41957090944452, "cost2_min": -51.33333333333333, "system_level_velocity_max": 9.456592591149358, "system_level_velocity_mean": 5.114422979705845, "cost1_min": 10.001964002599609, "system_level_velocity_min": 2.4668584167518737, "cost2_mean": -3.972709979592347, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 139947, "done": false, "episode_reward_min": 31.624962437012048, "episodes_this_iter": 46, "episode_len_mean": 287.47, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 3, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46085}
{"policy_reward_mean": {}, "info": {"load_time_ms": 23.429, "default": {"policy_loss": -0.005968364421278238, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8700701594352722, "entropy": 1.4139846563339233, "vf_loss": 2.413890838623047, "cur_lr": 0.0005000000237487257, "total_loss": 2.4094369411468506, "kl": 0.0075722127221524715}, "grad_time_ms": 10480.998, "num_steps_sampled": 187365, "update_time_ms": 174.743, "sample_time_ms": 36583.971, "num_steps_trained": 187365}, "timesteps_total": 187365, "training_iteration": 4, "timestamp": 1558247789, "time_total_s": 189.4625277519226, "time_this_iter_s": 45.39644384384155, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ae48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ada0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aba8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 199, "time_since_restore": 189.4625277519226, "episode_reward_max": 415.4731789073834, "hostname": "flow-main", "date": "2019-05-19_06-36-29", "episode_reward_mean": 159.45396660244774, "custom_metrics": {"cost1_mean": 56.02241425687741, "cost1_max": 105.29090345101953, "cost2_min": -17.78518551631336, "system_level_velocity_max": 9.45852349849523, "system_level_velocity_mean": 5.530315333422611, "cost1_min": 17.43986714231157, "system_level_velocity_min": 2.4668584167518737, "cost2_mean": -2.5783386872160374, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 187365, "done": false, "episode_reward_min": 47.493619383073906, "episodes_this_iter": 47, "episode_len_mean": 308.92, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 4, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47418}
{"policy_reward_mean": {}, "info": {"load_time_ms": 20.511, "default": {"policy_loss": -0.008154788985848427, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8674224019050598, "entropy": 1.4030722379684448, "vf_loss": 3.0180630683898926, "cur_lr": 0.0005000000237487257, "total_loss": 3.011925220489502, "kl": 0.01008397527039051}, "grad_time_ms": 10883.258, "num_steps_sampled": 234828, "update_time_ms": 141.061, "sample_time_ms": 35863.069, "num_steps_trained": 234828}, "timesteps_total": 234828, "training_iteration": 5, "timestamp": 1558247835, "time_total_s": 235.0283908843994, "time_this_iter_s": 45.56586313247681, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a940>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 246, "time_since_restore": 235.0283908843994, "episode_reward_max": 415.4731789073834, "hostname": "flow-main", "date": "2019-05-19_06-37-15", "episode_reward_mean": 172.43582018723836, "custom_metrics": {"cost1_mean": 60.91003600806988, "cost1_max": 125.12898636284345, "cost2_min": -25.33333333333333, "system_level_velocity_max": 10.717125860304401, "system_level_velocity_mean": 5.789550501841624, "cost1_min": 17.43986714231157, "system_level_velocity_min": 3.2446481582362288, "cost2_mean": -2.419366628593016, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 234828, "done": false, "episode_reward_min": 47.493619383073906, "episodes_this_iter": 47, "episode_len_mean": 321.57, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 5, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47463}
{"policy_reward_mean": {}, "info": {"load_time_ms": 19.741, "default": {"policy_loss": -0.009238037280738354, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8518068194389343, "entropy": 1.394656777381897, "vf_loss": 3.786872148513794, "cur_lr": 0.0005000000237487257, "total_loss": 3.779616117477417, "kl": 0.009910729713737965}, "grad_time_ms": 11294.75, "num_steps_sampled": 284413, "update_time_ms": 118.659, "sample_time_ms": 35319.233, "num_steps_trained": 284413}, "timesteps_total": 284413, "training_iteration": 6, "timestamp": 1558247881, "time_total_s": 281.08708667755127, "time_this_iter_s": 46.058695793151855, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aa668>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eb00>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 290, "time_since_restore": 281.08708667755127, "episode_reward_max": 329.0774367927349, "hostname": "flow-main", "date": "2019-05-19_06-38-01", "episode_reward_mean": 193.93378412957696, "custom_metrics": {"cost1_mean": 65.01102265688691, "cost1_max": 125.12898636284345, "cost2_min": -25.33333333333333, "system_level_velocity_max": 10.717125860304401, "system_level_velocity_mean": 6.1404906242413935, "cost1_min": 15.130333831297893, "system_level_velocity_min": 3.6584971006047255, "cost2_mean": -2.5626519901865934, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 284413, "done": false, "episode_reward_min": 38.01226972827532, "episodes_this_iter": 44, "episode_len_mean": 322.9, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 6, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49585}
{"policy_reward_mean": {}, "info": {"load_time_ms": 19.058, "default": {"policy_loss": -0.010023575276136398, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8351361155509949, "entropy": 1.375104546546936, "vf_loss": 5.489120006561279, "cur_lr": 0.0005000000237487257, "total_loss": 5.481420516967773, "kl": 0.011620932258665562}, "grad_time_ms": 11535.204, "num_steps_sampled": 332615, "update_time_ms": 102.62, "sample_time_ms": 34933.368, "num_steps_trained": 332615}, "timesteps_total": 332615, "training_iteration": 7, "timestamp": 1558247926, "time_total_s": 326.78924441337585, "time_this_iter_s": 45.702157735824585, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661550>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 339, "time_since_restore": 326.78924441337585, "episode_reward_max": 343.9717624976067, "hostname": "flow-main", "date": "2019-05-19_06-38-46", "episode_reward_mean": 219.2562069790513, "custom_metrics": {"cost1_mean": 70.73668180945815, "cost1_max": 110.18606674830733, "cost2_min": -17.333333333333332, "system_level_velocity_max": 9.490182356247262, "system_level_velocity_mean": 6.629904745510674, "cost1_min": 15.130333831297893, "system_level_velocity_min": 4.143489489987394, "cost2_mean": -2.4990960642715407, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 332615, "done": false, "episode_reward_min": 38.01226972827532, "episodes_this_iter": 49, "episode_len_mean": 322.9, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 7, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48202}
{"policy_reward_mean": {}, "info": {"load_time_ms": 18.736, "default": {"policy_loss": -0.011601553298532963, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7969974279403687, "entropy": 1.3493616580963135, "vf_loss": 7.280278205871582, "cur_lr": 0.0005000000237487257, "total_loss": 7.271112442016602, "kl": 0.012180165387690067}, "grad_time_ms": 11730.918, "num_steps_sampled": 378396, "update_time_ms": 90.738, "sample_time_ms": 34508.424, "num_steps_trained": 378396}, "timesteps_total": 378396, "training_iteration": 8, "timestamp": 1558247971, "time_total_s": 371.53823709487915, "time_this_iter_s": 44.748992681503296, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ada0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a438>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aeb8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 384, "time_since_restore": 371.53823709487915, "episode_reward_max": 343.9717624976067, "hostname": "flow-main", "date": "2019-05-19_06-39-31", "episode_reward_mean": 224.93351325637533, "custom_metrics": {"cost1_mean": 75.72088521724773, "cost1_max": 110.18606674830733, "cost2_min": -17.333333333333332, "system_level_velocity_max": 9.716142325960817, "system_level_velocity_mean": 7.031038138808653, "cost1_min": 50.08461641141996, "system_level_velocity_min": 4.892958696009569, "cost2_mean": -2.368986489521957, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 378396, "done": false, "episode_reward_min": 82.80147614486371, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 8, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45781}
{"policy_reward_mean": {}, "info": {"load_time_ms": 18.319, "default": {"policy_loss": -0.011075155809521675, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.7450003027915955, "entropy": 1.3425884246826172, "vf_loss": 8.708196640014648, "cur_lr": 0.0005000000237487257, "total_loss": 8.699443817138672, "kl": 0.011613800190389156}, "grad_time_ms": 11941.148, "num_steps_sampled": 426818, "update_time_ms": 81.468, "sample_time_ms": 34114.141, "num_steps_trained": 426818}, "timesteps_total": 426818, "training_iteration": 9, "timestamp": 1558248016, "time_total_s": 416.24787306785583, "time_this_iter_s": 44.709635972976685, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a080>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a518>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 430, "time_since_restore": 416.24787306785583, "episode_reward_max": 469.32529178040454, "hostname": "flow-main", "date": "2019-05-19_06-40-16", "episode_reward_mean": 245.6761999141979, "custom_metrics": {"cost1_mean": 81.25779176802881, "cost1_max": 118.16292313614198, "cost2_min": -28.5, "system_level_velocity_max": 10.318919217378072, "system_level_velocity_mean": 7.5060944254483175, "cost1_min": 53.183756085293425, "system_level_velocity_min": 5.175230311053901, "cost2_mean": -2.9719434042269706, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 426818, "done": false, "episode_reward_min": 70.14469671581692, "episodes_this_iter": 46, "episode_len_mean": 324.05, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 9, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48422}
{"policy_reward_mean": {}, "info": {"load_time_ms": 17.823, "default": {"policy_loss": -0.011474169790744781, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7430588603019714, "entropy": 1.3412625789642334, "vf_loss": 9.8286771774292, "cur_lr": 0.0005000000237487257, "total_loss": 9.819669723510742, "kl": 0.012330855242908001}, "grad_time_ms": 12095.412, "num_steps_sampled": 474623, "update_time_ms": 74.304, "sample_time_ms": 33898.654, "num_steps_trained": 474623}, "timesteps_total": 474623, "training_iteration": 10, "timestamp": 1558248062, "time_total_s": 461.79962062835693, "time_this_iter_s": 45.5517475605011, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064efd0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec88>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 478, "time_since_restore": 461.79962062835693, "episode_reward_max": 486.1023672117802, "hostname": "flow-main", "date": "2019-05-19_06-41-02", "episode_reward_mean": 265.3560541075472, "custom_metrics": {"cost1_mean": 83.96388993585516, "cost1_max": 132.76283673201272, "cost2_min": -28.5, "system_level_velocity_max": 11.453686118928612, "system_level_velocity_mean": 7.723113667703654, "cost1_min": 53.183756085293425, "system_level_velocity_min": 5.175230311053901, "cost2_mean": -3.4279085484571157, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 474623, "done": false, "episode_reward_min": 70.14469671581692, "episodes_this_iter": 48, "episode_len_mean": 324.05, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 10, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47805}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.198, "default": {"policy_loss": -0.012230097316205502, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.7162464261054993, "entropy": 1.3128944635391235, "vf_loss": 11.157200813293457, "cur_lr": 0.0005000000237487257, "total_loss": 11.147665023803711, "kl": 0.013473719358444214}, "grad_time_ms": 12438.089, "num_steps_sampled": 525146, "update_time_ms": 7.259, "sample_time_ms": 33599.941, "num_steps_trained": 525146}, "timesteps_total": 525146, "training_iteration": 11, "timestamp": 1558248109, "time_total_s": 509.3945701122284, "time_this_iter_s": 47.59494948387146, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b00>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661550>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 524, "time_since_restore": 509.3945701122284, "episode_reward_max": 486.1023672117802, "hostname": "flow-main", "date": "2019-05-19_06-41-49", "episode_reward_mean": 274.3103855927843, "custom_metrics": {"cost1_mean": 86.23680277901154, "cost1_max": 134.3670555577409, "cost2_min": -29.5, "system_level_velocity_max": 11.453686118928612, "system_level_velocity_mean": 7.907902712977002, "cost1_min": 55.52275999414732, "system_level_velocity_min": 5.301939251615037, "cost2_mean": -4.11257698086512, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 525146, "done": false, "episode_reward_min": 87.92309354983891, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 11, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50523}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.362, "default": {"policy_loss": -0.011165601201355457, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.6610528826713562, "entropy": 1.3043110370635986, "vf_loss": 13.308467864990234, "cur_lr": 0.0005000000237487257, "total_loss": 13.300077438354492, "kl": 0.01386819314211607}, "grad_time_ms": 12728.91, "num_steps_sampled": 574808, "update_time_ms": 7.469, "sample_time_ms": 32876.284, "num_steps_trained": 574808}, "timesteps_total": 574808, "training_iteration": 12, "timestamp": 1558248154, "time_total_s": 554.2573666572571, "time_this_iter_s": 44.86279654502869, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a438>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a278>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 570, "time_since_restore": 554.2573666572571, "episode_reward_max": 614.0119934456653, "hostname": "flow-main", "date": "2019-05-19_06-42-34", "episode_reward_mean": 289.2585287795426, "custom_metrics": {"cost1_mean": 90.94112540823882, "cost1_max": 153.99961417724, "cost2_min": -29.5, "system_level_velocity_max": 13.029539614751355, "system_level_velocity_mean": 8.315180115139299, "cost1_min": 55.52275999414732, "system_level_velocity_min": 5.301939251615037, "cost2_mean": -3.6965051600474634, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 574808, "done": false, "episode_reward_min": 87.92309354983891, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 12, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49662}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.688, "default": {"policy_loss": -0.012692265212535858, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5786550641059875, "entropy": 1.3099199533462524, "vf_loss": 13.309103012084961, "cur_lr": 0.0005000000237487257, "total_loss": 13.299779891967773, "kl": 0.01683991216123104}, "grad_time_ms": 13082.463, "num_steps_sampled": 625931, "update_time_ms": 7.806, "sample_time_ms": 32538.522, "num_steps_trained": 625931}, "timesteps_total": 625931, "training_iteration": 13, "timestamp": 1558248201, "time_total_s": 601.3929431438446, "time_this_iter_s": 47.135576486587524, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 615, "time_since_restore": 601.3929431438446, "episode_reward_max": 614.0119934456653, "hostname": "flow-main", "date": "2019-05-19_06-43-21", "episode_reward_mean": 304.0033011301394, "custom_metrics": {"cost1_mean": 92.31222066250544, "cost1_max": 153.99961417724, "cost2_min": -18.333333333333332, "system_level_velocity_max": 13.029539614751355, "system_level_velocity_mean": 8.454094638048817, "cost1_min": 63.22340629589222, "system_level_velocity_min": 6.254420783450441, "cost2_mean": -2.857712355901606, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 625931, "done": false, "episode_reward_min": 103.35369699267866, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 13, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 51123}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.205, "default": {"policy_loss": -0.01366571243852377, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.598681628704071, "entropy": 1.292370080947876, "vf_loss": 14.29113483428955, "cur_lr": 0.0005000000237487257, "total_loss": 14.280682563781738, "kl": 0.016063712537288666}, "grad_time_ms": 13374.386, "num_steps_sampled": 673354, "update_time_ms": 8.031, "sample_time_ms": 32238.382, "num_steps_trained": 673354}, "timesteps_total": 673354, "training_iteration": 14, "timestamp": 1558248247, "time_total_s": 646.7218203544617, "time_this_iter_s": 45.328877210617065, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ecc0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec88>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 663, "time_since_restore": 646.7218203544617, "episode_reward_max": 512.1144720951426, "hostname": "flow-main", "date": "2019-05-19_06-44-07", "episode_reward_mean": 301.5623538561096, "custom_metrics": {"cost1_mean": 93.57150359113051, "cost1_max": 139.20373941200592, "cost2_min": -21.75, "system_level_velocity_max": 11.827098544597556, "system_level_velocity_mean": 8.54740156596332, "cost1_min": 61.624887727647184, "system_level_velocity_min": 5.349727771269524, "cost2_mean": -3.5843304049768183, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 673354, "done": false, "episode_reward_min": 88.80074941762679, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 14, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47423}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.055, "default": {"policy_loss": -0.012364177964627743, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5784510374069214, "entropy": 1.2820395231246948, "vf_loss": 14.10789966583252, "cur_lr": 0.0005000000237487257, "total_loss": 14.098336219787598, "kl": 0.01400113943964243}, "grad_time_ms": 13431.368, "num_steps_sampled": 722676, "update_time_ms": 8.285, "sample_time_ms": 32348.409, "num_steps_trained": 722676}, "timesteps_total": 722676, "training_iteration": 15, "timestamp": 1558248294, "time_total_s": 694.0104658603668, "time_this_iter_s": 47.28864550590515, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06614e0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f98>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 709, "time_since_restore": 694.0104658603668, "episode_reward_max": 560.3458824869508, "hostname": "flow-main", "date": "2019-05-19_06-44-54", "episode_reward_mean": 308.6428679634922, "custom_metrics": {"cost1_mean": 96.58937417477976, "cost1_max": 140.4252694946424, "cost2_min": -21.75, "system_level_velocity_max": 12.043316122184091, "system_level_velocity_mean": 8.803092240983634, "cost1_min": 59.955573477595806, "system_level_velocity_min": 5.349727771269524, "cost2_mean": -3.2052045675784395, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 722676, "done": false, "episode_reward_min": 88.80074941762679, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 15, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49322}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.947, "default": {"policy_loss": -0.013411473482847214, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5817857384681702, "entropy": 1.2893643379211426, "vf_loss": 13.999439239501953, "cur_lr": 0.0005000000237487257, "total_loss": 13.988851547241211, "kl": 0.014118074439466}, "grad_time_ms": 13287.092, "num_steps_sampled": 766806, "update_time_ms": 8.392, "sample_time_ms": 32273.711, "num_steps_trained": 766806}, "timesteps_total": 766806, "training_iteration": 16, "timestamp": 1558248338, "time_total_s": 737.8824961185455, "time_this_iter_s": 43.87203025817871, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aa90>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aa20>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 752, "time_since_restore": 737.8824961185455, "episode_reward_max": 560.3458824869508, "hostname": "flow-main", "date": "2019-05-19_06-45-38", "episode_reward_mean": 307.68959343108116, "custom_metrics": {"cost1_mean": 98.43279345881307, "cost1_max": 183.5320882359848, "cost2_min": -23.333333333333332, "system_level_velocity_max": 15.124503639631333, "system_level_velocity_mean": 8.975395923291627, "cost1_min": 59.955573477595806, "system_level_velocity_min": 5.871464526306195, "cost2_mean": -3.1655417280203517, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 766806, "done": false, "episode_reward_min": 103.28606837596983, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 16, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 44130}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.881, "default": {"policy_loss": -0.015062002465128899, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5548965930938721, "entropy": 1.311550498008728, "vf_loss": 14.42756175994873, "cur_lr": 0.0005000000237487257, "total_loss": 14.41566276550293, "kl": 0.015816183760762215}, "grad_time_ms": 13363.428, "num_steps_sampled": 813789, "update_time_ms": 8.747, "sample_time_ms": 32269.617, "num_steps_trained": 813789}, "timesteps_total": 813789, "training_iteration": 17, "timestamp": 1558248384, "time_total_s": 784.330156326294, "time_this_iter_s": 46.44766020774841, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0f0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 801, "time_since_restore": 784.330156326294, "episode_reward_max": 489.2690194323519, "hostname": "flow-main", "date": "2019-05-19_06-46-24", "episode_reward_mean": 290.69338378912505, "custom_metrics": {"cost1_mean": 96.22382143878707, "cost1_max": 183.5320882359848, "cost2_min": -23.333333333333332, "system_level_velocity_max": 15.124503639631333, "system_level_velocity_mean": 8.80817041325055, "cost1_min": 59.955573477595806, "system_level_velocity_min": 5.871464526306195, "cost2_mean": -3.4446913617073034, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 813789, "done": false, "episode_reward_min": 103.28606837596983, "episodes_this_iter": 49, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 17, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46983}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.081, "default": {"policy_loss": -0.013965817168354988, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.4817301630973816, "entropy": 1.307137370109558, "vf_loss": 14.191934585571289, "cur_lr": 0.0005000000237487257, "total_loss": 14.18114948272705, "kl": 0.015905261039733887}, "grad_time_ms": 13472.73, "num_steps_sampled": 865487, "update_time_ms": 8.704, "sample_time_ms": 32310.773, "num_steps_trained": 865487}, "timesteps_total": 865487, "training_iteration": 18, "timestamp": 1558248431, "time_total_s": 830.6174082756042, "time_this_iter_s": 46.2872519493103, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eef0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e240>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 847, "time_since_restore": 830.6174082756042, "episode_reward_max": 489.2690194323519, "hostname": "flow-main", "date": "2019-05-19_06-47-11", "episode_reward_mean": 297.78186734186323, "custom_metrics": {"cost1_mean": 95.7710821466363, "cost1_max": 163.29847997830723, "cost2_min": -16.666666666666664, "system_level_velocity_max": 13.502163058208552, "system_level_velocity_mean": 8.780070510541927, "cost1_min": 68.28311345437034, "system_level_velocity_min": 6.728935059761676, "cost2_mean": -3.1742857519979095, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 865487, "done": false, "episode_reward_min": 103.28606837596983, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 18, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 51698}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.429, "default": {"policy_loss": -0.014429882168769836, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.539547324180603, "entropy": 1.2926712036132812, "vf_loss": 13.120835304260254, "cur_lr": 0.0005000000237487257, "total_loss": 13.10976791381836, "kl": 0.016813620924949646}, "grad_time_ms": 13419.204, "num_steps_sampled": 913900, "update_time_ms": 8.944, "sample_time_ms": 32425.129, "num_steps_trained": 913900}, "timesteps_total": 913900, "training_iteration": 19, "timestamp": 1558248476, "time_total_s": 875.938826084137, "time_this_iter_s": 45.321417808532715, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661940>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 890, "time_since_restore": 875.938826084137, "episode_reward_max": 463.3720506203694, "hostname": "flow-main", "date": "2019-05-19_06-47-56", "episode_reward_mean": 311.80375223979644, "custom_metrics": {"cost1_mean": 95.96707875461999, "cost1_max": 141.4829455532817, "cost2_min": -21.0, "system_level_velocity_max": 12.08515627801233, "system_level_velocity_mean": 8.781371170763926, "cost1_min": 62.960436645229024, "system_level_velocity_min": 6.140797112811179, "cost2_mean": -2.888458156388667, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 913900, "done": false, "episode_reward_min": 173.94272920802808, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 19, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48413}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.243, "default": {"policy_loss": -0.015066730789840221, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.4841633141040802, "entropy": 1.2968031167984009, "vf_loss": 15.555310249328613, "cur_lr": 0.0005000000237487257, "total_loss": 15.543754577636719, "kl": 0.01755484752357006}, "grad_time_ms": 13375.046, "num_steps_sampled": 962318, "update_time_ms": 8.942, "sample_time_ms": 32626.472, "num_steps_trained": 962318}, "timesteps_total": 962318, "training_iteration": 20, "timestamp": 1558248523, "time_total_s": 923.0662069320679, "time_this_iter_s": 47.12738084793091, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065add8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a7f0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 940, "time_since_restore": 923.0662069320679, "episode_reward_max": 501.3697841641905, "hostname": "flow-main", "date": "2019-05-19_06-48-43", "episode_reward_mean": 314.42022803855986, "custom_metrics": {"cost1_mean": 97.19817363795748, "cost1_max": 127.43004077044971, "cost2_min": -21.0, "system_level_velocity_max": 10.944979707420543, "system_level_velocity_mean": 8.878096682224324, "cost1_min": 62.960436645229024, "system_level_velocity_min": 6.140797112811179, "cost2_mean": -3.2099590429172595, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 962318, "done": false, "episode_reward_min": 173.94272920802808, "episodes_this_iter": 50, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 20, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48418}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.143, "default": {"policy_loss": -0.015760404989123344, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.501620888710022, "entropy": 1.3086742162704468, "vf_loss": 12.90772819519043, "cur_lr": 0.0005000000237487257, "total_loss": 12.895624160766602, "kl": 0.018273241817951202}, "grad_time_ms": 13342.254, "num_steps_sampled": 1012889, "update_time_ms": 9.007, "sample_time_ms": 32542.25, "num_steps_trained": 1012889}, "timesteps_total": 1012889, "training_iteration": 21, "timestamp": 1558248570, "time_total_s": 969.4869494438171, "time_this_iter_s": 46.42074251174927, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ee48>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e240>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 984, "time_since_restore": 969.4869494438171, "episode_reward_max": 501.3697841641905, "hostname": "flow-main", "date": "2019-05-19_06-49-30", "episode_reward_mean": 314.4057639286278, "custom_metrics": {"cost1_mean": 97.22809388638532, "cost1_max": 126.15442664341785, "cost2_min": -22.0, "system_level_velocity_max": 10.875209183484339, "system_level_velocity_mean": 8.869036946633612, "cost1_min": 62.960436645229024, "system_level_velocity_min": 6.140797112811179, "cost2_mean": -3.8644175311687103, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1012889, "done": false, "episode_reward_min": 163.74053678851934, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 21, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50571}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.161, "default": {"policy_loss": -0.017719129100441933, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5641329884529114, "entropy": 1.3130731582641602, "vf_loss": 12.784653663635254, "cur_lr": 0.0005000000237487257, "total_loss": 12.770557403564453, "kl": 0.018114523962140083}, "grad_time_ms": 13233.814, "num_steps_sampled": 1060688, "update_time_ms": 8.764, "sample_time_ms": 32726.403, "num_steps_trained": 1060688}, "timesteps_total": 1060688, "training_iteration": 22, "timestamp": 1558248615, "time_total_s": 1015.0984621047974, "time_this_iter_s": 45.611512660980225, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672b0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667860>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1030, "time_since_restore": 1015.0984621047974, "episode_reward_max": 441.8962498002528, "hostname": "flow-main", "date": "2019-05-19_06-50-15", "episode_reward_mean": 298.6658194880272, "custom_metrics": {"cost1_mean": 94.05005400863325, "cost1_max": 136.3284175104032, "cost2_min": -22.0, "system_level_velocity_max": 11.51219912044546, "system_level_velocity_mean": 8.642253412320038, "cost1_min": 18.375774086031328, "system_level_velocity_min": 4.325047568667887, "cost2_mean": -3.599247696187321, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1060688, "done": false, "episode_reward_min": 29.93358319866417, "episodes_this_iter": 46, "episode_len_mean": 321.53, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 22, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47799}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.994, "default": {"policy_loss": -0.0152747118845582, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.49520617723464966, "entropy": 1.3111164569854736, "vf_loss": 15.69816780090332, "cur_lr": 0.0005000000237487257, "total_loss": 15.68628215789795, "kl": 0.01694236509501934}, "grad_time_ms": 13123.669, "num_steps_sampled": 1111750, "update_time_ms": 8.43, "sample_time_ms": 32831.82, "num_steps_trained": 1111750}, "timesteps_total": 1111750, "training_iteration": 23, "timestamp": 1558248663, "time_total_s": 1062.1777226924896, "time_this_iter_s": 47.07926058769226, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1081, "time_since_restore": 1062.1777226924896, "episode_reward_max": 544.2014014707245, "hostname": "flow-main", "date": "2019-05-19_06-51-03", "episode_reward_mean": 302.732727106072, "custom_metrics": {"cost1_mean": 93.84510331039105, "cost1_max": 136.3284175104032, "cost2_min": -19.0, "system_level_velocity_max": 11.51219912044546, "system_level_velocity_mean": 8.608534125875298, "cost1_min": 18.375774086031328, "system_level_velocity_min": 3.1325698801508572, "cost2_mean": -3.742060854161821, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1111750, "done": false, "episode_reward_min": 29.93358319866417, "episodes_this_iter": 51, "episode_len_mean": 321.04, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 23, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 51062}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.768, "default": {"policy_loss": -0.0187738798558712, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5924749374389648, "entropy": 1.2979696989059448, "vf_loss": 12.981653213500977, "cur_lr": 0.0005000000237487257, "total_loss": 12.966695785522461, "kl": 0.019083166494965553}, "grad_time_ms": 13085.607, "num_steps_sampled": 1158845, "update_time_ms": 8.292, "sample_time_ms": 32868.418, "num_steps_trained": 1158845}, "timesteps_total": 1158845, "training_iteration": 24, "timestamp": 1558248708, "time_total_s": 1107.4979615211487, "time_this_iter_s": 45.32023882865906, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065af28>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a710>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1126, "time_since_restore": 1107.4979615211487, "episode_reward_max": 544.2014014707245, "hostname": "flow-main", "date": "2019-05-19_06-51-48", "episode_reward_mean": 309.37684766961445, "custom_metrics": {"cost1_mean": 96.32144023928947, "cost1_max": 136.20035036768073, "cost2_min": -20.0, "system_level_velocity_max": 11.327860849656435, "system_level_velocity_mean": 8.756183296779952, "cost1_min": 30.673594024389093, "system_level_velocity_min": 3.1325698801508572, "cost2_mean": -3.7174874800354267, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1158845, "done": false, "episode_reward_min": 103.55847417027842, "episodes_this_iter": 45, "episode_len_mean": 324.51, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 24, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47095}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.607, "default": {"policy_loss": -0.01867980882525444, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5315693616867065, "entropy": 1.3073923587799072, "vf_loss": 14.127608299255371, "cur_lr": 0.0005000000237487257, "total_loss": 14.113025665283203, "kl": 0.020483098924160004}, "grad_time_ms": 13113.161, "num_steps_sampled": 1207487, "update_time_ms": 8.327, "sample_time_ms": 32618.29, "num_steps_trained": 1207487}, "timesteps_total": 1207487, "training_iteration": 25, "timestamp": 1558248753, "time_total_s": 1152.53346991539, "time_this_iter_s": 45.03550839424133, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e80>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e9b0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1170, "time_since_restore": 1152.53346991539, "episode_reward_max": 518.9598683514547, "hostname": "flow-main", "date": "2019-05-19_06-52-33", "episode_reward_mean": 313.7055702670526, "custom_metrics": {"cost1_mean": 99.1754580656273, "cost1_max": 140.46281852528, "cost2_min": -20.0, "system_level_velocity_max": 11.45264175177734, "system_level_velocity_mean": 8.97775675891596, "cost1_min": 74.16542989825312, "system_level_velocity_min": 6.610547752648622, "cost2_mean": -3.0920956400026913, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1207487, "done": false, "episode_reward_min": 164.55317933473162, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 25, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48642}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.537, "default": {"policy_loss": -0.016360392794013023, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5612118244171143, "entropy": 1.3087722063064575, "vf_loss": 14.185986518859863, "cur_lr": 0.0005000000237487257, "total_loss": 14.174317359924316, "kl": 0.015634741634130478}, "grad_time_ms": 13305.851, "num_steps_sampled": 1256417, "update_time_ms": 8.232, "sample_time_ms": 32610.015, "num_steps_trained": 1256417}, "timesteps_total": 1256417, "training_iteration": 26, "timestamp": 1558248799, "time_total_s": 1198.2494463920593, "time_this_iter_s": 45.71597647666931, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06670b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667860>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667198>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1217, "time_since_restore": 1198.2494463920593, "episode_reward_max": 509.3375870633736, "hostname": "flow-main", "date": "2019-05-19_06-53-19", "episode_reward_mean": 318.00412877750966, "custom_metrics": {"cost1_mean": 98.63881666667106, "cost1_max": 140.46281852528, "cost2_min": -14.666666666666666, "system_level_velocity_max": 11.45264175177734, "system_level_velocity_mean": 8.936089294281537, "cost1_min": 65.01587944929493, "system_level_velocity_min": 5.665034075347367, "cost2_mean": -2.749495784664522, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1256417, "done": false, "episode_reward_min": 165.0374118285756, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 26, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48930}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.986, "default": {"policy_loss": -0.01689872145652771, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5987308025360107, "entropy": 1.3167117834091187, "vf_loss": 12.629745483398438, "cur_lr": 0.0005000000237487257, "total_loss": 12.617597579956055, "kl": 0.01583557389676571}, "grad_time_ms": 13290.466, "num_steps_sampled": 1305307, "update_time_ms": 7.924, "sample_time_ms": 32566.729, "num_steps_trained": 1305307}, "timesteps_total": 1305307, "training_iteration": 27, "timestamp": 1558248845, "time_total_s": 1244.1073904037476, "time_this_iter_s": 45.85794401168823, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f23c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2358>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2320>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1265, "time_since_restore": 1244.1073904037476, "episode_reward_max": 493.48631892734096, "hostname": "flow-main", "date": "2019-05-19_06-54-05", "episode_reward_mean": 309.0180220399576, "custom_metrics": {"cost1_mean": 96.95682629551486, "cost1_max": 133.42890657488044, "cost2_min": -15.333333333333332, "system_level_velocity_max": 11.80236543116127, "system_level_velocity_mean": 8.80223122886084, "cost1_min": 65.01587944929493, "system_level_velocity_min": 5.665034075347367, "cost2_mean": -2.919763022873073, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1305307, "done": false, "episode_reward_min": 92.94403302695896, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 27, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48890}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.599, "default": {"policy_loss": -0.017778823152184486, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5528605580329895, "entropy": 1.309580683708191, "vf_loss": 13.9842529296875, "cur_lr": 0.0005000000237487257, "total_loss": 13.971373558044434, "kl": 0.016330907121300697}, "grad_time_ms": 13295.336, "num_steps_sampled": 1354954, "update_time_ms": 8.132, "sample_time_ms": 32468.655, "num_steps_trained": 1354954}, "timesteps_total": 1354954, "training_iteration": 28, "timestamp": 1558248890, "time_total_s": 1289.4422562122345, "time_this_iter_s": 45.33486580848694, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cf28>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c2e8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1309, "time_since_restore": 1289.4422562122345, "episode_reward_max": 493.48631892734096, "hostname": "flow-main", "date": "2019-05-19_06-54-50", "episode_reward_mean": 311.2739351738505, "custom_metrics": {"cost1_mean": 97.27428263663276, "cost1_max": 138.20410007882012, "cost2_min": -23.33333333333333, "system_level_velocity_max": 11.80236543116127, "system_level_velocity_mean": 8.807386837786632, "cost1_min": 65.01587944929493, "system_level_velocity_min": 5.665034075347367, "cost2_mean": -2.992689044432007, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1354954, "done": false, "episode_reward_min": 92.94403302695896, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 28, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49647}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.57, "default": {"policy_loss": -0.017406154423952103, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5984809994697571, "entropy": 1.3152018785476685, "vf_loss": 11.942550659179688, "cur_lr": 0.0005000000237487257, "total_loss": 11.930155754089355, "kl": 0.016706353053450584}, "grad_time_ms": 13397.938, "num_steps_sampled": 1404886, "update_time_ms": 7.956, "sample_time_ms": 32398.875, "num_steps_trained": 1404886}, "timesteps_total": 1404886, "training_iteration": 29, "timestamp": 1558248936, "time_total_s": 1335.0788810253143, "time_this_iter_s": 45.636624813079834, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2e48>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f60>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1353, "time_since_restore": 1335.0788810253143, "episode_reward_max": 470.28334617307854, "hostname": "flow-main", "date": "2019-05-19_06-55-36", "episode_reward_mean": 311.7345506214117, "custom_metrics": {"cost1_mean": 95.14545690809615, "cost1_max": 138.20410007882012, "cost2_min": -23.33333333333333, "system_level_velocity_max": 11.705009237250602, "system_level_velocity_mean": 8.632306035797217, "cost1_min": 56.471287617588324, "system_level_velocity_min": 5.353800175187631, "cost2_mean": -2.3438287241179063, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1404886, "done": false, "episode_reward_min": 119.67617563228845, "episodes_this_iter": 44, "episode_len_mean": 324.17, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 29, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49932}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.834, "default": {"policy_loss": -0.017638327553868294, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5230116844177246, "entropy": 1.3256994485855103, "vf_loss": 14.892472267150879, "cur_lr": 0.0005000000237487257, "total_loss": 14.879947662353516, "kl": 0.017047487199306488}, "grad_time_ms": 13471.299, "num_steps_sampled": 1453900, "update_time_ms": 7.796, "sample_time_ms": 32258.841, "num_steps_trained": 1453900}, "timesteps_total": 1453900, "training_iteration": 30, "timestamp": 1558248982, "time_total_s": 1381.5344154834747, "time_this_iter_s": 46.4555344581604, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2470>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2780>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1404, "time_since_restore": 1381.5344154834747, "episode_reward_max": 470.28334617307854, "hostname": "flow-main", "date": "2019-05-19_06-56-22", "episode_reward_mean": 309.1188254462517, "custom_metrics": {"cost1_mean": 94.58931827506629, "cost1_max": 121.7303363063242, "cost2_min": -13.333333333333334, "system_level_velocity_max": 10.715471358226905, "system_level_velocity_mean": 8.576125619907893, "cost1_min": 56.471287617588324, "system_level_velocity_min": 5.353800175187631, "cost2_mean": -2.4110885359781293, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1453900, "done": false, "episode_reward_min": 99.01235050725218, "episodes_this_iter": 51, "episode_len_mean": 324.17, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 30, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49014}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.509, "default": {"policy_loss": -0.018198594450950623, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.516042947769165, "entropy": 1.3132266998291016, "vf_loss": 13.001115798950195, "cur_lr": 0.0005000000237487257, "total_loss": 12.988085746765137, "kl": 0.017225541174411774}, "grad_time_ms": 13458.327, "num_steps_sampled": 1500617, "update_time_ms": 8.019, "sample_time_ms": 32144.423, "num_steps_trained": 1500617}, "timesteps_total": 1500617, "training_iteration": 31, "timestamp": 1558249027, "time_total_s": 1426.696355342865, "time_this_iter_s": 45.16193985939026, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2080>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2c18>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1447, "time_since_restore": 1426.696355342865, "episode_reward_max": 477.8068825144772, "hostname": "flow-main", "date": "2019-05-19_06-57-07", "episode_reward_mean": 307.55954683840713, "custom_metrics": {"cost1_mean": 96.57625912571599, "cost1_max": 120.76340460448199, "cost2_min": -15.0, "system_level_velocity_max": 10.715471358226905, "system_level_velocity_mean": 8.759968246732676, "cost1_min": 68.7025569853275, "system_level_velocity_min": 6.657703671104377, "cost2_mean": -2.719992822371761, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1500617, "done": false, "episode_reward_min": 99.01235050725218, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 31, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46717}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.826, "default": {"policy_loss": -0.01766434870660305, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5213824510574341, "entropy": 1.3193153142929077, "vf_loss": 12.709023475646973, "cur_lr": 0.0005000000237487257, "total_loss": 12.696639060974121, "kl": 0.01759979873895645}, "grad_time_ms": 13611.117, "num_steps_sampled": 1549916, "update_time_ms": 8.002, "sample_time_ms": 31960.057, "num_steps_trained": 1549916}, "timesteps_total": 1549916, "training_iteration": 32, "timestamp": 1558249073, "time_total_s": 1472.0199403762817, "time_this_iter_s": 45.32358503341675, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c908>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c198>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1490, "time_since_restore": 1472.0199403762817, "episode_reward_max": 477.8068825144772, "hostname": "flow-main", "date": "2019-05-19_06-57-53", "episode_reward_mean": 302.0120171126051, "custom_metrics": {"cost1_mean": 96.55171435091677, "cost1_max": 140.59670199531917, "cost2_min": -24.0, "system_level_velocity_max": 12.005608160098465, "system_level_velocity_mean": 8.771244360600779, "cost1_min": 69.12401732156704, "system_level_velocity_min": 6.736010443005933, "cost2_mean": -3.57632632069033, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1549916, "done": false, "episode_reward_min": 102.77754286163675, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 32, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49299}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.722, "default": {"policy_loss": -0.018872370943427086, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5026360154151917, "entropy": 1.3216246366500854, "vf_loss": 14.835967063903809, "cur_lr": 0.0005000000237487257, "total_loss": 14.822347640991211, "kl": 0.017508838325738907}, "grad_time_ms": 13672.572, "num_steps_sampled": 1598453, "update_time_ms": 8.07, "sample_time_ms": 31707.67, "num_steps_trained": 1598453}, "timesteps_total": 1598453, "training_iteration": 33, "timestamp": 1558249118, "time_total_s": 1517.1889078617096, "time_this_iter_s": 45.168967485427856, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb00>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1543, "time_since_restore": 1517.1889078617096, "episode_reward_max": 461.5476380840451, "hostname": "flow-main", "date": "2019-05-19_06-58-38", "episode_reward_mean": 305.8434232694272, "custom_metrics": {"cost1_mean": 96.41508694132557, "cost1_max": 140.59670199531917, "cost2_min": -24.0, "system_level_velocity_max": 12.005608160098465, "system_level_velocity_mean": 8.754030551924087, "cost1_min": 58.024908824656166, "system_level_velocity_min": 6.176301109796894, "cost2_mean": -3.2179704848343205, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1598453, "done": false, "episode_reward_min": 162.73652321909032, "episodes_this_iter": 53, "episode_len_mean": 323.7, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 33, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48537}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.92, "default": {"policy_loss": -0.019899209961295128, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.600431501865387, "entropy": 1.3349689245224, "vf_loss": 12.25902271270752, "cur_lr": 0.0005000000237487257, "total_loss": 12.244741439819336, "kl": 0.01872936822474003}, "grad_time_ms": 13858.283, "num_steps_sampled": 1646342, "update_time_ms": 8.338, "sample_time_ms": 31492.266, "num_steps_trained": 1646342}, "timesteps_total": 1646342, "training_iteration": 34, "timestamp": 1558249163, "time_total_s": 1562.2309675216675, "time_this_iter_s": 45.042059659957886, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06670b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06675f8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1587, "time_since_restore": 1562.2309675216675, "episode_reward_max": 486.63850373295105, "hostname": "flow-main", "date": "2019-05-19_06-59-23", "episode_reward_mean": 304.3595244454827, "custom_metrics": {"cost1_mean": 96.22348765100084, "cost1_max": 140.59670199531917, "cost2_min": -18.25, "system_level_velocity_max": 12.005608160098465, "system_level_velocity_mean": 8.73545868450747, "cost1_min": 58.024908824656166, "system_level_velocity_min": 5.833675888203857, "cost2_mean": -2.1811919379861298, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1646342, "done": false, "episode_reward_min": 105.37017217579373, "episodes_this_iter": 44, "episode_len_mean": 323.7, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 34, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47889}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.84, "default": {"policy_loss": -0.01860252395272255, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.6122759580612183, "entropy": 1.336742877960205, "vf_loss": 12.129654884338379, "cur_lr": 0.0005000000237487257, "total_loss": 12.116717338562012, "kl": 0.01888156495988369}, "grad_time_ms": 13840.563, "num_steps_sampled": 1692185, "update_time_ms": 8.454, "sample_time_ms": 31301.24, "num_steps_trained": 1692185}, "timesteps_total": 1692185, "training_iteration": 35, "timestamp": 1558249206, "time_total_s": 1605.1812233924866, "time_this_iter_s": 42.95025587081909, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2978>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f20b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1630, "time_since_restore": 1605.1812233924866, "episode_reward_max": 486.63850373295105, "hostname": "flow-main", "date": "2019-05-19_07-00-06", "episode_reward_mean": 295.5847882178878, "custom_metrics": {"cost1_mean": 96.23981644085279, "cost1_max": 121.92944606045617, "cost2_min": -35.25, "system_level_velocity_max": 10.506708189171725, "system_level_velocity_mean": 8.720125102693741, "cost1_min": 58.024908824656166, "system_level_velocity_min": 5.833675888203857, "cost2_mean": -2.801833031410252, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1692185, "done": false, "episode_reward_min": 94.85072661641144, "episodes_this_iter": 43, "episode_len_mean": 323.7, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 35, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45843}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.85, "default": {"policy_loss": -0.01827825978398323, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.47853395342826843, "entropy": 1.3500995635986328, "vf_loss": 13.935690879821777, "cur_lr": 0.0005000000237487257, "total_loss": 13.922393798828125, "kl": 0.01661132462322712}, "grad_time_ms": 13862.969, "num_steps_sampled": 1741048, "update_time_ms": 8.888, "sample_time_ms": 31264.546, "num_steps_trained": 1741048}, "timesteps_total": 1741048, "training_iteration": 36, "timestamp": 1558249252, "time_total_s": 1650.777112007141, "time_this_iter_s": 45.59588861465454, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c780>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c208>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1682, "time_since_restore": 1650.777112007141, "episode_reward_max": 484.9492277128069, "hostname": "flow-main", "date": "2019-05-19_07-00-52", "episode_reward_mean": 298.91793959404384, "custom_metrics": {"cost1_mean": 95.90606963935744, "cost1_max": 121.655125908136, "cost2_min": -35.25, "system_level_velocity_max": 10.373420843492736, "system_level_velocity_mean": 8.677262001864605, "cost1_min": 70.87255601820748, "system_level_velocity_min": 6.093262463885105, "cost2_mean": -3.4395413695209034, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1741048, "done": false, "episode_reward_min": 94.85072661641144, "episodes_this_iter": 52, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 36, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48863}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.695, "default": {"policy_loss": -0.019778545945882797, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.49577417969703674, "entropy": 1.338765263557434, "vf_loss": 13.27123737335205, "cur_lr": 0.0005000000237487257, "total_loss": 13.256953239440918, "kl": 0.018309460952878}, "grad_time_ms": 13937.692, "num_steps_sampled": 1790743, "update_time_ms": 9.185, "sample_time_ms": 31151.484, "num_steps_trained": 1790743}, "timesteps_total": 1790743, "training_iteration": 37, "timestamp": 1558249297, "time_total_s": 1696.2482957839966, "time_this_iter_s": 45.47118377685547, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cba8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1727, "time_since_restore": 1696.2482957839966, "episode_reward_max": 484.9492277128069, "hostname": "flow-main", "date": "2019-05-19_07-01-37", "episode_reward_mean": 303.2252095916462, "custom_metrics": {"cost1_mean": 94.11124301593829, "cost1_max": 121.655125908136, "cost2_min": -11.5, "system_level_velocity_max": 10.411922044898414, "system_level_velocity_mean": 8.572914227219552, "cost1_min": 70.69702858745737, "system_level_velocity_min": 6.414128133592935, "cost2_mean": -2.6208521930003403, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1790743, "done": false, "episode_reward_min": 194.50276731982447, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 37, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49695}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.706, "default": {"policy_loss": -0.019927257671952248, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.44777020812034607, "entropy": 1.3478894233703613, "vf_loss": 13.204161643981934, "cur_lr": 0.0005000000237487257, "total_loss": 13.189766883850098, "kl": 0.018442319706082344}, "grad_time_ms": 13868.897, "num_steps_sampled": 1839398, "update_time_ms": 9.107, "sample_time_ms": 31156.918, "num_steps_trained": 1839398}, "timesteps_total": 1839398, "training_iteration": 38, "timestamp": 1558249342, "time_total_s": 1740.9389629364014, "time_this_iter_s": 44.690667152404785, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06675c0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667588>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1770, "time_since_restore": 1740.9389629364014, "episode_reward_max": 434.10303702577215, "hostname": "flow-main", "date": "2019-05-19_07-02-22", "episode_reward_mean": 305.3504062077609, "custom_metrics": {"cost1_mean": 95.07909472952018, "cost1_max": 125.89094653084896, "cost2_min": -13.0, "system_level_velocity_max": 10.426405616448024, "system_level_velocity_mean": 8.626225708428409, "cost1_min": 70.69702858745737, "system_level_velocity_min": 6.414128133592935, "cost2_mean": -3.0348906871557984, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1839398, "done": false, "episode_reward_min": 163.5370734453406, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 38, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48655}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.521, "default": {"policy_loss": -0.020316526293754578, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.46937698125839233, "entropy": 1.3503806591033936, "vf_loss": 13.339814186096191, "cur_lr": 0.0005000000237487257, "total_loss": 13.325166702270508, "kl": 0.018897082656621933}, "grad_time_ms": 13804.576, "num_steps_sampled": 1887714, "update_time_ms": 9.367, "sample_time_ms": 31177.529, "num_steps_trained": 1887714}, "timesteps_total": 1887714, "training_iteration": 39, "timestamp": 1558249387, "time_total_s": 1786.1454038619995, "time_this_iter_s": 45.206440925598145, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2240>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2940>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1817, "time_since_restore": 1786.1454038619995, "episode_reward_max": 434.10303702577215, "hostname": "flow-main", "date": "2019-05-19_07-03-07", "episode_reward_mean": 306.59048387921854, "custom_metrics": {"cost1_mean": 94.68784519974041, "cost1_max": 125.89094653084896, "cost2_min": -15.737700716895834, "system_level_velocity_max": 10.644109941181597, "system_level_velocity_mean": 8.592246037806975, "cost1_min": 70.3987523610316, "system_level_velocity_min": 6.5241525759790235, "cost2_mean": -3.4590930317672774, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1887714, "done": false, "episode_reward_min": 163.5370734453406, "episodes_this_iter": 47, "episode_len_mean": 324.62, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 39, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48316}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.654, "default": {"policy_loss": -0.01915297657251358, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4800429940223694, "entropy": 1.3422768115997314, "vf_loss": 13.2235746383667, "cur_lr": 0.0005000000237487257, "total_loss": 13.210015296936035, "kl": 0.018639950081706047}, "grad_time_ms": 13749.022, "num_steps_sampled": 1936245, "update_time_ms": 10.228, "sample_time_ms": 31150.266, "num_steps_trained": 1936245}, "timesteps_total": 1936245, "training_iteration": 40, "timestamp": 1558249433, "time_total_s": 1831.805239200592, "time_this_iter_s": 45.65983533859253, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8908>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8048>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1867, "time_since_restore": 1831.805239200592, "episode_reward_max": 421.30557678600525, "hostname": "flow-main", "date": "2019-05-19_07-03-53", "episode_reward_mean": 301.64301842299506, "custom_metrics": {"cost1_mean": 95.83186929552, "cost1_max": 137.3035136112045, "cost2_min": -15.737700716895834, "system_level_velocity_max": 11.918053445744302, "system_level_velocity_mean": 8.697285519920179, "cost1_min": 70.3987523610316, "system_level_velocity_min": 6.460390434368338, "cost2_mean": -3.117282376414551, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1936245, "done": false, "episode_reward_min": 173.71612141771215, "episodes_this_iter": 50, "episode_len_mean": 324.62, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 40, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48531}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.284, "default": {"policy_loss": -0.018417345359921455, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4667201340198517, "entropy": 1.3688194751739502, "vf_loss": 12.99889087677002, "cur_lr": 0.0005000000237487257, "total_loss": 12.98604965209961, "kl": 0.01858462207019329}, "grad_time_ms": 13713.265, "num_steps_sampled": 1984779, "update_time_ms": 10.388, "sample_time_ms": 31168.124, "num_steps_trained": 1984779}, "timesteps_total": 1984779, "training_iteration": 41, "timestamp": 1558249478, "time_total_s": 1876.786302804947, "time_this_iter_s": 44.98106360435486, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f60>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1910, "time_since_restore": 1876.786302804947, "episode_reward_max": 436.31409594015133, "hostname": "flow-main", "date": "2019-05-19_07-04-38", "episode_reward_mean": 305.9888781705112, "custom_metrics": {"cost1_mean": 97.27931384951546, "cost1_max": 137.3035136112045, "cost2_min": -15.737700716895834, "system_level_velocity_max": 11.918053445744302, "system_level_velocity_mean": 8.809705075323881, "cost1_min": 73.91503745792018, "system_level_velocity_min": 6.460390434368338, "cost2_mean": -3.4541076253248453, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 1984779, "done": false, "episode_reward_min": 167.37830737522395, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 41, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48534}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.953, "default": {"policy_loss": -0.019759714603424072, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.4927825927734375, "entropy": 1.3660697937011719, "vf_loss": 11.596256256103516, "cur_lr": 0.0005000000237487257, "total_loss": 11.582083702087402, "kl": 0.01862693578004837}, "grad_time_ms": 13661.174, "num_steps_sampled": 2033807, "update_time_ms": 10.7, "sample_time_ms": 31346.299, "num_steps_trained": 2033807}, "timesteps_total": 2033807, "training_iteration": 42, "timestamp": 1558249525, "time_total_s": 1923.3642225265503, "time_this_iter_s": 46.577919721603394, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c748>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1953, "time_since_restore": 1923.3642225265503, "episode_reward_max": 436.31409594015133, "hostname": "flow-main", "date": "2019-05-19_07-05-25", "episode_reward_mean": 307.902298521766, "custom_metrics": {"cost1_mean": 95.87086869596567, "cost1_max": 133.2564223148715, "cost2_min": -20.25, "system_level_velocity_max": 11.925130391624227, "system_level_velocity_mean": 8.694821699736583, "cost1_min": 64.72719277570262, "system_level_velocity_min": 5.962505457564991, "cost2_mean": -3.449870409577918, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2033807, "done": false, "episode_reward_min": 119.10417444539621, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 42, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49028}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.724, "default": {"policy_loss": -0.020170040428638458, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5339011549949646, "entropy": 1.381574273109436, "vf_loss": 13.22399616241455, "cur_lr": 0.0005000000237487257, "total_loss": 13.20960521697998, "kl": 0.019266504794359207}, "grad_time_ms": 13454.269, "num_steps_sampled": 2079630, "update_time_ms": 10.971, "sample_time_ms": 31519.798, "num_steps_trained": 2079630}, "timesteps_total": 2079630, "training_iteration": 43, "timestamp": 1558249569, "time_total_s": 1968.1846334934235, "time_this_iter_s": 44.82041096687317, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ca58>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c780>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2005, "time_since_restore": 1968.1846334934235, "episode_reward_max": 425.4361051709822, "hostname": "flow-main", "date": "2019-05-19_07-06-09", "episode_reward_mean": 290.1913760554049, "custom_metrics": {"cost1_mean": 93.13303828783404, "cost1_max": 133.2564223148715, "cost2_min": -20.717706410277454, "system_level_velocity_max": 11.925130391624227, "system_level_velocity_mean": 8.477179696261464, "cost1_min": 60.369823070856015, "system_level_velocity_min": 5.210676448506306, "cost2_mean": -3.3168137699923967, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2079630, "done": false, "episode_reward_min": 96.07658806486454, "episodes_this_iter": 52, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 43, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45823}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.295, "default": {"policy_loss": -0.02112594246864319, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5961769223213196, "entropy": 1.378104329109192, "vf_loss": 10.936522483825684, "cur_lr": 0.0005000000237487257, "total_loss": 10.921427726745605, "kl": 0.0201070848852396}, "grad_time_ms": 13245.233, "num_steps_sampled": 2125820, "update_time_ms": 10.894, "sample_time_ms": 31705.929, "num_steps_trained": 2125820}, "timesteps_total": 2125820, "training_iteration": 44, "timestamp": 1558249614, "time_total_s": 2012.979574918747, "time_this_iter_s": 44.794941425323486, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f87b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2048, "time_since_restore": 2012.979574918747, "episode_reward_max": 432.2626816531285, "hostname": "flow-main", "date": "2019-05-19_07-06-54", "episode_reward_mean": 278.59771731529685, "custom_metrics": {"cost1_mean": 93.49709242598315, "cost1_max": 141.56753727503104, "cost2_min": -20.717706410277454, "system_level_velocity_max": 12.052112132960733, "system_level_velocity_mean": 8.518387101885871, "cost1_min": 60.369823070856015, "system_level_velocity_min": 5.210676448506306, "cost2_mean": -3.16943628911551, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2125820, "done": false, "episode_reward_min": 96.07658806486454, "episodes_this_iter": 43, "episode_len_mean": 323.92, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 44, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46190}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.337, "default": {"policy_loss": -0.019666211679577827, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5575115084648132, "entropy": 1.396465539932251, "vf_loss": 12.488173484802246, "cur_lr": 0.0005000000237487257, "total_loss": 12.475362777709961, "kl": 0.015230486169457436}, "grad_time_ms": 13163.917, "num_steps_sampled": 2175648, "update_time_ms": 10.838, "sample_time_ms": 32067.238, "num_steps_trained": 2175648}, "timesteps_total": 2175648, "training_iteration": 45, "timestamp": 1558249660, "time_total_s": 2058.7372119426727, "time_this_iter_s": 45.75763702392578, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24e0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f22b0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2091, "time_since_restore": 2058.7372119426727, "episode_reward_max": 468.4576246134586, "hostname": "flow-main", "date": "2019-05-19_07-07-40", "episode_reward_mean": 290.26693847050154, "custom_metrics": {"cost1_mean": 93.7750142608007, "cost1_max": 141.56753727503104, "cost2_min": -20.75, "system_level_velocity_max": 12.052112132960733, "system_level_velocity_mean": 8.516035020961548, "cost1_min": 47.4275329392681, "system_level_velocity_min": 4.109123160233354, "cost2_mean": -3.1390986680770516, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2175648, "done": false, "episode_reward_min": 97.79555853062948, "episodes_this_iter": 43, "episode_len_mean": 323.89, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 45, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49828}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.769, "default": {"policy_loss": -0.020010875537991524, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4944019317626953, "entropy": 1.3888579607009888, "vf_loss": 13.820902824401855, "cur_lr": 0.0005000000237487257, "total_loss": 13.807793617248535, "kl": 0.015336941927671432}, "grad_time_ms": 12995.25, "num_steps_sampled": 2225831, "update_time_ms": 10.778, "sample_time_ms": 32299.295, "num_steps_trained": 2225831}, "timesteps_total": 2225831, "training_iteration": 46, "timestamp": 1558249706, "time_total_s": 2104.9729239940643, "time_this_iter_s": 46.2357120513916, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c668>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb70>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2143, "time_since_restore": 2104.9729239940643, "episode_reward_max": 470.22682159552943, "hostname": "flow-main", "date": "2019-05-19_07-08-26", "episode_reward_mean": 304.91317800185686, "custom_metrics": {"cost1_mean": 92.82887943273134, "cost1_max": 128.78941742579246, "cost2_min": -23.0, "system_level_velocity_max": 11.380592449127551, "system_level_velocity_mean": 8.402932452464213, "cost1_min": 47.4275329392681, "system_level_velocity_min": 4.109123160233354, "cost2_mean": -3.3887208353172493, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2225831, "done": false, "episode_reward_min": 100.39892242963487, "episodes_this_iter": 52, "episode_len_mean": 324.63, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 46, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50183}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.508, "default": {"policy_loss": -0.02181963622570038, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.565868616104126, "entropy": 1.3866065740585327, "vf_loss": 12.130786895751953, "cur_lr": 0.0005000000237487257, "total_loss": 12.116170883178711, "kl": 0.016008395701646805}, "grad_time_ms": 12769.94, "num_steps_sampled": 2272753, "update_time_ms": 10.867, "sample_time_ms": 32480.293, "num_steps_trained": 2272753}, "timesteps_total": 2272753, "training_iteration": 47, "timestamp": 1558249752, "time_total_s": 2149.993635416031, "time_this_iter_s": 45.02071142196655, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8048>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2187, "time_since_restore": 2149.993635416031, "episode_reward_max": 474.9997269180463, "hostname": "flow-main", "date": "2019-05-19_07-09-12", "episode_reward_mean": 296.36457730288936, "custom_metrics": {"cost1_mean": 94.37258946418113, "cost1_max": 139.29561504677133, "cost2_min": -23.0, "system_level_velocity_max": 11.380592449127551, "system_level_velocity_mean": 8.535795330569236, "cost1_min": 68.51890634828503, "system_level_velocity_min": 6.179574029871949, "cost2_mean": -3.1281054226425793, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2272753, "done": false, "episode_reward_min": 100.39892242963487, "episodes_this_iter": 44, "episode_len_mean": 324.66, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 47, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46922}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.493, "default": {"policy_loss": -0.020100051537156105, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5565809607505798, "entropy": 1.3943415880203247, "vf_loss": 12.350900650024414, "cur_lr": 0.0005000000237487257, "total_loss": 12.337865829467773, "kl": 0.0156994815915823}, "grad_time_ms": 12740.334, "num_steps_sampled": 2323910, "update_time_ms": 10.865, "sample_time_ms": 32694.039, "num_steps_trained": 2323910}, "timesteps_total": 2323910, "training_iteration": 48, "timestamp": 1558249798, "time_total_s": 2196.5171027183533, "time_this_iter_s": 46.52346730232239, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24e0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f25c0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2232, "time_since_restore": 2196.5171027183533, "episode_reward_max": 474.9997269180463, "hostname": "flow-main", "date": "2019-05-19_07-09-58", "episode_reward_mean": 302.40004479244004, "custom_metrics": {"cost1_mean": 94.96514906097639, "cost1_max": 139.29561504677133, "cost2_min": -15.75, "system_level_velocity_max": 11.346673653806048, "system_level_velocity_mean": 8.611235084703372, "cost1_min": 72.36428591224222, "system_level_velocity_min": 6.179574029871949, "cost2_mean": -3.2129381092630482, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2323910, "done": false, "episode_reward_min": 110.38322116696936, "episodes_this_iter": 45, "episode_len_mean": 324.23, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 48, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 51157}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.198, "default": {"policy_loss": -0.0190716702491045, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4945845603942871, "entropy": 1.3791438341140747, "vf_loss": 14.96594524383545, "cur_lr": 0.0005000000237487257, "total_loss": 14.953641891479492, "kl": 0.015038399957120419}, "grad_time_ms": 12535.073, "num_steps_sampled": 2369139, "update_time_ms": 10.687, "sample_time_ms": 32861.608, "num_steps_trained": 2369139}, "timesteps_total": 2369139, "training_iteration": 49, "timestamp": 1558249843, "time_total_s": 2241.3223774433136, "time_this_iter_s": 44.80527472496033, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e320>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c2b0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2282, "time_since_restore": 2241.3223774433136, "episode_reward_max": 521.1809015227931, "hostname": "flow-main", "date": "2019-05-19_07-10-43", "episode_reward_mean": 304.4903548079066, "custom_metrics": {"cost1_mean": 95.57749033031469, "cost1_max": 130.5202253806977, "cost2_min": -40.5, "system_level_velocity_max": 11.130632595052626, "system_level_velocity_mean": 8.665989070267324, "cost1_min": 58.76142760696235, "system_level_velocity_min": 6.000507917877354, "cost2_mean": -3.319762553085459, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2369139, "done": false, "episode_reward_min": 107.47299756570551, "episodes_this_iter": 50, "episode_len_mean": 323.97, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 49, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45229}
{"policy_reward_mean": {}, "info": {"load_time_ms": 13.922, "default": {"policy_loss": -0.018133245408535004, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.46026456356048584, "entropy": 1.3783997297286987, "vf_loss": 14.131473541259766, "cur_lr": 0.0005000000237487257, "total_loss": 14.119900703430176, "kl": 0.01457681693136692}, "grad_time_ms": 12451.836, "num_steps_sampled": 2417233, "update_time_ms": 9.768, "sample_time_ms": 32938.239, "num_steps_trained": 2417233}, "timesteps_total": 2417233, "training_iteration": 50, "timestamp": 1558249889, "time_total_s": 2286.909800052643, "time_this_iter_s": 45.587422609329224, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cd68>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2327, "time_since_restore": 2286.909800052643, "episode_reward_max": 521.1809015227931, "hostname": "flow-main", "date": "2019-05-19_07-11-29", "episode_reward_mean": 302.1525737236891, "custom_metrics": {"cost1_mean": 97.13905192804545, "cost1_max": 139.46908918289478, "cost2_min": -40.5, "system_level_velocity_max": 11.973646555745301, "system_level_velocity_mean": 8.777481687452507, "cost1_min": 58.76142760696235, "system_level_velocity_min": 6.000507917877354, "cost2_mean": -2.960841223636283, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2417233, "done": false, "episode_reward_min": 107.47299756570551, "episodes_this_iter": 45, "episode_len_mean": 324.74, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 50, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48094}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.353, "default": {"policy_loss": -0.01952221244573593, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5408628582954407, "entropy": 1.4002522230148315, "vf_loss": 12.288365364074707, "cur_lr": 0.0005000000237487257, "total_loss": 12.27573299407959, "kl": 0.015312238596379757}, "grad_time_ms": 12461.315, "num_steps_sampled": 2465169, "update_time_ms": 9.61, "sample_time_ms": 33081.623, "num_steps_trained": 2465169}, "timesteps_total": 2465169, "training_iteration": 51, "timestamp": 1558249935, "time_total_s": 2333.4174687862396, "time_this_iter_s": 46.5076687335968, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cc88>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a278>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2371, "time_since_restore": 2333.4174687862396, "episode_reward_max": 521.1809015227931, "hostname": "flow-main", "date": "2019-05-19_07-12-15", "episode_reward_mean": 301.32653815036696, "custom_metrics": {"cost1_mean": 97.5874261383904, "cost1_max": 139.46908918289478, "cost2_min": -20.0, "system_level_velocity_max": 11.973646555745301, "system_level_velocity_mean": 8.84598493742668, "cost1_min": 75.86952208693624, "system_level_velocity_min": 6.587349464814506, "cost2_mean": -2.7978362907758014, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2465169, "done": false, "episode_reward_min": 129.6889843283278, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 51, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47936}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.723, "default": {"policy_loss": -0.020157599821686745, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4484114646911621, "entropy": 1.3885540962219238, "vf_loss": 14.577718734741211, "cur_lr": 0.0005000000237487257, "total_loss": 14.564652442932129, "kl": 0.015757303684949875}, "grad_time_ms": 12341.99, "num_steps_sampled": 2514149, "update_time_ms": 9.551, "sample_time_ms": 33154.356, "num_steps_trained": 2514149}, "timesteps_total": 2514149, "training_iteration": 52, "timestamp": 1558249981, "time_total_s": 2379.5307943820953, "time_this_iter_s": 46.11332559585571, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667d68>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667dd8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2417, "time_since_restore": 2379.5307943820953, "episode_reward_max": 515.8393821024264, "hostname": "flow-main", "date": "2019-05-19_07-13-01", "episode_reward_mean": 302.5199259859877, "custom_metrics": {"cost1_mean": 96.81448387367263, "cost1_max": 134.8708685811088, "cost2_min": -20.0, "system_level_velocity_max": 11.480343579435102, "system_level_velocity_mean": 8.787543928393902, "cost1_min": 75.86952208693624, "system_level_velocity_min": 6.587349464814506, "cost2_mean": -2.7273025779071935, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2514149, "done": false, "episode_reward_min": 94.53334430454706, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 52, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48980}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.713, "default": {"policy_loss": -0.019402503967285156, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4575574994087219, "entropy": 1.3968125581741333, "vf_loss": 14.774140357971191, "cur_lr": 0.0005000000237487257, "total_loss": 14.761606216430664, "kl": 0.01526382751762867}, "grad_time_ms": 12424.989, "num_steps_sampled": 2563996, "update_time_ms": 9.341, "sample_time_ms": 33281.577, "num_steps_trained": 2563996}, "timesteps_total": 2563996, "training_iteration": 53, "timestamp": 1558250028, "time_total_s": 2426.4525694847107, "time_this_iter_s": 46.921775102615356, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a898>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5c0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2467, "time_since_restore": 2426.4525694847107, "episode_reward_max": 515.8393821024264, "hostname": "flow-main", "date": "2019-05-19_07-13-48", "episode_reward_mean": 315.8673380623605, "custom_metrics": {"cost1_mean": 97.2205407883105, "cost1_max": 129.63484552560712, "cost2_min": -16.20411917988125, "system_level_velocity_max": 11.024832659346096, "system_level_velocity_mean": 8.80617623070845, "cost1_min": 75.39072767544728, "system_level_velocity_min": 7.197972597717842, "cost2_mean": -2.5035236564895427, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2563996, "done": false, "episode_reward_min": 94.53334430454706, "episodes_this_iter": 50, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 53, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49847}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.011, "default": {"policy_loss": -0.01827678084373474, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.45441102981567383, "entropy": 1.3910837173461914, "vf_loss": 14.021186828613281, "cur_lr": 0.0005000000237487257, "total_loss": 14.009676933288574, "kl": 0.015036523342132568}, "grad_time_ms": 12461.242, "num_steps_sampled": 2613174, "update_time_ms": 9.198, "sample_time_ms": 33263.682, "num_steps_trained": 2613174}, "timesteps_total": 2613174, "training_iteration": 54, "timestamp": 1558250073, "time_total_s": 2471.4311184883118, "time_this_iter_s": 44.978549003601074, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ef60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c828>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c3c8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2511, "time_since_restore": 2471.4311184883118, "episode_reward_max": 477.9703092374861, "hostname": "flow-main", "date": "2019-05-19_07-14-33", "episode_reward_mean": 317.07050670313345, "custom_metrics": {"cost1_mean": 96.83046509495001, "cost1_max": 127.57689251349886, "cost2_min": -10.0, "system_level_velocity_max": 11.024832659346096, "system_level_velocity_mean": 8.776864841517106, "cost1_min": 72.23782794260813, "system_level_velocity_min": 7.035037250353416, "cost2_mean": -2.5398364898971484, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2613174, "done": false, "episode_reward_min": 94.53334430454706, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 54, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49178}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.079, "default": {"policy_loss": -0.021227572113275528, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4633757770061493, "entropy": 1.3832015991210938, "vf_loss": 14.221653938293457, "cur_lr": 0.0005000000237487257, "total_loss": 14.20727825164795, "kl": 0.015224218368530273}, "grad_time_ms": 12421.279, "num_steps_sampled": 2659276, "update_time_ms": 9.071, "sample_time_ms": 33267.446, "num_steps_trained": 2659276}, "timesteps_total": 2659276, "training_iteration": 55, "timestamp": 1558250119, "time_total_s": 2516.808819770813, "time_this_iter_s": 45.37770128250122, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06678d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667390>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ba8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2555, "time_since_restore": 2516.808819770813, "episode_reward_max": 477.9703092374861, "hostname": "flow-main", "date": "2019-05-19_07-15-19", "episode_reward_mean": 304.0358541639049, "custom_metrics": {"cost1_mean": 96.65536387179289, "cost1_max": 133.44469593944027, "cost2_min": -9.88248971641879, "system_level_velocity_max": 11.072751275919668, "system_level_velocity_mean": 8.795692752004351, "cost1_min": 72.23782794260813, "system_level_velocity_min": 7.035037250353416, "cost2_mean": -2.3971472780037075, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2659276, "done": false, "episode_reward_min": 119.23957907265337, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 55, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46102}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.969, "default": {"policy_loss": -0.01852685585618019, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4851263463497162, "entropy": 1.4067963361740112, "vf_loss": 14.59731388092041, "cur_lr": 0.0005000000237487257, "total_loss": 14.586116790771484, "kl": 0.01628624089062214}, "grad_time_ms": 12388.704, "num_steps_sampled": 2707462, "update_time_ms": 8.775, "sample_time_ms": 33257.243, "num_steps_trained": 2707462}, "timesteps_total": 2707462, "training_iteration": 56, "timestamp": 1558250165, "time_total_s": 2562.595099925995, "time_this_iter_s": 45.786280155181885, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667978>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a20>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2605, "time_since_restore": 2562.595099925995, "episode_reward_max": 485.3803301448902, "hostname": "flow-main", "date": "2019-05-19_07-16-05", "episode_reward_mean": 305.5632035761779, "custom_metrics": {"cost1_mean": 97.76881471110099, "cost1_max": 141.11087849520447, "cost2_min": -9.46962207995043, "system_level_velocity_max": 11.640532098987402, "system_level_velocity_mean": 8.857472014742994, "cost1_min": 74.33066637246925, "system_level_velocity_min": 7.021003244799294, "cost2_mean": -1.9961215839981503, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2707462, "done": false, "episode_reward_min": 95.63829388471397, "episodes_this_iter": 50, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 56, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48186}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.075, "default": {"policy_loss": -0.018075712025165558, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.46871206164360046, "entropy": 1.4141885042190552, "vf_loss": 14.170713424682617, "cur_lr": 0.0005000000237487257, "total_loss": 14.15951919555664, "kl": 0.015293297357857227}, "grad_time_ms": 12450.505, "num_steps_sampled": 2757632, "update_time_ms": 8.486, "sample_time_ms": 33286.136, "num_steps_trained": 2757632}, "timesteps_total": 2757632, "training_iteration": 57, "timestamp": 1558250211, "time_total_s": 2608.528488636017, "time_this_iter_s": 45.93338871002197, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5f8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2649, "time_since_restore": 2608.528488636017, "episode_reward_max": 546.8706056638657, "hostname": "flow-main", "date": "2019-05-19_07-16-51", "episode_reward_mean": 316.41906099898756, "custom_metrics": {"cost1_mean": 97.52803340388844, "cost1_max": 141.11087849520447, "cost2_min": -9.46962207995043, "system_level_velocity_max": 11.640532098987402, "system_level_velocity_mean": 8.81148136139237, "cost1_min": 74.33066637246925, "system_level_velocity_min": 7.021003244799294, "cost2_mean": -2.1926261803798552, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2757632, "done": false, "episode_reward_min": 95.63829388471397, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 57, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50170}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.262, "default": {"policy_loss": -0.02128702960908413, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5363132357597351, "entropy": 1.4199596643447876, "vf_loss": 13.185168266296387, "cur_lr": 0.0005000000237487257, "total_loss": 13.170927047729492, "kl": 0.015656214207410812}, "grad_time_ms": 12319.247, "num_steps_sampled": 2804042, "update_time_ms": 8.502, "sample_time_ms": 33334.405, "num_steps_trained": 2804042}, "timesteps_total": 2804042, "training_iteration": 58, "timestamp": 1558250256, "time_total_s": 2654.2257022857666, "time_this_iter_s": 45.697213649749756, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f80b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f89e8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8c18>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2692, "time_since_restore": 2654.2257022857666, "episode_reward_max": 546.8706056638657, "hostname": "flow-main", "date": "2019-05-19_07-17-36", "episode_reward_mean": 304.44482066144957, "custom_metrics": {"cost1_mean": 96.64195945707048, "cost1_max": 136.71765141596657, "cost2_min": -20.25, "system_level_velocity_max": 11.44346208463271, "system_level_velocity_mean": 8.768579708162282, "cost1_min": 9.99456678425099, "system_level_velocity_min": 2.415217115481991, "cost2_mean": -2.775895815816112, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2804042, "done": false, "episode_reward_min": 30.91025119445781, "episodes_this_iter": 43, "episode_len_mean": 323.08, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 58, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46410}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.614, "default": {"policy_loss": -0.01922272890806198, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.47217169404029846, "entropy": 1.42289400100708, "vf_loss": 15.217045783996582, "cur_lr": 0.0005000000237487257, "total_loss": 15.204370498657227, "kl": 0.014551188796758652}, "grad_time_ms": 12410.965, "num_steps_sampled": 2853440, "update_time_ms": 8.305, "sample_time_ms": 33357.005, "num_steps_trained": 2853440}, "timesteps_total": 2853440, "training_iteration": 59, "timestamp": 1558250302, "time_total_s": 2700.200011730194, "time_this_iter_s": 45.97430944442749, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065afd0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a438>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2744, "time_since_restore": 2700.200011730194, "episode_reward_max": 454.4787746521854, "hostname": "flow-main", "date": "2019-05-19_07-18-22", "episode_reward_mean": 295.8343430658286, "custom_metrics": {"cost1_mean": 95.85825476398982, "cost1_max": 148.38066863427582, "cost2_min": -20.25, "system_level_velocity_max": 12.663455510727074, "system_level_velocity_mean": 8.717388150939849, "cost1_min": 9.99456678425099, "system_level_velocity_min": 2.415217115481991, "cost2_mean": -3.125165278881166, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2853440, "done": false, "episode_reward_min": 30.91025119445781, "episodes_this_iter": 52, "episode_len_mean": 323.08, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 59, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49398}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.642, "default": {"policy_loss": -0.02183534763753414, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4762738049030304, "entropy": 1.4449248313903809, "vf_loss": 13.528904914855957, "cur_lr": 0.0005000000237487257, "total_loss": 13.514347076416016, "kl": 0.01617380790412426}, "grad_time_ms": 12402.054, "num_steps_sampled": 2901654, "update_time_ms": 8.52, "sample_time_ms": 33381.764, "num_steps_trained": 2901654}, "timesteps_total": 2901654, "training_iteration": 60, "timestamp": 1558250348, "time_total_s": 2745.925047159195, "time_this_iter_s": 45.725035429000854, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667630>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e10>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2788, "time_since_restore": 2745.925047159195, "episode_reward_max": 449.3830888067718, "hostname": "flow-main", "date": "2019-05-19_07-19-08", "episode_reward_mean": 305.54134636372623, "custom_metrics": {"cost1_mean": 95.20378840878058, "cost1_max": 148.38066863427582, "cost2_min": -20.25, "system_level_velocity_max": 12.663455510727074, "system_level_velocity_mean": 8.6366086231031, "cost1_min": 9.99456678425099, "system_level_velocity_min": 2.415217115481991, "cost2_mean": -3.392861516975032, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2901654, "done": false, "episode_reward_min": 30.91025119445781, "episodes_this_iter": 44, "episode_len_mean": 323.08, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 60, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48214}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.77, "default": {"policy_loss": -0.020376240834593773, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5103664398193359, "entropy": 1.4258108139038086, "vf_loss": 13.690509796142578, "cur_lr": 0.0005000000237487257, "total_loss": 13.677108764648438, "kl": 0.015501139685511589}, "grad_time_ms": 12294.911, "num_steps_sampled": 2949596, "update_time_ms": 8.445, "sample_time_ms": 33278.05, "num_steps_trained": 2949596}, "timesteps_total": 2949596, "training_iteration": 61, "timestamp": 1558250393, "time_total_s": 2790.342009305954, "time_this_iter_s": 44.41696214675903, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f88d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2832, "time_since_restore": 2790.342009305954, "episode_reward_max": 449.7879527816397, "hostname": "flow-main", "date": "2019-05-19_07-19-53", "episode_reward_mean": 309.7726285616462, "custom_metrics": {"cost1_mean": 98.73238382924326, "cost1_max": 225.49572643674213, "cost2_min": -11.5565471063875, "system_level_velocity_max": 17.728632372945302, "system_level_velocity_mean": 8.905435734832684, "cost1_min": 73.68088604342078, "system_level_velocity_min": 7.107372309032866, "cost2_mean": -2.9923626920795243, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2949596, "done": false, "episode_reward_min": 82.40411853003636, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 61, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47942}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.524, "default": {"policy_loss": -0.01937839388847351, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.44974440336227417, "entropy": 1.421195149421692, "vf_loss": 15.44144344329834, "cur_lr": 0.0005000000237487257, "total_loss": 15.429398536682129, "kl": 0.016297413036227226}, "grad_time_ms": 12301.439, "num_steps_sampled": 2998700, "update_time_ms": 8.24, "sample_time_ms": 33260.274, "num_steps_trained": 2998700}, "timesteps_total": 2998700, "training_iteration": 62, "timestamp": 1558250439, "time_total_s": 2836.3343889713287, "time_this_iter_s": 45.992379665374756, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a128>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aeb8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2883, "time_since_restore": 2836.3343889713287, "episode_reward_max": 449.7879527816397, "hostname": "flow-main", "date": "2019-05-19_07-20-39", "episode_reward_mean": 304.56710063150183, "custom_metrics": {"cost1_mean": 97.26613551537821, "cost1_max": 225.49572643674213, "cost2_min": -10.0, "system_level_velocity_max": 17.728632372945302, "system_level_velocity_mean": 8.80238425729244, "cost1_min": 75.21408546533361, "system_level_velocity_min": 7.13708620097571, "cost2_mean": -2.9560374949562087, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 2998700, "done": false, "episode_reward_min": 82.40411853003636, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 62, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49104}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.367, "default": {"policy_loss": -0.019342008978128433, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.515928328037262, "entropy": 1.445470929145813, "vf_loss": 13.85582447052002, "cur_lr": 0.0005000000237487257, "total_loss": 13.843332290649414, "kl": 0.015217415057122707}, "grad_time_ms": 12342.155, "num_steps_sampled": 3047770, "update_time_ms": 8.27, "sample_time_ms": 33157.732, "num_steps_trained": 3047770}, "timesteps_total": 3047770, "training_iteration": 63, "timestamp": 1558250485, "time_total_s": 2882.65545463562, "time_this_iter_s": 46.32106566429138, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e80>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667390>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2928, "time_since_restore": 2882.65545463562, "episode_reward_max": 578.3253502384754, "hostname": "flow-main", "date": "2019-05-19_07-21-25", "episode_reward_mean": 305.2419714331044, "custom_metrics": {"cost1_mean": 95.26456665665513, "cost1_max": 145.3313375596191, "cost2_min": -21.0, "system_level_velocity_max": 12.084645771847718, "system_level_velocity_mean": 8.63212273295136, "cost1_min": 75.21408546533361, "system_level_velocity_min": 7.13708620097571, "cost2_mean": -3.374452199097851, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3047770, "done": false, "episode_reward_min": 112.74655315610813, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 63, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49070}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.091, "default": {"policy_loss": -0.02066456526517868, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5248847007751465, "entropy": 1.4347246885299683, "vf_loss": 13.612312316894531, "cur_lr": 0.0005000000237487257, "total_loss": 13.59879207611084, "kl": 0.015877267345786095}, "grad_time_ms": 12303.39, "num_steps_sampled": 3095708, "update_time_ms": 8.169, "sample_time_ms": 33249.255, "num_steps_trained": 3095708}, "timesteps_total": 3095708, "training_iteration": 64, "timestamp": 1558250530, "time_total_s": 2928.147891998291, "time_this_iter_s": 45.4924373626709, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f28>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2971, "time_since_restore": 2928.147891998291, "episode_reward_max": 578.3253502384754, "hostname": "flow-main", "date": "2019-05-19_07-22-10", "episode_reward_mean": 303.20680904791885, "custom_metrics": {"cost1_mean": 95.93838881221365, "cost1_max": 145.3313375596191, "cost2_min": -21.0, "system_level_velocity_max": 12.084645771847718, "system_level_velocity_mean": 8.694120734992854, "cost1_min": 66.36290961301032, "system_level_velocity_min": 6.418341876110216, "cost2_mean": -2.9971689455403516, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3095708, "done": false, "episode_reward_min": 94.10510187570624, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 64, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47938}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.914, "default": {"policy_loss": -0.021860867738723755, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.48444950580596924, "entropy": 1.453495979309082, "vf_loss": 15.448164939880371, "cur_lr": 0.0005000000237487257, "total_loss": 15.4336576461792, "kl": 0.016341757029294968}, "grad_time_ms": 12291.702, "num_steps_sampled": 3142746, "update_time_ms": 7.974, "sample_time_ms": 33276.774, "num_steps_trained": 3142746}, "timesteps_total": 3142746, "training_iteration": 65, "timestamp": 1558250576, "time_total_s": 2973.680452823639, "time_this_iter_s": 45.5325608253479, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065abe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a390>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3018, "time_since_restore": 2973.680452823639, "episode_reward_max": 526.2162906833485, "hostname": "flow-main", "date": "2019-05-19_07-22-56", "episode_reward_mean": 304.97574525451205, "custom_metrics": {"cost1_mean": 97.16634879508705, "cost1_max": 134.87786141962926, "cost2_min": -13.25, "system_level_velocity_max": 11.907478824970124, "system_level_velocity_mean": 8.80331640180857, "cost1_min": 66.36290961301032, "system_level_velocity_min": 6.418341876110216, "cost2_mean": -2.5403308600602745, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3142746, "done": false, "episode_reward_min": 94.10510187570624, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 65, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47038}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.669, "default": {"policy_loss": -0.022277770563960075, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4197787940502167, "entropy": 1.4472813606262207, "vf_loss": 14.870280265808105, "cur_lr": 0.0005000000237487257, "total_loss": 14.855496406555176, "kl": 0.016652118414640427}, "grad_time_ms": 12313.089, "num_steps_sampled": 3190395, "update_time_ms": 7.925, "sample_time_ms": 33297.96, "num_steps_trained": 3190395}, "timesteps_total": 3190395, "training_iteration": 66, "timestamp": 1558250622, "time_total_s": 3019.881103992462, "time_this_iter_s": 46.20065116882324, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ada0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a208>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3068, "time_since_restore": 3019.881103992462, "episode_reward_max": 526.2162906833485, "hostname": "flow-main", "date": "2019-05-19_07-23-42", "episode_reward_mean": 305.9635041611179, "custom_metrics": {"cost1_mean": 97.50147270293485, "cost1_max": 131.55407267083683, "cost2_min": -11.5, "system_level_velocity_max": 11.317283758115597, "system_level_velocity_mean": 8.836399810488283, "cost1_min": 68.07031738205501, "system_level_velocity_min": 6.6066496764962315, "cost2_mean": -2.563264915111381, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3190395, "done": false, "episode_reward_min": 169.04775065717018, "episodes_this_iter": 50, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 66, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47649}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.4, "default": {"policy_loss": -0.021368496119976044, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.49912041425704956, "entropy": 1.4500070810317993, "vf_loss": 12.843523979187012, "cur_lr": 0.0005000000237487257, "total_loss": 12.829436302185059, "kl": 0.016179228201508522}, "grad_time_ms": 12213.987, "num_steps_sampled": 3237151, "update_time_ms": 7.973, "sample_time_ms": 33286.894, "num_steps_trained": 3237151}, "timesteps_total": 3237151, "training_iteration": 67, "timestamp": 1558250667, "time_total_s": 3064.7023179531097, "time_this_iter_s": 44.82121396064758, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667c50>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f60>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3111, "time_since_restore": 3064.7023179531097, "episode_reward_max": 478.54813875832923, "hostname": "flow-main", "date": "2019-05-19_07-24-27", "episode_reward_mean": 302.487137186175, "custom_metrics": {"cost1_mean": 97.2233584686804, "cost1_max": 125.89521714312852, "cost2_min": -11.5, "system_level_velocity_max": 10.943197141126385, "system_level_velocity_mean": 8.820184799827288, "cost1_min": 66.01546396403403, "system_level_velocity_min": 6.371521482044945, "cost2_mean": -2.5889792749598097, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3237151, "done": false, "episode_reward_min": 131.9519015355519, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 67, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46756}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.259, "default": {"policy_loss": -0.020736070349812508, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5167899131774902, "entropy": 1.4581574201583862, "vf_loss": 13.371551513671875, "cur_lr": 0.0005000000237487257, "total_loss": 13.357900619506836, "kl": 0.01574392057955265}, "grad_time_ms": 12248.009, "num_steps_sampled": 3284363, "update_time_ms": 8.068, "sample_time_ms": 33186.861, "num_steps_trained": 3284363}, "timesteps_total": 3284363, "training_iteration": 68, "timestamp": 1558250712, "time_total_s": 3109.759428024292, "time_this_iter_s": 45.05711007118225, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f85f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8668>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3155, "time_since_restore": 3109.759428024292, "episode_reward_max": 479.6791115677663, "hostname": "flow-main", "date": "2019-05-19_07-25-12", "episode_reward_mean": 297.7738001279021, "custom_metrics": {"cost1_mean": 97.14338720530321, "cost1_max": 159.05514376212957, "cost2_min": -11.5, "system_level_velocity_max": 12.975717494015838, "system_level_velocity_mean": 8.807563319615525, "cost1_min": 64.43230339345557, "system_level_velocity_min": 5.860199024260461, "cost2_mean": -2.5985806749711537, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3284363, "done": false, "episode_reward_min": 131.9519015355519, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 68, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47212}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.239, "default": {"policy_loss": -0.019579945132136345, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45813417434692383, "entropy": 1.4453251361846924, "vf_loss": 16.024377822875977, "cur_lr": 0.0005000000237487257, "total_loss": 16.011627197265625, "kl": 0.015175801701843739}, "grad_time_ms": 12246.824, "num_steps_sampled": 3332770, "update_time_ms": 8.169, "sample_time_ms": 33218.584, "num_steps_trained": 3332770}, "timesteps_total": 3332770, "training_iteration": 69, "timestamp": 1558250759, "time_total_s": 3156.0273673534393, "time_this_iter_s": 46.26793932914734, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065abe0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5c0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3206, "time_since_restore": 3156.0273673534393, "episode_reward_max": 479.6791115677663, "hostname": "flow-main", "date": "2019-05-19_07-25-59", "episode_reward_mean": 304.52198753493013, "custom_metrics": {"cost1_mean": 97.7388740194346, "cost1_max": 159.05514376212957, "cost2_min": -9.666666666666666, "system_level_velocity_max": 12.975717494015838, "system_level_velocity_mean": 8.846458970827932, "cost1_min": 64.43230339345557, "system_level_velocity_min": 5.860199024260461, "cost2_mean": -2.37631106019986, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3332770, "done": false, "episode_reward_min": 131.9519015355519, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 69, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48407}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.622, "default": {"policy_loss": -0.02065659500658512, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4482906460762024, "entropy": 1.466020941734314, "vf_loss": 14.171290397644043, "cur_lr": 0.0005000000237487257, "total_loss": 14.157710075378418, "kl": 0.015724509954452515}, "grad_time_ms": 12215.764, "num_steps_sampled": 3380958, "update_time_ms": 7.975, "sample_time_ms": 33244.793, "num_steps_trained": 3380958}, "timesteps_total": 3380958, "training_iteration": 70, "timestamp": 1558250804, "time_total_s": 3201.714609146118, "time_this_iter_s": 45.68724179267883, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408438>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac18>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3250, "time_since_restore": 3201.714609146118, "episode_reward_max": 457.9506939107739, "hostname": "flow-main", "date": "2019-05-19_07-26-44", "episode_reward_mean": 310.87694028823256, "custom_metrics": {"cost1_mean": 97.34877148066798, "cost1_max": 152.65023130359123, "cost2_min": -10.333333333333332, "system_level_velocity_max": 12.476678171139866, "system_level_velocity_mean": 8.828519795264159, "cost1_min": 80.08092826194564, "system_level_velocity_min": 7.528638582273278, "cost2_mean": -2.6870370275849225, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3380958, "done": false, "episode_reward_min": 165.8474538603237, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 70, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48188}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.831, "default": {"policy_loss": -0.020704034715890884, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4881029427051544, "entropy": 1.473848581314087, "vf_loss": 14.452528953552246, "cur_lr": 0.0005000000237487257, "total_loss": 14.439254760742188, "kl": 0.016513297334313393}, "grad_time_ms": 12314.552, "num_steps_sampled": 3430845, "update_time_ms": 7.911, "sample_time_ms": 33291.731, "num_steps_trained": 3430845}, "timesteps_total": 3430845, "training_iteration": 71, "timestamp": 1558250850, "time_total_s": 3247.5745272636414, "time_this_iter_s": 45.85991811752319, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c588>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c4a8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3292, "time_since_restore": 3247.5745272636414, "episode_reward_max": 597.6682482952607, "hostname": "flow-main", "date": "2019-05-19_07-27-30", "episode_reward_mean": 317.600719454605, "custom_metrics": {"cost1_mean": 99.90678089387225, "cost1_max": 159.02568759375202, "cost2_min": -10.333333333333332, "system_level_velocity_max": 13.182602330657122, "system_level_velocity_mean": 8.983824540696277, "cost1_min": 70.33023121610904, "system_level_velocity_min": 6.8104256309810385, "cost2_mean": -2.467754128023778, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3430845, "done": false, "episode_reward_min": 114.86244878984998, "episodes_this_iter": 42, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 71, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49887}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.782, "default": {"policy_loss": -0.02056213468313217, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45672160387039185, "entropy": 1.4788923263549805, "vf_loss": 16.184507369995117, "cur_lr": 0.0005000000237487257, "total_loss": 16.171316146850586, "kl": 0.016384273767471313}, "grad_time_ms": 12234.456, "num_steps_sampled": 3476313, "update_time_ms": 7.948, "sample_time_ms": 33402.744, "num_steps_trained": 3476313}, "timesteps_total": 3476313, "training_iteration": 72, "timestamp": 1558250897, "time_total_s": 3293.8731002807617, "time_this_iter_s": 46.29857301712036, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667d68>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06679e8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3344, "time_since_restore": 3293.8731002807617, "episode_reward_max": 597.6682482952607, "hostname": "flow-main", "date": "2019-05-19_07-28-17", "episode_reward_mean": 311.14226103685934, "custom_metrics": {"cost1_mean": 99.63212360200023, "cost1_max": 159.02568759375202, "cost2_min": -19.666666666666664, "system_level_velocity_max": 13.182602330657122, "system_level_velocity_mean": 8.945083277637968, "cost1_min": 65.78987144104771, "system_level_velocity_min": 5.961783718957012, "cost2_mean": -2.1424906618481017, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3476313, "done": false, "episode_reward_min": 92.00926294764344, "episodes_this_iter": 52, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 72, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45468}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.871, "default": {"policy_loss": -0.020060960203409195, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5084531307220459, "entropy": 1.4826595783233643, "vf_loss": 13.645601272583008, "cur_lr": 0.0005000000237487257, "total_loss": 13.63270092010498, "kl": 0.01591266505420208}, "grad_time_ms": 12126.523, "num_steps_sampled": 3524487, "update_time_ms": 7.873, "sample_time_ms": 33520.697, "num_steps_trained": 3524487}, "timesteps_total": 3524487, "training_iteration": 73, "timestamp": 1558250943, "time_total_s": 3340.2671327590942, "time_this_iter_s": 46.39403247833252, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065add8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a320>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3388, "time_since_restore": 3340.2671327590942, "episode_reward_max": 432.9938329734576, "hostname": "flow-main", "date": "2019-05-19_07-29-03", "episode_reward_mean": 300.45812997734834, "custom_metrics": {"cost1_mean": 96.03852374661106, "cost1_max": 133.90006421876456, "cost2_min": -21.666666666666664, "system_level_velocity_max": 11.262248459076089, "system_level_velocity_mean": 8.680459777984353, "cost1_min": 10.17721649824016, "system_level_velocity_min": 2.628755632049031, "cost2_mean": -2.4635014728137508, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3524487, "done": false, "episode_reward_min": 23.81302756629986, "episodes_this_iter": 44, "episode_len_mean": 323.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 73, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48174}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.702, "default": {"policy_loss": -0.021143153309822083, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4570830762386322, "entropy": 1.4893089532852173, "vf_loss": 13.407245635986328, "cur_lr": 0.0005000000237487257, "total_loss": 13.393318176269531, "kl": 0.01603235863149166}, "grad_time_ms": 12130.788, "num_steps_sampled": 3572566, "update_time_ms": 7.957, "sample_time_ms": 33504.447, "num_steps_trained": 3572566}, "timesteps_total": 3572566, "training_iteration": 74, "timestamp": 1558250988, "time_total_s": 3385.6277861595154, "time_this_iter_s": 45.36065340042114, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04086d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082b0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408438>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3433, "time_since_restore": 3385.6277861595154, "episode_reward_max": 451.89354022158005, "hostname": "flow-main", "date": "2019-05-19_07-29-48", "episode_reward_mean": 299.6927118143429, "custom_metrics": {"cost1_mean": 94.56396186666953, "cost1_max": 133.90006421876456, "cost2_min": -21.666666666666664, "system_level_velocity_max": 11.258229474843809, "system_level_velocity_mean": 8.552383233680178, "cost1_min": 10.17721649824016, "system_level_velocity_min": 2.628755632049031, "cost2_mean": -2.9716541221494683, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3572566, "done": false, "episode_reward_min": 23.81302756629986, "episodes_this_iter": 45, "episode_len_mean": 323.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 74, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48079}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.213, "default": {"policy_loss": -0.020489457994699478, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4284445643424988, "entropy": 1.4923207759857178, "vf_loss": 15.597436904907227, "cur_lr": 0.0005000000237487257, "total_loss": 15.58409309387207, "kl": 0.01587875746190548}, "grad_time_ms": 12111.98, "num_steps_sampled": 3619815, "update_time_ms": 8.087, "sample_time_ms": 33618.412, "num_steps_trained": 3619815}, "timesteps_total": 3619815, "training_iteration": 75, "timestamp": 1558251035, "time_total_s": 3432.124128818512, "time_this_iter_s": 46.49634265899658, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408860>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408cf8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3484, "time_since_restore": 3432.124128818512, "episode_reward_max": 451.89354022158005, "hostname": "flow-main", "date": "2019-05-19_07-30-35", "episode_reward_mean": 301.81898473846036, "custom_metrics": {"cost1_mean": 96.27667517676764, "cost1_max": 128.59078414332112, "cost2_min": -11.566860967594438, "system_level_velocity_max": 10.95702033363272, "system_level_velocity_mean": 8.72269419964138, "cost1_min": 72.56239606557577, "system_level_velocity_min": 6.929288928907198, "cost2_mean": -2.319389971400237, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3619815, "done": false, "episode_reward_min": 96.93181334677767, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 75, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47249}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.204, "default": {"policy_loss": -0.021133102476596832, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4356529116630554, "entropy": 1.4929324388504028, "vf_loss": 13.222198486328125, "cur_lr": 0.0005000000237487257, "total_loss": 13.208383560180664, "kl": 0.016263611614704132}, "grad_time_ms": 12178.636, "num_steps_sampled": 3669741, "update_time_ms": 8.401, "sample_time_ms": 33537.663, "num_steps_trained": 3669741}, "timesteps_total": 3669741, "training_iteration": 76, "timestamp": 1558251081, "time_total_s": 3478.217515707016, "time_this_iter_s": 46.09338688850403, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2390>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b00>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3528, "time_since_restore": 3478.217515707016, "episode_reward_max": 420.32768398024905, "hostname": "flow-main", "date": "2019-05-19_07-31-21", "episode_reward_mean": 307.46206752894875, "custom_metrics": {"cost1_mean": 96.36193162633143, "cost1_max": 128.59078414332112, "cost2_min": -10.0, "system_level_velocity_max": 10.95702033363272, "system_level_velocity_mean": 8.740974898779982, "cost1_min": 70.52983765456983, "system_level_velocity_min": 6.7792066216173055, "cost2_mean": -2.0616001169504687, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3669741, "done": false, "episode_reward_min": 96.93181334677767, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 76, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49926}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.429, "default": {"policy_loss": -0.02231358177959919, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4924990236759186, "entropy": 1.515261173248291, "vf_loss": 14.017168998718262, "cur_lr": 0.0005000000237487257, "total_loss": 14.002542495727539, "kl": 0.017079463228583336}, "grad_time_ms": 12153.259, "num_steps_sampled": 3715049, "update_time_ms": 8.424, "sample_time_ms": 33507.564, "num_steps_trained": 3715049}, "timesteps_total": 3715049, "training_iteration": 77, "timestamp": 1558251125, "time_total_s": 3522.4845292568207, "time_this_iter_s": 44.26701354980469, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c668>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3572, "time_since_restore": 3522.4845292568207, "episode_reward_max": 420.32768398024905, "hostname": "flow-main", "date": "2019-05-19_07-32-05", "episode_reward_mean": 303.4261604389791, "custom_metrics": {"cost1_mean": 96.415155603669, "cost1_max": 138.92047271526081, "cost2_min": -15.25, "system_level_velocity_max": 11.761421708393929, "system_level_velocity_mean": 8.72378721815729, "cost1_min": 34.98610293891747, "system_level_velocity_min": 3.094932307837559, "cost2_mean": -2.709841995195541, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3715049, "done": false, "episode_reward_min": 107.36210832754125, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 77, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45308}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.412, "default": {"policy_loss": -0.02147253043949604, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4377531409263611, "entropy": 1.5091403722763062, "vf_loss": 14.203564643859863, "cur_lr": 0.0005000000237487257, "total_loss": 14.19045639038086, "kl": 0.018587937578558922}, "grad_time_ms": 12149.57, "num_steps_sampled": 3761222, "update_time_ms": 8.29, "sample_time_ms": 33508.168, "num_steps_trained": 3761222}, "timesteps_total": 3761222, "training_iteration": 78, "timestamp": 1558251170, "time_total_s": 3567.497633457184, "time_this_iter_s": 45.01310420036316, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8860>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ba8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3619, "time_since_restore": 3567.497633457184, "episode_reward_max": 471.8028557624421, "hostname": "flow-main", "date": "2019-05-19_07-32-50", "episode_reward_mean": 286.5535936316959, "custom_metrics": {"cost1_mean": 96.85930500854857, "cost1_max": 140.92276453028677, "cost2_min": -15.5, "system_level_velocity_max": 11.94853839356762, "system_level_velocity_mean": 8.77080717820062, "cost1_min": 34.98610293891747, "system_level_velocity_min": 3.094932307837559, "cost2_mean": -3.288749345220529, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3761222, "done": false, "episode_reward_min": 107.36210832754125, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 78, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46173}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.313, "default": {"policy_loss": -0.022449258714914322, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.43484267592430115, "entropy": 1.5210546255111694, "vf_loss": 14.840776443481445, "cur_lr": 0.0005000000237487257, "total_loss": 14.826155662536621, "kl": 0.017395615577697754}, "grad_time_ms": 12164.721, "num_steps_sampled": 3807947, "update_time_ms": 8.501, "sample_time_ms": 33533.245, "num_steps_trained": 3807947}, "timesteps_total": 3807947, "training_iteration": 79, "timestamp": 1558251217, "time_total_s": 3614.1872701644897, "time_this_iter_s": 46.68963670730591, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408550>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3668, "time_since_restore": 3614.1872701644897, "episode_reward_max": 531.1741190447323, "hostname": "flow-main", "date": "2019-05-19_07-33-37", "episode_reward_mean": 294.5755752308214, "custom_metrics": {"cost1_mean": 96.39439920198674, "cost1_max": 140.92276453028677, "cost2_min": -15.5, "system_level_velocity_max": 11.94853839356762, "system_level_velocity_mean": 8.744024598856168, "cost1_min": 73.44306218103884, "system_level_velocity_min": 7.045558911074306, "cost2_mean": -2.965171495309743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3807947, "done": false, "episode_reward_min": 127.96552506626952, "episodes_this_iter": 49, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 79, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46725}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.158, "default": {"policy_loss": -0.022245673462748528, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4062410295009613, "entropy": 1.5205837488174438, "vf_loss": 12.80063247680664, "cur_lr": 0.0005000000237487257, "total_loss": 12.786250114440918, "kl": 0.017470840364694595}, "grad_time_ms": 12176.101, "num_steps_sampled": 3853468, "update_time_ms": 8.67, "sample_time_ms": 33359.872, "num_steps_trained": 3853468}, "timesteps_total": 3853468, "training_iteration": 80, "timestamp": 1558251261, "time_total_s": 3658.2351081371307, "time_this_iter_s": 44.04783797264099, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2940>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f98>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3711, "time_since_restore": 3658.2351081371307, "episode_reward_max": 531.1741190447323, "hostname": "flow-main", "date": "2019-05-19_07-34-21", "episode_reward_mean": 298.19784256598183, "custom_metrics": {"cost1_mean": 96.91866518336614, "cost1_max": 133.3935297611831, "cost2_min": -23.5, "system_level_velocity_max": 11.051020952324649, "system_level_velocity_mean": 8.800508201531862, "cost1_min": 73.44306218103884, "system_level_velocity_min": 7.187576774786405, "cost2_mean": -2.8235352268821248, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3853468, "done": false, "episode_reward_min": 126.3417656767397, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 80, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45521}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.96, "default": {"policy_loss": -0.022176023572683334, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.40490442514419556, "entropy": 1.5292638540267944, "vf_loss": 13.485269546508789, "cur_lr": 0.0005000000237487257, "total_loss": 13.470723152160645, "kl": 0.016957499086856842}, "grad_time_ms": 12220.082, "num_steps_sampled": 3903020, "update_time_ms": 8.606, "sample_time_ms": 33309.237, "num_steps_trained": 3903020}, "timesteps_total": 3903020, "training_iteration": 81, "timestamp": 1558251307, "time_total_s": 3704.0189759731293, "time_this_iter_s": 45.783867835998535, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c518>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3756, "time_since_restore": 3704.0189759731293, "episode_reward_max": 465.5259482543206, "hostname": "flow-main", "date": "2019-05-19_07-35-07", "episode_reward_mean": 296.616214365888, "custom_metrics": {"cost1_mean": 95.61887444932364, "cost1_max": 127.055384765467, "cost2_min": -23.5, "system_level_velocity_max": 11.14290751787295, "system_level_velocity_mean": 8.69926880126255, "cost1_min": 69.37246313969698, "system_level_velocity_min": 6.529447599116934, "cost2_mean": -2.5808560036389245, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3903020, "done": false, "episode_reward_min": 100.5487146342049, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 81, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49552}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.981, "default": {"policy_loss": -0.022948315367102623, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4276118576526642, "entropy": 1.5293970108032227, "vf_loss": 15.006095886230469, "cur_lr": 0.0005000000237487257, "total_loss": 14.991040229797363, "kl": 0.01753631979227066}, "grad_time_ms": 12323.963, "num_steps_sampled": 3950013, "update_time_ms": 8.65, "sample_time_ms": 33107.973, "num_steps_trained": 3950013}, "timesteps_total": 3950013, "training_iteration": 82, "timestamp": 1558251353, "time_total_s": 3749.359538793564, "time_this_iter_s": 45.34056282043457, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8898>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8240>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3807, "time_since_restore": 3749.359538793564, "episode_reward_max": 458.3737969864866, "hostname": "flow-main", "date": "2019-05-19_07-35-53", "episode_reward_mean": 307.6787653060569, "custom_metrics": {"cost1_mean": 97.27152608548, "cost1_max": 140.69934836155238, "cost2_min": -9.75, "system_level_velocity_max": 11.993191892927243, "system_level_velocity_mean": 8.775789492232937, "cost1_min": 69.37246313969698, "system_level_velocity_min": 6.529447599116934, "cost2_mean": -2.2528715844063414, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3950013, "done": false, "episode_reward_min": 21.25940243120474, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 82, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46993}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.227, "default": {"policy_loss": -0.022233007475733757, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4635547995567322, "entropy": 1.5456310510635376, "vf_loss": 12.938215255737305, "cur_lr": 0.0005000000237487257, "total_loss": 12.924003601074219, "kl": 0.01782061904668808}, "grad_time_ms": 12492.51, "num_steps_sampled": 3999365, "update_time_ms": 8.828, "sample_time_ms": 32807.218, "num_steps_trained": 3999365}, "timesteps_total": 3999365, "training_iteration": 83, "timestamp": 1558251398, "time_total_s": 3794.4382331371307, "time_this_iter_s": 45.078694343566895, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676d8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3850, "time_since_restore": 3794.4382331371307, "episode_reward_max": 452.99943676697757, "hostname": "flow-main", "date": "2019-05-19_07-36-38", "episode_reward_mean": 311.96368611650183, "custom_metrics": {"cost1_mean": 97.92649056359072, "cost1_max": 140.69934836155238, "cost2_min": -11.084718852802519, "system_level_velocity_max": 11.993191892927243, "system_level_velocity_mean": 8.813358709516711, "cost1_min": 73.55288092290594, "system_level_velocity_min": 6.946414692183143, "cost2_mean": -2.5466958796950827, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 3999365, "done": false, "episode_reward_min": 21.25940243120474, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 83, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49352}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.832, "default": {"policy_loss": -0.020629994571208954, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.517594039440155, "entropy": 1.5442878007888794, "vf_loss": 12.964714050292969, "cur_lr": 0.0005000000237487257, "total_loss": 12.951491355895996, "kl": 0.01646467298269272}, "grad_time_ms": 12704.179, "num_steps_sampled": 4049507, "update_time_ms": 8.675, "sample_time_ms": 32648.602, "num_steps_trained": 4049507}, "timesteps_total": 4049507, "training_iteration": 84, "timestamp": 1558251444, "time_total_s": 3840.352950334549, "time_this_iter_s": 45.91471719741821, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2438>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3893, "time_since_restore": 3840.352950334549, "episode_reward_max": 461.03360604642404, "hostname": "flow-main", "date": "2019-05-19_07-37-24", "episode_reward_mean": 319.4182860498293, "custom_metrics": {"cost1_mean": 97.02246401881263, "cost1_max": 137.46998482321663, "cost2_min": -11.084718852802519, "system_level_velocity_max": 11.292733429854348, "system_level_velocity_mean": 8.722299251707993, "cost1_min": 70.92906108818232, "system_level_velocity_min": 6.667306961576703, "cost2_mean": -2.1144080383238055, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4049507, "done": false, "episode_reward_min": 121.82136133662993, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 84, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50142}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.411, "default": {"policy_loss": -0.021800773218274117, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.42082011699676514, "entropy": 1.546058177947998, "vf_loss": 15.468214988708496, "cur_lr": 0.0005000000237487257, "total_loss": 15.453892707824707, "kl": 0.01661941036581993}, "grad_time_ms": 12942.741, "num_steps_sampled": 4096760, "update_time_ms": 8.718, "sample_time_ms": 32412.706, "num_steps_trained": 4096760}, "timesteps_total": 4096760, "training_iteration": 85, "timestamp": 1558251490, "time_total_s": 3886.878609418869, "time_this_iter_s": 46.52565908432007, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c518>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3945, "time_since_restore": 3886.878609418869, "episode_reward_max": 461.03360604642404, "hostname": "flow-main", "date": "2019-05-19_07-38-10", "episode_reward_mean": 313.21048956429075, "custom_metrics": {"cost1_mean": 98.07544027404101, "cost1_max": 129.00105078897147, "cost2_min": -10.454303022090231, "system_level_velocity_max": 11.106227889815866, "system_level_velocity_mean": 8.813679038188871, "cost1_min": 70.92906108818232, "system_level_velocity_min": 6.667306961576703, "cost2_mean": -1.6996966751799811, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4096760, "done": false, "episode_reward_min": 121.82136133662993, "episodes_this_iter": 52, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 85, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47253}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.658, "default": {"policy_loss": -0.021253518760204315, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.48346537351608276, "entropy": 1.558748483657837, "vf_loss": 12.63919734954834, "cur_lr": 0.0005000000237487257, "total_loss": 12.625372886657715, "kl": 0.016509968787431717}, "grad_time_ms": 12978.154, "num_steps_sampled": 4145615, "update_time_ms": 8.514, "sample_time_ms": 32336.421, "num_steps_trained": 4145615}, "timesteps_total": 4145615, "training_iteration": 86, "timestamp": 1558251536, "time_total_s": 3932.5403995513916, "time_this_iter_s": 45.66179013252258, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8630>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e48>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3988, "time_since_restore": 3932.5403995513916, "episode_reward_max": 448.75171894460834, "hostname": "flow-main", "date": "2019-05-19_07-38-56", "episode_reward_mean": 313.59186229698525, "custom_metrics": {"cost1_mean": 98.24379034054074, "cost1_max": 129.00105078897147, "cost2_min": -8.5, "system_level_velocity_max": 11.106227889815866, "system_level_velocity_mean": 8.82198766050384, "cost1_min": 79.9990794650254, "system_level_velocity_min": 7.449937780932281, "cost2_mean": -1.9798809964906203, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4145615, "done": false, "episode_reward_min": 174.4425749355579, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 86, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48855}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.914, "default": {"policy_loss": -0.022140663117170334, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5133805871009827, "entropy": 1.5680705308914185, "vf_loss": 13.345003128051758, "cur_lr": 0.0005000000237487257, "total_loss": 13.330365180969238, "kl": 0.01667376607656479}, "grad_time_ms": 13145.909, "num_steps_sampled": 4193537, "update_time_ms": 8.641, "sample_time_ms": 32299.848, "num_steps_trained": 4193537}, "timesteps_total": 4193537, "training_iteration": 87, "timestamp": 1558251582, "time_total_s": 3978.1306200027466, "time_this_iter_s": 45.59022045135498, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04085f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408438>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4033, "time_since_restore": 3978.1306200027466, "episode_reward_max": 486.0205228922757, "hostname": "flow-main", "date": "2019-05-19_07-39-42", "episode_reward_mean": 309.99586805040184, "custom_metrics": {"cost1_mean": 96.77983647893741, "cost1_max": 128.49605830945939, "cost2_min": -28.0, "system_level_velocity_max": 10.491186436503833, "system_level_velocity_mean": 8.69966777463447, "cost1_min": 42.035863646188915, "system_level_velocity_min": 3.733267477779494, "cost2_mean": -2.6529746936942136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4193537, "done": false, "episode_reward_min": 105.51945353364518, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 87, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47922}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.835, "default": {"policy_loss": -0.0218249149620533, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4095737636089325, "entropy": 1.5641177892684937, "vf_loss": 15.777327537536621, "cur_lr": 0.0005000000237487257, "total_loss": 15.762960433959961, "kl": 0.016574811190366745}, "grad_time_ms": 13262.727, "num_steps_sampled": 4242338, "update_time_ms": 8.539, "sample_time_ms": 32295.344, "num_steps_trained": 4242338}, "timesteps_total": 4242338, "training_iteration": 88, "timestamp": 1558251628, "time_total_s": 4024.275643825531, "time_this_iter_s": 46.145023822784424, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f26d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2c18>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2978>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4084, "time_since_restore": 4024.275643825531, "episode_reward_max": 486.0205228922757, "hostname": "flow-main", "date": "2019-05-19_07-40-28", "episode_reward_mean": 305.5419739987641, "custom_metrics": {"cost1_mean": 96.09648490776695, "cost1_max": 128.49605830945939, "cost2_min": -28.0, "system_level_velocity_max": 10.491186436503833, "system_level_velocity_mean": 8.661334536434005, "cost1_min": 42.035863646188915, "system_level_velocity_min": 3.733267477779494, "cost2_mean": -2.9184233913401845, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4242338, "done": false, "episode_reward_min": 99.9837165857631, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 88, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48801}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.969, "default": {"policy_loss": -0.02098015695810318, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5198708772659302, "entropy": 1.578808069229126, "vf_loss": 13.218734741210938, "cur_lr": 0.0005000000237487257, "total_loss": 13.206061363220215, "kl": 0.01846083626151085}, "grad_time_ms": 13356.322, "num_steps_sampled": 4291391, "update_time_ms": 8.553, "sample_time_ms": 32121.747, "num_steps_trained": 4291391}, "timesteps_total": 4291391, "training_iteration": 89, "timestamp": 1558251674, "time_total_s": 4070.1496760845184, "time_this_iter_s": 45.87403225898743, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c710>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4129, "time_since_restore": 4070.1496760845184, "episode_reward_max": 453.8076524853427, "hostname": "flow-main", "date": "2019-05-19_07-41-14", "episode_reward_mean": 302.9613193676193, "custom_metrics": {"cost1_mean": 94.66765375310244, "cost1_max": 131.55257566081335, "cost2_min": -30.25, "system_level_velocity_max": 11.098196314929085, "system_level_velocity_mean": 8.545786859506045, "cost1_min": 12.895411193077317, "system_level_velocity_min": 2.1032136611481587, "cost2_mean": -3.8135444080569645, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4291391, "done": false, "episode_reward_min": 41.80716003794067, "episodes_this_iter": 45, "episode_len_mean": 323.72, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 89, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 49053}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.752, "default": {"policy_loss": -0.022083830088377, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4723629355430603, "entropy": 1.5732274055480957, "vf_loss": 13.272449493408203, "cur_lr": 0.0005000000237487257, "total_loss": 13.25789737701416, "kl": 0.016736384481191635}, "grad_time_ms": 13386.764, "num_steps_sampled": 4336920, "update_time_ms": 8.432, "sample_time_ms": 32162.569, "num_steps_trained": 4336920}, "timesteps_total": 4336920, "training_iteration": 90, "timestamp": 1558251718, "time_total_s": 4114.90663599968, "time_this_iter_s": 44.75695991516113, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f82b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8630>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86d8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4172, "time_since_restore": 4114.90663599968, "episode_reward_max": 453.8076524853427, "hostname": "flow-main", "date": "2019-05-19_07-41-58", "episode_reward_mean": 300.28257966931784, "custom_metrics": {"cost1_mean": 96.44401035780007, "cost1_max": 131.55257566081335, "cost2_min": -30.25, "system_level_velocity_max": 11.102104734390544, "system_level_velocity_mean": 8.687584789686415, "cost1_min": 12.895411193077317, "system_level_velocity_min": 2.1032136611481587, "cost2_mean": -3.40282586396871, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4336920, "done": false, "episode_reward_min": 41.80716003794067, "episodes_this_iter": 43, "episode_len_mean": 323.72, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 90, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45529}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.918, "default": {"policy_loss": -0.0205750223249197, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.4572310447692871, "entropy": 1.5905133485794067, "vf_loss": 14.556408882141113, "cur_lr": 0.0005000000237487257, "total_loss": 14.543333053588867, "kl": 0.01666347123682499}, "grad_time_ms": 13333.971, "num_steps_sampled": 4384777, "update_time_ms": 8.616, "sample_time_ms": 32196.982, "num_steps_trained": 4384777}, "timesteps_total": 4384777, "training_iteration": 91, "timestamp": 1558251764, "time_total_s": 4160.515528202057, "time_this_iter_s": 45.60889220237732, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04084a8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408fd0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4219, "time_since_restore": 4160.515528202057, "episode_reward_max": 484.02033669614997, "hostname": "flow-main", "date": "2019-05-19_07-42-44", "episode_reward_mean": 299.32776921114487, "custom_metrics": {"cost1_mean": 97.85557806665716, "cost1_max": 131.55257566081335, "cost2_min": -15.5, "system_level_velocity_max": 11.102104734390544, "system_level_velocity_mean": 8.829585682968702, "cost1_min": 75.76809780075796, "system_level_velocity_min": 6.978537968447213, "cost2_mean": -2.7399855658704344, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4384777, "done": false, "episode_reward_min": 94.59242726363773, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 91, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47857}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.829, "default": {"policy_loss": -0.022708266973495483, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4380573034286499, "entropy": 1.5859401226043701, "vf_loss": 14.117982864379883, "cur_lr": 0.0005000000237487257, "total_loss": 14.102566719055176, "kl": 0.016205379739403725}, "grad_time_ms": 13494.945, "num_steps_sampled": 4434801, "update_time_ms": 8.47, "sample_time_ms": 32192.277, "num_steps_trained": 4434801}, "timesteps_total": 4434801, "training_iteration": 92, "timestamp": 1558251811, "time_total_s": 4207.401794433594, "time_this_iter_s": 46.886266231536865, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f22b0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f28d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4269, "time_since_restore": 4207.401794433594, "episode_reward_max": 484.02033669614997, "hostname": "flow-main", "date": "2019-05-19_07-43-31", "episode_reward_mean": 304.3852377879724, "custom_metrics": {"cost1_mean": 96.191267200264, "cost1_max": 134.37871541207954, "cost2_min": -16.333333333333332, "system_level_velocity_max": 11.348811127520792, "system_level_velocity_mean": 8.683975399494496, "cost1_min": 71.22601229565136, "system_level_velocity_min": 6.66899739256154, "cost2_mean": -2.8733733049346597, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4434801, "done": false, "episode_reward_min": 163.4230103257428, "episodes_this_iter": 50, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 92, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 50024}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.769, "default": {"policy_loss": -0.023482847958803177, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.43093055486679077, "entropy": 1.588170051574707, "vf_loss": 14.855463027954102, "cur_lr": 0.0005000000237487257, "total_loss": 14.839677810668945, "kl": 0.01710631139576435}, "grad_time_ms": 13395.961, "num_steps_sampled": 4480955, "update_time_ms": 8.317, "sample_time_ms": 32180.067, "num_steps_trained": 4480955}, "timesteps_total": 4480955, "training_iteration": 93, "timestamp": 1558251855, "time_total_s": 4251.36607336998, "time_this_iter_s": 43.96427893638611, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06674a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06679e8>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408470>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4312, "time_since_restore": 4251.36607336998, "episode_reward_max": 483.3187315951434, "hostname": "flow-main", "date": "2019-05-19_07-44-15", "episode_reward_mean": 304.8898360456033, "custom_metrics": {"cost1_mean": 97.04679202197947, "cost1_max": 153.913306002143, "cost2_min": -16.333333333333332, "system_level_velocity_max": 12.722521289018305, "system_level_velocity_mean": 8.756960962194437, "cost1_min": 71.22601229565136, "system_level_velocity_min": 6.66899739256154, "cost2_mean": -2.7905938581446295, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4480955, "done": false, "episode_reward_min": 176.29895074451585, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 93, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 46154}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.793, "default": {"policy_loss": -0.019933411851525307, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.46275174617767334, "entropy": 1.5887539386749268, "vf_loss": 14.084558486938477, "cur_lr": 0.0005000000237487257, "total_loss": 14.07226848602295, "kl": 0.016979744657874107}, "grad_time_ms": 13318.038, "num_steps_sampled": 4528952, "update_time_ms": 8.401, "sample_time_ms": 32166.253, "num_steps_trained": 4528952}, "timesteps_total": 4528952, "training_iteration": 94, "timestamp": 1558251900, "time_total_s": 4296.362061023712, "time_this_iter_s": 44.9959876537323, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407438>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407e80>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4356, "time_since_restore": 4296.362061023712, "episode_reward_max": 483.3187315951434, "hostname": "flow-main", "date": "2019-05-19_07-45-00", "episode_reward_mean": 307.613554163355, "custom_metrics": {"cost1_mean": 99.07134508473227, "cost1_max": 153.913306002143, "cost2_min": -11.5, "system_level_velocity_max": 12.722521289018305, "system_level_velocity_mean": 8.908033611717862, "cost1_min": 77.74540147362474, "system_level_velocity_min": 7.1273322165420065, "cost2_mean": -2.4469201511361085, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4528952, "done": false, "episode_reward_min": 109.21444409229689, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 94, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47997}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.575, "default": {"policy_loss": -0.02292567491531372, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.465116411447525, "entropy": 1.581762433052063, "vf_loss": 14.371356964111328, "cur_lr": 0.0005000000237487257, "total_loss": 14.356335639953613, "kl": 0.01756475679576397}, "grad_time_ms": 13194.521, "num_steps_sampled": 4574027, "update_time_ms": 8.493, "sample_time_ms": 32118.519, "num_steps_trained": 4574027}, "timesteps_total": 4574027, "training_iteration": 95, "timestamp": 1558251945, "time_total_s": 4341.153784036636, "time_this_iter_s": 44.791723012924194, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04071d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04078d0>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04074e0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4407, "time_since_restore": 4341.153784036636, "episode_reward_max": 460.482009525762, "hostname": "flow-main", "date": "2019-05-19_07-45-45", "episode_reward_mean": 304.83240988689226, "custom_metrics": {"cost1_mean": 99.7012196881469, "cost1_max": 138.8956070008927, "cost2_min": -10.666666666666666, "system_level_velocity_max": 11.662756810656235, "system_level_velocity_mean": 8.952458830998529, "cost1_min": 73.63472765568405, "system_level_velocity_min": 7.116667573790259, "cost2_mean": -2.1544367026291162, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4574027, "done": false, "episode_reward_min": 109.21444409229689, "episodes_this_iter": 51, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 95, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45075}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.031, "default": {"policy_loss": -0.023381432518363, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4705759286880493, "entropy": 1.5944886207580566, "vf_loss": 13.02602481842041, "cur_lr": 0.0005000000237487257, "total_loss": 13.010892868041992, "kl": 0.018331076949834824}, "grad_time_ms": 13215.001, "num_steps_sampled": 4622315, "update_time_ms": 8.469, "sample_time_ms": 32232.895, "num_steps_trained": 4622315}, "timesteps_total": 4622315, "training_iteration": 96, "timestamp": 1558251992, "time_total_s": 4388.148142814636, "time_this_iter_s": 46.99435877799988, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aa20>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ab70>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4451, "time_since_restore": 4388.148142814636, "episode_reward_max": 460.482009525762, "hostname": "flow-main", "date": "2019-05-19_07-46-32", "episode_reward_mean": 298.03831286673034, "custom_metrics": {"cost1_mean": 99.28060584198563, "cost1_max": 138.8956070008927, "cost2_min": -14.730288160825534, "system_level_velocity_max": 11.662756810656235, "system_level_velocity_mean": 8.934734231210417, "cost1_min": 57.58372480479439, "system_level_velocity_min": 5.27650285996823, "cost2_mean": -2.459419877024666, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4622315, "done": false, "episode_reward_min": 162.87235685323446, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 96, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48288}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.717, "default": {"policy_loss": -0.024411404505372047, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4832322895526886, "entropy": 1.5922276973724365, "vf_loss": 13.510515213012695, "cur_lr": 0.0005000000237487257, "total_loss": 13.494674682617188, "kl": 0.01904335431754589}, "grad_time_ms": 13199.611, "num_steps_sampled": 4667599, "update_time_ms": 8.254, "sample_time_ms": 32112.252, "num_steps_trained": 4667599}, "timesteps_total": 4667599, "training_iteration": 97, "timestamp": 1558252036, "time_total_s": 4432.391193628311, "time_this_iter_s": 44.24305081367493, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04070b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c518>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c048>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4493, "time_since_restore": 4432.391193628311, "episode_reward_max": 442.4435694522336, "hostname": "flow-main", "date": "2019-05-19_07-47-16", "episode_reward_mean": 295.58936139265285, "custom_metrics": {"cost1_mean": 97.39899872841733, "cost1_max": 130.89156683558875, "cost2_min": -14.730288160825534, "system_level_velocity_max": 11.08050306441926, "system_level_velocity_mean": 8.801062811968427, "cost1_min": 57.58372480479439, "system_level_velocity_min": 5.27650285996823, "cost2_mean": -2.652183743446264, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4667599, "done": false, "episode_reward_min": 161.5471146340876, "episodes_this_iter": 42, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 97, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 45284}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.965, "default": {"policy_loss": -0.02142706699669361, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5001170039176941, "entropy": 1.5999755859375, "vf_loss": 15.332518577575684, "cur_lr": 0.0005000000237487257, "total_loss": 15.318894386291504, "kl": 0.0173396784812212}, "grad_time_ms": 13231.538, "num_steps_sampled": 4716069, "update_time_ms": 8.333, "sample_time_ms": 32042.679, "num_steps_trained": 4716069}, "timesteps_total": 4716069, "training_iteration": 98, "timestamp": 1558252082, "time_total_s": 4478.17183637619, "time_this_iter_s": 45.78064274787903, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407518>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407400>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4545, "time_since_restore": 4478.17183637619, "episode_reward_max": 464.66360940602624, "hostname": "flow-main", "date": "2019-05-19_07-48-02", "episode_reward_mean": 297.534834281879, "custom_metrics": {"cost1_mean": 97.5561881661232, "cost1_max": 141.39878470035163, "cost2_min": -14.193353639229088, "system_level_velocity_max": 11.83689404901259, "system_level_velocity_mean": 8.810014150449504, "cost1_min": 71.8836590177828, "system_level_velocity_min": 6.820459981689332, "cost2_mean": -3.2508248740672525, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4716069, "done": false, "episode_reward_min": 161.5471146340876, "episodes_this_iter": 52, "episode_len_mean": 325.0, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 98, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48470}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.79, "default": {"policy_loss": -0.022727878764271736, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4706965386867523, "entropy": 1.6025131940841675, "vf_loss": 13.947025299072266, "cur_lr": 0.0005000000237487257, "total_loss": 13.932234764099121, "kl": 0.01764044724404812}, "grad_time_ms": 13225.207, "num_steps_sampled": 4763234, "update_time_ms": 8.289, "sample_time_ms": 31950.923, "num_steps_trained": 4763234}, "timesteps_total": 4763234, "training_iteration": 99, "timestamp": 1558252127, "time_total_s": 4523.054233551025, "time_this_iter_s": 44.882397174835205, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407160>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407198>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4589, "time_since_restore": 4523.054233551025, "episode_reward_max": 503.5252433460947, "hostname": "flow-main", "date": "2019-05-19_07-48-47", "episode_reward_mean": 304.6155111847048, "custom_metrics": {"cost1_mean": 98.1823302834452, "cost1_max": 159.17731878573562, "cost2_min": -13.0, "system_level_velocity_max": 13.2886969904091, "system_level_velocity_mean": 8.865736022250228, "cost1_min": 41.229421047756205, "system_level_velocity_min": 5.777625551089557, "cost2_mean": -3.2355833532591514, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4763234, "done": false, "episode_reward_min": 148.57503108120002, "episodes_this_iter": 44, "episode_len_mean": 323.95, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 99, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 47165}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.637, "default": {"policy_loss": -0.021821441128849983, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4077998995780945, "entropy": 1.6094872951507568, "vf_loss": 13.51369571685791, "cur_lr": 0.0005000000237487257, "total_loss": 13.499432563781738, "kl": 0.016796909272670746}, "grad_time_ms": 13369.815, "num_steps_sampled": 4811338, "update_time_ms": 8.238, "sample_time_ms": 31860.108, "num_steps_trained": 4811338}, "timesteps_total": 4811338, "training_iteration": 100, "timestamp": 1558252172, "time_total_s": 4568.353162050247, "time_this_iter_s": 45.2989284992218, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_rewards": null, "clip_actions": false, "train_batch_size": 15000, "preprocessor_pref": "deepmind", "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus_per_worker": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.3]_t_min:1.0", "gamma": 0.99, "simple_optimizer": false, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "vf_share_layers": false, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f27b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2d68>", "on_sample_end": null, "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2940>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "output_max_file_size": 67108864, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "max_seq_len": 20, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "custom_model": null}, "lambda": 0.97, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4634, "time_since_restore": 4568.353162050247, "episode_reward_max": 503.5252433460947, "hostname": "flow-main", "date": "2019-05-19_07-49-32", "episode_reward_mean": 299.6808362868285, "custom_metrics": {"cost1_mean": 96.92006502719585, "cost1_max": 159.17731878573562, "cost2_min": -23.5, "system_level_velocity_max": 13.2886969904091, "system_level_velocity_mean": 8.779002127172559, "cost1_min": 41.229421047756205, "system_level_velocity_min": 5.777625551089557, "cost2_mean": -2.921654253530752, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "timesteps_since_restore": 4811338, "done": false, "episode_reward_min": 88.57509831139048, "episodes_this_iter": 45, "episode_len_mean": 323.95, "experiment_id": "7ddf8be66e544525baeeb55bf1865ced", "iterations_since_restore": 100, "num_metric_batches_dropped": 0, "pid": 40364, "timesteps_this_iter": 48104}
