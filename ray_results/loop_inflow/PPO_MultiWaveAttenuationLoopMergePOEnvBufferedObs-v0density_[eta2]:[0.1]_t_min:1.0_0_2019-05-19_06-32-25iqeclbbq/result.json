{"policy_reward_mean": {}, "info": {"load_time_ms": 55.979, "default": {"policy_loss": -0.0037599161732941866, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6749734878540039, "entropy": 1.417399287223816, "vf_loss": 1.5029336214065552, "cur_lr": 0.0005000000237487257, "total_loss": 1.5002301931381226, "kl": 0.005281958729028702}, "grad_time_ms": 10062.264, "num_steps_sampled": 48153, "update_time_ms": 482.785, "sample_time_ms": 38941.091, "num_steps_trained": 48153}, "timesteps_total": 48153, "training_iteration": 1, "timesteps_this_iter": 48153, "num_metric_batches_dropped": 0, "time_this_iter_s": 49.72360348701477, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648f98>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 54, "time_since_restore": 49.72360348701477, "episode_reward_max": 204.95205586147983, "hostname": "flow-main", "date": "2019-05-19_06-34-09", "timesteps_since_restore": 48153, "custom_metrics": {"cost1_mean": 35.16576561292476, "cost1_max": 82.44634183321168, "cost2_min": -32.25, "system_level_velocity_max": 7.860533153196725, "system_level_velocity_mean": 4.581408642712591, "cost1_min": 11.583606804050962, "system_level_velocity_min": 2.2369813010437043, "cost2_mean": -5.540997853147165, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 104.83484680898728, "done": false, "episode_reward_min": 24.925852702568715, "episodes_this_iter": 54, "episode_len_mean": 239.38888888888889, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247649, "iterations_since_restore": 1, "time_total_s": 49.72360348701477, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 31.538, "default": {"policy_loss": -0.005710375029593706, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.7980734705924988, "entropy": 1.4196522235870361, "vf_loss": 1.430179476737976, "cur_lr": 0.0005000000237487257, "total_loss": 1.4259330034255981, "kl": 0.00731965247541666}, "grad_time_ms": 10432.454, "num_steps_sampled": 95337, "update_time_ms": 246.969, "sample_time_ms": 38948.802, "num_steps_trained": 95337}, "timesteps_total": 95337, "training_iteration": 2, "timesteps_this_iter": 47184, "num_metric_batches_dropped": 0, "time_this_iter_s": 49.85258650779724, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a4a8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 111, "time_since_restore": 99.57618999481201, "episode_reward_max": 216.2502038294984, "hostname": "flow-main", "date": "2019-05-19_06-34-59", "timesteps_since_restore": 95337, "custom_metrics": {"cost1_mean": 36.791546133438985, "cost1_max": 90.75632539746177, "cost2_min": -32.25, "system_level_velocity_max": 10.831394536622073, "system_level_velocity_mean": 4.727897619108676, "cost1_min": 8.048116956969668, "system_level_velocity_min": 2.1367670955465528, "cost2_mean": -4.885251912607575, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 105.02768255048777, "done": false, "episode_reward_min": 24.850367171235597, "episodes_this_iter": 57, "episode_len_mean": 245.13, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247699, "iterations_since_restore": 2, "time_total_s": 99.57618999481201, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 25.215, "default": {"policy_loss": -0.00651106471195817, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8185164332389832, "entropy": 1.4125038385391235, "vf_loss": 1.7204997539520264, "cur_lr": 0.0005000000237487257, "total_loss": 1.7155790328979492, "kl": 0.00795106589794159}, "grad_time_ms": 10367.618, "num_steps_sampled": 145198, "update_time_ms": 167.259, "sample_time_ms": 38076.313, "num_steps_trained": 145198}, "timesteps_total": 145198, "training_iteration": 3, "timesteps_this_iter": 49861, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.67689800262451, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 161, "time_since_restore": 146.25308799743652, "episode_reward_max": 216.2502038294984, "hostname": "flow-main", "date": "2019-05-19_06-35-45", "timesteps_since_restore": 145198, "custom_metrics": {"cost1_mean": 42.0425681952549, "cost1_max": 94.29454741549263, "cost2_min": -29.5, "system_level_velocity_max": 8.499087659561807, "system_level_velocity_mean": 4.8644901313899975, "cost1_min": 8.048116956969668, "system_level_velocity_min": 2.1367670955465528, "cost2_mean": -4.429963638816457, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 116.29590888611507, "done": false, "episode_reward_min": 24.850367171235597, "episodes_this_iter": 50, "episode_len_mean": 268.86, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247745, "iterations_since_restore": 3, "time_total_s": 146.25308799743652, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 20.65, "default": {"policy_loss": -0.007678244262933731, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8543639183044434, "entropy": 1.4088319540023804, "vf_loss": 2.3229358196258545, "cur_lr": 0.0005000000237487257, "total_loss": 2.316879987716675, "kl": 0.008113100193440914}, "grad_time_ms": 10686.257, "num_steps_sampled": 194376, "update_time_ms": 128.03, "sample_time_ms": 38248.108, "num_steps_trained": 194376}, "timesteps_total": 194376, "training_iteration": 4, "timesteps_this_iter": 49178, "num_metric_batches_dropped": 0, "time_this_iter_s": 50.53472638130188, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aa1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661400>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 213, "time_since_restore": 196.7878143787384, "episode_reward_max": 430.9231546165491, "hostname": "flow-main", "date": "2019-05-19_06-36-36", "timesteps_since_restore": 194376, "custom_metrics": {"cost1_mean": 46.886468482648105, "cost1_max": 107.755788654137, "cost2_min": -55.25, "system_level_velocity_max": 8.798102354511562, "system_level_velocity_mean": 4.9692605204425035, "cost1_min": 10.575220827478445, "system_level_velocity_min": 2.0924997936060903, "cost2_mean": -4.686903790759008, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 139.5122335440083, "done": false, "episode_reward_min": 32.09601564535639, "episodes_this_iter": 52, "episode_len_mean": 291.08, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247796, "iterations_since_restore": 4, "time_total_s": 196.7878143787384, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 18.228, "default": {"policy_loss": -0.008036801591515541, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8457770347595215, "entropy": 1.4026190042495728, "vf_loss": 2.78941011428833, "cur_lr": 0.0005000000237487257, "total_loss": 2.7830891609191895, "kl": 0.008578896522521973}, "grad_time_ms": 11050.003, "num_steps_sampled": 244052, "update_time_ms": 104.472, "sample_time_ms": 37667.555, "num_steps_trained": 244052}, "timesteps_total": 244052, "training_iteration": 5, "timesteps_this_iter": 49676, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.96093797683716, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065af28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065abe0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 259, "time_since_restore": 244.74875235557556, "episode_reward_max": 430.9231546165491, "hostname": "flow-main", "date": "2019-05-19_06-37-24", "timesteps_since_restore": 244052, "custom_metrics": {"cost1_mean": 55.704581739244624, "cost1_max": 120.90379304652052, "cost2_min": -55.25, "system_level_velocity_max": 10.281075749321648, "system_level_velocity_mean": 5.409588075661435, "cost1_min": 10.575220827478445, "system_level_velocity_min": 2.0924997936060903, "cost2_mean": -4.924452391636163, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 173.0771281500164, "done": false, "episode_reward_min": 32.09601564535639, "episodes_this_iter": 46, "episode_len_mean": 309.07, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247844, "iterations_since_restore": 5, "time_total_s": 244.74875235557556, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.464, "default": {"policy_loss": -0.009213878773152828, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8319563865661621, "entropy": 1.3842066526412964, "vf_loss": 3.5557971000671387, "cur_lr": 0.0005000000237487257, "total_loss": 3.5484778881073, "kl": 0.00947520975023508}, "grad_time_ms": 11208.903, "num_steps_sampled": 292801, "update_time_ms": 88.298, "sample_time_ms": 37009.117, "num_steps_trained": 292801}, "timesteps_total": 292801, "training_iteration": 6, "timesteps_this_iter": 48749, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.82166242599487, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a550>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a2b0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 305, "time_since_restore": 290.57041478157043, "episode_reward_max": 448.6040742873978, "hostname": "flow-main", "date": "2019-05-19_06-38-10", "timesteps_since_restore": 292801, "custom_metrics": {"cost1_mean": 64.5720357198345, "cost1_max": 149.56802476246605, "cost2_min": -48.0, "system_level_velocity_max": 12.05294186934879, "system_level_velocity_mean": 6.053181693855713, "cost1_min": 15.435504836700403, "system_level_velocity_min": 3.086529290743974, "cost2_mean": -3.1918200915122985, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 199.81379869007628, "done": false, "episode_reward_min": 53.49508130144187, "episodes_this_iter": 46, "episode_len_mean": 314.71, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247890, "iterations_since_restore": 6, "time_total_s": 290.57041478157043, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.557, "default": {"policy_loss": -0.010289734229445457, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.7849082946777344, "entropy": 1.3777331113815308, "vf_loss": 5.273571491241455, "cur_lr": 0.0005000000237487257, "total_loss": 5.2654266357421875, "kl": 0.010721199214458466}, "grad_time_ms": 11331.052, "num_steps_sampled": 340804, "update_time_ms": 76.973, "sample_time_ms": 36695.21, "num_steps_trained": 340804}, "timesteps_total": 340804, "training_iteration": 7, "timesteps_this_iter": 48003, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.978360414505005, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e240>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 352, "time_since_restore": 337.54877519607544, "episode_reward_max": 448.6040742873978, "hostname": "flow-main", "date": "2019-05-19_06-38-57", "timesteps_since_restore": 340804, "custom_metrics": {"cost1_mean": 70.55299459390862, "cost1_max": 149.56802476246605, "cost2_min": -24.14778543537267, "system_level_velocity_max": 12.05294186934879, "system_level_velocity_mean": 6.477584105613196, "cost1_min": 17.83169376714727, "system_level_velocity_min": 3.236287280142237, "cost2_mean": -2.5593422984253156, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 217.94879244652947, "done": false, "episode_reward_min": 53.49508130144187, "episodes_this_iter": 47, "episode_len_mean": 322.36, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247937, "iterations_since_restore": 7, "time_total_s": 337.54877519607544, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.572, "default": {"policy_loss": -0.011958548799157143, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7184835076332092, "entropy": 1.374909520149231, "vf_loss": 7.136630058288574, "cur_lr": 0.0005000000237487257, "total_loss": 7.127133369445801, "kl": 0.012308937497437}, "grad_time_ms": 11388.818, "num_steps_sampled": 387388, "update_time_ms": 68.382, "sample_time_ms": 36463.139, "num_steps_trained": 387388}, "timesteps_total": 387388, "training_iteration": 8, "timesteps_this_iter": 46584, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.74412226676941, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617f0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 397, "time_since_restore": 384.29289746284485, "episode_reward_max": 418.7879167348965, "hostname": "flow-main", "date": "2019-05-19_06-39-44", "timesteps_since_restore": 387388, "custom_metrics": {"cost1_mean": 73.87345609620566, "cost1_max": 107.937075147959, "cost2_min": -24.14778543537267, "system_level_velocity_max": 9.574762655181853, "system_level_velocity_mean": 6.778354616992758, "cost1_min": 55.28838716303488, "system_level_velocity_min": 5.006649075556751, "cost2_mean": -2.957444154502986, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 227.76010235701392, "done": false, "episode_reward_min": 76.04713348058932, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558247984, "iterations_since_restore": 8, "time_total_s": 384.29289746284485, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.134, "default": {"policy_loss": -0.008371680043637753, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6117807030677795, "entropy": 1.3471013307571411, "vf_loss": 10.002485275268555, "cur_lr": 0.0005000000237487257, "total_loss": 9.996200561523438, "kl": 0.010431041941046715}, "grad_time_ms": 11500.101, "num_steps_sampled": 434932, "update_time_ms": 61.828, "sample_time_ms": 36064.633, "num_steps_trained": 434932}, "timesteps_total": 434932, "training_iteration": 9, "timesteps_this_iter": 47544, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.37619996070862, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06673c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667358>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 444, "time_since_restore": 429.66909742355347, "episode_reward_max": 442.28461338637226, "hostname": "flow-main", "date": "2019-05-19_06-40-29", "timesteps_since_restore": 434932, "custom_metrics": {"cost1_mean": 84.01677706391334, "cost1_max": 147.69487112879094, "cost2_min": -17.75, "system_level_velocity_max": 12.208187047657304, "system_level_velocity_mean": 7.58383611830945, "cost1_min": 56.2531086418059, "system_level_velocity_min": 5.006649075556751, "cost2_mean": -2.7624444447794243, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 258.53333114973526, "done": false, "episode_reward_min": 76.04713348058932, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248029, "iterations_since_restore": 9, "time_total_s": 429.66909742355347, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 13.11, "default": {"policy_loss": -0.011608157306909561, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6555017232894897, "entropy": 1.3455383777618408, "vf_loss": 9.806913375854492, "cur_lr": 0.0005000000237487257, "total_loss": 9.797747611999512, "kl": 0.012210028246045113}, "grad_time_ms": 11724.837, "num_steps_sampled": 482529, "update_time_ms": 56.353, "sample_time_ms": 35767.811, "num_steps_trained": 482529}, "timesteps_total": 482529, "training_iteration": 10, "timesteps_this_iter": 47597, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.94575786590576, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5f8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 490, "time_since_restore": 476.61485528945923, "episode_reward_max": 529.7435207637774, "hostname": "flow-main", "date": "2019-05-19_06-41-16", "timesteps_since_restore": 482529, "custom_metrics": {"cost1_mean": 91.92009336451177, "cost1_max": 147.69487112879094, "cost2_min": -66.33333333333333, "system_level_velocity_max": 12.208187047657304, "system_level_velocity_mean": 8.19348449198358, "cost1_min": 52.688065396297326, "system_level_velocity_min": 4.9850944886441, "cost2_mean": -3.782746449957711, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 280.6095059860796, "done": false, "episode_reward_min": 59.430048432676806, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248076, "iterations_since_restore": 10, "time_total_s": 476.61485528945923, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.305, "default": {"policy_loss": -0.01129272673279047, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5636154413223267, "entropy": 1.3470141887664795, "vf_loss": 10.6643705368042, "cur_lr": 0.0005000000237487257, "total_loss": 10.655440330505371, "kl": 0.01181029248982668}, "grad_time_ms": 11930.424, "num_steps_sampled": 529871, "update_time_ms": 9.026, "sample_time_ms": 35165.275, "num_steps_trained": 529871}, "timesteps_total": 529871, "training_iteration": 11, "timesteps_this_iter": 47342, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.12722039222717, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661d30>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 536, "time_since_restore": 521.7420756816864, "episode_reward_max": 529.7435207637774, "hostname": "flow-main", "date": "2019-05-19_06-42-01", "timesteps_since_restore": 529871, "custom_metrics": {"cost1_mean": 91.90314005196886, "cost1_max": 132.71088019094452, "cost2_min": -66.33333333333333, "system_level_velocity_max": 11.115812831519456, "system_level_velocity_mean": 8.213049654483918, "cost1_min": 52.688065396297326, "system_level_velocity_min": 4.9850944886441, "cost2_mean": -4.113355376897197, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 284.53884823356384, "done": false, "episode_reward_min": 59.430048432676806, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248121, "iterations_since_restore": 11, "time_total_s": 521.7420756816864, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.453, "default": {"policy_loss": -0.012845986522734165, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5732473731040955, "entropy": 1.3373838663101196, "vf_loss": 11.106626510620117, "cur_lr": 0.0005000000237487257, "total_loss": 11.0963773727417, "kl": 0.012988361530005932}, "grad_time_ms": 12067.965, "num_steps_sampled": 575877, "update_time_ms": 8.736, "sample_time_ms": 34485.725, "num_steps_trained": 575877}, "timesteps_total": 575877, "training_iteration": 12, "timesteps_this_iter": 46006, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.45335412025452, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661710>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 583, "time_since_restore": 566.1954298019409, "episode_reward_max": 422.3296506426024, "hostname": "flow-main", "date": "2019-05-19_06-42-46", "timesteps_since_restore": 575877, "custom_metrics": {"cost1_mean": 92.06668924074592, "cost1_max": 132.14070177334432, "cost2_min": -26.0, "system_level_velocity_max": 11.556951495401934, "system_level_velocity_mean": 8.236005649978392, "cost1_min": 54.27617954959818, "system_level_velocity_min": 4.9121760118494935, "cost2_mean": -3.016572195068185, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 279.91764169946646, "done": false, "episode_reward_min": 96.45334894153136, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248166, "iterations_since_restore": 12, "time_total_s": 566.1954298019409, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 7.922, "default": {"policy_loss": -0.013502413406968117, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5437271595001221, "entropy": 1.332099437713623, "vf_loss": 12.164989471435547, "cur_lr": 0.0005000000237487257, "total_loss": 12.154532432556152, "kl": 0.015227961353957653}, "grad_time_ms": 12249.826, "num_steps_sampled": 621633, "update_time_ms": 8.866, "sample_time_ms": 34077.56, "num_steps_trained": 621633}, "timesteps_total": 621633, "training_iteration": 13, "timesteps_this_iter": 45756, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.3969988822937, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 629, "time_since_restore": 610.5924286842346, "episode_reward_max": 497.98023114214755, "hostname": "flow-main", "date": "2019-05-19_06-43-30", "timesteps_since_restore": 621633, "custom_metrics": {"cost1_mean": 94.2944302993798, "cost1_max": 142.9370664354287, "cost2_min": -26.0, "system_level_velocity_max": 12.048179796944988, "system_level_velocity_mean": 8.396825582054527, "cost1_min": 54.27617954959818, "system_level_velocity_min": 4.9121760118494935, "cost2_mean": -3.025593294460899, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 280.0356710515955, "done": false, "episode_reward_min": 96.45334894153136, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248210, "iterations_since_restore": 13, "time_total_s": 610.5924286842346, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.178, "default": {"policy_loss": -0.01360675785690546, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.5644856691360474, "entropy": 1.3307439088821411, "vf_loss": 12.912240028381348, "cur_lr": 0.0005000000237487257, "total_loss": 12.901570320129395, "kl": 0.014689091593027115}, "grad_time_ms": 12278.202, "num_steps_sampled": 667752, "update_time_ms": 8.766, "sample_time_ms": 33532.115, "num_steps_trained": 667752}, "timesteps_total": 667752, "training_iteration": 14, "timesteps_this_iter": 46119, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.34568929672241, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a358>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 676, "time_since_restore": 655.938117980957, "episode_reward_max": 497.98023114214755, "hostname": "flow-main", "date": "2019-05-19_06-44-16", "timesteps_since_restore": 667752, "custom_metrics": {"cost1_mean": 95.47699599019775, "cost1_max": 142.9370664354287, "cost2_min": -23.0, "system_level_velocity_max": 12.048179796944988, "system_level_velocity_mean": 8.466934536013836, "cost1_min": 64.97730555553468, "system_level_velocity_min": 6.043573251342609, "cost2_mean": -3.116398822458748, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 289.57037903097824, "done": false, "episode_reward_min": 160.4850531437436, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248256, "iterations_since_restore": 14, "time_total_s": 655.938117980957, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.184, "default": {"policy_loss": -0.015333964489400387, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.48959359526634216, "entropy": 1.3400481939315796, "vf_loss": 12.759510040283203, "cur_lr": 0.0005000000237487257, "total_loss": 12.747665405273438, "kl": 0.017452815547585487}, "grad_time_ms": 12244.68, "num_steps_sampled": 715243, "update_time_ms": 8.541, "sample_time_ms": 33461.248, "num_steps_trained": 715243}, "timesteps_total": 715243, "training_iteration": 15, "timesteps_this_iter": 47491, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.91902303695679, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aae48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06610b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661400>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 722, "time_since_restore": 702.8571410179138, "episode_reward_max": 496.20530840929547, "hostname": "flow-main", "date": "2019-05-19_06-45-03", "timesteps_since_restore": 715243, "custom_metrics": {"cost1_mean": 94.88355898022482, "cost1_max": 135.67042502776357, "cost2_min": -23.0, "system_level_velocity_max": 11.427836826864931, "system_level_velocity_mean": 8.389899840007708, "cost1_min": 67.73656251294378, "system_level_velocity_min": 6.141805019757004, "cost2_mean": -3.6002802232745363, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 292.89760739488213, "done": false, "episode_reward_min": 100.18194824070724, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248303, "iterations_since_restore": 15, "time_total_s": 702.8571410179138, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.24, "default": {"policy_loss": -0.015097147785127163, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5039185881614685, "entropy": 1.338847279548645, "vf_loss": 12.173653602600098, "cur_lr": 0.0005000000237487257, "total_loss": 12.161897659301758, "kl": 0.016701558604836464}, "grad_time_ms": 12304.676, "num_steps_sampled": 763008, "update_time_ms": 8.748, "sample_time_ms": 33318.751, "num_steps_trained": 763008}, "timesteps_total": 763008, "training_iteration": 16, "timesteps_this_iter": 47765, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.991074323654175, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e80>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 766, "time_since_restore": 747.848215341568, "episode_reward_max": 468.259685091289, "hostname": "flow-main", "date": "2019-05-19_06-45-48", "timesteps_since_restore": 763008, "custom_metrics": {"cost1_mean": 95.32945413888261, "cost1_max": 135.67042502776357, "cost2_min": -20.33333333333333, "system_level_velocity_max": 11.427836826864931, "system_level_velocity_mean": 8.426232684012861, "cost1_min": 73.53542395605521, "system_level_velocity_min": 6.769497084315349, "cost2_mean": -4.087886523434992, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 301.6818855369839, "done": false, "episode_reward_min": 100.18194824070724, "episodes_this_iter": 44, "episode_len_mean": 324.78, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248348, "iterations_since_restore": 16, "time_total_s": 747.848215341568, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.859, "default": {"policy_loss": -0.015111899003386497, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.5186106562614441, "entropy": 1.3493374586105347, "vf_loss": 13.596531867980957, "cur_lr": 0.0005000000237487257, "total_loss": 13.584638595581055, "kl": 0.01609048806130886}, "grad_time_ms": 12437.52, "num_steps_sampled": 813928, "update_time_ms": 8.58, "sample_time_ms": 33184.819, "num_steps_trained": 813928}, "timesteps_total": 813928, "training_iteration": 17, "timesteps_this_iter": 50920, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.988670349121094, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06670b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a518>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 814, "time_since_restore": 794.8368856906891, "episode_reward_max": 468.259685091289, "hostname": "flow-main", "date": "2019-05-19_06-46-35", "timesteps_since_restore": 813928, "custom_metrics": {"cost1_mean": 97.2131052055242, "cost1_max": 127.69026566007261, "cost2_min": -14.5, "system_level_velocity_max": 10.789869990433049, "system_level_velocity_mean": 8.576900364474032, "cost1_min": 54.12030450180158, "system_level_velocity_min": 5.081382001229157, "cost2_mean": -3.6828529940651964, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 309.8365333818752, "done": false, "episode_reward_min": 112.67879282133266, "episodes_this_iter": 48, "episode_len_mean": 324.78, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248395, "iterations_since_restore": 17, "time_total_s": 794.8368856906891, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.935, "default": {"policy_loss": -0.014539043419063091, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5223603248596191, "entropy": 1.3436468839645386, "vf_loss": 12.832396507263184, "cur_lr": 0.0005000000237487257, "total_loss": 12.82107162475586, "kl": 0.016072992235422134}, "grad_time_ms": 12539.024, "num_steps_sampled": 861761, "update_time_ms": 8.696, "sample_time_ms": 32949.244, "num_steps_trained": 861761}, "timesteps_total": 861761, "training_iteration": 18, "timesteps_this_iter": 47833, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.39791989326477, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676d8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672e8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 859, "time_since_restore": 840.2348055839539, "episode_reward_max": 512.7678191100657, "hostname": "flow-main", "date": "2019-05-19_06-47-20", "timesteps_since_restore": 861761, "custom_metrics": {"cost1_mean": 96.86546346015645, "cost1_max": 128.19195477751668, "cost2_min": -16.5, "system_level_velocity_max": 10.789869990433049, "system_level_velocity_mean": 8.567400172903428, "cost1_min": 54.12030450180158, "system_level_velocity_min": 5.081382001229157, "cost2_mean": -3.2457750090205657, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 314.96736312334184, "done": false, "episode_reward_min": 90.30464022850202, "episodes_this_iter": 45, "episode_len_mean": 324.6, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248440, "iterations_since_restore": 18, "time_total_s": 840.2348055839539, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.684, "default": {"policy_loss": -0.017264744266867638, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5424916744232178, "entropy": 1.3280302286148071, "vf_loss": 13.088420867919922, "cur_lr": 0.0005000000237487257, "total_loss": 13.074798583984375, "kl": 0.018207386136054993}, "grad_time_ms": 12544.795, "num_steps_sampled": 909725, "update_time_ms": 8.619, "sample_time_ms": 32971.772, "num_steps_trained": 909725}, "timesteps_total": 909725, "training_iteration": 19, "timesteps_this_iter": 47964, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.64380669593811, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06675f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667320>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 905, "time_since_restore": 885.878612279892, "episode_reward_max": 512.7678191100657, "hostname": "flow-main", "date": "2019-05-19_06-48-06", "timesteps_since_restore": 909725, "custom_metrics": {"cost1_mean": 97.82955534884587, "cost1_max": 131.5672346145521, "cost2_min": -16.5, "system_level_velocity_max": 11.211450597323777, "system_level_velocity_mean": 8.668975700913034, "cost1_min": 75.95928392999622, "system_level_velocity_min": 6.969373890242984, "cost2_mean": -3.0870881990101475, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 311.34966697824797, "done": false, "episode_reward_min": 90.30464022850202, "episodes_this_iter": 46, "episode_len_mean": 324.36, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248486, "iterations_since_restore": 19, "time_total_s": 885.878612279892, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.085, "default": {"policy_loss": -0.016193460673093796, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.577416718006134, "entropy": 1.3525373935699463, "vf_loss": 14.44263744354248, "cur_lr": 0.0005000000237487257, "total_loss": 14.430301666259766, "kl": 0.019285473972558975}, "grad_time_ms": 12318.457, "num_steps_sampled": 955889, "update_time_ms": 8.707, "sample_time_ms": 32965.065, "num_steps_trained": 955889}, "timesteps_total": 955889, "training_iteration": 20, "timesteps_this_iter": 46164, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.6113064289093, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aae48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ad68>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 953, "time_since_restore": 930.4899187088013, "episode_reward_max": 474.3073166991503, "hostname": "flow-main", "date": "2019-05-19_06-48-50", "timesteps_since_restore": 955889, "custom_metrics": {"cost1_mean": 100.9466214555755, "cost1_max": 184.44002644204932, "cost2_min": -20.5, "system_level_velocity_max": 14.770226017395082, "system_level_velocity_mean": 8.876089325418526, "cost1_min": 70.38185974108748, "system_level_velocity_min": 6.590863647957561, "cost2_mean": -3.329496866929876, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 311.78526870897696, "done": false, "episode_reward_min": 183.2356913210265, "episodes_this_iter": 48, "episode_len_mean": 324.76, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248530, "iterations_since_restore": 20, "time_total_s": 930.4899187088013, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.203, "default": {"policy_loss": -0.016114164143800735, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5301270484924316, "entropy": 1.355352759361267, "vf_loss": 15.580343246459961, "cur_lr": 0.0005000000237487257, "total_loss": 15.567965507507324, "kl": 0.018675506114959717}, "grad_time_ms": 12347.743, "num_steps_sampled": 1005031, "update_time_ms": 8.626, "sample_time_ms": 33192.969, "num_steps_trained": 1005031}, "timesteps_total": 1005031, "training_iteration": 21, "timesteps_this_iter": 49142, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.71626114845276, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe068b128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a128>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 999, "time_since_restore": 978.206179857254, "episode_reward_max": 503.81602200244663, "hostname": "flow-main", "date": "2019-05-19_06-49-38", "timesteps_since_restore": 1005031, "custom_metrics": {"cost1_mean": 99.5492677396786, "cost1_max": 184.44002644204932, "cost2_min": -21.171496575722074, "system_level_velocity_max": 14.770226017395082, "system_level_velocity_mean": 8.791623036596038, "cost1_min": 6.01343961773275, "system_level_velocity_min": 4.342075279781058, "cost2_mean": -4.287020834679058, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 314.5371227463071, "done": false, "episode_reward_min": 14.228560363160073, "episodes_this_iter": 46, "episode_len_mean": 322.15, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248578, "iterations_since_restore": 21, "time_total_s": 978.206179857254, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.022, "default": {"policy_loss": -0.016733091324567795, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5866393446922302, "entropy": 1.3687729835510254, "vf_loss": 14.0896635055542, "cur_lr": 0.0005000000237487257, "total_loss": 14.076828002929688, "kl": 0.019483527168631554}, "grad_time_ms": 12300.257, "num_steps_sampled": 1052286, "update_time_ms": 8.838, "sample_time_ms": 33440.303, "num_steps_trained": 1052286}, "timesteps_total": 1052286, "training_iteration": 22, "timesteps_this_iter": 47255, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.43390965461731, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667898>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1045, "time_since_restore": 1024.6400895118713, "episode_reward_max": 571.8052730827791, "hostname": "flow-main", "date": "2019-05-19_06-50-25", "timesteps_since_restore": 1052286, "custom_metrics": {"cost1_mean": 99.25026817805502, "cost1_max": 190.60774078805213, "cost2_min": -21.171496575722074, "system_level_velocity_max": 15.233769868318145, "system_level_velocity_mean": 8.7841550759104, "cost1_min": 6.01343961773275, "system_level_velocity_min": 4.342075279781058, "cost2_mean": -4.819752879627813, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 315.01663030780594, "done": false, "episode_reward_min": 14.228560363160073, "episodes_this_iter": 46, "episode_len_mean": 322.15, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248625, "iterations_since_restore": 22, "time_total_s": 1024.6400895118713, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.209, "default": {"policy_loss": -0.016310201957821846, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.4957018494606018, "entropy": 1.3644671440124512, "vf_loss": 13.557682991027832, "cur_lr": 0.0005000000237487257, "total_loss": 13.545195579528809, "kl": 0.019116729497909546}, "grad_time_ms": 12312.115, "num_steps_sampled": 1101694, "update_time_ms": 8.774, "sample_time_ms": 33616.829, "num_steps_trained": 1101694}, "timesteps_total": 1101694, "training_iteration": 23, "timesteps_this_iter": 49408, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.30289602279663, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06675f8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1092, "time_since_restore": 1070.942985534668, "episode_reward_max": 571.8052730827791, "hostname": "flow-main", "date": "2019-05-19_06-51-11", "timesteps_since_restore": 1101694, "custom_metrics": {"cost1_mean": 97.28099929221864, "cost1_max": 190.60774078805213, "cost2_min": -26.0, "system_level_velocity_max": 15.233769868318145, "system_level_velocity_mean": 8.623995539435104, "cost1_min": 26.313117676502756, "system_level_velocity_min": 3.2543222435941392, "cost2_mean": -4.4672938027000235, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.8353641562986, "done": false, "episode_reward_min": 44.52332196811257, "episodes_this_iter": 47, "episode_len_mean": 323.69, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248671, "iterations_since_restore": 23, "time_total_s": 1070.942985534668, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.351, "default": {"policy_loss": -0.01918841153383255, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.5572861433029175, "entropy": 1.369647741317749, "vf_loss": 13.48080062866211, "cur_lr": 0.0005000000237487257, "total_loss": 13.466377258300781, "kl": 0.023827213793992996}, "grad_time_ms": 12306.855, "num_steps_sampled": 1150596, "update_time_ms": 9.022, "sample_time_ms": 33813.254, "num_steps_trained": 1150596}, "timesteps_total": 1150596, "training_iteration": 24, "timesteps_this_iter": 48902, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.259263038635254, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661d30>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b00>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1138, "time_since_restore": 1118.2022485733032, "episode_reward_max": 512.6904034335583, "hostname": "flow-main", "date": "2019-05-19_06-51-58", "timesteps_since_restore": 1150596, "custom_metrics": {"cost1_mean": 96.98900656813727, "cost1_max": 139.02477144313895, "cost2_min": -30.0, "system_level_velocity_max": 11.6347690317299, "system_level_velocity_mean": 8.595703700567674, "cost1_min": 26.313117676502756, "system_level_velocity_min": 3.2543222435941392, "cost2_mean": -4.3688321979322575, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.21657144875553, "done": false, "episode_reward_min": 44.52332196811257, "episodes_this_iter": 46, "episode_len_mean": 323.69, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248718, "iterations_since_restore": 24, "time_total_s": 1118.2022485733032, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.311, "default": {"policy_loss": -0.01775679551064968, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5859229564666748, "entropy": 1.3625357151031494, "vf_loss": 14.991888046264648, "cur_lr": 0.0005000000237487257, "total_loss": 14.979219436645508, "kl": 0.01696011610329151}, "grad_time_ms": 12308.98, "num_steps_sampled": 1199293, "update_time_ms": 9.003, "sample_time_ms": 33838.192, "num_steps_trained": 1199293}, "timesteps_total": 1199293, "training_iteration": 25, "timesteps_this_iter": 48697, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.181307315826416, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065afd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1187, "time_since_restore": 1165.3835558891296, "episode_reward_max": 515.1834852787699, "hostname": "flow-main", "date": "2019-05-19_06-52-46", "timesteps_since_restore": 1199293, "custom_metrics": {"cost1_mean": 98.46046590092438, "cost1_max": 146.09993389340656, "cost2_min": -30.0, "system_level_velocity_max": 12.100995532622326, "system_level_velocity_mean": 8.717586650339626, "cost1_min": 6.151368996471218, "system_level_velocity_min": 3.144775609081157, "cost2_mean": -4.219013967303991, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 318.7475144252269, "done": false, "episode_reward_min": 20.160751093249583, "episodes_this_iter": 49, "episode_len_mean": 319.32, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248766, "iterations_since_restore": 25, "time_total_s": 1165.3835558891296, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.212, "default": {"policy_loss": -0.018526893109083176, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.6079652905464172, "entropy": 1.3814934492111206, "vf_loss": 14.16595458984375, "cur_lr": 0.0005000000237487257, "total_loss": 14.152859687805176, "kl": 0.018106777220964432}, "grad_time_ms": 12266.979, "num_steps_sampled": 1246456, "update_time_ms": 8.698, "sample_time_ms": 33967.676, "num_steps_trained": 1246456}, "timesteps_total": 1246456, "training_iteration": 26, "timesteps_this_iter": 47163, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.86727166175842, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c860>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1232, "time_since_restore": 1211.250827550888, "episode_reward_max": 515.1834852787699, "hostname": "flow-main", "date": "2019-05-19_06-53-32", "timesteps_since_restore": 1246456, "custom_metrics": {"cost1_mean": 99.20874969809576, "cost1_max": 146.09993389340656, "cost2_min": -33.0, "system_level_velocity_max": 12.100995532622326, "system_level_velocity_mean": 8.809800578604838, "cost1_min": 6.151368996471218, "system_level_velocity_min": 3.144775609081157, "cost2_mean": -4.065529524683257, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 309.47299558731663, "done": false, "episode_reward_min": 20.160751093249583, "episodes_this_iter": 45, "episode_len_mean": 317.66, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248812, "iterations_since_restore": 26, "time_total_s": 1211.250827550888, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.475, "default": {"policy_loss": -0.017962530255317688, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.546934187412262, "entropy": 1.390303611755371, "vf_loss": 16.385644912719727, "cur_lr": 0.0005000000237487257, "total_loss": 16.3727970123291, "kl": 0.01704813726246357}, "grad_time_ms": 12172.245, "num_steps_sampled": 1295861, "update_time_ms": 8.866, "sample_time_ms": 33997.555, "num_steps_trained": 1295861}, "timesteps_total": 1295861, "training_iteration": 27, "timesteps_this_iter": 49405, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.32025122642517, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f60>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06616a0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1281, "time_since_restore": 1257.5710787773132, "episode_reward_max": 604.4357592073013, "hostname": "flow-main", "date": "2019-05-19_06-54-18", "timesteps_since_restore": 1295861, "custom_metrics": {"cost1_mean": 100.51359369693002, "cost1_max": 151.12179628792458, "cost2_min": -33.0, "system_level_velocity_max": 12.266753403396583, "system_level_velocity_mean": 8.876745987756278, "cost1_min": 19.707841042909045, "system_level_velocity_min": 4.797535671313833, "cost2_mean": -3.5958086546901025, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 325.3587606484164, "done": false, "episode_reward_min": 35.02968641092401, "episodes_this_iter": 49, "episode_len_mean": 320.82, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248858, "iterations_since_restore": 27, "time_total_s": 1257.5710787773132, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.541, "default": {"policy_loss": -0.017514070495963097, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5033230781555176, "entropy": 1.3953763246536255, "vf_loss": 14.823345184326172, "cur_lr": 0.0005000000237487257, "total_loss": 14.811100006103516, "kl": 0.017562085762619972}, "grad_time_ms": 12092.543, "num_steps_sampled": 1343961, "update_time_ms": 8.654, "sample_time_ms": 34141.105, "num_steps_trained": 1343961}, "timesteps_total": 1343961, "training_iteration": 28, "timesteps_this_iter": 48100, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.02639627456665, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f22b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2278>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1325, "time_since_restore": 1303.5974750518799, "episode_reward_max": 604.4357592073013, "hostname": "flow-main", "date": "2019-05-19_06-55-04", "timesteps_since_restore": 1343961, "custom_metrics": {"cost1_mean": 101.1048951649773, "cost1_max": 151.12179628792458, "cost2_min": -38.25, "system_level_velocity_max": 12.266753403396583, "system_level_velocity_mean": 8.917923151130303, "cost1_min": 19.707841042909045, "system_level_velocity_min": 3.2875145088848945, "cost2_mean": -3.8245180650993165, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 325.1336442765458, "done": false, "episode_reward_min": 32.88762821294158, "episodes_this_iter": 44, "episode_len_mean": 321.79, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248904, "iterations_since_restore": 28, "time_total_s": 1303.5974750518799, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.529, "default": {"policy_loss": -0.019362015649676323, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5868183970451355, "entropy": 1.3966487646102905, "vf_loss": 14.742136001586914, "cur_lr": 0.0005000000237487257, "total_loss": 14.728321075439453, "kl": 0.01849374547600746}, "grad_time_ms": 12064.71, "num_steps_sampled": 1392127, "update_time_ms": 8.649, "sample_time_ms": 34149.701, "num_steps_trained": 1392127}, "timesteps_total": 1392127, "training_iteration": 29, "timesteps_this_iter": 48166, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.458423376083374, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ceb8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cf28>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1371, "time_since_restore": 1349.0558984279633, "episode_reward_max": 640.9085635655564, "hostname": "flow-main", "date": "2019-05-19_06-55-49", "timesteps_since_restore": 1392127, "custom_metrics": {"cost1_mean": 100.63220897189916, "cost1_max": 160.72714089138898, "cost2_min": -38.25, "system_level_velocity_max": 13.282668475305943, "system_level_velocity_mean": 8.83788747735977, "cost1_min": 22.254224130508163, "system_level_velocity_min": 3.2875145088848945, "cost2_mean": -4.424794259814951, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 323.93809315229714, "done": false, "episode_reward_min": 32.88762821294158, "episodes_this_iter": 46, "episode_len_mean": 323.99, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248949, "iterations_since_restore": 29, "time_total_s": 1349.0558984279633, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.577, "default": {"policy_loss": -0.018569082021713257, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5580413937568665, "entropy": 1.4099116325378418, "vf_loss": 15.502248764038086, "cur_lr": 0.0005000000237487257, "total_loss": 15.489185333251953, "kl": 0.018349649384617805}, "grad_time_ms": 12120.338, "num_steps_sampled": 1438523, "update_time_ms": 8.676, "sample_time_ms": 34345.943, "num_steps_trained": 1438523}, "timesteps_total": 1438523, "training_iteration": 30, "timesteps_this_iter": 46396, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.14589285850525, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ca58>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1420, "time_since_restore": 1396.2017912864685, "episode_reward_max": 640.9085635655564, "hostname": "flow-main", "date": "2019-05-19_06-56-37", "timesteps_since_restore": 1438523, "custom_metrics": {"cost1_mean": 99.22295911584621, "cost1_max": 160.72714089138898, "cost2_min": -26.75, "system_level_velocity_max": 13.282668475305943, "system_level_velocity_mean": 8.74024882812553, "cost1_min": 20.56917381301544, "system_level_velocity_min": 3.51854936918416, "cost2_mean": -4.294472117089723, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 314.74083019199173, "done": false, "episode_reward_min": 37.09259387710841, "episodes_this_iter": 49, "episode_len_mean": 323.63, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558248997, "iterations_since_restore": 30, "time_total_s": 1396.2017912864685, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.511, "default": {"policy_loss": -0.018715882673859596, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.519206166267395, "entropy": 1.4171006679534912, "vf_loss": 15.76706600189209, "cur_lr": 0.0005000000237487257, "total_loss": 15.753630638122559, "kl": 0.017602097243070602}, "grad_time_ms": 12152.724, "num_steps_sampled": 1488012, "update_time_ms": 8.746, "sample_time_ms": 34214.077, "num_steps_trained": 1488012}, "timesteps_total": 1488012, "training_iteration": 31, "timesteps_this_iter": 49489, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.73069167137146, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667198>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667d30>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1463, "time_since_restore": 1442.93248295784, "episode_reward_max": 491.1600719502039, "hostname": "flow-main", "date": "2019-05-19_06-57-23", "timesteps_since_restore": 1488012, "custom_metrics": {"cost1_mean": 99.34481611116502, "cost1_max": 165.7206635704026, "cost2_min": -26.75, "system_level_velocity_max": 13.608480773830868, "system_level_velocity_mean": 8.770028820091296, "cost1_min": 20.56917381301544, "system_level_velocity_min": 3.51854936918416, "cost2_mean": -4.054351489196609, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.93947280524856, "done": false, "episode_reward_min": 37.09259387710841, "episodes_this_iter": 43, "episode_len_mean": 323.63, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249043, "iterations_since_restore": 31, "time_total_s": 1442.93248295784, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.781, "default": {"policy_loss": -0.018665218725800514, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4944661855697632, "entropy": 1.4194029569625854, "vf_loss": 16.271812438964844, "cur_lr": 0.0005000000237487257, "total_loss": 16.25837516784668, "kl": 0.01742028258740902}, "grad_time_ms": 12186.796, "num_steps_sampled": 1536631, "update_time_ms": 8.419, "sample_time_ms": 34136.695, "num_steps_trained": 1536631}, "timesteps_total": 1536631, "training_iteration": 32, "timesteps_this_iter": 48619, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.00545024871826, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1511, "time_since_restore": 1488.9379332065582, "episode_reward_max": 479.61425783981383, "hostname": "flow-main", "date": "2019-05-19_06-58-09", "timesteps_since_restore": 1536631, "custom_metrics": {"cost1_mean": 100.10207802994327, "cost1_max": 165.7206635704026, "cost2_min": -18.333333333333332, "system_level_velocity_max": 13.608480773830868, "system_level_velocity_mean": 8.82921519687636, "cost1_min": 52.30283442909375, "system_level_velocity_min": 4.561149938290172, "cost2_mean": -3.597798551041892, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 321.38965136148886, "done": false, "episode_reward_min": 96.72097028263806, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249089, "iterations_since_restore": 32, "time_total_s": 1488.9379332065582, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.705, "default": {"policy_loss": -0.018732616677880287, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5511147379875183, "entropy": 1.4332082271575928, "vf_loss": 13.779141426086426, "cur_lr": 0.0005000000237487257, "total_loss": 13.765983581542969, "kl": 0.018582414835691452}, "grad_time_ms": 12149.426, "num_steps_sampled": 1584098, "update_time_ms": 8.291, "sample_time_ms": 34296.183, "num_steps_trained": 1584098}, "timesteps_total": 1584098, "training_iteration": 33, "timesteps_this_iter": 47467, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.50792098045349, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1558, "time_since_restore": 1536.4458541870117, "episode_reward_max": 529.4908546859531, "hostname": "flow-main", "date": "2019-05-19_06-58-57", "timesteps_since_restore": 1584098, "custom_metrics": {"cost1_mean": 99.22405013850101, "cost1_max": 157.19416690943382, "cost2_min": -21.5, "system_level_velocity_max": 12.979255550641973, "system_level_velocity_mean": 8.801719298328504, "cost1_min": 52.30283442909375, "system_level_velocity_min": 4.561149938290172, "cost2_mean": -3.5450135024536547, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.29561050660743, "done": false, "episode_reward_min": 120.04375003852815, "episodes_this_iter": 47, "episode_len_mean": 324.34, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249137, "iterations_since_restore": 33, "time_total_s": 1536.4458541870117, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.726, "default": {"policy_loss": -0.01954309456050396, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4887459874153137, "entropy": 1.4250013828277588, "vf_loss": 15.158731460571289, "cur_lr": 0.0005000000237487257, "total_loss": 15.144665718078613, "kl": 0.018257733434438705}, "grad_time_ms": 12181.138, "num_steps_sampled": 1632536, "update_time_ms": 7.84, "sample_time_ms": 34124.779, "num_steps_trained": 1632536}, "timesteps_total": 1632536, "training_iteration": 34, "timesteps_this_iter": 48438, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.85390090942383, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2828>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1602, "time_since_restore": 1582.2997550964355, "episode_reward_max": 529.4908546859531, "hostname": "flow-main", "date": "2019-05-19_06-59-43", "timesteps_since_restore": 1632536, "custom_metrics": {"cost1_mean": 101.09985751827547, "cost1_max": 156.02140047000262, "cost2_min": -21.5, "system_level_velocity_max": 12.78082585953907, "system_level_velocity_mean": 8.993949340685228, "cost1_min": 52.52645065751776, "system_level_velocity_min": 4.6035682565258025, "cost2_mean": -3.8296162777115743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.9590870333797, "done": false, "episode_reward_min": 120.04375003852815, "episodes_this_iter": 44, "episode_len_mean": 324.34, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249183, "iterations_since_restore": 34, "time_total_s": 1582.2997550964355, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.903, "default": {"policy_loss": -0.0180393997579813, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5464126467704773, "entropy": 1.4292011260986328, "vf_loss": 15.78777027130127, "cur_lr": 0.0005000000237487257, "total_loss": 15.774970054626465, "kl": 0.0174622293561697}, "grad_time_ms": 12237.326, "num_steps_sampled": 1682541, "update_time_ms": 8.101, "sample_time_ms": 33993.715, "num_steps_trained": 1682541}, "timesteps_total": 1682541, "training_iteration": 35, "timesteps_this_iter": 50005, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.44002890586853, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f60>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1648, "time_since_restore": 1628.739784002304, "episode_reward_max": 583.5833185623409, "hostname": "flow-main", "date": "2019-05-19_07-00-29", "timesteps_since_restore": 1682541, "custom_metrics": {"cost1_mean": 100.6718204703796, "cost1_max": 156.02140047000262, "cost2_min": -20.860024319796842, "system_level_velocity_max": 12.78082585953907, "system_level_velocity_mean": 8.94560170873592, "cost1_min": 73.98470670677915, "system_level_velocity_min": 6.781610957554576, "cost2_mean": -4.271059739471068, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 327.7601127269583, "done": false, "episode_reward_min": 139.27959499463282, "episodes_this_iter": 46, "episode_len_mean": 324.61, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249229, "iterations_since_restore": 35, "time_total_s": 1628.739784002304, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.073, "default": {"policy_loss": -0.018706146627664566, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.538580596446991, "entropy": 1.4237827062606812, "vf_loss": 15.781786918640137, "cur_lr": 0.0005000000237487257, "total_loss": 15.768179893493652, "kl": 0.01699305698275566}, "grad_time_ms": 12183.93, "num_steps_sampled": 1727783, "update_time_ms": 8.192, "sample_time_ms": 34280.08, "num_steps_trained": 1727783}, "timesteps_total": 1727783, "training_iteration": 36, "timesteps_this_iter": 45242, "num_metric_batches_dropped": 0, "time_this_iter_s": 48.20631122589111, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06677b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667048>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1697, "time_since_restore": 1676.9460952281952, "episode_reward_max": 583.5833185623409, "hostname": "flow-main", "date": "2019-05-19_07-01-18", "timesteps_since_restore": 1727783, "custom_metrics": {"cost1_mean": 98.66638262499245, "cost1_max": 154.31445529648818, "cost2_min": -20.860024319796842, "system_level_velocity_max": 13.070698664910502, "system_level_velocity_mean": 8.832588210110234, "cost1_min": 15.574840055218111, "system_level_velocity_min": 6.336279030797604, "cost2_mean": -4.357353915898174, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.6314372856622, "done": false, "episode_reward_min": 43.72811118269599, "episodes_this_iter": 49, "episode_len_mean": 322.48, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249278, "iterations_since_restore": 36, "time_total_s": 1676.9460952281952, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.159, "default": {"policy_loss": -0.020103035494685173, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5469085574150085, "entropy": 1.4333863258361816, "vf_loss": 15.936640739440918, "cur_lr": 0.0005000000237487257, "total_loss": 15.922126770019531, "kl": 0.018625034019351006}, "grad_time_ms": 12168.869, "num_steps_sampled": 1776983, "update_time_ms": 8.111, "sample_time_ms": 34402.322, "num_steps_trained": 1776983}, "timesteps_total": 1776983, "training_iteration": 37, "timesteps_this_iter": 49200, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.392868995666504, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e80>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1743, "time_since_restore": 1724.3389642238617, "episode_reward_max": 495.9781477495391, "hostname": "flow-main", "date": "2019-05-19_07-02-05", "timesteps_since_restore": 1776983, "custom_metrics": {"cost1_mean": 98.65174516881693, "cost1_max": 154.31445529648818, "cost2_min": -20.25, "system_level_velocity_max": 13.070698664910502, "system_level_velocity_mean": 8.857283622295942, "cost1_min": 15.574840055218111, "system_level_velocity_min": 3.534440395598884, "cost2_mean": -3.895017503068601, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 310.4352508452708, "done": false, "episode_reward_min": 43.72811118269599, "episodes_this_iter": 46, "episode_len_mean": 322.48, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249325, "iterations_since_restore": 37, "time_total_s": 1724.3389642238617, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.982, "default": {"policy_loss": -0.01895560324192047, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5526744723320007, "entropy": 1.4498281478881836, "vf_loss": 15.596871376037598, "cur_lr": 0.0005000000237487257, "total_loss": 15.583270072937012, "kl": 0.017846528440713882}, "grad_time_ms": 12124.422, "num_steps_sampled": 1824720, "update_time_ms": 8.323, "sample_time_ms": 34423.222, "num_steps_trained": 1824720}, "timesteps_total": 1824720, "training_iteration": 38, "timesteps_this_iter": 47737, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.78995656967163, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2390>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1789, "time_since_restore": 1770.1289207935333, "episode_reward_max": 527.4463268323167, "hostname": "flow-main", "date": "2019-05-19_07-02-51", "timesteps_since_restore": 1824720, "custom_metrics": {"cost1_mean": 99.25377422423966, "cost1_max": 154.31445529648818, "cost2_min": -20.25, "system_level_velocity_max": 13.070698664910502, "system_level_velocity_mean": 8.90619652239374, "cost1_min": 42.4227692735888, "system_level_velocity_min": 3.534440395598884, "cost2_mean": -3.205709579969922, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.61543450972255, "done": false, "episode_reward_min": 121.5815635227556, "episodes_this_iter": 46, "episode_len_mean": 324.45, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249371, "iterations_since_restore": 38, "time_total_s": 1770.1289207935333, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.964, "default": {"policy_loss": -0.018734080716967583, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5307357311248779, "entropy": 1.4445505142211914, "vf_loss": 16.244285583496094, "cur_lr": 0.0005000000237487257, "total_loss": 16.23101043701172, "kl": 0.01819286309182644}, "grad_time_ms": 12163.054, "num_steps_sampled": 1874506, "update_time_ms": 8.17, "sample_time_ms": 34453.918, "num_steps_trained": 1874506}, "timesteps_total": 1874506, "training_iteration": 39, "timesteps_this_iter": 49786, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.17205452919006, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1835, "time_since_restore": 1816.3009753227234, "episode_reward_max": 527.4463268323167, "hostname": "flow-main", "date": "2019-05-19_07-03-37", "timesteps_since_restore": 1874506, "custom_metrics": {"cost1_mean": 97.48569775017309, "cost1_max": 142.3406524591687, "cost2_min": -18.33333333333333, "system_level_velocity_max": 12.152270265848419, "system_level_velocity_mean": 8.76348856347536, "cost1_min": 42.4227692735888, "system_level_velocity_min": 3.534440395598884, "cost2_mean": -3.2037403798599446, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.3270087217445, "done": false, "episode_reward_min": 127.16830782076653, "episodes_this_iter": 46, "episode_len_mean": 324.45, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249417, "iterations_since_restore": 39, "time_total_s": 1816.3009753227234, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.211, "default": {"policy_loss": -0.0183301642537117, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5168938636779785, "entropy": 1.4382414817810059, "vf_loss": 17.781803131103516, "cur_lr": 0.0005000000237487257, "total_loss": 17.769054412841797, "kl": 0.01860356330871582}, "grad_time_ms": 12204.262, "num_steps_sampled": 1924853, "update_time_ms": 8.008, "sample_time_ms": 34310.547, "num_steps_trained": 1924853}, "timesteps_total": 1924853, "training_iteration": 40, "timesteps_this_iter": 50347, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.11521244049072, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ca58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c320>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1882, "time_since_restore": 1862.416187763214, "episode_reward_max": 556.5798034152227, "hostname": "flow-main", "date": "2019-05-19_07-04-23", "timesteps_since_restore": 1924853, "custom_metrics": {"cost1_mean": 101.11233908162835, "cost1_max": 144.83543196366526, "cost2_min": -22.5, "system_level_velocity_max": 12.152270265848419, "system_level_velocity_mean": 9.034305624118025, "cost1_min": 76.17083370398647, "system_level_velocity_min": 6.7474115194249205, "cost2_mean": -3.2277430440458823, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 334.77844033788546, "done": false, "episode_reward_min": 159.1904736582963, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249463, "iterations_since_restore": 40, "time_total_s": 1862.416187763214, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.104, "default": {"policy_loss": -0.01951459050178528, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5583272576332092, "entropy": 1.4400521516799927, "vf_loss": 17.271926879882812, "cur_lr": 0.0005000000237487257, "total_loss": 17.257911682128906, "kl": 0.018321063369512558}, "grad_time_ms": 12138.875, "num_steps_sampled": 1971830, "update_time_ms": 7.836, "sample_time_ms": 34229.228, "num_steps_trained": 1971830}, "timesteps_total": 1971830, "training_iteration": 41, "timesteps_this_iter": 46977, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.23058032989502, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8f60>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1927, "time_since_restore": 1907.6467680931091, "episode_reward_max": 693.2671220124329, "hostname": "flow-main", "date": "2019-05-19_07-05-09", "timesteps_since_restore": 1971830, "custom_metrics": {"cost1_mean": 104.06752283823924, "cost1_max": 173.51678050310787, "cost2_min": -22.5, "system_level_velocity_max": 14.075495231306114, "system_level_velocity_mean": 9.225191749602258, "cost1_min": 72.16595218206149, "system_level_velocity_min": 6.7474115194249205, "cost2_mean": -3.028847311026991, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 344.27188377757375, "done": false, "episode_reward_min": 71.86595218206153, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249509, "iterations_since_restore": 41, "time_total_s": 1907.6467680931091, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.186, "default": {"policy_loss": -0.020351342856884003, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5323835015296936, "entropy": 1.451307773590088, "vf_loss": 17.234718322753906, "cur_lr": 0.0005000000237487257, "total_loss": 17.22018051147461, "kl": 0.01937161386013031}, "grad_time_ms": 12230.991, "num_steps_sampled": 2020400, "update_time_ms": 7.757, "sample_time_ms": 34053.187, "num_steps_trained": 2020400}, "timesteps_total": 2020400, "training_iteration": 42, "timesteps_this_iter": 48570, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.168349742889404, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f28d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2470>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1973, "time_since_restore": 1952.8151178359985, "episode_reward_max": 693.2671220124329, "hostname": "flow-main", "date": "2019-05-19_07-05-54", "timesteps_since_restore": 2020400, "custom_metrics": {"cost1_mean": 104.32625582492237, "cost1_max": 173.51678050310787, "cost2_min": -11.25, "system_level_velocity_max": 14.075495231306114, "system_level_velocity_mean": 9.260840560316318, "cost1_min": 71.37500299858996, "system_level_velocity_min": 5.99835557798947, "cost2_mean": -2.7651028775214916, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 333.5242307225771, "done": false, "episode_reward_min": 71.86595218206153, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249554, "iterations_since_restore": 42, "time_total_s": 1952.8151178359985, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.195, "default": {"policy_loss": -0.018639808520674706, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5148190855979919, "entropy": 1.4537529945373535, "vf_loss": 17.14017105102539, "cur_lr": 0.0005000000237487257, "total_loss": 17.126863479614258, "kl": 0.017775194719433784}, "grad_time_ms": 12344.534, "num_steps_sampled": 2068826, "update_time_ms": 7.84, "sample_time_ms": 33786.737, "num_steps_trained": 2068826}, "timesteps_total": 2068826, "training_iteration": 43, "timesteps_this_iter": 48426, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.98372292518616, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8f98>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f80b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2021, "time_since_restore": 1998.7988407611847, "episode_reward_max": 551.2855490732509, "hostname": "flow-main", "date": "2019-05-19_07-06-40", "timesteps_since_restore": 2068826, "custom_metrics": {"cost1_mean": 102.14078830577618, "cost1_max": 143.89424338269458, "cost2_min": -11.25, "system_level_velocity_max": 12.156089695285985, "system_level_velocity_mean": 9.124679973176493, "cost1_min": 71.37500299858996, "system_level_velocity_min": 5.99835557798947, "cost2_mean": -2.9779177810005404, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 326.95502654151403, "done": false, "episode_reward_min": 127.33682953335172, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249600, "iterations_since_restore": 43, "time_total_s": 1998.7988407611847, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.439, "default": {"policy_loss": -0.01995699666440487, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4823676645755768, "entropy": 1.473404049873352, "vf_loss": 17.00722885131836, "cur_lr": 0.0005000000237487257, "total_loss": 16.992942810058594, "kl": 0.01890428178012371}, "grad_time_ms": 12477.779, "num_steps_sampled": 2117297, "update_time_ms": 7.915, "sample_time_ms": 33681.666, "num_steps_trained": 2117297}, "timesteps_total": 2117297, "training_iteration": 44, "timesteps_this_iter": 48471, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.11839962005615, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2064, "time_since_restore": 2044.9172403812408, "episode_reward_max": 565.8212037627368, "hostname": "flow-main", "date": "2019-05-19_07-07-26", "timesteps_since_restore": 2117297, "custom_metrics": {"cost1_mean": 101.74161142422034, "cost1_max": 143.89424338269458, "cost2_min": -22.75, "system_level_velocity_max": 12.156089695285985, "system_level_velocity_mean": 9.053104384823767, "cost1_min": 78.3984212045037, "system_level_velocity_min": 7.07657056763866, "cost2_mean": -3.4596704937873057, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 333.19666245818763, "done": false, "episode_reward_min": 101.41887244302661, "episodes_this_iter": 43, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249646, "iterations_since_restore": 44, "time_total_s": 2044.9172403812408, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.24, "default": {"policy_loss": -0.020464960485696793, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5162562131881714, "entropy": 1.464572548866272, "vf_loss": 17.022130966186523, "cur_lr": 0.0005000000237487257, "total_loss": 17.00802230834961, "kl": 0.021190466359257698}, "grad_time_ms": 12557.305, "num_steps_sampled": 2165919, "update_time_ms": 7.503, "sample_time_ms": 33540.984, "num_steps_trained": 2165919}, "timesteps_total": 2165919, "training_iteration": 45, "timesteps_this_iter": 48622, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.81794309616089, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f80f0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2112, "time_since_restore": 2090.7351834774017, "episode_reward_max": 587.474802739307, "hostname": "flow-main", "date": "2019-05-19_07-08-12", "timesteps_since_restore": 2165919, "custom_metrics": {"cost1_mean": 99.77215593414836, "cost1_max": 147.1187006848267, "cost2_min": -24.8545105618753, "system_level_velocity_max": 12.304423377368602, "system_level_velocity_mean": 8.9261656017463, "cost1_min": 76.56492897004483, "system_level_velocity_min": 6.761161837445912, "cost2_mean": -4.285465971735966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 321.5711352581949, "done": false, "episode_reward_min": 101.41887244302661, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249692, "iterations_since_restore": 45, "time_total_s": 2090.7351834774017, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.333, "default": {"policy_loss": -0.018142957240343094, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5358924865722656, "entropy": 1.4702039957046509, "vf_loss": 17.367996215820312, "cur_lr": 0.0005000000237487257, "total_loss": 17.356773376464844, "kl": 0.01538335531949997}, "grad_time_ms": 12756.422, "num_steps_sampled": 2214984, "update_time_ms": 7.438, "sample_time_ms": 33153.857, "num_steps_trained": 2214984}, "timesteps_total": 2214984, "training_iteration": 46, "timesteps_this_iter": 49065, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.33382248878479, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2da0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2208>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2159, "time_since_restore": 2137.0690059661865, "episode_reward_max": 627.273388786615, "hostname": "flow-main", "date": "2019-05-19_07-08-58", "timesteps_since_restore": 2214984, "custom_metrics": {"cost1_mean": 100.94764973364768, "cost1_max": 157.11834719665376, "cost2_min": -24.8545105618753, "system_level_velocity_max": 12.783469518191643, "system_level_velocity_mean": 9.025428852624747, "cost1_min": 76.56492897004483, "system_level_velocity_min": 6.761161837445912, "cost2_mean": -4.723283709083265, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.0393099141331, "done": false, "episode_reward_min": 163.48431548260433, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249738, "iterations_since_restore": 46, "time_total_s": 2137.0690059661865, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.127, "default": {"policy_loss": -0.019949495792388916, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.602269172668457, "entropy": 1.4347342252731323, "vf_loss": 19.219717025756836, "cur_lr": 0.0005000000237487257, "total_loss": 19.20682144165039, "kl": 0.015678346157073975}, "grad_time_ms": 12862.315, "num_steps_sampled": 2262804, "update_time_ms": 7.283, "sample_time_ms": 32828.229, "num_steps_trained": 2262804}, "timesteps_total": 2262804, "training_iteration": 47, "timesteps_this_iter": 47820, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.181915521621704, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667d68>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2203, "time_since_restore": 2182.2509214878082, "episode_reward_max": 675.8593574105532, "hostname": "flow-main", "date": "2019-05-19_07-09-43", "timesteps_since_restore": 2262804, "custom_metrics": {"cost1_mean": 104.89645552707253, "cost1_max": 168.9648393526384, "cost2_min": -18.666666666666664, "system_level_velocity_max": 13.782344111230634, "system_level_velocity_mean": 9.306903247581237, "cost1_min": 75.41885452452343, "system_level_velocity_min": 6.547855740896967, "cost2_mean": -4.0675243653249495, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 342.0355590151851, "done": false, "episode_reward_min": 115.4248140499818, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249783, "iterations_since_restore": 47, "time_total_s": 2182.2509214878082, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.16, "default": {"policy_loss": -0.020572112873196602, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45228371024131775, "entropy": 1.4609981775283813, "vf_loss": 17.210966110229492, "cur_lr": 0.0005000000237487257, "total_loss": 17.19734001159668, "kl": 0.015436138957738876}, "grad_time_ms": 13047.48, "num_steps_sampled": 2310246, "update_time_ms": 7.23, "sample_time_ms": 32567.373, "num_steps_trained": 2310246}, "timesteps_total": 2310246, "training_iteration": 48, "timesteps_this_iter": 47442, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.04272174835205, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ac8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2249, "time_since_restore": 2227.2936432361603, "episode_reward_max": 675.8593574105532, "hostname": "flow-main", "date": "2019-05-19_07-10-29", "timesteps_since_restore": 2310246, "custom_metrics": {"cost1_mean": 105.53952555463833, "cost1_max": 168.9648393526384, "cost2_min": -18.666666666666664, "system_level_velocity_max": 13.782344111230634, "system_level_velocity_mean": 9.378932197169178, "cost1_min": 75.41885452452343, "system_level_velocity_min": 6.547855740896967, "cost2_mean": -3.66301574140513, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 336.74151318107243, "done": false, "episode_reward_min": 115.4248140499818, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249829, "iterations_since_restore": 48, "time_total_s": 2227.2936432361603, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.33, "default": {"policy_loss": -0.020252203568816185, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.48050394654273987, "entropy": 1.465517520904541, "vf_loss": 17.85134506225586, "cur_lr": 0.0005000000237487257, "total_loss": 17.83808708190918, "kl": 0.015546990558505058}, "grad_time_ms": 13165.717, "num_steps_sampled": 2358482, "update_time_ms": 7.317, "sample_time_ms": 32381.21, "num_steps_trained": 2358482}, "timesteps_total": 2358482, "training_iteration": 49, "timesteps_this_iter": 48236, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.49906349182129, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ac8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2297, "time_since_restore": 2272.7927067279816, "episode_reward_max": 531.9469847216274, "hostname": "flow-main", "date": "2019-05-19_07-11-14", "timesteps_since_restore": 2358482, "custom_metrics": {"cost1_mean": 103.34672548995079, "cost1_max": 149.12269267457137, "cost2_min": -16.666666666666668, "system_level_velocity_max": 12.41646922204309, "system_level_velocity_mean": 9.243066304082737, "cost1_min": 75.19970575471963, "system_level_velocity_min": 6.883258248539759, "cost2_mean": -3.1016657370346077, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 327.71356746113946, "done": false, "episode_reward_min": 106.31316293463686, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249874, "iterations_since_restore": 49, "time_total_s": 2272.7927067279816, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.307, "default": {"policy_loss": -0.02006402239203453, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.46715009212493896, "entropy": 1.466550588607788, "vf_loss": 16.85061264038086, "cur_lr": 0.0005000000237487257, "total_loss": 16.83708953857422, "kl": 0.014535714872181416}, "grad_time_ms": 13326.944, "num_steps_sampled": 2408376, "update_time_ms": 7.596, "sample_time_ms": 32099.179, "num_steps_trained": 2408376}, "timesteps_total": 2408376, "training_iteration": 50, "timesteps_this_iter": 49894, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.911051988601685, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2630>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2343, "time_since_restore": 2317.7037587165833, "episode_reward_max": 703.2133433709065, "hostname": "flow-main", "date": "2019-05-19_07-11-59", "timesteps_since_restore": 2408376, "custom_metrics": {"cost1_mean": 105.54317523569779, "cost1_max": 177.5975545505784, "cost2_min": -11.0, "system_level_velocity_max": 14.52061224385397, "system_level_velocity_mean": 9.368238897052027, "cost1_min": 75.19970575471963, "system_level_velocity_min": 6.883258248539759, "cost2_mean": -2.674724709719071, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 339.5427512496252, "done": false, "episode_reward_min": 95.27556770448906, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249919, "iterations_since_restore": 50, "time_total_s": 2317.7037587165833, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.379, "default": {"policy_loss": -0.020213808864355087, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.48898181319236755, "entropy": 1.478663682937622, "vf_loss": 17.330005645751953, "cur_lr": 0.0005000000237487257, "total_loss": 17.31678581237793, "kl": 0.015539221465587616}, "grad_time_ms": 13476.103, "num_steps_sampled": 2455463, "update_time_ms": 7.562, "sample_time_ms": 31950.722, "num_steps_trained": 2455463}, "timesteps_total": 2455463, "training_iteration": 51, "timesteps_this_iter": 47087, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.2497935295105, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a6a0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2389, "time_since_restore": 2362.9535522460938, "episode_reward_max": 703.2133433709065, "hostname": "flow-main", "date": "2019-05-19_07-12-44", "timesteps_since_restore": 2455463, "custom_metrics": {"cost1_mean": 105.04598034926494, "cost1_max": 177.5975545505784, "cost2_min": -15.5, "system_level_velocity_max": 14.52061224385397, "system_level_velocity_mean": 9.318399875555889, "cost1_min": 78.40027799812034, "system_level_velocity_min": 7.322911276443954, "cost2_mean": -2.9706647380007984, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 337.88397038964047, "done": false, "episode_reward_min": 95.27556770448906, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558249964, "iterations_since_restore": 51, "time_total_s": 2362.9535522460938, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.204, "default": {"policy_loss": -0.018649455159902573, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.4440412223339081, "entropy": 1.485910177230835, "vf_loss": 16.9185848236084, "cur_lr": 0.0005000000237487257, "total_loss": 16.906328201293945, "kl": 0.014208798296749592}, "grad_time_ms": 13554.302, "num_steps_sampled": 2503226, "update_time_ms": 7.94, "sample_time_ms": 31823.241, "num_steps_trained": 2503226}, "timesteps_total": 2503226, "training_iteration": 52, "timesteps_this_iter": 47763, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.6948037147522, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2435, "time_since_restore": 2407.648355960846, "episode_reward_max": 499.3441092467323, "hostname": "flow-main", "date": "2019-05-19_07-13-29", "timesteps_since_restore": 2503226, "custom_metrics": {"cost1_mean": 101.59374234483312, "cost1_max": 153.12120923770814, "cost2_min": -15.5, "system_level_velocity_max": 12.752250096906325, "system_level_velocity_mean": 9.08308391615623, "cost1_min": 76.42335925988996, "system_level_velocity_min": 7.213847260580601, "cost2_mean": -3.0735413626053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.68637047283903, "done": false, "episode_reward_min": 101.38329884605704, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250009, "iterations_since_restore": 52, "time_total_s": 2407.648355960846, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.117, "default": {"policy_loss": -0.02123233862221241, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5137029886245728, "entropy": 1.5050147771835327, "vf_loss": 17.340295791625977, "cur_lr": 0.0005000000237487257, "total_loss": 17.32621955871582, "kl": 0.015901507809758186}, "grad_time_ms": 13621.534, "num_steps_sampled": 2550452, "update_time_ms": 8.105, "sample_time_ms": 31759.861, "num_steps_trained": 2550452}, "timesteps_total": 2550452, "training_iteration": 53, "timesteps_this_iter": 47226, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.040833711624146, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667080>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2483, "time_since_restore": 2453.68918967247, "episode_reward_max": 499.3441092467323, "hostname": "flow-main", "date": "2019-05-19_07-14-15", "timesteps_since_restore": 2550452, "custom_metrics": {"cost1_mean": 99.99081411545434, "cost1_max": 153.12120923770814, "cost2_min": -22.0, "system_level_velocity_max": 12.752250096906325, "system_level_velocity_mean": 8.97295973724598, "cost1_min": 12.014403968310138, "system_level_velocity_min": 2.2887377030968987, "cost2_mean": -3.3639776738314966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.3149905441298, "done": false, "episode_reward_min": 41.60720770398381, "episodes_this_iter": 48, "episode_len_mean": 323.42, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250055, "iterations_since_restore": 53, "time_total_s": 2453.68918967247, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.708, "default": {"policy_loss": -0.02067328244447708, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5327761173248291, "entropy": 1.4953174591064453, "vf_loss": 15.851930618286133, "cur_lr": 0.0005000000237487257, "total_loss": 15.838507652282715, "kl": 0.016111107543110847}, "grad_time_ms": 13642.202, "num_steps_sampled": 2597212, "update_time_ms": 8.398, "sample_time_ms": 31571.601, "num_steps_trained": 2597212}, "timesteps_total": 2597212, "training_iteration": 54, "timesteps_this_iter": 46760, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.47076678276062, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06670b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f28>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2527, "time_since_restore": 2498.1599564552307, "episode_reward_max": 595.8271407059332, "hostname": "flow-main", "date": "2019-05-19_07-15-00", "timesteps_since_restore": 2597212, "custom_metrics": {"cost1_mean": 102.04861239847584, "cost1_max": 161.23540860699987, "cost2_min": -22.0, "system_level_velocity_max": 13.20122724181825, "system_level_velocity_mean": 9.138586695582724, "cost1_min": 12.014403968310138, "system_level_velocity_min": 2.2887377030968987, "cost2_mean": -3.5274502331129596, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.9338271048127, "done": false, "episode_reward_min": 41.60720770398381, "episodes_this_iter": 44, "episode_len_mean": 323.42, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250100, "iterations_since_restore": 54, "time_total_s": 2498.1599564552307, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.881, "default": {"policy_loss": -0.02016502246260643, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5067174434661865, "entropy": 1.4981752634048462, "vf_loss": 16.914438247680664, "cur_lr": 0.0005000000237487257, "total_loss": 16.9014835357666, "kl": 0.016023926436901093}, "grad_time_ms": 13640.279, "num_steps_sampled": 2643929, "update_time_ms": 8.881, "sample_time_ms": 31454.299, "num_steps_trained": 2643929}, "timesteps_total": 2643929, "training_iteration": 55, "timesteps_this_iter": 46717, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.65236973762512, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f88d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8668>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8710>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2573, "time_since_restore": 2542.812326192856, "episode_reward_max": 595.8271407059332, "hostname": "flow-main", "date": "2019-05-19_07-15-44", "timesteps_since_restore": 2643929, "custom_metrics": {"cost1_mean": 104.306067043457, "cost1_max": 161.23540860699987, "cost2_min": -12.25, "system_level_velocity_max": 13.20122724181825, "system_level_velocity_mean": 9.317864483294546, "cost1_min": 49.93972426431374, "system_level_velocity_min": 4.435779704860727, "cost2_mean": -3.0842266477186393, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 324.1722461426969, "done": false, "episode_reward_min": 90.99161255848844, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250144, "iterations_since_restore": 55, "time_total_s": 2542.812326192856, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.869, "default": {"policy_loss": -0.019478600472211838, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.49453556537628174, "entropy": 1.527891993522644, "vf_loss": 17.925291061401367, "cur_lr": 0.0005000000237487257, "total_loss": 17.912601470947266, "kl": 0.01509091816842556}, "grad_time_ms": 13717.665, "num_steps_sampled": 2693882, "update_time_ms": 9.271, "sample_time_ms": 31373.47, "num_steps_trained": 2693882}, "timesteps_total": 2693882, "training_iteration": 56, "timesteps_this_iter": 49953, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.31178092956543, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2d30>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2623, "time_since_restore": 2589.1241071224213, "episode_reward_max": 541.653627871424, "hostname": "flow-main", "date": "2019-05-19_07-16-31", "timesteps_since_restore": 2693882, "custom_metrics": {"cost1_mean": 102.00557133213144, "cost1_max": 146.42343067762025, "cost2_min": -17.75, "system_level_velocity_max": 12.334931516462163, "system_level_velocity_mean": 9.143125858125906, "cost1_min": 11.701309880687806, "system_level_velocity_min": 3.1432051795969147, "cost2_mean": -3.0609641555055678, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 328.0689956803964, "done": false, "episode_reward_min": 38.64264801661337, "episodes_this_iter": 50, "episode_len_mean": 322.89, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250191, "iterations_since_restore": 56, "time_total_s": 2589.1241071224213, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.989, "default": {"policy_loss": -0.018557973206043243, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.516711413860321, "entropy": 1.5030642747879028, "vf_loss": 16.69000244140625, "cur_lr": 0.0005000000237487257, "total_loss": 16.67821502685547, "kl": 0.01504598744213581}, "grad_time_ms": 13778.709, "num_steps_sampled": 2741622, "update_time_ms": 9.508, "sample_time_ms": 31276.763, "num_steps_trained": 2741622}, "timesteps_total": 2741622, "training_iteration": 57, "timesteps_this_iter": 47740, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.85083341598511, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06679b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2665, "time_since_restore": 2633.9749405384064, "episode_reward_max": 541.653627871424, "hostname": "flow-main", "date": "2019-05-19_07-17-16", "timesteps_since_restore": 2741622, "custom_metrics": {"cost1_mean": 103.55363865579713, "cost1_max": 146.86636273996476, "cost2_min": -17.75, "system_level_velocity_max": 12.637073120354035, "system_level_velocity_mean": 9.259719740323765, "cost1_min": 11.701309880687806, "system_level_velocity_min": 3.1432051795969147, "cost2_mean": -2.860365256579525, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 333.4182184169952, "done": false, "episode_reward_min": 38.64264801661337, "episodes_this_iter": 42, "episode_len_mean": 322.89, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250236, "iterations_since_restore": 57, "time_total_s": 2633.9749405384064, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.232, "default": {"policy_loss": -0.020091651007533073, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4542730748653412, "entropy": 1.5206407308578491, "vf_loss": 17.921138763427734, "cur_lr": 0.0005000000237487257, "total_loss": 17.90746307373047, "kl": 0.014263350516557693}, "grad_time_ms": 13875.692, "num_steps_sampled": 2791201, "update_time_ms": 9.627, "sample_time_ms": 31330.517, "num_steps_trained": 2791201}, "timesteps_total": 2791201, "training_iteration": 58, "timesteps_this_iter": 49579, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.577720642089844, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06677f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667518>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2712, "time_since_restore": 2680.552661180496, "episode_reward_max": 541.653627871424, "hostname": "flow-main", "date": "2019-05-19_07-18-02", "timesteps_since_restore": 2791201, "custom_metrics": {"cost1_mean": 102.68104173392864, "cost1_max": 146.86636273996476, "cost2_min": -13.75, "system_level_velocity_max": 12.637073120354035, "system_level_velocity_mean": 9.209919353462091, "cost1_min": 74.37898972103295, "system_level_velocity_min": 6.95400102691899, "cost2_mean": -3.2650274187645816, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 339.89526635158023, "done": false, "episode_reward_min": 164.8405905437904, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250282, "iterations_since_restore": 58, "time_total_s": 2680.552661180496, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.403, "default": {"policy_loss": -0.020381560549139977, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5113472938537598, "entropy": 1.5381706953048706, "vf_loss": 17.287660598754883, "cur_lr": 0.0005000000237487257, "total_loss": 17.27425765991211, "kl": 0.015510018914937973}, "grad_time_ms": 13843.388, "num_steps_sampled": 2837645, "update_time_ms": 9.713, "sample_time_ms": 31452.6, "num_steps_trained": 2837645}, "timesteps_total": 2837645, "training_iteration": 59, "timesteps_this_iter": 46444, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.39627552032471, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f85f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065add8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac18>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2761, "time_since_restore": 2726.948936700821, "episode_reward_max": 511.86030350829816, "hostname": "flow-main", "date": "2019-05-19_07-18-49", "timesteps_since_restore": 2837645, "custom_metrics": {"cost1_mean": 100.10026036485846, "cost1_max": 146.18699133606953, "cost2_min": -20.75, "system_level_velocity_max": 12.607904712712273, "system_level_velocity_mean": 9.052574725638022, "cost1_min": 10.14270901254511, "system_level_velocity_min": 2.7508605855282564, "cost2_mean": -3.488387100414838, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.5004232508204, "done": false, "episode_reward_min": 34.19922127287376, "episodes_this_iter": 49, "episode_len_mean": 323.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250329, "iterations_since_restore": 59, "time_total_s": 2726.948936700821, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.153, "default": {"policy_loss": -0.02056669257581234, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47481536865234375, "entropy": 1.5273125171661377, "vf_loss": 15.892987251281738, "cur_lr": 0.0005000000237487257, "total_loss": 15.879213333129883, "kl": 0.015094702132046223}, "grad_time_ms": 13790.469, "num_steps_sampled": 2884582, "update_time_ms": 9.788, "sample_time_ms": 31625.988, "num_steps_trained": 2884582}, "timesteps_total": 2884582, "training_iteration": 60, "timesteps_this_iter": 46937, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.12001061439514, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac50>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2806, "time_since_restore": 2773.068947315216, "episode_reward_max": 464.863031963176, "hostname": "flow-main", "date": "2019-05-19_07-19-35", "timesteps_since_restore": 2884582, "custom_metrics": {"cost1_mean": 100.0910504628269, "cost1_max": 154.90943933483152, "cost2_min": -20.75, "system_level_velocity_max": 13.132209275212897, "system_level_velocity_mean": 9.00700596468659, "cost1_min": 10.14270901254511, "system_level_velocity_min": 2.7508605855282564, "cost2_mean": -3.819902003209383, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 309.1656004259393, "done": false, "episode_reward_min": 34.19922127287376, "episodes_this_iter": 45, "episode_len_mean": 323.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250375, "iterations_since_restore": 60, "time_total_s": 2773.068947315216, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.185, "default": {"policy_loss": -0.02069949172437191, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5002435445785522, "entropy": 1.5194720029830933, "vf_loss": 16.70516586303711, "cur_lr": 0.0005000000237487257, "total_loss": 16.691547393798828, "kl": 0.01573115959763527}, "grad_time_ms": 13833.03, "num_steps_sampled": 2933176, "update_time_ms": 10.107, "sample_time_ms": 31617.437, "num_steps_trained": 2933176}, "timesteps_total": 2933176, "training_iteration": 61, "timesteps_this_iter": 48594, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.613157749176025, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667400>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2850, "time_since_restore": 2818.682105064392, "episode_reward_max": 552.9400017081967, "hostname": "flow-main", "date": "2019-05-19_07-20-21", "timesteps_since_restore": 2933176, "custom_metrics": {"cost1_mean": 101.75083125007248, "cost1_max": 154.90943933483152, "cost2_min": -23.75, "system_level_velocity_max": 13.132209275212897, "system_level_velocity_mean": 9.111140949442014, "cost1_min": 72.93314733661394, "system_level_velocity_min": 6.183578395082038, "cost2_mean": -3.8541398180671926, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.1550325102674, "done": false, "episode_reward_min": 101.2149354970581, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250421, "iterations_since_restore": 61, "time_total_s": 2818.682105064392, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.041, "default": {"policy_loss": -0.02116197906434536, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5447493195533752, "entropy": 1.5287492275238037, "vf_loss": 19.3382625579834, "cur_lr": 0.0005000000237487257, "total_loss": 19.324260711669922, "kl": 0.01591438055038452}, "grad_time_ms": 13805.013, "num_steps_sampled": 2979911, "update_time_ms": 9.983, "sample_time_ms": 31883.495, "num_steps_trained": 2979911}, "timesteps_total": 2979911, "training_iteration": 62, "timesteps_this_iter": 46735, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.0503146648407, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06673c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667978>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2900, "time_since_restore": 2865.732419729233, "episode_reward_max": 565.7128173717077, "hostname": "flow-main", "date": "2019-05-19_07-21-08", "timesteps_since_restore": 2979911, "custom_metrics": {"cost1_mean": 101.44094216432086, "cost1_max": 141.42820434292685, "cost2_min": -26.0, "system_level_velocity_max": 11.917113217958956, "system_level_velocity_mean": 9.127727992002354, "cost1_min": 11.86055502327176, "system_level_velocity_min": 3.2975481198014496, "cost2_mean": -3.7427353181829037, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.43128770119426, "done": false, "episode_reward_min": 21.24558025734046, "episodes_this_iter": 50, "episode_len_mean": 322.82, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250468, "iterations_since_restore": 62, "time_total_s": 2865.732419729233, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.163, "default": {"policy_loss": -0.02067825198173523, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5112134218215942, "entropy": 1.5277891159057617, "vf_loss": 19.42514991760254, "cur_lr": 0.0005000000237487257, "total_loss": 19.411855697631836, "kl": 0.016410691663622856}, "grad_time_ms": 13813.501, "num_steps_sampled": 3027723, "update_time_ms": 9.676, "sample_time_ms": 31780.328, "num_steps_trained": 3027723}, "timesteps_total": 3027723, "training_iteration": 63, "timesteps_this_iter": 47812, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.08452272415161, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ab38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065add8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2946, "time_since_restore": 2910.8169424533844, "episode_reward_max": 589.9481969044945, "hostname": "flow-main", "date": "2019-05-19_07-21-53", "timesteps_since_restore": 3027723, "custom_metrics": {"cost1_mean": 104.19431496095731, "cost1_max": 148.90401421851115, "cost2_min": -26.0, "system_level_velocity_max": 12.55998616960594, "system_level_velocity_mean": 9.33242633196225, "cost1_min": 11.86055502327176, "system_level_velocity_min": 3.2975481198014496, "cost2_mean": -3.4458617900054964, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 331.5611222702809, "done": false, "episode_reward_min": 21.24558025734046, "episodes_this_iter": 46, "episode_len_mean": 322.82, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250513, "iterations_since_restore": 63, "time_total_s": 2910.8169424533844, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.211, "default": {"policy_loss": -0.021278129890561104, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5665650963783264, "entropy": 1.5372925996780396, "vf_loss": 16.686155319213867, "cur_lr": 0.0005000000237487257, "total_loss": 16.671939849853516, "kl": 0.015689928084611893}, "grad_time_ms": 13941.019, "num_steps_sampled": 3076359, "update_time_ms": 9.577, "sample_time_ms": 31830.335, "num_steps_trained": 3076359}, "timesteps_total": 3076359, "training_iteration": 64, "timesteps_this_iter": 48636, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.26828622817993, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ada0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a208>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2991, "time_since_restore": 2957.0852286815643, "episode_reward_max": 665.4786786022353, "hostname": "flow-main", "date": "2019-05-19_07-22-39", "timesteps_since_restore": 3076359, "custom_metrics": {"cost1_mean": 103.96469236419114, "cost1_max": 166.40149317862316, "cost2_min": -21.75, "system_level_velocity_max": 13.673616117903444, "system_level_velocity_mean": 9.312339592552682, "cost1_min": 11.86055502327176, "system_level_velocity_min": 3.2975481198014496, "cost2_mean": -3.6577828963111436, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 333.6700363472122, "done": false, "episode_reward_min": 21.24558025734046, "episodes_this_iter": 45, "episode_len_mean": 322.93, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250559, "iterations_since_restore": 64, "time_total_s": 2957.0852286815643, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.071, "default": {"policy_loss": -0.020073451101779938, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5169513821601868, "entropy": 1.543586254119873, "vf_loss": 18.073850631713867, "cur_lr": 0.0005000000237487257, "total_loss": 18.060869216918945, "kl": 0.015757909044623375}, "grad_time_ms": 14005.966, "num_steps_sampled": 3124360, "update_time_ms": 9.42, "sample_time_ms": 31906.221, "num_steps_trained": 3124360}, "timesteps_total": 3124360, "training_iteration": 65, "timesteps_this_iter": 48001, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.0451078414917, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667390>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3038, "time_since_restore": 3003.130336523056, "episode_reward_max": 665.4786786022353, "hostname": "flow-main", "date": "2019-05-19_07-23-25", "timesteps_since_restore": 3124360, "custom_metrics": {"cost1_mean": 102.12537502479044, "cost1_max": 171.7060531213095, "cost2_min": -13.666666666666666, "system_level_velocity_max": 14.233756605626667, "system_level_velocity_mean": 9.177560145662117, "cost1_min": 76.10567068866621, "system_level_velocity_min": 7.179227950400508, "cost2_mean": -3.131514317041352, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 335.4220372118418, "done": false, "episode_reward_min": 104.75245524773865, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250605, "iterations_since_restore": 65, "time_total_s": 3003.130336523056, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.04, "default": {"policy_loss": -0.020668303593993187, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45926740765571594, "entropy": 1.5165624618530273, "vf_loss": 19.52250099182129, "cur_lr": 0.0005000000237487257, "total_loss": 19.50880241394043, "kl": 0.015488597564399242}, "grad_time_ms": 13936.441, "num_steps_sampled": 3172074, "update_time_ms": 9.098, "sample_time_ms": 31836.003, "num_steps_trained": 3172074}, "timesteps_total": 3172074, "training_iteration": 66, "timesteps_this_iter": 47714, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.898332834243774, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04085c0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04086a0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3085, "time_since_restore": 3048.0286693573, "episode_reward_max": 665.4786786022353, "hostname": "flow-main", "date": "2019-05-19_07-24-10", "timesteps_since_restore": 3172074, "custom_metrics": {"cost1_mean": 104.937008246688, "cost1_max": 171.7060531213095, "cost2_min": -10.25, "system_level_velocity_max": 14.233756605626667, "system_level_velocity_mean": 9.419511094325435, "cost1_min": 80.365310809896, "system_level_velocity_min": 7.447535970021098, "cost2_mean": -2.7994114492313287, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 334.99936515620647, "done": false, "episode_reward_min": 104.75245524773865, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250650, "iterations_since_restore": 66, "time_total_s": 3048.0286693573, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.006, "default": {"policy_loss": -0.021567469462752342, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.47943058609962463, "entropy": 1.526041030883789, "vf_loss": 18.763004302978516, "cur_lr": 0.0005000000237487257, "total_loss": 18.74869728088379, "kl": 0.016132036224007607}, "grad_time_ms": 13891.923, "num_steps_sampled": 3219342, "update_time_ms": 9.101, "sample_time_ms": 31906.513, "num_steps_trained": 3219342}, "timesteps_total": 3219342, "training_iteration": 67, "timesteps_this_iter": 47268, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.09678363800049, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3129, "time_since_restore": 3093.1254529953003, "episode_reward_max": 585.3096502706572, "hostname": "flow-main", "date": "2019-05-19_07-24-55", "timesteps_since_restore": 3219342, "custom_metrics": {"cost1_mean": 104.41386309863324, "cost1_max": 146.37741256766424, "cost2_min": -11.438634633269494, "system_level_velocity_max": 12.232589988235167, "system_level_velocity_mean": 9.364565048737274, "cost1_min": 80.365310809896, "system_level_velocity_min": 7.447535970021098, "cost2_mean": -2.8767906133968895, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.7165004903482, "done": false, "episode_reward_min": 104.75245524773865, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250695, "iterations_since_restore": 67, "time_total_s": 3093.1254529953003, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.014, "default": {"policy_loss": -0.019833555445075035, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47425514459609985, "entropy": 1.5355075597763062, "vf_loss": 17.30868911743164, "cur_lr": 0.0005000000237487257, "total_loss": 17.296527862548828, "kl": 0.017053885385394096}, "grad_time_ms": 13837.785, "num_steps_sampled": 3267736, "update_time_ms": 9.163, "sample_time_ms": 31824.382, "num_steps_trained": 3267736}, "timesteps_total": 3267736, "training_iteration": 68, "timesteps_this_iter": 48394, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.19900345802307, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408828>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ac8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3174, "time_since_restore": 3138.3244564533234, "episode_reward_max": 585.3096502706572, "hostname": "flow-main", "date": "2019-05-19_07-25-41", "timesteps_since_restore": 3267736, "custom_metrics": {"cost1_mean": 106.63538958750013, "cost1_max": 146.37741256766424, "cost2_min": -13.060184254248842, "system_level_velocity_max": 12.307797307991605, "system_level_velocity_mean": 9.540247581453256, "cost1_min": 78.17753597442696, "system_level_velocity_min": 7.192756094715693, "cost2_mean": -3.007683969882042, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.4805896016853, "done": false, "episode_reward_min": 170.49732067266973, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250741, "iterations_since_restore": 68, "time_total_s": 3138.3244564533234, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.768, "default": {"policy_loss": -0.02123507671058178, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5316972732543945, "entropy": 1.5678449869155884, "vf_loss": 17.391000747680664, "cur_lr": 0.0005000000237487257, "total_loss": 17.37739372253418, "kl": 0.016947519034147263}, "grad_time_ms": 13924.049, "num_steps_sampled": 3317112, "update_time_ms": 9.115, "sample_time_ms": 31800.429, "num_steps_trained": 3317112}, "timesteps_total": 3317112, "training_iteration": 69, "timesteps_this_iter": 49376, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.020203828811646, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04080f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8668>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3224, "time_since_restore": 3185.344660282135, "episode_reward_max": 533.2812009388598, "hostname": "flow-main", "date": "2019-05-19_07-26-28", "timesteps_since_restore": 3317112, "custom_metrics": {"cost1_mean": 103.25381860859429, "cost1_max": 146.31419002441677, "cost2_min": -39.0, "system_level_velocity_max": 12.307797307991605, "system_level_velocity_mean": 9.269352481772478, "cost1_min": 22.81496083818368, "system_level_velocity_min": 2.6660948757388456, "cost2_mean": -3.773878390800893, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 331.1519645350796, "done": false, "episode_reward_min": 38.939920429065076, "episodes_this_iter": 50, "episode_len_mean": 323.97, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250788, "iterations_since_restore": 69, "time_total_s": 3185.344660282135, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.88, "default": {"policy_loss": -0.02125181443989277, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4997897446155548, "entropy": 1.5545731782913208, "vf_loss": 16.15350914001465, "cur_lr": 0.0005000000237487257, "total_loss": 16.139352798461914, "kl": 0.015774080529808998}, "grad_time_ms": 13975.573, "num_steps_sampled": 3365628, "update_time_ms": 9.075, "sample_time_ms": 31657.084, "num_steps_trained": 3365628}, "timesteps_total": 3365628, "training_iteration": 70, "timesteps_this_iter": 48516, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.193400382995605, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ada0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5c0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3267, "time_since_restore": 3230.5380606651306, "episode_reward_max": 592.8015328352423, "hostname": "flow-main", "date": "2019-05-19_07-27-13", "timesteps_since_restore": 3365628, "custom_metrics": {"cost1_mean": 100.92626918618133, "cost1_max": 148.43323504051804, "cost2_min": -39.0, "system_level_velocity_max": 12.403900419618244, "system_level_velocity_mean": 9.072325899139564, "cost1_min": 22.81496083818368, "system_level_velocity_min": 2.6660948757388456, "cost2_mean": -4.306645609018995, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 330.916985183946, "done": false, "episode_reward_min": 38.939920429065076, "episodes_this_iter": 43, "episode_len_mean": 323.97, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250833, "iterations_since_restore": 70, "time_total_s": 3230.5380606651306, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.756, "default": {"policy_loss": -0.022790739312767982, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5706027150154114, "entropy": 1.5584094524383545, "vf_loss": 16.452226638793945, "cur_lr": 0.0005000000237487257, "total_loss": 16.437040328979492, "kl": 0.01690361276268959}, "grad_time_ms": 13899.772, "num_steps_sampled": 3410162, "update_time_ms": 8.842, "sample_time_ms": 31608.521, "num_steps_trained": 3410162}, "timesteps_total": 3410162, "training_iteration": 71, "timesteps_this_iter": 44534, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.36057496070862, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065add8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3314, "time_since_restore": 3274.8986356258392, "episode_reward_max": 592.8015328352423, "hostname": "flow-main", "date": "2019-05-19_07-27-57", "timesteps_since_restore": 3410162, "custom_metrics": {"cost1_mean": 102.20768525893965, "cost1_max": 149.93820944709205, "cost2_min": -20.666666666666664, "system_level_velocity_max": 12.602711904249176, "system_level_velocity_mean": 9.183351566273606, "cost1_min": 48.76209649516578, "system_level_velocity_min": 4.267110071760013, "cost2_mean": -3.8232671316679103, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.59992635542045, "done": false, "episode_reward_min": 143.33438483208982, "episodes_this_iter": 47, "episode_len_mean": 324.21, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250877, "iterations_since_restore": 71, "time_total_s": 3274.8986356258392, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.902, "default": {"policy_loss": -0.021573390811681747, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47510597109794617, "entropy": 1.5540590286254883, "vf_loss": 18.84540557861328, "cur_lr": 0.0005000000237487257, "total_loss": 18.831178665161133, "kl": 0.01632370986044407}, "grad_time_ms": 13919.379, "num_steps_sampled": 3457257, "update_time_ms": 8.973, "sample_time_ms": 31433.712, "num_steps_trained": 3457257}, "timesteps_total": 3457257, "training_iteration": 72, "timesteps_this_iter": 47095, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.521339416503906, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04089e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082b0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3362, "time_since_restore": 3320.419975042343, "episode_reward_max": 506.4558486081582, "hostname": "flow-main", "date": "2019-05-19_07-28-43", "timesteps_since_restore": 3457257, "custom_metrics": {"cost1_mean": 104.4432413149481, "cost1_max": 149.93820944709205, "cost2_min": -20.0, "system_level_velocity_max": 12.602711904249176, "system_level_velocity_mean": 9.37208492673358, "cost1_min": 48.76209649516578, "system_level_velocity_min": 4.267110071760013, "cost2_mean": -3.2101266328430698, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.20788347017844, "done": false, "episode_reward_min": 89.85518184483175, "episodes_this_iter": 48, "episode_len_mean": 324.7, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250923, "iterations_since_restore": 72, "time_total_s": 3320.419975042343, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.978, "default": {"policy_loss": -0.021449284628033638, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5303542017936707, "entropy": 1.5617551803588867, "vf_loss": 16.98350715637207, "cur_lr": 0.0005000000237487257, "total_loss": 16.96892738342285, "kl": 0.015262742526829243}, "grad_time_ms": 13952.789, "num_steps_sampled": 3505304, "update_time_ms": 9.176, "sample_time_ms": 31469.929, "num_steps_trained": 3505304}, "timesteps_total": 3505304, "training_iteration": 73, "timesteps_this_iter": 48047, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.79960632324219, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408978>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3407, "time_since_restore": 3366.2195813655853, "episode_reward_max": 527.6391255351211, "hostname": "flow-main", "date": "2019-05-19_07-29-29", "timesteps_since_restore": 3505304, "custom_metrics": {"cost1_mean": 105.00364677886104, "cost1_max": 146.10262215755796, "cost2_min": -16.78495547755382, "system_level_velocity_max": 12.38064101312368, "system_level_velocity_mean": 9.405320900007219, "cost1_min": 68.0720884292873, "system_level_velocity_min": 5.907428670771372, "cost2_mean": -3.278942696681359, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 327.4532401434983, "done": false, "episode_reward_min": 89.85518184483175, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558250969, "iterations_since_restore": 73, "time_total_s": 3366.2195813655853, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.788, "default": {"policy_loss": -0.021559560671448708, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5387771725654602, "entropy": 1.5497596263885498, "vf_loss": 18.18035888671875, "cur_lr": 0.0005000000237487257, "total_loss": 18.166078567504883, "kl": 0.01618121564388275}, "grad_time_ms": 13819.883, "num_steps_sampled": 3552834, "update_time_ms": 9.24, "sample_time_ms": 31384.204, "num_steps_trained": 3552834}, "timesteps_total": 3552834, "training_iteration": 74, "timesteps_this_iter": 47530, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.06838774681091, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04086a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f87f0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3452, "time_since_restore": 3410.2879691123962, "episode_reward_max": 581.940311032377, "hostname": "flow-main", "date": "2019-05-19_07-30-13", "timesteps_since_restore": 3552834, "custom_metrics": {"cost1_mean": 106.67762245683956, "cost1_max": 156.78771470094154, "cost2_min": -13.666666666666666, "system_level_velocity_max": 12.837192566643543, "system_level_velocity_mean": 9.51865232486338, "cost1_min": 68.0720884292873, "system_level_velocity_min": 5.907428670771372, "cost2_mean": -3.4349796737603926, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 338.47022378188734, "done": false, "episode_reward_min": 94.78979679374996, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251013, "iterations_since_restore": 74, "time_total_s": 3410.2879691123962, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.766, "default": {"policy_loss": -0.023409733548760414, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.49648675322532654, "entropy": 1.5542885065078735, "vf_loss": 18.726295471191406, "cur_lr": 0.0005000000237487257, "total_loss": 18.710599899291992, "kl": 0.017142288386821747}, "grad_time_ms": 13769.373, "num_steps_sampled": 3600607, "update_time_ms": 9.336, "sample_time_ms": 31340.469, "num_steps_trained": 3600607}, "timesteps_total": 3600607, "training_iteration": 75, "timesteps_this_iter": 47773, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.108328342437744, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ac8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3501, "time_since_restore": 3455.396297454834, "episode_reward_max": 581.940311032377, "hostname": "flow-main", "date": "2019-05-19_07-30-58", "timesteps_since_restore": 3600607, "custom_metrics": {"cost1_mean": 106.21700976547623, "cost1_max": 174.83672271396176, "cost2_min": -13.666666666666666, "system_level_velocity_max": 14.265457036646241, "system_level_velocity_mean": 9.509166967163212, "cost1_min": 50.123421144289615, "system_level_velocity_min": 5.907428670771372, "cost2_mean": -3.0861398160549816, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 339.0718225616892, "done": false, "episode_reward_min": 94.78979679374996, "episodes_this_iter": 49, "episode_len_mean": 323.78, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251058, "iterations_since_restore": 75, "time_total_s": 3455.396297454834, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.934, "default": {"policy_loss": -0.021044746041297913, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5341345071792603, "entropy": 1.595171332359314, "vf_loss": 18.117387771606445, "cur_lr": 0.0005000000237487257, "total_loss": 18.10365104675293, "kl": 0.01623517833650112}, "grad_time_ms": 13823.023, "num_steps_sampled": 3649819, "update_time_ms": 9.702, "sample_time_ms": 31322.855, "num_steps_trained": 3649819}, "timesteps_total": 3649819, "training_iteration": 76, "timesteps_this_iter": 49212, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.27362370491028, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f87b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8400>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3546, "time_since_restore": 3500.6699211597443, "episode_reward_max": 598.0205726227383, "hostname": "flow-main", "date": "2019-05-19_07-31-43", "timesteps_since_restore": 3649819, "custom_metrics": {"cost1_mean": 103.58749945271134, "cost1_max": 174.83672271396176, "cost2_min": -25.0, "system_level_velocity_max": 14.265457036646241, "system_level_velocity_mean": 9.303425677585205, "cost1_min": 46.59280908502927, "system_level_velocity_min": 5.019070093137476, "cost2_mean": -3.8031229495725882, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 335.2740854742619, "done": false, "episode_reward_min": 109.9721610911639, "episodes_this_iter": 45, "episode_len_mean": 323.38, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251103, "iterations_since_restore": 76, "time_total_s": 3500.6699211597443, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.874, "default": {"policy_loss": -0.023352574557065964, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5423330664634705, "entropy": 1.5871002674102783, "vf_loss": 17.209983825683594, "cur_lr": 0.0005000000237487257, "total_loss": 17.194177627563477, "kl": 0.016769982874393463}, "grad_time_ms": 13849.8, "num_steps_sampled": 3697929, "update_time_ms": 9.767, "sample_time_ms": 31331.497, "num_steps_trained": 3697929}, "timesteps_total": 3697929, "training_iteration": 77, "timesteps_this_iter": 48110, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.45494341850281, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408b38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ef0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3591, "time_since_restore": 3546.124864578247, "episode_reward_max": 598.0205726227383, "hostname": "flow-main", "date": "2019-05-19_07-32-29", "timesteps_since_restore": 3697929, "custom_metrics": {"cost1_mean": 100.14199057521903, "cost1_max": 154.50112259337337, "cost2_min": -25.0, "system_level_velocity_max": 12.987756728766007, "system_level_velocity_mean": 9.009973288511606, "cost1_min": 46.59280908502927, "system_level_velocity_min": 5.019070093137476, "cost2_mean": -3.9275192345254992, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 326.3228613293444, "done": false, "episode_reward_min": 124.25895989556531, "episodes_this_iter": 45, "episode_len_mean": 324.6, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251149, "iterations_since_restore": 77, "time_total_s": 3546.124864578247, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.789, "default": {"policy_loss": -0.020505104213953018, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5001024603843689, "entropy": 1.5912742614746094, "vf_loss": 18.982742309570312, "cur_lr": 0.0005000000237487257, "total_loss": 18.96994400024414, "kl": 0.01712736301124096}, "grad_time_ms": 13835.287, "num_steps_sampled": 3744503, "update_time_ms": 9.692, "sample_time_ms": 31458.285, "num_steps_trained": 3744503}, "timesteps_total": 3744503, "training_iteration": 78, "timesteps_this_iter": 46574, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.31691527366638, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f26d8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2cc0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3639, "time_since_restore": 3592.4417798519135, "episode_reward_max": 657.1585641644183, "hostname": "flow-main", "date": "2019-05-19_07-33-15", "timesteps_since_restore": 3744503, "custom_metrics": {"cost1_mean": 101.35273946862986, "cost1_max": 164.91464104110443, "cost2_min": -19.871071664019787, "system_level_velocity_max": 13.395481394423646, "system_level_velocity_mean": 9.103381172705658, "cost1_min": 67.88029368417091, "system_level_velocity_min": 6.206250263428686, "cost2_mean": -3.861612452254927, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.1809390824223, "done": false, "episode_reward_min": 124.25895989556531, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251195, "iterations_since_restore": 78, "time_total_s": 3592.4417798519135, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.828, "default": {"policy_loss": -0.024465790018439293, "cur_kl_coeff": 0.4500000476837158, "vf_explained_var": 0.532787024974823, "entropy": 1.613889217376709, "vf_loss": 16.535627365112305, "cur_lr": 0.0005000000237487257, "total_loss": 16.518938064575195, "kl": 0.017283054068684578}, "grad_time_ms": 13711.812, "num_steps_sampled": 3789524, "update_time_ms": 9.939, "sample_time_ms": 31354.886, "num_steps_trained": 3789524}, "timesteps_total": 3789524, "training_iteration": 79, "timesteps_this_iter": 45021, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.749794244766235, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c128>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3685, "time_since_restore": 3637.1915740966797, "episode_reward_max": 657.1585641644183, "hostname": "flow-main", "date": "2019-05-19_07-34-00", "timesteps_since_restore": 3789524, "custom_metrics": {"cost1_mean": 102.57531776089118, "cost1_max": 164.91464104110443, "cost2_min": -17.75, "system_level_velocity_max": 13.395481394423646, "system_level_velocity_mean": 9.19284458489141, "cost1_min": 67.88029368417091, "system_level_velocity_min": 6.206250263428686, "cost2_mean": -3.6716395530898605, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.7005329813755, "done": false, "episode_reward_min": 147.91356149019424, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251240, "iterations_since_restore": 79, "time_total_s": 3637.1915740966797, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.759, "default": {"policy_loss": -0.02431190200150013, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4757024049758911, "entropy": 1.588431715965271, "vf_loss": 18.49034309387207, "cur_lr": 0.0005000000237487257, "total_loss": 18.473575592041016, "kl": 0.016766203567385674}, "grad_time_ms": 13674.211, "num_steps_sampled": 3837734, "update_time_ms": 9.986, "sample_time_ms": 31346.541, "num_steps_trained": 3837734}, "timesteps_total": 3837734, "training_iteration": 80, "timesteps_this_iter": 48210, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.739123582839966, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04086a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8898>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3730, "time_since_restore": 3681.9306976795197, "episode_reward_max": 629.8250723188448, "hostname": "flow-main", "date": "2019-05-19_07-34-45", "timesteps_since_restore": 3837734, "custom_metrics": {"cost1_mean": 103.35702204020384, "cost1_max": 168.7087458164188, "cost2_min": -14.5, "system_level_velocity_max": 14.046126122959492, "system_level_velocity_mean": 9.226781808324272, "cost1_min": 77.80453262611813, "system_level_velocity_min": 6.447503487381965, "cost2_mean": -3.2093427850983187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.3038417790133, "done": false, "episode_reward_min": 174.12675085793492, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251285, "iterations_since_restore": 80, "time_total_s": 3681.9306976795197, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.999, "default": {"policy_loss": -0.022935129702091217, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.4659722149372101, "entropy": 1.5795708894729614, "vf_loss": 18.393831253051758, "cur_lr": 0.0005000000237487257, "total_loss": 18.378719329833984, "kl": 0.0173832755535841}, "grad_time_ms": 13819.286, "num_steps_sampled": 3886824, "update_time_ms": 10.102, "sample_time_ms": 31367.162, "num_steps_trained": 3886824}, "timesteps_total": 3886824, "training_iteration": 81, "timesteps_this_iter": 49090, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.03249764442444, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04083c8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3777, "time_since_restore": 3727.963195323944, "episode_reward_max": 541.3645446368553, "hostname": "flow-main", "date": "2019-05-19_07-35-31", "timesteps_since_restore": 3886824, "custom_metrics": {"cost1_mean": 105.39840375284261, "cost1_max": 168.7087458164188, "cost2_min": -18.75, "system_level_velocity_max": 14.046126122959492, "system_level_velocity_mean": 9.359688701156761, "cost1_min": 58.21178755418807, "system_level_velocity_min": 6.447503487381965, "cost2_mean": -3.4928417288782634, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 338.46890108609784, "done": false, "episode_reward_min": 174.12675085793492, "episodes_this_iter": 47, "episode_len_mean": 324.34, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251331, "iterations_since_restore": 81, "time_total_s": 3727.963195323944, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.1, "default": {"policy_loss": -0.020639928057789803, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.4847196042537689, "entropy": 1.6012322902679443, "vf_loss": 18.87480926513672, "cur_lr": 0.0005000000237487257, "total_loss": 18.861291885375977, "kl": 0.015827547758817673}, "grad_time_ms": 13787.453, "num_steps_sampled": 3934659, "update_time_ms": 10.187, "sample_time_ms": 31364.045, "num_steps_trained": 3934659}, "timesteps_total": 3934659, "training_iteration": 82, "timesteps_this_iter": 47835, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.17665934562683, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f26d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2128>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a58>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3825, "time_since_restore": 3773.139854669571, "episode_reward_max": 514.9574102193168, "hostname": "flow-main", "date": "2019-05-19_07-36-16", "timesteps_since_restore": 3934659, "custom_metrics": {"cost1_mean": 104.02112612385909, "cost1_max": 140.8881072326266, "cost2_min": -18.75, "system_level_velocity_max": 12.0490216003118, "system_level_velocity_mean": 9.311308617542474, "cost1_min": 29.899502510761316, "system_level_velocity_min": 4.7851299989458775, "cost2_mean": -4.048533531846198, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 340.25021879183646, "done": false, "episode_reward_min": 40.439671003352345, "episodes_this_iter": 48, "episode_len_mean": 322.99, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251376, "iterations_since_restore": 82, "time_total_s": 3773.139854669571, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.073, "default": {"policy_loss": -0.023615922778844833, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4777957499027252, "entropy": 1.611667275428772, "vf_loss": 17.173059463500977, "cur_lr": 0.0005000000237487257, "total_loss": 17.157190322875977, "kl": 0.017210308462381363}, "grad_time_ms": 13699.196, "num_steps_sampled": 3982033, "update_time_ms": 10.357, "sample_time_ms": 31284.852, "num_steps_trained": 3982033}, "timesteps_total": 3982033, "training_iteration": 83, "timesteps_this_iter": 47374, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.13035464286804, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06674a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a20>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3868, "time_since_restore": 3817.270209312439, "episode_reward_max": 514.9574102193168, "hostname": "flow-main", "date": "2019-05-19_07-37-00", "timesteps_since_restore": 3982033, "custom_metrics": {"cost1_mean": 102.85751602041644, "cost1_max": 129.83230294956797, "cost2_min": -17.333333333333336, "system_level_velocity_max": 11.322989096646399, "system_level_velocity_mean": 9.241353002315389, "cost1_min": 29.899502510761316, "system_level_velocity_min": 4.7851299989458775, "cost2_mean": -3.9722664368707825, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 331.8897253020727, "done": false, "episode_reward_min": 40.439671003352345, "episodes_this_iter": 43, "episode_len_mean": 322.99, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251420, "iterations_since_restore": 83, "time_total_s": 3817.270209312439, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.249, "default": {"policy_loss": -0.022795874625444412, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4926939606666565, "entropy": 1.6147205829620361, "vf_loss": 18.446430206298828, "cur_lr": 0.0005000000237487257, "total_loss": 18.431453704833984, "kl": 0.01737085171043873}, "grad_time_ms": 13702.639, "num_steps_sampled": 4031371, "update_time_ms": 10.267, "sample_time_ms": 31450.012, "num_steps_trained": 4031371}, "timesteps_total": 4031371, "training_iteration": 84, "timesteps_this_iter": 49338, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.75545001029968, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f85c0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3916, "time_since_restore": 3863.0256593227386, "episode_reward_max": 574.3174588609784, "hostname": "flow-main", "date": "2019-05-19_07-37-46", "timesteps_since_restore": 4031371, "custom_metrics": {"cost1_mean": 103.70618456878645, "cost1_max": 166.95054096159578, "cost2_min": -19.0, "system_level_velocity_max": 13.689699133347858, "system_level_velocity_mean": 9.237446635810702, "cost1_min": 72.26964631664472, "system_level_velocity_min": 6.334385850503235, "cost2_mean": -3.7722830477350664, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 334.0914120314678, "done": false, "episode_reward_min": 106.53421729499121, "episodes_this_iter": 48, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251466, "iterations_since_restore": 84, "time_total_s": 3863.0256593227386, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.305, "default": {"policy_loss": -0.023894965648651123, "cur_kl_coeff": 0.4500000476837158, "vf_explained_var": 0.5011690855026245, "entropy": 1.6202173233032227, "vf_loss": 18.089086532592773, "cur_lr": 0.0005000000237487257, "total_loss": 18.073135375976562, "kl": 0.01765117235481739}, "grad_time_ms": 13586.015, "num_steps_sampled": 4076417, "update_time_ms": 10.169, "sample_time_ms": 31605.06, "num_steps_trained": 4076417}, "timesteps_total": 4076417, "training_iteration": 85, "timesteps_this_iter": 45046, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.4967565536499, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082e8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3963, "time_since_restore": 3908.5224158763885, "episode_reward_max": 574.3174588609784, "hostname": "flow-main", "date": "2019-05-19_07-38-32", "timesteps_since_restore": 4076417, "custom_metrics": {"cost1_mean": 104.21573491032478, "cost1_max": 169.0097494649364, "cost2_min": -19.0, "system_level_velocity_max": 14.067726512967965, "system_level_velocity_mean": 9.257259171781554, "cost1_min": 72.26964631664472, "system_level_velocity_min": 6.500236381426035, "cost2_mean": -3.3897022076146435, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 328.50970299056223, "done": false, "episode_reward_min": 91.33766942181666, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251512, "iterations_since_restore": 85, "time_total_s": 3908.5224158763885, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.186, "default": {"policy_loss": -0.02259494736790657, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5201208591461182, "entropy": 1.6126563549041748, "vf_loss": 17.924894332885742, "cur_lr": 0.0005000000237487257, "total_loss": 17.909875869750977, "kl": 0.01684047468006611}, "grad_time_ms": 13516.825, "num_steps_sampled": 4124723, "update_time_ms": 10.129, "sample_time_ms": 31666.092, "num_steps_trained": 4124723}, "timesteps_total": 4124723, "training_iteration": 86, "timesteps_this_iter": 48306, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.19327402114868, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2128>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f98>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4007, "time_since_restore": 3953.7156898975372, "episode_reward_max": 574.3174588609784, "hostname": "flow-main", "date": "2019-05-19_07-39-17", "timesteps_since_restore": 4124723, "custom_metrics": {"cost1_mean": 105.88661332096221, "cost1_max": 169.0097494649364, "cost2_min": -16.0, "system_level_velocity_max": 14.067726512967965, "system_level_velocity_mean": 9.376262441870521, "cost1_min": 75.58372637750435, "system_level_velocity_min": 6.500236381426035, "cost2_mean": -2.964979369276099, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 334.52501910387923, "done": false, "episode_reward_min": 91.33766942181666, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251557, "iterations_since_restore": 86, "time_total_s": 3953.7156898975372, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.288, "default": {"policy_loss": -0.022692322731018066, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.49703505635261536, "entropy": 1.6272231340408325, "vf_loss": 18.609521865844727, "cur_lr": 0.0005000000237487257, "total_loss": 18.5942440032959, "kl": 0.01647498458623886}, "grad_time_ms": 13538.466, "num_steps_sampled": 4175167, "update_time_ms": 10.291, "sample_time_ms": 31717.063, "num_steps_trained": 4175167}, "timesteps_total": 4175167, "training_iteration": 87, "timesteps_this_iter": 50444, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.20482540130615, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c1d0>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4054, "time_since_restore": 3999.9205152988434, "episode_reward_max": 640.1192861304701, "hostname": "flow-main", "date": "2019-05-19_07-40-03", "timesteps_since_restore": 4175167, "custom_metrics": {"cost1_mean": 107.2159503426789, "cost1_max": 182.19015579809707, "cost2_min": -22.768298527040393, "system_level_velocity_max": 14.703013533985219, "system_level_velocity_mean": 9.445591569413581, "cost1_min": 72.90709732554555, "system_level_velocity_min": 6.487133672461487, "cost2_mean": -3.428459180930381, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 350.78823302804926, "done": false, "episode_reward_min": 100.26360149817546, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251603, "iterations_since_restore": 87, "time_total_s": 3999.9205152988434, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.021, "default": {"policy_loss": -0.02286788634955883, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5275911092758179, "entropy": 1.6502792835235596, "vf_loss": 18.129310607910156, "cur_lr": 0.0005000000237487257, "total_loss": 18.114381790161133, "kl": 0.01764005981385708}, "grad_time_ms": 13555.069, "num_steps_sampled": 4224957, "update_time_ms": 10.392, "sample_time_ms": 31735.204, "num_steps_trained": 4224957}, "timesteps_total": 4224957, "training_iteration": 88, "timesteps_this_iter": 49790, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.66659426689148, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e7b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4102, "time_since_restore": 4046.587109565735, "episode_reward_max": 640.1192861304701, "hostname": "flow-main", "date": "2019-05-19_07-40-50", "timesteps_since_restore": 4224957, "custom_metrics": {"cost1_mean": 102.68475407230619, "cost1_max": 182.19015579809707, "cost2_min": -23.75, "system_level_velocity_max": 14.703013533985219, "system_level_velocity_mean": 9.124686852934234, "cost1_min": 14.38663441145566, "system_level_velocity_min": 2.7739948747288437, "cost2_mean": -3.7694736969976517, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 337.80976068673846, "done": false, "episode_reward_min": 49.207354096250896, "episodes_this_iter": 48, "episode_len_mean": 323.3, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251650, "iterations_since_restore": 88, "time_total_s": 4046.587109565735, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.849, "default": {"policy_loss": -0.02409270592033863, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5310079455375671, "entropy": 1.638632893562317, "vf_loss": 16.868974685668945, "cur_lr": 0.0005000000237487257, "total_loss": 16.852767944335938, "kl": 0.017517881467938423}, "grad_time_ms": 13529.963, "num_steps_sampled": 4270356, "update_time_ms": 10.421, "sample_time_ms": 31712.096, "num_steps_trained": 4270356}, "timesteps_total": 4270356, "training_iteration": 89, "timesteps_this_iter": 45399, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.26301026344299, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04070f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ab70>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06673c8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4147, "time_since_restore": 4090.850119829178, "episode_reward_max": 640.1192861304701, "hostname": "flow-main", "date": "2019-05-19_07-41-34", "timesteps_since_restore": 4270356, "custom_metrics": {"cost1_mean": 102.55121085693673, "cost1_max": 160.0298215326169, "cost2_min": -23.75, "system_level_velocity_max": 13.406248168978749, "system_level_velocity_mean": 9.13061507451457, "cost1_min": 14.38663441145566, "system_level_velocity_min": 2.7739948747288437, "cost2_mean": -3.7039762238209057, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.61763944418277, "done": false, "episode_reward_min": 49.207354096250896, "episodes_this_iter": 45, "episode_len_mean": 323.3, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251694, "iterations_since_restore": 89, "time_total_s": 4090.850119829178, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.005, "default": {"policy_loss": -0.022215167060494423, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45057982206344604, "entropy": 1.643625259399414, "vf_loss": 18.700563430786133, "cur_lr": 0.0005000000237487257, "total_loss": 18.686077117919922, "kl": 0.017173929139971733}, "grad_time_ms": 13475.441, "num_steps_sampled": 4317756, "update_time_ms": 10.591, "sample_time_ms": 31791.782, "num_steps_trained": 4317756}, "timesteps_total": 4317756, "training_iteration": 90, "timesteps_this_iter": 47400, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.0028555393219, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04077b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f60>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4193, "time_since_restore": 4135.8529753685, "episode_reward_max": 514.1724865579841, "hostname": "flow-main", "date": "2019-05-19_07-42-19", "timesteps_since_restore": 4317756, "custom_metrics": {"cost1_mean": 103.50531507076252, "cost1_max": 145.12212812459762, "cost2_min": -16.5, "system_level_velocity_max": 12.359972322404584, "system_level_velocity_mean": 9.215596010880919, "cost1_min": 66.73811049648583, "system_level_velocity_min": 5.687488066478423, "cost2_mean": -3.4217872543693373, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 315.02947709612914, "done": false, "episode_reward_min": 93.16695665272974, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251739, "iterations_since_restore": 90, "time_total_s": 4135.8529753685, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.937, "default": {"policy_loss": -0.023583993315696716, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47948652505874634, "entropy": 1.6441826820373535, "vf_loss": 17.414337158203125, "cur_lr": 0.0005000000237487257, "total_loss": 17.398584365844727, "kl": 0.017403800040483475}, "grad_time_ms": 13269.226, "num_steps_sampled": 4364005, "update_time_ms": 10.829, "sample_time_ms": 31798.893, "num_steps_trained": 4364005}, "timesteps_total": 4364005, "training_iteration": 91, "timesteps_this_iter": 46249, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.025893449783325, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cf60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c668>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4239, "time_since_restore": 4179.878868818283, "episode_reward_max": 514.1724865579841, "hostname": "flow-main", "date": "2019-05-19_07-43-03", "timesteps_since_restore": 4364005, "custom_metrics": {"cost1_mean": 103.46029244688665, "cost1_max": 151.47331575280228, "cost2_min": -18.5, "system_level_velocity_max": 12.93654988116342, "system_level_velocity_mean": 9.211189740904693, "cost1_min": 65.13288688619633, "system_level_velocity_min": 5.687488066478423, "cost2_mean": -3.0131016093725207, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.7038278366747, "done": false, "episode_reward_min": 93.16695665272974, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251783, "iterations_since_restore": 91, "time_total_s": 4179.878868818283, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.744, "default": {"policy_loss": -0.023093771189451218, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4324888586997986, "entropy": 1.649195909500122, "vf_loss": 19.230358123779297, "cur_lr": 0.0005000000237487257, "total_loss": 19.214954376220703, "kl": 0.01709328219294548}, "grad_time_ms": 13287.05, "num_steps_sampled": 4414005, "update_time_ms": 10.783, "sample_time_ms": 31971.993, "num_steps_trained": 4414005}, "timesteps_total": 4414005, "training_iteration": 92, "timesteps_this_iter": 50000, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.09368634223938, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f89b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86d8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e80>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4286, "time_since_restore": 4226.9725551605225, "episode_reward_max": 533.2321048622333, "hostname": "flow-main", "date": "2019-05-19_07-43-51", "timesteps_since_restore": 4414005, "custom_metrics": {"cost1_mean": 102.95191597387266, "cost1_max": 151.47331575280228, "cost2_min": -18.5, "system_level_velocity_max": 12.93654988116342, "system_level_velocity_mean": 9.16006281220103, "cost1_min": 65.13288688619633, "system_level_velocity_min": 5.687488066478423, "cost2_mean": -2.65229556464528, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 331.6609064068572, "done": false, "episode_reward_min": 105.82587380412768, "episodes_this_iter": 47, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251831, "iterations_since_restore": 92, "time_total_s": 4226.9725551605225, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.747, "default": {"policy_loss": -0.023644959554076195, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.556911289691925, "entropy": 1.669537901878357, "vf_loss": 18.293338775634766, "cur_lr": 0.0005000000237487257, "total_loss": 18.27766227722168, "kl": 0.01770586147904396}, "grad_time_ms": 13203.445, "num_steps_sampled": 4459791, "update_time_ms": 10.704, "sample_time_ms": 32064.066, "num_steps_trained": 4459791}, "timesteps_total": 4459791, "training_iteration": 93, "timesteps_this_iter": 45786, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.19375443458557, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407d30>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4332, "time_since_restore": 4271.166309595108, "episode_reward_max": 747.6361433508085, "hostname": "flow-main", "date": "2019-05-19_07-44-35", "timesteps_since_restore": 4459791, "custom_metrics": {"cost1_mean": 102.54968351044876, "cost1_max": 187.1340358377016, "cost2_min": -26.0, "system_level_velocity_max": 15.006071094396482, "system_level_velocity_mean": 9.153207267841251, "cost1_min": 62.838228285132374, "system_level_velocity_min": 5.795502188130382, "cost2_mean": -2.9496079022612762, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.27433385313714, "done": false, "episode_reward_min": 141.06185326960258, "episodes_this_iter": 46, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251875, "iterations_since_restore": 93, "time_total_s": 4271.166309595108, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.817, "default": {"policy_loss": -0.02400132454931736, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5198203325271606, "entropy": 1.6485047340393066, "vf_loss": 17.727083206176758, "cur_lr": 0.0005000000237487257, "total_loss": 17.711227416992188, "kl": 0.018102966248989105}, "grad_time_ms": 13172.817, "num_steps_sampled": 4507484, "update_time_ms": 10.757, "sample_time_ms": 32119.111, "num_steps_trained": 4507484}, "timesteps_total": 4507484, "training_iteration": 94, "timesteps_this_iter": 47693, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.99795198440552, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04073c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04074a8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4377, "time_since_restore": 4317.164261579514, "episode_reward_max": 747.6361433508085, "hostname": "flow-main", "date": "2019-05-19_07-45-21", "timesteps_since_restore": 4507484, "custom_metrics": {"cost1_mean": 103.26605398478874, "cost1_max": 187.1340358377016, "cost2_min": -26.0, "system_level_velocity_max": 15.006071094396482, "system_level_velocity_mean": 9.23150359478425, "cost1_min": 62.838228285132374, "system_level_velocity_min": 5.795502188130382, "cost2_mean": -2.8805572375718693, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 326.79726442311755, "done": false, "episode_reward_min": 171.20705083538255, "episodes_this_iter": 45, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251921, "iterations_since_restore": 94, "time_total_s": 4317.164261579514, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.91, "default": {"policy_loss": -0.021246127784252167, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5552361011505127, "entropy": 1.6628227233886719, "vf_loss": 20.212875366210938, "cur_lr": 0.0005000000237487257, "total_loss": 20.199626922607422, "kl": 0.017774663865566254}, "grad_time_ms": 13199.603, "num_steps_sampled": 4555431, "update_time_ms": 10.845, "sample_time_ms": 32129.696, "num_steps_trained": 4555431}, "timesteps_total": 4555431, "training_iteration": 95, "timesteps_this_iter": 47947, "num_metric_batches_dropped": 0, "time_this_iter_s": 45.867661476135254, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04070b8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4426, "time_since_restore": 4363.031923055649, "episode_reward_max": 550.2932072552495, "hostname": "flow-main", "date": "2019-05-19_07-46-07", "timesteps_since_restore": 4555431, "custom_metrics": {"cost1_mean": 102.30471924037876, "cost1_max": 153.79874159755474, "cost2_min": -26.0, "system_level_velocity_max": 13.094960843724316, "system_level_velocity_mean": 9.140914539342505, "cost1_min": 38.374469573404646, "system_level_velocity_min": 4.312358052738335, "cost2_mean": -2.6665686904490395, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 322.6193848022878, "done": false, "episode_reward_min": 108.04879844190522, "episodes_this_iter": 49, "episode_len_mean": 324.39, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558251967, "iterations_since_restore": 95, "time_total_s": 4363.031923055649, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.67, "default": {"policy_loss": -0.02233707718551159, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5511268973350525, "entropy": 1.6818984746932983, "vf_loss": 16.230566024780273, "cur_lr": 0.0005000000237487257, "total_loss": 16.216548919677734, "kl": 0.018487026914954185}, "grad_time_ms": 13108.909, "num_steps_sampled": 4603274, "update_time_ms": 10.799, "sample_time_ms": 32141.585, "num_steps_trained": 4603274}, "timesteps_total": 4603274, "training_iteration": 96, "timesteps_this_iter": 47843, "num_metric_batches_dropped": 0, "time_this_iter_s": 44.38622307777405, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408550>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4469, "time_since_restore": 4407.418146133423, "episode_reward_max": 650.5444152145084, "hostname": "flow-main", "date": "2019-05-19_07-46-51", "timesteps_since_restore": 4603274, "custom_metrics": {"cost1_mean": 104.64751116142634, "cost1_max": 167.82307608135952, "cost2_min": -12.333333333333332, "system_level_velocity_max": 13.860586705102522, "system_level_velocity_mean": 9.306227551338653, "cost1_min": 38.374469573404646, "system_level_velocity_min": 4.312358052738335, "cost2_mean": -2.761018569728245, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 330.3415944565711, "done": false, "episode_reward_min": 108.04879844190522, "episodes_this_iter": 43, "episode_len_mean": 324.33, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558252011, "iterations_since_restore": 96, "time_total_s": 4407.418146133423, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 8.687, "default": {"policy_loss": -0.02383047342300415, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5081408023834229, "entropy": 1.712101936340332, "vf_loss": 17.38712501525879, "cur_lr": 0.0005000000237487257, "total_loss": 17.371625900268555, "kl": 0.018516860902309418}, "grad_time_ms": 13028.562, "num_steps_sampled": 4652027, "update_time_ms": 10.616, "sample_time_ms": 32307.248, "num_steps_trained": 4652027}, "timesteps_total": 4652027, "training_iteration": 97, "timesteps_this_iter": 48753, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.053022384643555, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408a90>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4517, "time_since_restore": 4454.471168518066, "episode_reward_max": 650.5444152145084, "hostname": "flow-main", "date": "2019-05-19_07-47-38", "timesteps_since_restore": 4652027, "custom_metrics": {"cost1_mean": 103.30993255555956, "cost1_max": 167.82307608135952, "cost2_min": -12.333333333333332, "system_level_velocity_max": 13.860586705102522, "system_level_velocity_mean": 9.217458390333865, "cost1_min": 10.696317943000473, "system_level_velocity_min": 3.202350933751037, "cost2_mean": -2.8611353737910643, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 330.407151425664, "done": false, "episode_reward_min": 39.86506435876803, "episodes_this_iter": 48, "episode_len_mean": 322.73, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558252058, "iterations_since_restore": 97, "time_total_s": 4454.471168518066, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.025, "default": {"policy_loss": -0.021589329466223717, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4428907036781311, "entropy": 1.671069860458374, "vf_loss": 18.525527954101562, "cur_lr": 0.0005000000237487257, "total_loss": 18.511716842651367, "kl": 0.017282288521528244}, "grad_time_ms": 13035.98, "num_steps_sampled": 4701395, "update_time_ms": 10.505, "sample_time_ms": 32338.925, "num_steps_trained": 4701395}, "timesteps_total": 4701395, "training_iteration": 98, "timesteps_this_iter": 49368, "num_metric_batches_dropped": 0, "time_this_iter_s": 47.07146501541138, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082e8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04079e8>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4565, "time_since_restore": 4501.542633533478, "episode_reward_max": 551.2879180494839, "hostname": "flow-main", "date": "2019-05-19_07-48-25", "timesteps_since_restore": 4701395, "custom_metrics": {"cost1_mean": 101.72962272262936, "cost1_max": 137.8469795123711, "cost2_min": -10.0, "system_level_velocity_max": 11.592204923267364, "system_level_velocity_mean": 9.093370563999038, "cost1_min": 10.696317943000473, "system_level_velocity_min": 3.202350933751037, "cost2_mean": -2.145037319618633, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 330.65276859730017, "done": false, "episode_reward_min": 39.86506435876803, "episodes_this_iter": 48, "episode_len_mean": 322.79, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558252105, "iterations_since_restore": 98, "time_total_s": 4501.542633533478, "pid": 40351}
{"policy_reward_mean": {}, "info": {"load_time_ms": 9.123, "default": {"policy_loss": -0.0202713031321764, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.44382035732269287, "entropy": 1.6896041631698608, "vf_loss": 17.57895278930664, "cur_lr": 0.0005000000237487257, "total_loss": 17.566375732421875, "kl": 0.017100155353546143}, "grad_time_ms": 13130.9, "num_steps_sampled": 4751134, "update_time_ms": 10.597, "sample_time_ms": 32442.229, "num_steps_trained": 4751134}, "timesteps_total": 4751134, "training_iteration": 99, "timesteps_this_iter": 49739, "num_metric_batches_dropped": 0, "time_this_iter_s": 46.252413272857666, "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "num_sgd_iter": 10, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "vf_share_layers": false, "entropy_coeff": 0.0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.1]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "clip_actions": false, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f82e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8780>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8940>"}, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "custom_resources_per_worker": {}, "lr_schedule": null, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "model": {"lstm_cell_size": 256, "channel_major": false, "grayscale": false, "squash_to_range": false, "conv_activation": "relu", "free_log_std": false, "custom_preprocessor": null, "dim": 84, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh", "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_options": {}, "max_seq_len": 20, "framestack": true, "fcnet_hiddens": [128, 64, 32]}, "simple_optimizer": false, "num_envs_per_worker": 1, "num_gpus": 0, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4609, "time_since_restore": 4547.795046806335, "episode_reward_max": 551.9462589547093, "hostname": "flow-main", "date": "2019-05-19_07-49-12", "timesteps_since_restore": 4751134, "custom_metrics": {"cost1_mean": 104.72597739327533, "cost1_max": 142.02700123723588, "cost2_min": -7.5, "system_level_velocity_max": 11.891578405168664, "system_level_velocity_mean": 9.296619947619483, "cost1_min": 75.76916107945192, "system_level_velocity_min": 6.953342747774018, "cost2_mean": -1.799779711567973, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 339.8882056780042, "done": false, "episode_reward_min": 115.67914424317804, "episodes_this_iter": 44, "episode_len_mean": 325.0, "experiment_id": "944977424845491dba2ae42281acab56", "timestamp": 1558252152, "iterations_since_restore": 99, "time_total_s": 4547.795046806335, "pid": 40351}
