{"policy_reward_mean": {}, "info": {"load_time_ms": 55.555, "default": {"policy_loss": -0.004776103887706995, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6633837223052979, "entropy": 1.4114269018173218, "vf_loss": 1.3689466714859009, "cur_lr": 0.0005000000237487257, "kl": 0.006094571202993393, "total_loss": 1.3653894662857056}, "grad_time_ms": 9734.064, "num_steps_sampled": 46675, "update_time_ms": 538.615, "sample_time_ms": 38619.403, "num_steps_trained": 46675}, "timesteps_total": 46675, "training_iteration": 1, "timesteps_this_iter": 46675, "time_total_s": 49.10845184326172, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648550>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0648518>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 52, "time_since_restore": 49.10845184326172, "episode_reward_max": 186.26967443016605, "hostname": "flow-main", "date": "2019-05-19_06-34-08", "timesteps_since_restore": 46675, "custom_metrics": {"cost1_mean": 35.320993527242734, "cost1_max": 73.08592953546224, "cost2_min": -95.0, "system_level_velocity_max": 8.206341633703678, "system_level_velocity_mean": 4.652290278178797, "cost1_min": 8.215145458367994, "system_level_velocity_min": 2.2177654391500643, "cost2_mean": -7.919498395487812, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 95.20422947699925, "done": false, "episode_reward_min": 22.889658052168723, "episodes_this_iter": 52, "episode_len_mean": 239.28846153846155, "time_this_iter_s": 49.10845184326172, "timestamp": 1558247648, "iterations_since_restore": 1, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 34.547, "default": {"policy_loss": -0.005770744290202856, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8028432130813599, "entropy": 1.4071426391601562, "vf_loss": 1.4744218587875366, "cur_lr": 0.0005000000237487257, "kl": 0.0075346012599766254, "total_loss": 1.4701578617095947}, "grad_time_ms": 10589.836, "num_steps_sampled": 96315, "update_time_ms": 273.163, "sample_time_ms": 39494.471, "num_steps_trained": 96315}, "timesteps_total": 96315, "training_iteration": 2, "timesteps_this_iter": 49640, "time_total_s": 101.03768348693848, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065af60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aeb8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 106, "time_since_restore": 101.03768348693848, "episode_reward_max": 249.73551237572497, "hostname": "flow-main", "date": "2019-05-19_06-35-00", "timesteps_since_restore": 96315, "custom_metrics": {"cost1_mean": 38.910818048496964, "cost1_max": 107.62848198415045, "cost2_min": -95.0, "system_level_velocity_max": 8.772820575806305, "system_level_velocity_mean": 4.786243584555681, "cost1_min": 8.215145458367994, "system_level_velocity_min": 2.1317628534459945, "cost2_mean": -6.966005579413113, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 107.70854173356325, "done": false, "episode_reward_min": 22.889658052168723, "episodes_this_iter": 54, "episode_len_mean": 254.99, "time_this_iter_s": 51.92923164367676, "timestamp": 1558247700, "iterations_since_restore": 2, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 27.65, "default": {"policy_loss": -0.009958630427718163, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8526198267936707, "entropy": 1.4037178754806519, "vf_loss": 2.279632091522217, "cur_lr": 0.0005000000237487257, "kl": 0.011728560552001, "total_loss": 2.272019147872925}, "grad_time_ms": 11262.458, "num_steps_sampled": 146683, "update_time_ms": 185.603, "sample_time_ms": 38969.064, "num_steps_trained": 146683}, "timesteps_total": 146683, "training_iteration": 3, "timesteps_this_iter": 50368, "time_total_s": 151.69609475135803, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a6a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a240>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 169, "time_since_restore": 151.69609475135803, "episode_reward_max": 340.28274724266197, "hostname": "flow-main", "date": "2019-05-19_06-35-51", "timesteps_since_restore": 146683, "custom_metrics": {"cost1_mean": 40.79112970353207, "cost1_max": 114.2533533571152, "cost2_min": -49.75, "system_level_velocity_max": 9.481407532069179, "system_level_velocity_mean": 4.9712300560870455, "cost1_min": 5.116042170571614, "system_level_velocity_min": 2.1317628534459945, "cost2_mean": -6.96833722289147, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 120.66347608830527, "done": false, "episode_reward_min": 15.786344065004696, "episodes_this_iter": 63, "episode_len_mean": 251.83, "time_this_iter_s": 50.658411264419556, "timestamp": 1558247751, "iterations_since_restore": 3, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 23.8, "default": {"policy_loss": -0.007838201709091663, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8380454182624817, "entropy": 1.4012571573257446, "vf_loss": 3.1500959396362305, "cur_lr": 0.0005000000237487257, "kl": 0.010560679249465466, "total_loss": 3.1443700790405273}, "grad_time_ms": 11682.119, "num_steps_sampled": 194808, "update_time_ms": 142.214, "sample_time_ms": 38560.668, "num_steps_trained": 194808}, "timesteps_total": 194808, "training_iteration": 4, "timesteps_this_iter": 48125, "time_total_s": 202.09920072555542, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ecf8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e860>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 219, "time_since_restore": 202.09920072555542, "episode_reward_max": 340.28274724266197, "hostname": "flow-main", "date": "2019-05-19_06-36-42", "timesteps_since_restore": 194808, "custom_metrics": {"cost1_mean": 49.19471933377533, "cost1_max": 114.2533533571152, "cost2_min": -48.0, "system_level_velocity_max": 9.511963375676261, "system_level_velocity_mean": 5.392593901266514, "cost1_min": 7.381679926977286, "system_level_velocity_min": 2.3215600961142804, "cost2_mean": -6.119914135764958, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 148.28562481154756, "done": false, "episode_reward_min": 27.133053319737357, "episodes_this_iter": 50, "episode_len_mean": 270.04, "time_this_iter_s": 50.40310597419739, "timestamp": 1558247802, "iterations_since_restore": 4, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 21.733, "default": {"policy_loss": -0.008972296491265297, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7761202454566956, "entropy": 1.3853627443313599, "vf_loss": 5.075809478759766, "cur_lr": 0.0005000000237487257, "kl": 0.010357348248362541, "total_loss": 5.06890869140625}, "grad_time_ms": 12207.097, "num_steps_sampled": 245537, "update_time_ms": 116.038, "sample_time_ms": 37707.009, "num_steps_trained": 245537}, "timesteps_total": 245537, "training_iteration": 5, "timesteps_this_iter": 50729, "time_total_s": 250.83722949028015, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06617f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b70>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 268, "time_since_restore": 250.83722949028015, "episode_reward_max": 382.27213871902126, "hostname": "flow-main", "date": "2019-05-19_06-37-30", "timesteps_since_restore": 245537, "custom_metrics": {"cost1_mean": 61.453682202038735, "cost1_max": 127.87475483780247, "cost2_min": -41.56745046018591, "system_level_velocity_max": 10.447206173773019, "system_level_velocity_mean": 5.943489769258768, "cost1_min": 12.696064657701898, "system_level_velocity_min": 2.3215600961142804, "cost2_mean": -4.11426858985605, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 189.15891680587018, "done": false, "episode_reward_min": 32.99554317200046, "episodes_this_iter": 49, "episode_len_mean": 297.27, "time_this_iter_s": 48.73802876472473, "timestamp": 1558247850, "iterations_since_restore": 5, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 20.736, "default": {"policy_loss": -0.009716726839542389, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8153847455978394, "entropy": 1.3890553712844849, "vf_loss": 5.542810440063477, "cur_lr": 0.0005000000237487257, "kl": 0.010519709438085556, "total_loss": 5.535197734832764}, "grad_time_ms": 12437.569, "num_steps_sampled": 296570, "update_time_ms": 98.109, "sample_time_ms": 36970.429, "num_steps_trained": 296570}, "timesteps_total": 296570, "training_iteration": 6, "timesteps_this_iter": 51033, "time_total_s": 297.8551528453827, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe068b710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ac18>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 318, "time_since_restore": 297.8551528453827, "episode_reward_max": 462.45700097402704, "hostname": "flow-main", "date": "2019-05-19_06-38-18", "timesteps_since_restore": 296570, "custom_metrics": {"cost1_mean": 70.25571804484947, "cost1_max": 127.87475483780247, "cost2_min": -24.75, "system_level_velocity_max": 10.447206173773019, "system_level_velocity_mean": 6.518258565148374, "cost1_min": 16.84394648888702, "system_level_velocity_min": 3.119538380749428, "cost2_mean": -2.6752614083335327, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 230.89963036557353, "done": false, "episode_reward_min": 32.99554317200046, "episodes_this_iter": 50, "episode_len_mean": 309.95, "time_this_iter_s": 47.01792335510254, "timestamp": 1558247898, "iterations_since_restore": 6, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 19.833, "default": {"policy_loss": -0.009630376473069191, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7768778204917908, "entropy": 1.3870022296905518, "vf_loss": 5.728219509124756, "cur_lr": 0.0005000000237487257, "kl": 0.011081775650382042, "total_loss": 5.720805644989014}, "grad_time_ms": 12459.293, "num_steps_sampled": 344156, "update_time_ms": 85.612, "sample_time_ms": 36314.933, "num_steps_trained": 344156}, "timesteps_total": 344156, "training_iteration": 7, "timesteps_this_iter": 47586, "time_total_s": 342.9536654949188, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ef98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eda0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a4a8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 363, "time_since_restore": 342.9536654949188, "episode_reward_max": 462.45700097402704, "hostname": "flow-main", "date": "2019-05-19_06-39-03", "timesteps_since_restore": 344156, "custom_metrics": {"cost1_mean": 71.3552260063036, "cost1_max": 116.96604296292637, "cost2_min": -22.666666666666664, "system_level_velocity_max": 9.995099820379721, "system_level_velocity_mean": 6.609584153709295, "cost1_min": 17.127743623100727, "system_level_velocity_min": 3.119538380749428, "cost2_mean": -2.8970366008906696, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 225.48568116804228, "done": false, "episode_reward_min": 32.99554317200046, "episodes_this_iter": 45, "episode_len_mean": 314.19, "time_this_iter_s": 45.09851264953613, "timestamp": 1558247943, "iterations_since_restore": 7, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 19.165, "default": {"policy_loss": -0.012514767237007618, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.7277202606201172, "entropy": 1.3867381811141968, "vf_loss": 7.430554389953613, "cur_lr": 0.0005000000237487257, "kl": 0.013768314383924007, "total_loss": 7.420793533325195}, "grad_time_ms": 12531.448, "num_steps_sampled": 393749, "update_time_ms": 76.339, "sample_time_ms": 36051.791, "num_steps_trained": 393749}, "timesteps_total": 393749, "training_iteration": 8, "timesteps_this_iter": 49593, "time_total_s": 390.3176119327545, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ebe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eb38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ecc0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 408, "time_since_restore": 390.3176119327545, "episode_reward_max": 473.12020260392916, "hostname": "flow-main", "date": "2019-05-19_06-39-50", "timesteps_since_restore": 393749, "custom_metrics": {"cost1_mean": 73.92378809085102, "cost1_max": 118.9490732596026, "cost2_min": -22.666666666666664, "system_level_velocity_max": 9.718417169472556, "system_level_velocity_mean": 6.786050851639076, "cost1_min": 13.335156226352458, "system_level_velocity_min": 4.085449770547352, "cost2_mean": -3.112935996262462, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 231.52463152573088, "done": false, "episode_reward_min": 40.00546867905733, "episodes_this_iter": 45, "episode_len_mean": 317.97, "time_this_iter_s": 47.36394643783569, "timestamp": 1558247990, "iterations_since_restore": 8, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 18.826, "default": {"policy_loss": -0.010892147198319435, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.630630373954773, "entropy": 1.368221640586853, "vf_loss": 9.439444541931152, "cur_lr": 0.0005000000237487257, "kl": 0.012949150986969471, "total_loss": 9.43114185333252}, "grad_time_ms": 12617.388, "num_steps_sampled": 443048, "update_time_ms": 68.962, "sample_time_ms": 35759.548, "num_steps_trained": 443048}, "timesteps_total": 443048, "training_iteration": 9, "timesteps_this_iter": 49299, "time_total_s": 437.18621468544006, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06614e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661588>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 459, "time_since_restore": 437.18621468544006, "episode_reward_max": 488.3038310703639, "hostname": "flow-main", "date": "2019-05-19_06-40-37", "timesteps_since_restore": 443048, "custom_metrics": {"cost1_mean": 80.14508185491253, "cost1_max": 130.34005716988895, "cost2_min": -20.75, "system_level_velocity_max": 10.912052862680024, "system_level_velocity_mean": 7.160084940021628, "cost1_min": 13.335156226352458, "system_level_velocity_min": 4.153841281439507, "cost2_mean": -3.0144772901252685, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 254.27865870998542, "done": false, "episode_reward_min": 40.00546867905733, "episodes_this_iter": 51, "episode_len_mean": 320.12, "time_this_iter_s": 46.86860275268555, "timestamp": 1558248037, "iterations_since_restore": 9, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 18.27, "default": {"policy_loss": -0.0110636530444026, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5813451409339905, "entropy": 1.357033371925354, "vf_loss": 8.633130073547363, "cur_lr": 0.0005000000237487257, "kl": 0.012614680454134941, "total_loss": 8.624588966369629}, "grad_time_ms": 12727.257, "num_steps_sampled": 491913, "update_time_ms": 62.985, "sample_time_ms": 35523.874, "num_steps_trained": 491913}, "timesteps_total": 491913, "training_iteration": 10, "timesteps_this_iter": 48865, "time_total_s": 484.42607164382935, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ab70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065af60>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065aa58>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 503, "time_since_restore": 484.42607164382935, "episode_reward_max": 488.3038310703639, "hostname": "flow-main", "date": "2019-05-19_06-41-24", "timesteps_since_restore": 491913, "custom_metrics": {"cost1_mean": 86.53992077016885, "cost1_max": 130.34005716988895, "cost2_min": -15.25, "system_level_velocity_max": 10.959416660958084, "system_level_velocity_mean": 7.550965740928137, "cost1_min": 46.451755988850216, "system_level_velocity_min": 4.192593824725274, "cost2_mean": -2.674527483898739, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 271.24671213728766, "done": false, "episode_reward_min": 115.68464373661716, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 47.23985695838928, "timestamp": 1558248084, "iterations_since_restore": 10, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.175, "default": {"policy_loss": -0.014465796761214733, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.637147843837738, "entropy": 1.3760582208633423, "vf_loss": 9.174047470092773, "cur_lr": 0.0005000000237487257, "kl": 0.014925403520464897, "total_loss": 9.162567138671875}, "grad_time_ms": 13010.514, "num_steps_sampled": 538179, "update_time_ms": 10.497, "sample_time_ms": 34948.124, "num_steps_trained": 538179}, "timesteps_total": 538179, "training_iteration": 11, "timesteps_this_iter": 46266, "time_total_s": 529.9662959575653, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a2e8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a5c0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 546, "time_since_restore": 529.9662959575653, "episode_reward_max": 466.6024684389171, "hostname": "flow-main", "date": "2019-05-19_06-42-10", "timesteps_since_restore": 538179, "custom_metrics": {"cost1_mean": 89.7889109850851, "cost1_max": 125.66056650502719, "cost2_min": -14.75, "system_level_velocity_max": 10.959416660958084, "system_level_velocity_mean": 7.8185828267270585, "cost1_min": 60.641024567118905, "system_level_velocity_min": 5.458196518497752, "cost2_mean": -2.9421672732927147, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 280.04880869636236, "done": false, "episode_reward_min": 89.48033389613188, "episodes_this_iter": 43, "episode_len_mean": 325.0, "time_this_iter_s": 45.54022431373596, "timestamp": 1558248130, "iterations_since_restore": 11, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.394, "default": {"policy_loss": -0.013392582535743713, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5538737773895264, "entropy": 1.3733394145965576, "vf_loss": 11.519784927368164, "cur_lr": 0.0005000000237487257, "kl": 0.015094724483788013, "total_loss": 11.509410858154297}, "grad_time_ms": 13197.351, "num_steps_sampled": 586429, "update_time_ms": 10.703, "sample_time_ms": 34150.379, "num_steps_trained": 586429}, "timesteps_total": 586429, "training_iteration": 12, "timesteps_this_iter": 48250, "time_total_s": 575.7959959506989, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661748>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661dd8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 595, "time_since_restore": 575.7959959506989, "episode_reward_max": 455.1130366268187, "hostname": "flow-main", "date": "2019-05-19_06-42-56", "timesteps_since_restore": 586429, "custom_metrics": {"cost1_mean": 91.72097932663318, "cost1_max": 125.12616250722006, "cost2_min": -17.75, "system_level_velocity_max": 10.611573776642794, "system_level_velocity_mean": 7.997415265876921, "cost1_min": 60.641024567118905, "system_level_velocity_min": 5.690896302866615, "cost2_mean": -3.0849782477813052, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 285.816971459453, "done": false, "episode_reward_min": 89.48033389613188, "episodes_this_iter": 49, "episode_len_mean": 325.0, "time_this_iter_s": 45.829699993133545, "timestamp": 1558248176, "iterations_since_restore": 12, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.713, "default": {"policy_loss": -0.01377038098871708, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5605477094650269, "entropy": 1.372527837753296, "vf_loss": 10.358819961547852, "cur_lr": 0.0005000000237487257, "kl": 0.01575038582086563, "total_loss": 10.348199844360352}, "grad_time_ms": 13257.306, "num_steps_sampled": 634018, "update_time_ms": 10.721, "sample_time_ms": 33580.438, "num_steps_trained": 634018}, "timesteps_total": 634018, "training_iteration": 13, "timesteps_this_iter": 47589, "time_total_s": 621.3495502471924, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661198>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 642, "time_since_restore": 621.3495502471924, "episode_reward_max": 480.53471364626625, "hostname": "flow-main", "date": "2019-05-19_06-43-41", "timesteps_since_restore": 634018, "custom_metrics": {"cost1_mean": 92.8670276753478, "cost1_max": 122.36611120273639, "cost2_min": -17.75, "system_level_velocity_max": 10.090548689321656, "system_level_velocity_mean": 8.08047973280523, "cost1_min": 59.37902095201825, "system_level_velocity_min": 5.206939040110722, "cost2_mean": -3.0898333442432406, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 295.2279611846914, "done": false, "episode_reward_min": 115.8483082787092, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.55355429649353, "timestamp": 1558248221, "iterations_since_restore": 13, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.745, "default": {"policy_loss": -0.013747475109994411, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.513684093952179, "entropy": 1.3791333436965942, "vf_loss": 11.018854141235352, "cur_lr": 0.0005000000237487257, "kl": 0.016107847914099693, "total_loss": 11.00832748413086}, "grad_time_ms": 13380.946, "num_steps_sampled": 681659, "update_time_ms": 10.51, "sample_time_ms": 33016.275, "num_steps_trained": 681659}, "timesteps_total": 681659, "training_iteration": 14, "timesteps_this_iter": 47641, "time_total_s": 667.3465285301208, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ab38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065af60>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 684, "time_since_restore": 667.3465285301208, "episode_reward_max": 480.53471364626625, "hostname": "flow-main", "date": "2019-05-19_06-44-27", "timesteps_since_restore": 681659, "custom_metrics": {"cost1_mean": 93.82148174152319, "cost1_max": 141.6282453786617, "cost2_min": -19.0, "system_level_velocity_max": 11.625987598570092, "system_level_velocity_mean": 8.182112357980243, "cost1_min": 59.37902095201825, "system_level_velocity_min": 5.206939040110722, "cost2_mean": -3.1884443797916164, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 292.32505779968136, "done": false, "episode_reward_min": 99.8177246941401, "episodes_this_iter": 42, "episode_len_mean": 325.0, "time_this_iter_s": 45.99697828292847, "timestamp": 1558248267, "iterations_since_restore": 14, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.055, "default": {"policy_loss": -0.01512476522475481, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5132044553756714, "entropy": 1.3809542655944824, "vf_loss": 12.679242134094238, "cur_lr": 0.0005000000237487257, "kl": 0.018000736832618713, "total_loss": 12.667717933654785}, "grad_time_ms": 13391.382, "num_steps_sampled": 732843, "update_time_ms": 10.42, "sample_time_ms": 32863.571, "num_steps_trained": 732843}, "timesteps_total": 732843, "training_iteration": 15, "timesteps_this_iter": 51184, "time_total_s": 714.6536536216736, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ec50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a630>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 731, "time_since_restore": 714.6536536216736, "episode_reward_max": 468.91010927958934, "hostname": "flow-main", "date": "2019-05-19_06-45-15", "timesteps_since_restore": 732843, "custom_metrics": {"cost1_mean": 94.55648865561929, "cost1_max": 141.6282453786617, "cost2_min": -19.0, "system_level_velocity_max": 11.625987598570092, "system_level_velocity_mean": 8.27072140962034, "cost1_min": 49.56380954139277, "system_level_velocity_min": 4.764340615362278, "cost2_mean": -2.871121774953751, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 303.12722635798167, "done": false, "episode_reward_min": 99.8177246941401, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 47.307125091552734, "timestamp": 1558248315, "iterations_since_restore": 15, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.017, "default": {"policy_loss": -0.013539781793951988, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.48193487524986267, "entropy": 1.3803361654281616, "vf_loss": 14.173651695251465, "cur_lr": 0.0005000000237487257, "kl": 0.016059227287769318, "total_loss": 14.163324356079102}, "grad_time_ms": 13413.993, "num_steps_sampled": 781224, "update_time_ms": 10.687, "sample_time_ms": 32733.241, "num_steps_trained": 781224}, "timesteps_total": 781224, "training_iteration": 16, "timesteps_this_iter": 48381, "time_total_s": 760.5751152038574, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661160>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ef0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 782, "time_since_restore": 760.5751152038574, "episode_reward_max": 505.504037339464, "hostname": "flow-main", "date": "2019-05-19_06-46-01", "timesteps_since_restore": 781224, "custom_metrics": {"cost1_mean": 95.209735590459, "cost1_max": 127.92815612153952, "cost2_min": -20.0, "system_level_velocity_max": 10.328790479971914, "system_level_velocity_mean": 8.27623398619399, "cost1_min": 49.56380954139277, "system_level_velocity_min": 4.764340615362278, "cost2_mean": -3.166946638554712, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.03997197409785, "done": false, "episode_reward_min": 177.42676058247343, "episodes_this_iter": 51, "episode_len_mean": 325.0, "time_this_iter_s": 45.92146158218384, "timestamp": 1558248361, "iterations_since_restore": 16, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.92, "default": {"policy_loss": -0.01521187275648117, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5075145959854126, "entropy": 1.3726290464401245, "vf_loss": 13.080134391784668, "cur_lr": 0.0005000000237487257, "kl": 0.01655980385839939, "total_loss": 13.068233489990234}, "grad_time_ms": 13523.25, "num_steps_sampled": 830113, "update_time_ms": 10.754, "sample_time_ms": 32647.188, "num_steps_trained": 830113}, "timesteps_total": 830113, "training_iteration": 17, "timesteps_this_iter": 48889, "time_total_s": 805.9092643260956, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06614e0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 824, "time_since_restore": 805.9092643260956, "episode_reward_max": 505.504037339464, "hostname": "flow-main", "date": "2019-05-19_06-46-46", "timesteps_since_restore": 830113, "custom_metrics": {"cost1_mean": 96.45862544411537, "cost1_max": 140.667504692806, "cost2_min": -20.0, "system_level_velocity_max": 11.447872243172739, "system_level_velocity_mean": 8.325158504277487, "cost1_min": 68.7360044285625, "system_level_velocity_min": 6.383348346465706, "cost2_mean": -3.4463837934247774, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.0093754545281, "done": false, "episode_reward_min": 148.9256268512693, "episodes_this_iter": 42, "episode_len_mean": 325.0, "time_this_iter_s": 45.33414912223816, "timestamp": 1558248406, "iterations_since_restore": 17, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.826, "default": {"policy_loss": -0.01914016529917717, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5194680690765381, "entropy": 1.3793193101882935, "vf_loss": 12.477903366088867, "cur_lr": 0.0005000000237487257, "kl": 0.02099471539258957, "total_loss": 12.46296215057373}, "grad_time_ms": 13510.722, "num_steps_sampled": 875523, "update_time_ms": 10.696, "sample_time_ms": 32396.936, "num_steps_trained": 875523}, "timesteps_total": 875523, "training_iteration": 18, "timesteps_this_iter": 45410, "time_total_s": 850.653237581253, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06670b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06aae48>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 871, "time_since_restore": 850.653237581253, "episode_reward_max": 505.504037339464, "hostname": "flow-main", "date": "2019-05-19_06-47-31", "timesteps_since_restore": 875523, "custom_metrics": {"cost1_mean": 97.52439816944513, "cost1_max": 140.667504692806, "cost2_min": -20.0, "system_level_velocity_max": 11.447872243172739, "system_level_velocity_mean": 8.440768962980828, "cost1_min": 68.7360044285625, "system_level_velocity_min": 6.2968713173609965, "cost2_mean": -3.6499626135486185, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 300.9590326239964, "done": false, "episode_reward_min": 89.31645524570348, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 44.74397325515747, "timestamp": 1558248451, "iterations_since_restore": 18, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.889, "default": {"policy_loss": -0.016323057934641838, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.47154152393341064, "entropy": 1.380826711654663, "vf_loss": 14.291433334350586, "cur_lr": 0.0005000000237487257, "kl": 0.015581284649670124, "total_loss": 14.279784202575684}, "grad_time_ms": 13497.633, "num_steps_sampled": 923169, "update_time_ms": 10.826, "sample_time_ms": 32236.709, "num_steps_trained": 923169}, "timesteps_total": 923169, "training_iteration": 19, "timesteps_this_iter": 47646, "time_total_s": 895.7755734920502, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06671d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672e8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 922, "time_since_restore": 895.7755734920502, "episode_reward_max": 527.7211536681294, "hostname": "flow-main", "date": "2019-05-19_06-48-16", "timesteps_since_restore": 923169, "custom_metrics": {"cost1_mean": 97.04609490025722, "cost1_max": 133.7485701563179, "cost2_min": -31.420068368767453, "system_level_velocity_max": 10.785949147979402, "system_level_velocity_mean": 8.406486537549274, "cost1_min": 68.76088673132688, "system_level_velocity_min": 6.2968713173609965, "cost2_mean": -3.883288867084409, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 293.15970671569323, "done": false, "episode_reward_min": 89.31645524570348, "episodes_this_iter": 51, "episode_len_mean": 325.0, "time_this_iter_s": 45.12233591079712, "timestamp": 1558248496, "iterations_since_restore": 19, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.042, "default": {"policy_loss": -0.01825135014951229, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5466637015342712, "entropy": 1.3959155082702637, "vf_loss": 12.323726654052734, "cur_lr": 0.0005000000237487257, "kl": 0.01650768704712391, "total_loss": 12.310426712036133}, "grad_time_ms": 13449.608, "num_steps_sampled": 971516, "update_time_ms": 10.99, "sample_time_ms": 31955.641, "num_steps_trained": 971516}, "timesteps_total": 971516, "training_iteration": 20, "timesteps_this_iter": 48347, "time_total_s": 939.7263975143433, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667198>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06672b0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 964, "time_since_restore": 939.7263975143433, "episode_reward_max": 527.7211536681294, "hostname": "flow-main", "date": "2019-05-19_06-49-00", "timesteps_since_restore": 971516, "custom_metrics": {"cost1_mean": 97.20494520793991, "cost1_max": 137.098936687018, "cost2_min": -31.420068368767453, "system_level_velocity_max": 11.461313063214323, "system_level_velocity_mean": 8.377068220369596, "cost1_min": 68.15608290654328, "system_level_velocity_min": 6.482773143383697, "cost2_mean": -3.672457767563434, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 303.2581710268094, "done": false, "episode_reward_min": 89.31645524570348, "episodes_this_iter": 42, "episode_len_mean": 325.0, "time_this_iter_s": 43.95082402229309, "timestamp": 1558248540, "iterations_since_restore": 20, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.036, "default": {"policy_loss": -0.016220733523368835, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5220234990119934, "entropy": 1.3996039628982544, "vf_loss": 12.459673881530762, "cur_lr": 0.0005000000237487257, "kl": 0.015572662465274334, "total_loss": 12.448123931884766}, "grad_time_ms": 13552.225, "num_steps_sampled": 1020544, "update_time_ms": 10.625, "sample_time_ms": 31877.174, "num_steps_trained": 1020544}, "timesteps_total": 1020544, "training_iteration": 21, "timesteps_this_iter": 49028, "time_total_s": 985.5253732204437, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06619e8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1008, "time_since_restore": 985.5253732204437, "episode_reward_max": 527.7211536681294, "hostname": "flow-main", "date": "2019-05-19_06-49-46", "timesteps_since_restore": 1020544, "custom_metrics": {"cost1_mean": 96.23948466557296, "cost1_max": 137.098936687018, "cost2_min": -31.420068368767453, "system_level_velocity_max": 11.461313063214323, "system_level_velocity_mean": 8.28905367156525, "cost1_min": 56.55292620930662, "system_level_velocity_min": 5.189151932367597, "cost2_mean": -3.8462936863936927, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.45869600219254, "done": false, "episode_reward_min": 81.53572894986479, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 45.798975706100464, "timestamp": 1558248586, "iterations_since_restore": 21, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.155, "default": {"policy_loss": -0.015712425112724304, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.4957076907157898, "entropy": 1.399909257888794, "vf_loss": 14.136225700378418, "cur_lr": 0.0005000000237487257, "kl": 0.014589294791221619, "total_loss": 14.124890327453613}, "grad_time_ms": 13566.959, "num_steps_sampled": 1070283, "update_time_ms": 10.527, "sample_time_ms": 31906.256, "num_steps_trained": 1070283}, "timesteps_total": 1070283, "training_iteration": 22, "timesteps_this_iter": 49739, "time_total_s": 1031.7875525951385, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064ee48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eb00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065ae80>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1059, "time_since_restore": 1031.7875525951385, "episode_reward_max": 457.65465919079577, "hostname": "flow-main", "date": "2019-05-19_06-50-32", "timesteps_since_restore": 1070283, "custom_metrics": {"cost1_mean": 94.2074179954894, "cost1_max": 146.62614495294324, "cost2_min": -20.666666666666664, "system_level_velocity_max": 11.926987918608152, "system_level_velocity_mean": 8.158822652243213, "cost1_min": 33.887141078959345, "system_level_velocity_min": 3.006356552061621, "cost2_mean": -3.5245757549907166, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 303.62837516953033, "done": false, "episode_reward_min": 81.53572894986479, "episodes_this_iter": 51, "episode_len_mean": 324.83, "time_this_iter_s": 46.262179374694824, "timestamp": 1558248632, "iterations_since_restore": 22, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.822, "default": {"policy_loss": -0.0180194228887558, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5125433206558228, "entropy": 1.411536693572998, "vf_loss": 11.637091636657715, "cur_lr": 0.0005000000237487257, "kl": 0.01638515666127205, "total_loss": 11.623987197875977}, "grad_time_ms": 13510.337, "num_steps_sampled": 1117479, "update_time_ms": 10.465, "sample_time_ms": 31906.738, "num_steps_trained": 1117479}, "timesteps_total": 1117479, "training_iteration": 23, "timesteps_this_iter": 47196, "time_total_s": 1076.7849373817444, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667fd0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1103, "time_since_restore": 1076.7849373817444, "episode_reward_max": 464.86718915107843, "hostname": "flow-main", "date": "2019-05-19_06-51-17", "timesteps_since_restore": 1117479, "custom_metrics": {"cost1_mean": 94.2236488955213, "cost1_max": 146.62614495294324, "cost2_min": -20.666666666666664, "system_level_velocity_max": 11.926987918608152, "system_level_velocity_mean": 8.179685965801688, "cost1_min": 33.887141078959345, "system_level_velocity_min": 3.006356552061621, "cost2_mean": -3.10575806031451, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 302.9833444511187, "done": false, "episode_reward_min": 92.46635514033701, "episodes_this_iter": 44, "episode_len_mean": 324.83, "time_this_iter_s": 44.997384786605835, "timestamp": 1558248677, "iterations_since_restore": 23, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.0, "default": {"policy_loss": -0.01692797988653183, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4769761264324188, "entropy": 1.3996732234954834, "vf_loss": 12.965533256530762, "cur_lr": 0.0005000000237487257, "kl": 0.015675852075219154, "total_loss": 12.95330810546875}, "grad_time_ms": 13348.722, "num_steps_sampled": 1165415, "update_time_ms": 10.431, "sample_time_ms": 32074.092, "num_steps_trained": 1165415}, "timesteps_total": 1165415, "training_iteration": 24, "timesteps_this_iter": 47936, "time_total_s": 1122.8324329853058, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667b38>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1147, "time_since_restore": 1122.8324329853058, "episode_reward_max": 526.1937715404858, "hostname": "flow-main", "date": "2019-05-19_06-52-03", "timesteps_since_restore": 1165415, "custom_metrics": {"cost1_mean": 97.34477202591752, "cost1_max": 146.62614495294324, "cost2_min": -16.75, "system_level_velocity_max": 11.926987918608152, "system_level_velocity_mean": 8.417779613143072, "cost1_min": 59.90096621355484, "system_level_velocity_min": 5.079867087965686, "cost2_mean": -2.829549507347998, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 305.5469427819178, "done": false, "episode_reward_min": 92.46635514033701, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 46.0474956035614, "timestamp": 1558248723, "iterations_since_restore": 24, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.683, "default": {"policy_loss": -0.017313266173005104, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5209868550300598, "entropy": 1.3841756582260132, "vf_loss": 14.14356517791748, "cur_lr": 0.0005000000237487257, "kl": 0.015960881486535072, "total_loss": 14.131038665771484}, "grad_time_ms": 13190.154, "num_steps_sampled": 1215000, "update_time_ms": 10.39, "sample_time_ms": 32103.252, "num_steps_trained": 1215000}, "timesteps_total": 1215000, "training_iteration": 25, "timesteps_this_iter": 49585, "time_total_s": 1168.853436946869, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06677f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667518>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1195, "time_since_restore": 1168.853436946869, "episode_reward_max": 526.1937715404858, "hostname": "flow-main", "date": "2019-05-19_06-52-50", "timesteps_since_restore": 1215000, "custom_metrics": {"cost1_mean": 97.88832596445114, "cost1_max": 135.63930821687296, "cost2_min": -20.0, "system_level_velocity_max": 10.959593109406468, "system_level_velocity_mean": 8.495443706663282, "cost1_min": 32.420648046121414, "system_level_velocity_min": 2.8135562743971487, "cost2_mean": -2.993400636443732, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 307.21022966593375, "done": false, "episode_reward_min": 92.31039306312373, "episodes_this_iter": 48, "episode_len_mean": 325.0, "time_this_iter_s": 46.02100396156311, "timestamp": 1558248770, "iterations_since_restore": 25, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.543, "default": {"policy_loss": -0.017347140237689018, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5046988129615784, "entropy": 1.3791475296020508, "vf_loss": 13.432096481323242, "cur_lr": 0.0005000000237487257, "kl": 0.014990054070949554, "total_loss": 13.419245719909668}, "grad_time_ms": 13080.335, "num_steps_sampled": 1263562, "update_time_ms": 10.249, "sample_time_ms": 32201.285, "num_steps_trained": 1263562}, "timesteps_total": 1263562, "training_iteration": 26, "timesteps_this_iter": 48562, "time_total_s": 1214.6617488861084, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c438>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1242, "time_since_restore": 1214.6617488861084, "episode_reward_max": 508.9870813236372, "hostname": "flow-main", "date": "2019-05-19_06-53-35", "timesteps_since_restore": 1263562, "custom_metrics": {"cost1_mean": 97.31197744415861, "cost1_max": 134.0413775144875, "cost2_min": -20.0, "system_level_velocity_max": 11.049844221769401, "system_level_velocity_mean": 8.487489115965108, "cost1_min": 32.420648046121414, "system_level_velocity_min": 2.8135562743971487, "cost2_mean": -2.9912372342297355, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 315.68248371811785, "done": false, "episode_reward_min": 92.31039306312373, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.8083119392395, "timestamp": 1558248815, "iterations_since_restore": 26, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.598, "default": {"policy_loss": -0.016810623928904533, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.6012184023857117, "entropy": 1.3860642910003662, "vf_loss": 12.108868598937988, "cur_lr": 0.0005000000237487257, "kl": 0.01457784604281187, "total_loss": 12.09643268585205}, "grad_time_ms": 12910.022, "num_steps_sampled": 1310762, "update_time_ms": 10.166, "sample_time_ms": 32281.227, "num_steps_trained": 1310762}, "timesteps_total": 1310762, "training_iteration": 27, "timesteps_this_iter": 47200, "time_total_s": 1259.0900557041168, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06614e0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661780>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1284, "time_since_restore": 1259.0900557041168, "episode_reward_max": 462.447679223379, "hostname": "flow-main", "date": "2019-05-19_06-54-20", "timesteps_since_restore": 1310762, "custom_metrics": {"cost1_mean": 97.11049165501748, "cost1_max": 134.0413775144875, "cost2_min": -20.0, "system_level_velocity_max": 11.049844221769401, "system_level_velocity_mean": 8.509093836582654, "cost1_min": 38.46449941737736, "system_level_velocity_min": 3.3495828323107104, "cost2_mean": -3.0437973868254056, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 306.7686789899952, "done": false, "episode_reward_min": 92.31039306312373, "episodes_this_iter": 42, "episode_len_mean": 325.0, "time_this_iter_s": 44.42830681800842, "timestamp": 1558248860, "iterations_since_restore": 27, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.153, "default": {"policy_loss": -0.018909461796283722, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.566844642162323, "entropy": 1.3978822231292725, "vf_loss": 13.91065502166748, "cur_lr": 0.0005000000237487257, "kl": 0.017139144241809845, "total_loss": 13.89688491821289}, "grad_time_ms": 12801.441, "num_steps_sampled": 1357949, "update_time_ms": 10.179, "sample_time_ms": 32437.353, "num_steps_trained": 1357949}, "timesteps_total": 1357949, "training_iteration": 28, "timesteps_this_iter": 47187, "time_total_s": 1304.2997686862946, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06674e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667198>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667588>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1331, "time_since_restore": 1304.2997686862946, "episode_reward_max": 462.447679223379, "hostname": "flow-main", "date": "2019-05-19_06-55-05", "timesteps_since_restore": 1357949, "custom_metrics": {"cost1_mean": 98.06264841642286, "cost1_max": 140.16857367359796, "cost2_min": -19.0, "system_level_velocity_max": 11.368084751944084, "system_level_velocity_mean": 8.594727255813005, "cost1_min": 38.46449941737736, "system_level_velocity_min": 3.3495828323107104, "cost2_mean": -3.226698043500012, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 304.8912626220766, "done": false, "episode_reward_min": 101.88666258343075, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.209712982177734, "timestamp": 1558248905, "iterations_since_restore": 28, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.244, "default": {"policy_loss": -0.019375761970877647, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5324198007583618, "entropy": 1.4084763526916504, "vf_loss": 14.480952262878418, "cur_lr": 0.0005000000237487257, "kl": 0.016515010967850685, "total_loss": 14.466530799865723}, "grad_time_ms": 12744.624, "num_steps_sampled": 1407407, "update_time_ms": 10.011, "sample_time_ms": 32669.641, "num_steps_trained": 1407407}, "timesteps_total": 1407407, "training_iteration": 29, "timesteps_this_iter": 49458, "time_total_s": 1351.1730999946594, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1382, "time_since_restore": 1351.1730999946594, "episode_reward_max": 544.1178480352759, "hostname": "flow-main", "date": "2019-05-19_06-55-52", "timesteps_since_restore": 1407407, "custom_metrics": {"cost1_mean": 98.5488015392197, "cost1_max": 140.16857367359796, "cost2_min": -21.25, "system_level_velocity_max": 11.465221157400256, "system_level_velocity_mean": 8.602264787357198, "cost1_min": 20.060372254595922, "system_level_velocity_min": 3.0072781937311692, "cost2_mean": -2.7770060055575976, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.8576945057581, "done": false, "episode_reward_min": 59.76520218298338, "episodes_this_iter": 51, "episode_len_mean": 322.05, "time_this_iter_s": 46.87333130836487, "timestamp": 1558248952, "iterations_since_restore": 29, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.303, "default": {"policy_loss": -0.016366446390748024, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5496200323104858, "entropy": 1.396665334701538, "vf_loss": 14.837297439575195, "cur_lr": 0.0005000000237487257, "kl": 0.015598341822624207, "total_loss": 14.825611114501953}, "grad_time_ms": 12774.84, "num_steps_sampled": 1458297, "update_time_ms": 9.966, "sample_time_ms": 32963.543, "num_steps_trained": 1458297}, "timesteps_total": 1458297, "training_iteration": 30, "timesteps_this_iter": 50890, "time_total_s": 1398.3778860569, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661198>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1425, "time_since_restore": 1398.3778860569, "episode_reward_max": 544.1178480352759, "hostname": "flow-main", "date": "2019-05-19_06-56-39", "timesteps_since_restore": 1458297, "custom_metrics": {"cost1_mean": 98.39717286894765, "cost1_max": 140.14314834586247, "cost2_min": -21.25, "system_level_velocity_max": 11.465221157400256, "system_level_velocity_mean": 8.566329590810598, "cost1_min": 20.060372254595922, "system_level_velocity_min": 2.1489029922376703, "cost2_mean": -2.3700258189006846, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 324.6261816106872, "done": false, "episode_reward_min": 59.76520218298338, "episodes_this_iter": 43, "episode_len_mean": 322.05, "time_this_iter_s": 47.2047860622406, "timestamp": 1558248999, "iterations_since_restore": 30, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.449, "default": {"policy_loss": -0.018853656947612762, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5828273892402649, "entropy": 1.4061623811721802, "vf_loss": 15.216277122497559, "cur_lr": 0.0005000000237487257, "kl": 0.017217688262462616, "total_loss": 15.20258903503418}, "grad_time_ms": 12711.182, "num_steps_sampled": 1506768, "update_time_ms": 9.956, "sample_time_ms": 33188.416, "num_steps_trained": 1506768}, "timesteps_total": 1506768, "training_iteration": 31, "timesteps_this_iter": 48471, "time_total_s": 1445.787272453308, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f28>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1472, "time_since_restore": 1445.787272453308, "episode_reward_max": 566.7144159854332, "hostname": "flow-main", "date": "2019-05-19_06-57-27", "timesteps_since_restore": 1506768, "custom_metrics": {"cost1_mean": 98.13524584397499, "cost1_max": 141.67860399635836, "cost2_min": -21.25, "system_level_velocity_max": 11.709500080900302, "system_level_velocity_mean": 8.557675551925069, "cost1_min": 20.060372254595922, "system_level_velocity_min": 2.1489029922376703, "cost2_mean": -2.9909607538318683, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 323.041065094776, "done": false, "episode_reward_min": 59.76520218298338, "episodes_this_iter": 47, "episode_len_mean": 323.62, "time_this_iter_s": 47.40938639640808, "timestamp": 1558249047, "iterations_since_restore": 31, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.485, "default": {"policy_loss": -0.017716791480779648, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5869649648666382, "entropy": 1.41690993309021, "vf_loss": 14.987485885620117, "cur_lr": 0.0005000000237487257, "kl": 0.016380151733756065, "total_loss": 14.974682807922363}, "grad_time_ms": 12692.409, "num_steps_sampled": 1557720, "update_time_ms": 10.074, "sample_time_ms": 33322.074, "num_steps_trained": 1557720}, "timesteps_total": 1557720, "training_iteration": 32, "timesteps_this_iter": 50952, "time_total_s": 1493.2239878177643, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667588>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667198>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1522, "time_since_restore": 1493.2239878177643, "episode_reward_max": 566.7144159854332, "hostname": "flow-main", "date": "2019-05-19_06-58-14", "timesteps_since_restore": 1557720, "custom_metrics": {"cost1_mean": 100.81218954970642, "cost1_max": 141.67860399635836, "cost2_min": -17.0, "system_level_velocity_max": 11.709500080900302, "system_level_velocity_mean": 8.728091744893565, "cost1_min": 25.15190206810294, "system_level_velocity_min": 2.1845867842422546, "cost2_mean": -2.946561867352433, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 332.7011378680981, "done": false, "episode_reward_min": 75.45570620430874, "episodes_this_iter": 50, "episode_len_mean": 324.97, "time_this_iter_s": 47.43671536445618, "timestamp": 1558249094, "iterations_since_restore": 32, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.611, "default": {"policy_loss": -0.01838782988488674, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5101298689842224, "entropy": 1.4052194356918335, "vf_loss": 14.691154479980469, "cur_lr": 0.0005000000237487257, "kl": 0.016842573881149292, "total_loss": 14.677818298339844}, "grad_time_ms": 12696.741, "num_steps_sampled": 1606994, "update_time_ms": 9.979, "sample_time_ms": 33410.637, "num_steps_trained": 1606994}, "timesteps_total": 1606994, "training_iteration": 33, "timesteps_this_iter": 49274, "time_total_s": 1539.1440892219543, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f22b0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1566, "time_since_restore": 1539.1440892219543, "episode_reward_max": 550.7799934438476, "hostname": "flow-main", "date": "2019-05-19_06-59-00", "timesteps_since_restore": 1606994, "custom_metrics": {"cost1_mean": 100.14204314889481, "cost1_max": 137.77610707655342, "cost2_min": -13.666666666666666, "system_level_velocity_max": 11.229662934105592, "system_level_velocity_mean": 8.746418244489414, "cost1_min": 25.15190206810294, "system_level_velocity_min": 2.1845867842422546, "cost2_mean": -2.939356341326345, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 330.1806063291752, "done": false, "episode_reward_min": 75.45570620430874, "episodes_this_iter": 44, "episode_len_mean": 323.33, "time_this_iter_s": 45.92010140419006, "timestamp": 1558249140, "iterations_since_restore": 33, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.279, "default": {"policy_loss": -0.019308418035507202, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.6458345651626587, "entropy": 1.4048470258712769, "vf_loss": 14.332077980041504, "cur_lr": 0.0005000000237487257, "kl": 0.017401674762368202, "total_loss": 14.317988395690918}, "grad_time_ms": 12749.181, "num_steps_sampled": 1655512, "update_time_ms": 10.054, "sample_time_ms": 33601.113, "num_steps_trained": 1655512}, "timesteps_total": 1655512, "training_iteration": 34, "timesteps_this_iter": 48518, "time_total_s": 1587.64089179039, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ce48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1612, "time_since_restore": 1587.64089179039, "episode_reward_max": 551.6784181518549, "hostname": "flow-main", "date": "2019-05-19_06-59-49", "timesteps_since_restore": 1655512, "custom_metrics": {"cost1_mean": 98.5837276373188, "cost1_max": 150.5240721223186, "cost2_min": -58.99999999999999, "system_level_velocity_max": 12.09048344222903, "system_level_velocity_mean": 8.656893124440085, "cost1_min": 26.977607774776722, "system_level_velocity_min": 2.9601662435396636, "cost2_mean": -3.2665024890833636, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.9937209012243, "done": false, "episode_reward_min": 66.56698629614927, "episodes_this_iter": 46, "episode_len_mean": 321.93, "time_this_iter_s": 48.49680256843567, "timestamp": 1558249189, "iterations_since_restore": 34, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.416, "default": {"policy_loss": -0.01703752763569355, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5305535197257996, "entropy": 1.408043622970581, "vf_loss": 14.72034740447998, "cur_lr": 0.0005000000237487257, "kl": 0.016713060438632965, "total_loss": 14.70832347869873}, "grad_time_ms": 12762.36, "num_steps_sampled": 1705131, "update_time_ms": 10.097, "sample_time_ms": 33632.595, "num_steps_trained": 1705131}, "timesteps_total": 1705131, "training_iteration": 35, "timesteps_this_iter": 49619, "time_total_s": 1634.0843091011047, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb70>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1659, "time_since_restore": 1634.0843091011047, "episode_reward_max": 551.6784181518549, "hostname": "flow-main", "date": "2019-05-19_07-00-35", "timesteps_since_restore": 1705131, "custom_metrics": {"cost1_mean": 97.91899346142462, "cost1_max": 150.5240721223186, "cost2_min": -58.99999999999999, "system_level_velocity_max": 12.09048344222903, "system_level_velocity_mean": 8.606324130395306, "cost1_min": 26.977607774776722, "system_level_velocity_min": 2.9601662435396636, "cost2_mean": -3.004255422986634, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.5071994415551, "done": false, "episode_reward_min": 66.56698629614927, "episodes_this_iter": 47, "episode_len_mean": 323.6, "time_this_iter_s": 46.44341731071472, "timestamp": 1558249235, "iterations_since_restore": 35, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.477, "default": {"policy_loss": -0.017675867304205894, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5465152859687805, "entropy": 1.414196252822876, "vf_loss": 14.033419609069824, "cur_lr": 0.0005000000237487257, "kl": 0.016901733353734016, "total_loss": 14.020813941955566}, "grad_time_ms": 12744.2, "num_steps_sampled": 1753270, "update_time_ms": 10.097, "sample_time_ms": 33674.708, "num_steps_trained": 1753270}, "timesteps_total": 1753270, "training_iteration": 36, "timesteps_this_iter": 48139, "time_total_s": 1680.142616033554, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24a8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1705, "time_since_restore": 1680.142616033554, "episode_reward_max": 516.0789734085141, "hostname": "flow-main", "date": "2019-05-19_07-01-21", "timesteps_since_restore": 1753270, "custom_metrics": {"cost1_mean": 98.62910993551397, "cost1_max": 143.0521787455578, "cost2_min": -17.999999999999996, "system_level_velocity_max": 11.762402965277392, "system_level_velocity_mean": 8.655040514328986, "cost1_min": 67.98773080273088, "system_level_velocity_min": 6.2407424493834025, "cost2_mean": -3.372722895228106, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 310.5684966652788, "done": false, "episode_reward_min": 39.092478336946094, "episodes_this_iter": 46, "episode_len_mean": 325.0, "time_this_iter_s": 46.05830693244934, "timestamp": 1558249281, "iterations_since_restore": 36, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.529, "default": {"policy_loss": -0.01883098855614662, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5883663892745972, "entropy": 1.4074814319610596, "vf_loss": 15.944926261901855, "cur_lr": 0.0005000000237487257, "kl": 0.016980005428195, "total_loss": 15.93118953704834}, "grad_time_ms": 12813.515, "num_steps_sampled": 1804177, "update_time_ms": 9.926, "sample_time_ms": 34017.583, "num_steps_trained": 1804177}, "timesteps_total": 1804177, "training_iteration": 37, "timesteps_this_iter": 50907, "time_total_s": 1728.677179813385, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2dd8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1750, "time_since_restore": 1728.677179813385, "episode_reward_max": 660.9098941195624, "hostname": "flow-main", "date": "2019-05-19_07-02-10", "timesteps_since_restore": 1804177, "custom_metrics": {"cost1_mean": 98.19453864172246, "cost1_max": 165.90602745244064, "cost2_min": -17.999999999999996, "system_level_velocity_max": 13.056348005401423, "system_level_velocity_mean": 8.558729380592908, "cost1_min": 27.739000702278986, "system_level_velocity_min": 2.40454868267683, "cost2_mean": -3.7580905907717903, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.18270149773264, "done": false, "episode_reward_min": 39.092478336946094, "episodes_this_iter": 45, "episode_len_mean": 325.0, "time_this_iter_s": 48.53456377983093, "timestamp": 1558249330, "iterations_since_restore": 37, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.994, "default": {"policy_loss": -0.017592089250683784, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.5167466998100281, "entropy": 1.403967022895813, "vf_loss": 17.082462310791016, "cur_lr": 0.0005000000237487257, "kl": 0.017601776868104935, "total_loss": 17.070148468017578}, "grad_time_ms": 12867.061, "num_steps_sampled": 1853936, "update_time_ms": 9.736, "sample_time_ms": 34149.769, "num_steps_trained": 1853936}, "timesteps_total": 1853936, "training_iteration": 38, "timesteps_this_iter": 49759, "time_total_s": 1775.731993675232, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c630>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ceb8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1797, "time_since_restore": 1775.731993675232, "episode_reward_max": 660.9098941195624, "hostname": "flow-main", "date": "2019-05-19_07-02-57", "timesteps_since_restore": 1853936, "custom_metrics": {"cost1_mean": 100.9235030767444, "cost1_max": 165.90602745244064, "cost2_min": -15.0, "system_level_velocity_max": 13.056348005401423, "system_level_velocity_mean": 8.76197174767825, "cost1_min": 27.739000702278986, "system_level_velocity_min": 2.40454868267683, "cost2_mean": -3.55269944856338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 332.99609778654053, "done": false, "episode_reward_min": 110.95600280911577, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 47.054813861846924, "timestamp": 1558249377, "iterations_since_restore": 38, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.83, "default": {"policy_loss": -0.022070450708270073, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.5179395079612732, "entropy": 1.419448733329773, "vf_loss": 14.217316627502441, "cur_lr": 0.0005000000237487257, "kl": 0.020556515082716942, "total_loss": 14.20141315460205}, "grad_time_ms": 12828.888, "num_steps_sampled": 1902407, "update_time_ms": 9.579, "sample_time_ms": 34137.165, "num_steps_trained": 1902407}, "timesteps_total": 1902407, "training_iteration": 39, "timesteps_this_iter": 48471, "time_total_s": 1822.0845618247986, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06610b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06614e0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1844, "time_since_restore": 1822.0845618247986, "episode_reward_max": 623.5530615408888, "hostname": "flow-main", "date": "2019-05-19_07-03-43", "timesteps_since_restore": 1902407, "custom_metrics": {"cost1_mean": 102.06233699700132, "cost1_max": 166.00897990761112, "cost2_min": -32.66666666666666, "system_level_velocity_max": 13.17412012663118, "system_level_velocity_mean": 8.864889568178903, "cost1_min": 61.376295701150376, "system_level_velocity_min": 5.268128774605239, "cost2_mean": -3.1145550260398562, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.69651808849005, "done": false, "episode_reward_min": 89.3381212709866, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 46.35256814956665, "timestamp": 1558249423, "iterations_since_restore": 39, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.958, "default": {"policy_loss": -0.01802896335721016, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.4866313934326172, "entropy": 1.4242360591888428, "vf_loss": 14.64585018157959, "cur_lr": 0.0005000000237487257, "kl": 0.013843570835888386, "total_loss": 14.634050369262695}, "grad_time_ms": 12686.352, "num_steps_sampled": 1951698, "update_time_ms": 9.22, "sample_time_ms": 34265.12, "num_steps_trained": 1951698}, "timesteps_total": 1951698, "training_iteration": 40, "timesteps_this_iter": 49291, "time_total_s": 1869.1345365047455, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e80>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1887, "time_since_restore": 1869.1345365047455, "episode_reward_max": 561.3242163434685, "hostname": "flow-main", "date": "2019-05-19_07-04-31", "timesteps_since_restore": 1951698, "custom_metrics": {"cost1_mean": 99.18260230385113, "cost1_max": 166.00897990761112, "cost2_min": -32.66666666666666, "system_level_velocity_max": 13.17412012663118, "system_level_velocity_mean": 8.65027132050908, "cost1_min": 61.376295701150376, "system_level_velocity_min": 5.268128774605239, "cost2_mean": -2.5128764986222696, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 321.5129331177787, "done": false, "episode_reward_min": 89.3381212709866, "episodes_this_iter": 43, "episode_len_mean": 325.0, "time_this_iter_s": 47.0499746799469, "timestamp": 1558249471, "iterations_since_restore": 40, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.371, "default": {"policy_loss": -0.017264537513256073, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5093833208084106, "entropy": 1.4378244876861572, "vf_loss": 15.834785461425781, "cur_lr": 0.0005000000237487257, "kl": 0.013620881363749504, "total_loss": 15.823651313781738}, "grad_time_ms": 12671.269, "num_steps_sampled": 2002006, "update_time_ms": 8.997, "sample_time_ms": 34262.211, "num_steps_trained": 2002006}, "timesteps_total": 2002006, "training_iteration": 41, "timesteps_this_iter": 50308, "time_total_s": 1916.3828871250153, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c710>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1934, "time_since_restore": 1916.3828871250153, "episode_reward_max": 577.8137384274906, "hostname": "flow-main", "date": "2019-05-19_07-05-18", "timesteps_since_restore": 2002006, "custom_metrics": {"cost1_mean": 100.04155295392586, "cost1_max": 166.00897990761112, "cost2_min": -11.0, "system_level_velocity_max": 13.17412012663118, "system_level_velocity_mean": 8.710199935530124, "cost1_min": 66.61551674102341, "system_level_velocity_min": 6.158783709632518, "cost2_mean": -2.239849418312574, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.68840038349924, "done": false, "episode_reward_min": 89.3381212709866, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 47.248350620269775, "timestamp": 1558249518, "iterations_since_restore": 41, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.113, "default": {"policy_loss": -0.01918940059840679, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.47385138273239136, "entropy": 1.4410841464996338, "vf_loss": 16.128793716430664, "cur_lr": 0.0005000000237487257, "kl": 0.014145812019705772, "total_loss": 16.115970611572266}, "grad_time_ms": 12633.182, "num_steps_sampled": 2053439, "update_time_ms": 8.951, "sample_time_ms": 34275.37, "num_steps_trained": 2053439}, "timesteps_total": 2053439, "training_iteration": 42, "timesteps_this_iter": 51433, "time_total_s": 1963.5386576652527, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e48>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 1982, "time_since_restore": 1963.5386576652527, "episode_reward_max": 577.8137384274906, "hostname": "flow-main", "date": "2019-05-19_07-06-05", "timesteps_since_restore": 2053439, "custom_metrics": {"cost1_mean": 98.87657220080393, "cost1_max": 161.5870127478408, "cost2_min": -14.75, "system_level_velocity_max": 12.95809829960027, "system_level_velocity_mean": 8.612573353140936, "cost1_min": 52.22211364795517, "system_level_velocity_min": 4.674406461407615, "cost2_mean": -2.5917282532468255, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 336.430364814659, "done": false, "episode_reward_min": 114.48252027830192, "episodes_this_iter": 48, "episode_len_mean": 325.0, "time_this_iter_s": 47.15577054023743, "timestamp": 1558249565, "iterations_since_restore": 42, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.029, "default": {"policy_loss": -0.01853691041469574, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5855807662010193, "entropy": 1.4547770023345947, "vf_loss": 14.034660339355469, "cur_lr": 0.0005000000237487257, "kl": 0.014076231978833675, "total_loss": 14.02245807647705}, "grad_time_ms": 12585.393, "num_steps_sampled": 2102130, "update_time_ms": 8.809, "sample_time_ms": 34394.399, "num_steps_trained": 2102130}, "timesteps_total": 2102130, "training_iteration": 43, "timesteps_this_iter": 48691, "time_total_s": 2010.1715767383575, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2b00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2cc0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2027, "time_since_restore": 2010.1715767383575, "episode_reward_max": 534.632982344167, "hostname": "flow-main", "date": "2019-05-19_07-06-52", "timesteps_since_restore": 2102130, "custom_metrics": {"cost1_mean": 96.89993342145561, "cost1_max": 134.39166049007756, "cost2_min": -16.684553946092617, "system_level_velocity_max": 11.073676639731397, "system_level_velocity_mean": 8.490268230741885, "cost1_min": 16.60331172156836, "system_level_velocity_min": 4.009496817243098, "cost2_mean": -2.6783800077243867, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 325.7886110548223, "done": false, "episode_reward_min": 66.41324688627354, "episodes_this_iter": 45, "episode_len_mean": 322.89, "time_this_iter_s": 46.63291907310486, "timestamp": 1558249612, "iterations_since_restore": 43, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.465, "default": {"policy_loss": -0.019733430817723274, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5936195254325867, "entropy": 1.453559160232544, "vf_loss": 13.954194068908691, "cur_lr": 0.0005000000237487257, "kl": 0.014259586110711098, "total_loss": 13.940877914428711}, "grad_time_ms": 12487.156, "num_steps_sampled": 2150959, "update_time_ms": 8.488, "sample_time_ms": 34398.324, "num_steps_trained": 2150959}, "timesteps_total": 2150959, "training_iteration": 44, "timesteps_this_iter": 48829, "time_total_s": 2057.700787305832, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2080>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2075, "time_since_restore": 2057.700787305832, "episode_reward_max": 534.632982344167, "hostname": "flow-main", "date": "2019-05-19_07-07-39", "timesteps_since_restore": 2150959, "custom_metrics": {"cost1_mean": 97.50110050851308, "cost1_max": 134.39166049007756, "cost2_min": -23.75, "system_level_velocity_max": 11.073676639731397, "system_level_velocity_mean": 8.56124716969356, "cost1_min": 16.60331172156836, "system_level_velocity_min": 4.009496817243098, "cost2_mean": -2.517044547187569, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.0689879903225, "done": false, "episode_reward_min": 66.41324688627354, "episodes_this_iter": 48, "episode_len_mean": 322.89, "time_this_iter_s": 47.529210567474365, "timestamp": 1558249659, "iterations_since_restore": 44, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.299, "default": {"policy_loss": -0.018502743914723396, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.6443932056427002, "entropy": 1.4508994817733765, "vf_loss": 14.597039222717285, "cur_lr": 0.0005000000237487257, "kl": 0.014381656423211098, "total_loss": 14.585007667541504}, "grad_time_ms": 12379.989, "num_steps_sampled": 2198219, "update_time_ms": 8.189, "sample_time_ms": 34544.591, "num_steps_trained": 2198219}, "timesteps_total": 2198219, "training_iteration": 45, "timesteps_this_iter": 47260, "time_total_s": 2104.5191757678986, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c470>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2124, "time_since_restore": 2104.5191757678986, "episode_reward_max": 533.7866615030282, "hostname": "flow-main", "date": "2019-05-19_07-08-26", "timesteps_since_restore": 2198219, "custom_metrics": {"cost1_mean": 97.54284519690952, "cost1_max": 157.67021080910897, "cost2_min": -23.75, "system_level_velocity_max": 12.781984636459391, "system_level_velocity_mean": 8.557986594322239, "cost1_min": 29.624708872098836, "system_level_velocity_min": 2.8844418365411775, "cost2_mean": -2.6800512217076182, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.04394436165444, "done": false, "episode_reward_min": 86.93508463666065, "episodes_this_iter": 49, "episode_len_mean": 323.65, "time_this_iter_s": 46.81838846206665, "timestamp": 1558249706, "iterations_since_restore": 45, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.445, "default": {"policy_loss": -0.018945489078760147, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.6385836601257324, "entropy": 1.45347261428833, "vf_loss": 13.246402740478516, "cur_lr": 0.0005000000237487257, "kl": 0.014972127974033356, "total_loss": 13.234193801879883}, "grad_time_ms": 12423.903, "num_steps_sampled": 2247247, "update_time_ms": 8.081, "sample_time_ms": 34673.097, "num_steps_trained": 2247247}, "timesteps_total": 2247247, "training_iteration": 46, "timesteps_this_iter": 49028, "time_total_s": 2152.3016629219055, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ce48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c5c0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2169, "time_since_restore": 2152.3016629219055, "episode_reward_max": 533.7866615030282, "hostname": "flow-main", "date": "2019-05-19_07-09-14", "timesteps_since_restore": 2247247, "custom_metrics": {"cost1_mean": 96.23339643365286, "cost1_max": 157.67021080910897, "cost2_min": -20.0, "system_level_velocity_max": 12.781984636459391, "system_level_velocity_mean": 8.485561159427723, "cost1_min": 18.894804373254292, "system_level_velocity_min": 2.8844418365411775, "cost2_mean": -2.679515763379709, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 301.0625309453868, "done": false, "episode_reward_min": 56.718035324719416, "episodes_this_iter": 45, "episode_len_mean": 318.84, "time_this_iter_s": 47.78248715400696, "timestamp": 1558249754, "iterations_since_restore": 46, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.618, "default": {"policy_loss": -0.018070928752422333, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5587170720100403, "entropy": 1.4606655836105347, "vf_loss": 14.809929847717285, "cur_lr": 0.0005000000237487257, "kl": 0.01414534356445074, "total_loss": 14.798223495483398}, "grad_time_ms": 12455.61, "num_steps_sampled": 2297363, "update_time_ms": 8.257, "sample_time_ms": 34412.129, "num_steps_trained": 2297363}, "timesteps_total": 2297363, "training_iteration": 47, "timesteps_this_iter": 50116, "time_total_s": 2198.568425178528, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8400>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86a0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2215, "time_since_restore": 2198.568425178528, "episode_reward_max": 509.5526130049673, "hostname": "flow-main", "date": "2019-05-19_07-10-00", "timesteps_since_restore": 2297363, "custom_metrics": {"cost1_mean": 96.72966379681256, "cost1_max": 144.490814146967, "cost2_min": -20.0, "system_level_velocity_max": 12.113348733607205, "system_level_velocity_mean": 8.521029955286012, "cost1_min": 18.894804373254292, "system_level_velocity_min": 2.8844418365411775, "cost2_mean": -2.92687246289068, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 311.22239183476364, "done": false, "episode_reward_min": 56.718035324719416, "episodes_this_iter": 46, "episode_len_mean": 319.82, "time_this_iter_s": 46.266762256622314, "timestamp": 1558249800, "iterations_since_restore": 47, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.942, "default": {"policy_loss": -0.02149597927927971, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5816696286201477, "entropy": 1.462862253189087, "vf_loss": 14.247553825378418, "cur_lr": 0.0005000000237487257, "kl": 0.015812426805496216, "total_loss": 14.233175277709961}, "grad_time_ms": 12530.849, "num_steps_sampled": 2347846, "update_time_ms": 8.383, "sample_time_ms": 34313.041, "num_steps_trained": 2347846}, "timesteps_total": 2347846, "training_iteration": 48, "timesteps_this_iter": 50483, "time_total_s": 2245.4031734466553, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2470>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2262, "time_since_restore": 2245.4031734466553, "episode_reward_max": 546.1796492756248, "hostname": "flow-main", "date": "2019-05-19_07-10-47", "timesteps_since_restore": 2347846, "custom_metrics": {"cost1_mean": 97.44830086756454, "cost1_max": 143.8224928100774, "cost2_min": -14.75, "system_level_velocity_max": 12.07412191573979, "system_level_velocity_mean": 8.53322902409534, "cost1_min": 22.959654135224945, "system_level_velocity_min": 2.7189996060509602, "cost2_mean": -2.6129092492269903, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 321.2438375383921, "done": false, "episode_reward_min": 74.92110484090844, "episodes_this_iter": 47, "episode_len_mean": 323.38, "time_this_iter_s": 46.83474826812744, "timestamp": 1558249847, "iterations_since_restore": 48, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.974, "default": {"policy_loss": -0.017788348719477654, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.616899311542511, "entropy": 1.444190502166748, "vf_loss": 14.718198776245117, "cur_lr": 0.0005000000237487257, "kl": 0.013806631788611412, "total_loss": 14.706624031066895}, "grad_time_ms": 12623.657, "num_steps_sampled": 2397371, "update_time_ms": 8.6, "sample_time_ms": 34238.112, "num_steps_trained": 2397371}, "timesteps_total": 2397371, "training_iteration": 49, "timesteps_this_iter": 49525, "time_total_s": 2291.9416012763977, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ca58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c780>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2308, "time_since_restore": 2291.9416012763977, "episode_reward_max": 577.3958287660475, "hostname": "flow-main", "date": "2019-05-19_07-11-34", "timesteps_since_restore": 2397371, "custom_metrics": {"cost1_mean": 97.7392258279344, "cost1_max": 161.81511099213637, "cost2_min": -14.75, "system_level_velocity_max": 13.02898170650359, "system_level_velocity_mean": 8.58059413210677, "cost1_min": 21.049453300745594, "system_level_velocity_min": 2.7189996060509602, "cost2_mean": -2.520791335355754, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 322.99036061044785, "done": false, "episode_reward_min": 57.361905672382896, "episodes_this_iter": 46, "episode_len_mean": 320.95, "time_this_iter_s": 46.53842782974243, "timestamp": 1558249894, "iterations_since_restore": 49, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.004, "default": {"policy_loss": -0.018493248149752617, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5398225784301758, "entropy": 1.4560490846633911, "vf_loss": 13.929835319519043, "cur_lr": 0.0005000000237487257, "kl": 0.014531041495501995, "total_loss": 13.91788101196289}, "grad_time_ms": 12846.392, "num_steps_sampled": 2448142, "update_time_ms": 8.87, "sample_time_ms": 34103.327, "num_steps_trained": 2448142}, "timesteps_total": 2448142, "training_iteration": 50, "timesteps_this_iter": 50771, "time_total_s": 2339.885044813156, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86a0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2355, "time_since_restore": 2339.885044813156, "episode_reward_max": 577.3958287660475, "hostname": "flow-main", "date": "2019-05-19_07-12-22", "timesteps_since_restore": 2448142, "custom_metrics": {"cost1_mean": 97.5995273929833, "cost1_max": 161.81511099213637, "cost2_min": -13.5, "system_level_velocity_max": 13.02898170650359, "system_level_velocity_mean": 8.584230094088442, "cost1_min": 21.049453300745594, "system_level_velocity_min": 2.8460085802524953, "cost2_mean": -2.4754038351839296, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 326.3450587517596, "done": false, "episode_reward_min": 57.361905672382896, "episodes_this_iter": 47, "episode_len_mean": 322.57, "time_this_iter_s": 47.94344353675842, "timestamp": 1558249942, "iterations_since_restore": 50, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.591, "default": {"policy_loss": -0.0215477142482996, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5295581221580505, "entropy": 1.4665528535842896, "vf_loss": 13.206170082092285, "cur_lr": 0.0005000000237487257, "kl": 0.016042746603488922, "total_loss": 13.191842079162598}, "grad_time_ms": 12910.317, "num_steps_sampled": 2498088, "update_time_ms": 9.206, "sample_time_ms": 33942.901, "num_steps_trained": 2498088}, "timesteps_total": 2498088, "training_iteration": 51, "timesteps_this_iter": 49946, "time_total_s": 2386.1502220630646, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06678d0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2401, "time_since_restore": 2386.1502220630646, "episode_reward_max": 544.8796143880603, "hostname": "flow-main", "date": "2019-05-19_07-13-08", "timesteps_since_restore": 2498088, "custom_metrics": {"cost1_mean": 97.22500265980707, "cost1_max": 161.81511099213637, "cost2_min": -17.0, "system_level_velocity_max": 13.02898170650359, "system_level_velocity_mean": 8.577112804424123, "cost1_min": 21.049453300745594, "system_level_velocity_min": 5.7514400970875785, "cost2_mean": -2.9100450446428328, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 318.09153015953643, "done": false, "episode_reward_min": 57.361905672382896, "episodes_this_iter": 46, "episode_len_mean": 322.57, "time_this_iter_s": 46.26517724990845, "timestamp": 1558249988, "iterations_since_restore": 51, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.816, "default": {"policy_loss": -0.020131785422563553, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47240307927131653, "entropy": 1.4572670459747314, "vf_loss": 14.640631675720215, "cur_lr": 0.0005000000237487257, "kl": 0.015040334314107895, "total_loss": 14.627265930175781}, "grad_time_ms": 12920.918, "num_steps_sampled": 2546497, "update_time_ms": 9.575, "sample_time_ms": 33806.97, "num_steps_trained": 2546497}, "timesteps_total": 2546497, "training_iteration": 52, "timesteps_this_iter": 48409, "time_total_s": 2432.067163705826, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667550>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2447, "time_since_restore": 2432.067163705826, "episode_reward_max": 544.8796143880603, "hostname": "flow-main", "date": "2019-05-19_07-13-54", "timesteps_since_restore": 2546497, "custom_metrics": {"cost1_mean": 99.86263798864738, "cost1_max": 136.48566973394918, "cost2_min": -17.0, "system_level_velocity_max": 11.160406966785326, "system_level_velocity_mean": 8.699098352698082, "cost1_min": 77.51529725687251, "system_level_velocity_min": 6.865704007148901, "cost2_mean": -2.77136006171828, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 322.7920080285637, "done": false, "episode_reward_min": 152.34910633158438, "episodes_this_iter": 46, "episode_len_mean": 325.0, "time_this_iter_s": 45.91694164276123, "timestamp": 1558250034, "iterations_since_restore": 52, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.891, "default": {"policy_loss": -0.020174162462353706, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.49755483865737915, "entropy": 1.4655367136001587, "vf_loss": 14.521248817443848, "cur_lr": 0.0005000000237487257, "kl": 0.01545521430671215, "total_loss": 14.508030891418457}, "grad_time_ms": 12935.434, "num_steps_sampled": 2593238, "update_time_ms": 9.853, "sample_time_ms": 33590.246, "num_steps_trained": 2593238}, "timesteps_total": 2593238, "training_iteration": 53, "timesteps_this_iter": 46741, "time_total_s": 2476.672331094742, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a518>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe065a320>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2491, "time_since_restore": 2476.672331094742, "episode_reward_max": 532.0817915290656, "hostname": "flow-main", "date": "2019-05-19_07-14-39", "timesteps_since_restore": 2593238, "custom_metrics": {"cost1_mean": 100.80178752124797, "cost1_max": 144.10177349566374, "cost2_min": -17.0, "system_level_velocity_max": 12.110505512022618, "system_level_velocity_mean": 8.801536290669661, "cost1_min": 32.25606787608278, "system_level_velocity_min": 4.3059312831010965, "cost2_mean": -2.461771824184767, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.33960396183323, "done": false, "episode_reward_min": 72.32983419403091, "episodes_this_iter": 44, "episode_len_mean": 323.94, "time_this_iter_s": 44.605167388916016, "timestamp": 1558250079, "iterations_since_restore": 53, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.962, "default": {"policy_loss": -0.020092112943530083, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.48478057980537415, "entropy": 1.4735019207000732, "vf_loss": 14.15919017791748, "cur_lr": 0.0005000000237487257, "kl": 0.015143195167183876, "total_loss": 14.145912170410156}, "grad_time_ms": 12980.413, "num_steps_sampled": 2639220, "update_time_ms": 10.17, "sample_time_ms": 33291.725, "num_steps_trained": 2639220}, "timesteps_total": 2639220, "training_iteration": 54, "timesteps_this_iter": 45982, "time_total_s": 2521.690372467041, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661780>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2539, "time_since_restore": 2521.690372467041, "episode_reward_max": 612.9498730250116, "hostname": "flow-main", "date": "2019-05-19_07-15-24", "timesteps_since_restore": 2639220, "custom_metrics": {"cost1_mean": 102.84697511367689, "cost1_max": 153.72985590855484, "cost2_min": -11.655846526190578, "system_level_velocity_max": 12.19233175491179, "system_level_velocity_mean": 8.983287735982424, "cost1_min": 32.25606787608278, "system_level_velocity_min": 4.3059312831010965, "cost2_mean": -2.4993840357509445, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.7011503474064, "done": false, "episode_reward_min": 72.32983419403091, "episodes_this_iter": 48, "episode_len_mean": 323.94, "time_this_iter_s": 45.018041372299194, "timestamp": 1558250124, "iterations_since_restore": 54, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.174, "default": {"policy_loss": -0.019794683903455734, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.45464447140693665, "entropy": 1.468859314918518, "vf_loss": 15.161746978759766, "cur_lr": 0.0005000000237487257, "kl": 0.015432280488312244, "total_loss": 15.148898124694824}, "grad_time_ms": 13097.704, "num_steps_sampled": 2688257, "update_time_ms": 10.511, "sample_time_ms": 33140.237, "num_steps_trained": 2688257}, "timesteps_total": 2688257, "training_iteration": 55, "timesteps_this_iter": 49037, "time_total_s": 2568.2086341381073, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a90>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667b00>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2585, "time_since_restore": 2568.2086341381073, "episode_reward_max": 612.9498730250116, "hostname": "flow-main", "date": "2019-05-19_07-16-10", "timesteps_since_restore": 2688257, "custom_metrics": {"cost1_mean": 101.06183940666668, "cost1_max": 153.72985590855484, "cost2_min": -11.655846526190578, "system_level_velocity_max": 12.19233175491179, "system_level_velocity_mean": 8.859204362167368, "cost1_min": 68.81713444565023, "system_level_velocity_min": 6.31298459386587, "cost2_mean": -2.451867522609653, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.9838840533223, "done": false, "episode_reward_min": 184.64912595581958, "episodes_this_iter": 46, "episode_len_mean": 324.81, "time_this_iter_s": 46.518261671066284, "timestamp": 1558250170, "iterations_since_restore": 55, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.478, "default": {"policy_loss": -0.0202938262373209, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.456959068775177, "entropy": 1.4844765663146973, "vf_loss": 15.111600875854492, "cur_lr": 0.0005000000237487257, "kl": 0.01560160517692566, "total_loss": 15.09832763671875}, "grad_time_ms": 13081.942, "num_steps_sampled": 2737146, "update_time_ms": 10.711, "sample_time_ms": 32934.155, "num_steps_trained": 2737146}, "timesteps_total": 2737146, "training_iteration": 56, "timesteps_this_iter": 48889, "time_total_s": 2613.766881942749, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667e10>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667da0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2631, "time_since_restore": 2613.766881942749, "episode_reward_max": 473.9794953560616, "hostname": "flow-main", "date": "2019-05-19_07-16-56", "timesteps_since_restore": 2737146, "custom_metrics": {"cost1_mean": 101.11452792465695, "cost1_max": 152.50298657267473, "cost2_min": -10.666666666666666, "system_level_velocity_max": 12.347434164013515, "system_level_velocity_mean": 8.85400593907355, "cost1_min": 68.81713444565023, "system_level_velocity_min": 6.31298459386587, "cost2_mean": -2.1643649105325444, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 327.64986632024016, "done": false, "episode_reward_min": 175.6955176130216, "episodes_this_iter": 46, "episode_len_mean": 324.81, "time_this_iter_s": 45.558247804641724, "timestamp": 1558250216, "iterations_since_restore": 56, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.671, "default": {"policy_loss": -0.020840128883719444, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5101850628852844, "entropy": 1.47433340549469, "vf_loss": 15.461590766906738, "cur_lr": 0.0005000000237487257, "kl": 0.01576205901801586, "total_loss": 15.447844505310059}, "grad_time_ms": 13004.988, "num_steps_sampled": 2784338, "update_time_ms": 10.822, "sample_time_ms": 32912.445, "num_steps_trained": 2784338}, "timesteps_total": 2784338, "training_iteration": 57, "timesteps_this_iter": 47192, "time_total_s": 2659.043328523636, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c978>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f85f8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2678, "time_since_restore": 2659.043328523636, "episode_reward_max": 548.862447514866, "hostname": "flow-main", "date": "2019-05-19_07-17-41", "timesteps_since_restore": 2784338, "custom_metrics": {"cost1_mean": 100.2322162848946, "cost1_max": 152.50298657267473, "cost2_min": -19.5, "system_level_velocity_max": 12.347434164013515, "system_level_velocity_mean": 8.795097227437644, "cost1_min": 60.6459797677691, "system_level_velocity_min": 5.457511807897276, "cost2_mean": -2.440747470441907, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.4187836168551, "done": false, "episode_reward_min": 84.83960809591731, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.27644658088684, "timestamp": 1558250261, "iterations_since_restore": 57, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.543, "default": {"policy_loss": -0.021511701866984367, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5575000047683716, "entropy": 1.48941171169281, "vf_loss": 12.925594329833984, "cur_lr": 0.0005000000237487257, "kl": 0.015441476367413998, "total_loss": 12.911030769348145}, "grad_time_ms": 12983.552, "num_steps_sampled": 2832930, "update_time_ms": 10.842, "sample_time_ms": 32906.092, "num_steps_trained": 2832930}, "timesteps_total": 2832930, "training_iteration": 58, "timesteps_this_iter": 48592, "time_total_s": 2705.602690219879, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb00>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2725, "time_since_restore": 2705.602690219879, "episode_reward_max": 583.2452725632271, "hostname": "flow-main", "date": "2019-05-19_07-18-28", "timesteps_since_restore": 2832930, "custom_metrics": {"cost1_mean": 98.7257785584695, "cost1_max": 146.56244206679384, "cost2_min": -19.5, "system_level_velocity_max": 11.958564210006081, "system_level_velocity_mean": 8.700927148135484, "cost1_min": 41.59848047449846, "system_level_velocity_min": 3.5842596473359327, "cost2_mean": -2.4834868271487336, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.57589164231393, "done": false, "episode_reward_min": 84.83960809591731, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 46.559361696243286, "timestamp": 1558250308, "iterations_since_restore": 58, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.583, "default": {"policy_loss": -0.021672122180461884, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4767431318759918, "entropy": 1.498478889465332, "vf_loss": 14.18081283569336, "cur_lr": 0.0005000000237487257, "kl": 0.01629694551229477, "total_loss": 14.166474342346191}, "grad_time_ms": 12906.743, "num_steps_sampled": 2879345, "update_time_ms": 10.895, "sample_time_ms": 32841.508, "num_steps_trained": 2879345}, "timesteps_total": 2879345, "training_iteration": 59, "timesteps_this_iter": 46415, "time_total_s": 2750.731585741043, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ba8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2770, "time_since_restore": 2750.731585741043, "episode_reward_max": 583.2452725632271, "hostname": "flow-main", "date": "2019-05-19_07-19-13", "timesteps_since_restore": 2879345, "custom_metrics": {"cost1_mean": 99.9039397871617, "cost1_max": 146.56244206679384, "cost2_min": -11.080222200306087, "system_level_velocity_max": 11.958564210006081, "system_level_velocity_mean": 8.820447410373406, "cost1_min": 41.59848047449846, "system_level_velocity_min": 3.5842596473359327, "cost2_mean": -2.3064902143704074, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 306.93247937540195, "done": false, "episode_reward_min": 84.83960809591731, "episodes_this_iter": 45, "episode_len_mean": 325.0, "time_this_iter_s": 45.12889552116394, "timestamp": 1558250353, "iterations_since_restore": 59, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.473, "default": {"policy_loss": -0.01964021660387516, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.540447473526001, "entropy": 1.4992817640304565, "vf_loss": 16.088945388793945, "cur_lr": 0.0005000000237487257, "kl": 0.015316054224967957, "total_loss": 16.076196670532227}, "grad_time_ms": 12753.698, "num_steps_sampled": 2927343, "update_time_ms": 10.951, "sample_time_ms": 32754.715, "num_steps_trained": 2927343}, "timesteps_total": 2927343, "training_iteration": 60, "timesteps_this_iter": 47998, "time_total_s": 2796.279000520706, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06674a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2816, "time_since_restore": 2796.279000520706, "episode_reward_max": 533.9059045493754, "hostname": "flow-main", "date": "2019-05-19_07-19-59", "timesteps_since_restore": 2927343, "custom_metrics": {"cost1_mean": 101.00545213122292, "cost1_max": 158.7459732902656, "cost2_min": -15.0, "system_level_velocity_max": 12.984981042835168, "system_level_velocity_mean": 8.888029535148636, "cost1_min": 38.14496218006261, "system_level_velocity_min": 3.288765780570749, "cost2_mean": -2.1705933153249193, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.7193077416721, "done": false, "episode_reward_min": 150.97976415486846, "episodes_this_iter": 46, "episode_len_mean": 325.0, "time_this_iter_s": 45.547414779663086, "timestamp": 1558250399, "iterations_since_restore": 60, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.448, "default": {"policy_loss": -0.019661493599414825, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.48782965540885925, "entropy": 1.495424747467041, "vf_loss": 15.508380889892578, "cur_lr": 0.0005000000237487257, "kl": 0.014857618138194084, "total_loss": 15.495405197143555}, "grad_time_ms": 12730.528, "num_steps_sampled": 2976022, "update_time_ms": 10.957, "sample_time_ms": 32891.913, "num_steps_trained": 2976022}, "timesteps_total": 2976022, "training_iteration": 61, "timesteps_this_iter": 48679, "time_total_s": 2843.7016472816467, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661eb8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2864, "time_since_restore": 2843.7016472816467, "episode_reward_max": 533.9059045493754, "hostname": "flow-main", "date": "2019-05-19_07-20-46", "timesteps_since_restore": 2976022, "custom_metrics": {"cost1_mean": 98.91447290154407, "cost1_max": 158.7459732902656, "cost2_min": -25.25, "system_level_velocity_max": 12.984981042835168, "system_level_velocity_mean": 8.725375617132801, "cost1_min": 38.14496218006261, "system_level_velocity_min": 3.288765780570749, "cost2_mean": -2.184053444456913, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.60529516023047, "done": false, "episode_reward_min": 150.97976415486846, "episodes_this_iter": 48, "episode_len_mean": 325.0, "time_this_iter_s": 47.42264676094055, "timestamp": 1558250446, "iterations_since_restore": 61, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.416, "default": {"policy_loss": -0.020751431584358215, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.48818376660346985, "entropy": 1.491058111190796, "vf_loss": 14.764924049377441, "cur_lr": 0.0005000000237487257, "kl": 0.016420219093561172, "total_loss": 14.75156021118164}, "grad_time_ms": 12717.459, "num_steps_sampled": 3023036, "update_time_ms": 10.736, "sample_time_ms": 32885.375, "num_steps_trained": 3023036}, "timesteps_total": 3023036, "training_iteration": 62, "timesteps_this_iter": 47014, "time_total_s": 2889.4247477054596, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066ceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cb38>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2908, "time_since_restore": 2889.4247477054596, "episode_reward_max": 535.696470931434, "hostname": "flow-main", "date": "2019-05-19_07-21-32", "timesteps_since_restore": 3023036, "custom_metrics": {"cost1_mean": 98.8028025923163, "cost1_max": 137.11359305960355, "cost2_min": -25.25, "system_level_velocity_max": 11.452628278725692, "system_level_velocity_mean": 8.724637665468117, "cost1_min": 58.701052636314806, "system_level_velocity_min": 5.50418502257474, "cost2_mean": -2.529971027479754, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.66655523243776, "done": false, "episode_reward_min": 106.48052760804988, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 45.723100423812866, "timestamp": 1558250492, "iterations_since_restore": 62, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.019, "default": {"policy_loss": -0.021647674962878227, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5057331323623657, "entropy": 1.500812292098999, "vf_loss": 15.079505920410156, "cur_lr": 0.0005000000237487257, "kl": 0.015713021159172058, "total_loss": 15.06492805480957}, "grad_time_ms": 12716.232, "num_steps_sampled": 3070065, "update_time_ms": 10.612, "sample_time_ms": 32876.557, "num_steps_trained": 3070065}, "timesteps_total": 3070065, "training_iteration": 63, "timesteps_this_iter": 47029, "time_total_s": 2933.934679746628, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06678d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676a0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 2955, "time_since_restore": 2933.934679746628, "episode_reward_max": 535.696470931434, "hostname": "flow-main", "date": "2019-05-19_07-22-17", "timesteps_since_restore": 3070065, "custom_metrics": {"cost1_mean": 100.13977526166154, "cost1_max": 143.43431924621464, "cost2_min": -16.0, "system_level_velocity_max": 11.804523716345068, "system_level_velocity_mean": 8.829992941504099, "cost1_min": 69.63872078153985, "system_level_velocity_min": 5.939587820220034, "cost2_mean": -2.5233875410158295, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 306.34252693075257, "done": false, "episode_reward_min": 96.36570342395792, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 44.50993204116821, "timestamp": 1558250537, "iterations_since_restore": 63, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.674, "default": {"policy_loss": -0.021295730024576187, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5214303731918335, "entropy": 1.5020922422409058, "vf_loss": 14.479390144348145, "cur_lr": 0.0005000000237487257, "kl": 0.015664132311940193, "total_loss": 14.465144157409668}, "grad_time_ms": 12665.933, "num_steps_sampled": 3115461, "update_time_ms": 10.607, "sample_time_ms": 32965.929, "num_steps_trained": 3115461}, "timesteps_total": 3115461, "training_iteration": 64, "timesteps_this_iter": 45396, "time_total_s": 2979.319880962372, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064efd0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667630>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3002, "time_since_restore": 2979.319880962372, "episode_reward_max": 534.1682681843313, "hostname": "flow-main", "date": "2019-05-19_07-23-02", "timesteps_since_restore": 3115461, "custom_metrics": {"cost1_mean": 102.44551205235024, "cost1_max": 145.0529358942469, "cost2_min": -30.0, "system_level_velocity_max": 11.804523716345068, "system_level_velocity_mean": 9.003313967844171, "cost1_min": 57.44294015794124, "system_level_velocity_min": 5.396468585400703, "cost2_mean": -2.5204865444365057, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.246695981983, "done": false, "episode_reward_min": 96.36570342395792, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.38520121574402, "timestamp": 1558250582, "iterations_since_restore": 64, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.702, "default": {"policy_loss": -0.021325739100575447, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5175394415855408, "entropy": 1.5105628967285156, "vf_loss": 14.362528800964355, "cur_lr": 0.0005000000237487257, "kl": 0.01615261845290661, "total_loss": 14.348472595214844}, "grad_time_ms": 12678.032, "num_steps_sampled": 3164731, "update_time_ms": 10.508, "sample_time_ms": 32921.451, "num_steps_trained": 3164731}, "timesteps_total": 3164731, "training_iteration": 65, "timesteps_this_iter": 49270, "time_total_s": 3025.5088877677917, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eb38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e8d0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3047, "time_since_restore": 3025.5088877677917, "episode_reward_max": 534.1682681843313, "hostname": "flow-main", "date": "2019-05-19_07-23-48", "timesteps_since_restore": 3164731, "custom_metrics": {"cost1_mean": 101.63892740346473, "cost1_max": 145.0529358942469, "cost2_min": -30.0, "system_level_velocity_max": 11.682969106929121, "system_level_velocity_mean": 8.94625823509487, "cost1_min": 57.44294015794124, "system_level_velocity_min": 5.396468585400703, "cost2_mean": -2.696813319888898, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 315.4452694129004, "done": false, "episode_reward_min": 109.30538072981828, "episodes_this_iter": 45, "episode_len_mean": 325.0, "time_this_iter_s": 46.18900680541992, "timestamp": 1558250628, "iterations_since_restore": 65, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.431, "default": {"policy_loss": -0.022431131452322006, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5106781721115112, "entropy": 1.512676477432251, "vf_loss": 16.138757705688477, "cur_lr": 0.0005000000237487257, "kl": 0.016269925981760025, "total_loss": 16.123647689819336}, "grad_time_ms": 12720.068, "num_steps_sampled": 3213860, "update_time_ms": 10.518, "sample_time_ms": 32861.886, "num_steps_trained": 3213860}, "timesteps_total": 3213860, "training_iteration": 66, "timesteps_this_iter": 49129, "time_total_s": 3070.885953426361, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04084a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667ac8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3091, "time_since_restore": 3070.885953426361, "episode_reward_max": 488.91488023635463, "hostname": "flow-main", "date": "2019-05-19_07-24-34", "timesteps_since_restore": 3213860, "custom_metrics": {"cost1_mean": 99.60322749023017, "cost1_max": 145.0529358942469, "cost2_min": -30.0, "system_level_velocity_max": 11.668486466520749, "system_level_velocity_mean": 8.771832435970094, "cost1_min": 57.44294015794124, "system_level_velocity_min": 5.396468585400703, "cost2_mean": -2.9706124022590212, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.81873255405253, "done": false, "episode_reward_min": 109.30538072981828, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 45.377065658569336, "timestamp": 1558250674, "iterations_since_restore": 66, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.249, "default": {"policy_loss": -0.02265184372663498, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5507656335830688, "entropy": 1.5275017023086548, "vf_loss": 15.306934356689453, "cur_lr": 0.0005000000237487257, "kl": 0.016617465764284134, "total_loss": 15.291759490966797}, "grad_time_ms": 12819.165, "num_steps_sampled": 3261463, "update_time_ms": 10.39, "sample_time_ms": 32763.095, "num_steps_trained": 3261463}, "timesteps_total": 3261463, "training_iteration": 67, "timesteps_this_iter": 47603, "time_total_s": 3116.1714267730713, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06677b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06676a0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3139, "time_since_restore": 3116.1714267730713, "episode_reward_max": 522.9242110589563, "hostname": "flow-main", "date": "2019-05-19_07-25-19", "timesteps_since_restore": 3261463, "custom_metrics": {"cost1_mean": 101.61569510880963, "cost1_max": 149.65549644622018, "cost2_min": -26.75, "system_level_velocity_max": 12.238182453283093, "system_level_velocity_mean": 8.897468093410886, "cost1_min": 58.71092906945787, "system_level_velocity_min": 5.492336548523248, "cost2_mean": -2.594054829720171, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 328.50267038300774, "done": false, "episode_reward_min": 125.87151863408924, "episodes_this_iter": 48, "episode_len_mean": 325.0, "time_this_iter_s": 45.285473346710205, "timestamp": 1558250719, "iterations_since_restore": 67, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.258, "default": {"policy_loss": -0.023158235475420952, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5479788780212402, "entropy": 1.5281684398651123, "vf_loss": 14.123991966247559, "cur_lr": 0.0005000000237487257, "kl": 0.016263606026768684, "total_loss": 14.10815143585205}, "grad_time_ms": 12793.913, "num_steps_sampled": 3308712, "update_time_ms": 10.441, "sample_time_ms": 32655.647, "num_steps_trained": 3308712}, "timesteps_total": 3308712, "training_iteration": 68, "timesteps_this_iter": 47249, "time_total_s": 3161.407284259796, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064eef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667518>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667668>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3185, "time_since_restore": 3161.407284259796, "episode_reward_max": 522.9242110589563, "hostname": "flow-main", "date": "2019-05-19_07-26-04", "timesteps_since_restore": 3308712, "custom_metrics": {"cost1_mean": 102.10593590733582, "cost1_max": 149.65549644622018, "cost2_min": -16.25, "system_level_velocity_max": 12.238182453283093, "system_level_velocity_mean": 8.999752038831453, "cost1_min": 25.2614958287576, "system_level_velocity_min": 6.981634416523994, "cost2_mean": -2.347068014727335, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 323.19156138569616, "done": false, "episode_reward_min": 87.80261359536725, "episodes_this_iter": 46, "episode_len_mean": 322.82, "time_this_iter_s": 45.23585748672485, "timestamp": 1558250764, "iterations_since_restore": 68, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.286, "default": {"policy_loss": -0.02060873806476593, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5442901253700256, "entropy": 1.532139778137207, "vf_loss": 16.150104522705078, "cur_lr": 0.0005000000237487257, "kl": 0.015917208045721054, "total_loss": 16.13665771484375}, "grad_time_ms": 12855.417, "num_steps_sampled": 3357511, "update_time_ms": 10.407, "sample_time_ms": 32719.571, "num_steps_trained": 3357511}, "timesteps_total": 3357511, "training_iteration": 69, "timesteps_this_iter": 48799, "time_total_s": 3207.8025031089783, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667208>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3232, "time_since_restore": 3207.8025031089783, "episode_reward_max": 518.9954571777654, "hostname": "flow-main", "date": "2019-05-19_07-26-51", "timesteps_since_restore": 3357511, "custom_metrics": {"cost1_mean": 100.2749946234348, "cost1_max": 137.05159378168696, "cost2_min": -16.25, "system_level_velocity_max": 11.520769848839352, "system_level_velocity_mean": 8.887045078146215, "cost1_min": 25.2614958287576, "system_level_velocity_min": 6.592946071938165, "cost2_mean": -2.836205847679681, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.5650558894869, "done": false, "episode_reward_min": 87.80261359536725, "episodes_this_iter": 47, "episode_len_mean": 322.82, "time_this_iter_s": 46.39521884918213, "timestamp": 1558250811, "iterations_since_restore": 69, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.157, "default": {"policy_loss": -0.022159036248922348, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5483044981956482, "entropy": 1.529958963394165, "vf_loss": 15.544830322265625, "cur_lr": 0.0005000000237487257, "kl": 0.01655007153749466, "total_loss": 15.530118942260742}, "grad_time_ms": 12864.107, "num_steps_sampled": 3405459, "update_time_ms": 10.449, "sample_time_ms": 32767.364, "num_steps_trained": 3405459}, "timesteps_total": 3405459, "training_iteration": 70, "timesteps_this_iter": 47948, "time_total_s": 3253.897871732712, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04082b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408908>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3279, "time_since_restore": 3253.897871732712, "episode_reward_max": 518.9954571777654, "hostname": "flow-main", "date": "2019-05-19_07-27-37", "timesteps_since_restore": 3405459, "custom_metrics": {"cost1_mean": 98.15575952916535, "cost1_max": 142.51345159795574, "cost2_min": -16.25, "system_level_velocity_max": 11.77096798823596, "system_level_velocity_mean": 8.739509141415688, "cost1_min": 25.2614958287576, "system_level_velocity_min": 5.966505702874552, "cost2_mean": -3.2228043975923217, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.9268238427285, "done": false, "episode_reward_min": 87.80261359536725, "episodes_this_iter": 47, "episode_len_mean": 322.82, "time_this_iter_s": 46.09536862373352, "timestamp": 1558250857, "iterations_since_restore": 70, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.289, "default": {"policy_loss": -0.023679062724113464, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5207703113555908, "entropy": 1.5291863679885864, "vf_loss": 15.730823516845703, "cur_lr": 0.0005000000237487257, "kl": 0.016848787665367126, "total_loss": 15.714725494384766}, "grad_time_ms": 12724.322, "num_steps_sampled": 3449963, "update_time_ms": 10.417, "sample_time_ms": 32710.477, "num_steps_trained": 3449963}, "timesteps_total": 3449963, "training_iteration": 71, "timesteps_this_iter": 44504, "time_total_s": 3299.335994243622, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408860>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3325, "time_since_restore": 3299.335994243622, "episode_reward_max": 573.5833244450034, "hostname": "flow-main", "date": "2019-05-19_07-28-22", "timesteps_since_restore": 3449963, "custom_metrics": {"cost1_mean": 98.43200411208385, "cost1_max": 143.42260493753787, "cost2_min": -13.990018712567089, "system_level_velocity_max": 11.77096798823596, "system_level_velocity_mean": 8.754758680333307, "cost1_min": 62.40514760621045, "system_level_velocity_min": 5.966505702874552, "cost2_mean": -2.8396544123927594, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 301.6917700431786, "done": false, "episode_reward_min": 116.89916381498557, "episodes_this_iter": 46, "episode_len_mean": 325.0, "time_this_iter_s": 45.438122510910034, "timestamp": 1558250902, "iterations_since_restore": 71, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.33, "default": {"policy_loss": -0.021099282428622246, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.48192456364631653, "entropy": 1.537931203842163, "vf_loss": 14.861793518066406, "cur_lr": 0.0005000000237487257, "kl": 0.01588127762079239, "total_loss": 14.847840309143066}, "grad_time_ms": 12724.737, "num_steps_sampled": 3498505, "update_time_ms": 10.366, "sample_time_ms": 32721.334, "num_steps_trained": 3498505}, "timesteps_total": 3498505, "training_iteration": 72, "timesteps_this_iter": 48542, "time_total_s": 3345.166745185852, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667400>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667828>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3370, "time_since_restore": 3345.166745185852, "episode_reward_max": 573.5833244450034, "hostname": "flow-main", "date": "2019-05-19_07-29-08", "timesteps_since_restore": 3498505, "custom_metrics": {"cost1_mean": 98.36001418224208, "cost1_max": 143.42260493753787, "cost2_min": -13.5, "system_level_velocity_max": 11.727659505002736, "system_level_velocity_mean": 8.75464673986124, "cost1_min": 75.18970167572202, "system_level_velocity_min": 6.865757097335829, "cost2_mean": -2.3564384221099566, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 305.27996270709485, "done": false, "episode_reward_min": 96.59234868899826, "episodes_this_iter": 45, "episode_len_mean": 325.0, "time_this_iter_s": 45.830750942230225, "timestamp": 1558250948, "iterations_since_restore": 72, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.017, "default": {"policy_loss": -0.02135920338332653, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5310508012771606, "entropy": 1.5363095998764038, "vf_loss": 16.33786964416504, "cur_lr": 0.0005000000237487257, "kl": 0.01587839424610138, "total_loss": 16.32365608215332}, "grad_time_ms": 12756.724, "num_steps_sampled": 3547206, "update_time_ms": 10.344, "sample_time_ms": 32763.382, "num_steps_trained": 3547206}, "timesteps_total": 3547206, "training_iteration": 73, "timesteps_this_iter": 48701, "time_total_s": 3390.414139986038, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661e10>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0661f98>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3417, "time_since_restore": 3390.414139986038, "episode_reward_max": 576.0965746052746, "hostname": "flow-main", "date": "2019-05-19_07-29-54", "timesteps_since_restore": 3547206, "custom_metrics": {"cost1_mean": 99.06135842297864, "cost1_max": 144.02414365131838, "cost2_min": -23.869232839808884, "system_level_velocity_max": 12.141993174917245, "system_level_velocity_mean": 8.777645728499232, "cost1_min": 67.4775930551622, "system_level_velocity_min": 5.948275351248233, "cost2_mean": -2.306651276616604, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.7841234483855, "done": false, "episode_reward_min": 96.59234868899826, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 45.24739480018616, "timestamp": 1558250994, "iterations_since_restore": 73, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.573, "default": {"policy_loss": -0.021226603537797928, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.528373122215271, "entropy": 1.544702172279358, "vf_loss": 15.25796890258789, "cur_lr": 0.0005000000237487257, "kl": 0.015535018406808376, "total_loss": 15.243732452392578}, "grad_time_ms": 12830.117, "num_steps_sampled": 3596252, "update_time_ms": 10.245, "sample_time_ms": 32809.248, "num_steps_trained": 3596252}, "timesteps_total": 3596252, "training_iteration": 74, "timesteps_this_iter": 49046, "time_total_s": 3436.9995481967926, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2240>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3465, "time_since_restore": 3436.9995481967926, "episode_reward_max": 576.0965746052746, "hostname": "flow-main", "date": "2019-05-19_07-30-40", "timesteps_since_restore": 3596252, "custom_metrics": {"cost1_mean": 100.95057725542375, "cost1_max": 144.02414365131838, "cost2_min": -23.869232839808884, "system_level_velocity_max": 12.141993174917245, "system_level_velocity_mean": 8.896935788754076, "cost1_min": 67.4775930551622, "system_level_velocity_min": 5.948275351248233, "cost2_mean": -2.3861882987791123, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 320.7796340863439, "done": false, "episode_reward_min": 112.5276281092319, "episodes_this_iter": 48, "episode_len_mean": 325.0, "time_this_iter_s": 46.585408210754395, "timestamp": 1558251040, "iterations_since_restore": 74, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.622, "default": {"policy_loss": -0.021759355440735817, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5465925931930542, "entropy": 1.5430498123168945, "vf_loss": 15.602262496948242, "cur_lr": 0.0005000000237487257, "kl": 0.017565937712788582, "total_loss": 15.588406562805176}, "grad_time_ms": 12855.951, "num_steps_sampled": 3646696, "update_time_ms": 10.188, "sample_time_ms": 32828.328, "num_steps_trained": 3646696}, "timesteps_total": 3646696, "training_iteration": 75, "timesteps_this_iter": 50444, "time_total_s": 3483.6324598789215, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8c50>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8978>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3509, "time_since_restore": 3483.6324598789215, "episode_reward_max": 484.18199267825923, "hostname": "flow-main", "date": "2019-05-19_07-31-27", "timesteps_since_restore": 3646696, "custom_metrics": {"cost1_mean": 100.63554127606061, "cost1_max": 158.4766932152427, "cost2_min": -17.999999999999996, "system_level_velocity_max": 12.960607773173082, "system_level_velocity_mean": 8.853138832576157, "cost1_min": 52.84230710178157, "system_level_velocity_min": 4.700499027821311, "cost2_mean": -2.773693626722823, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 329.71258901970896, "done": false, "episode_reward_min": 112.5276281092319, "episodes_this_iter": 44, "episode_len_mean": 324.28, "time_this_iter_s": 46.632911682128906, "timestamp": 1558251087, "iterations_since_restore": 75, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.284, "default": {"policy_loss": -0.02249494008719921, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5701858401298523, "entropy": 1.5569489002227783, "vf_loss": 15.497574806213379, "cur_lr": 0.0005000000237487257, "kl": 0.017081644386053085, "total_loss": 15.482765197753906}, "grad_time_ms": 12744.849, "num_steps_sampled": 3692591, "update_time_ms": 9.789, "sample_time_ms": 32940.519, "num_steps_trained": 3692591}, "timesteps_total": 3692591, "training_iteration": 76, "timesteps_this_iter": 45895, "time_total_s": 3529.0330834388733, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f24e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f98>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2f60>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3556, "time_since_restore": 3529.0330834388733, "episode_reward_max": 542.5324322022996, "hostname": "flow-main", "date": "2019-05-19_07-32-12", "timesteps_since_restore": 3692591, "custom_metrics": {"cost1_mean": 101.08368221617276, "cost1_max": 158.4766932152427, "cost2_min": -17.999999999999996, "system_level_velocity_max": 12.960607773173082, "system_level_velocity_mean": 8.920501166617825, "cost1_min": 52.84230710178157, "system_level_velocity_min": 4.700499027821311, "cost2_mean": -2.803439856899181, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 327.3004705045839, "done": false, "episode_reward_min": 112.5276281092319, "episodes_this_iter": 47, "episode_len_mean": 324.28, "time_this_iter_s": 45.40062355995178, "timestamp": 1558251132, "iterations_since_restore": 76, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.25, "default": {"policy_loss": -0.022995688021183014, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5685229897499084, "entropy": 1.5675956010818481, "vf_loss": 14.703157424926758, "cur_lr": 0.0005000000237487257, "kl": 0.01675034873187542, "total_loss": 14.687700271606445}, "grad_time_ms": 12879.854, "num_steps_sampled": 3742676, "update_time_ms": 9.791, "sample_time_ms": 33063.241, "num_steps_trained": 3742676}, "timesteps_total": 3742676, "training_iteration": 77, "timesteps_this_iter": 50085, "time_total_s": 3576.8884768486023, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe06673c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667978>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3603, "time_since_restore": 3576.8884768486023, "episode_reward_max": 542.5324322022996, "hostname": "flow-main", "date": "2019-05-19_07-33-00", "timesteps_since_restore": 3742676, "custom_metrics": {"cost1_mean": 99.20731343174334, "cost1_max": 148.83951732726774, "cost2_min": -87.0, "system_level_velocity_max": 12.61933968943883, "system_level_velocity_mean": 8.78401656702498, "cost1_min": 39.79108851944956, "system_level_velocity_min": 3.777512417200112, "cost2_mean": -3.5959138405195334, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 317.30674291643487, "done": false, "episode_reward_min": 71.18808997998643, "episodes_this_iter": 47, "episode_len_mean": 325.0, "time_this_iter_s": 47.855393409729004, "timestamp": 1558251180, "iterations_since_restore": 77, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 17.072, "default": {"policy_loss": -0.022183075547218323, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.608877956867218, "entropy": 1.5499404668807983, "vf_loss": 14.536287307739258, "cur_lr": 0.0005000000237487257, "kl": 0.016680054366588593, "total_loss": 14.521610260009766}, "grad_time_ms": 12974.057, "num_steps_sampled": 3793452, "update_time_ms": 9.499, "sample_time_ms": 33059.433, "num_steps_trained": 3793452}, "timesteps_total": 3793452, "training_iteration": 78, "timesteps_this_iter": 50776, "time_total_s": 3623.0207874774933, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ef0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3647, "time_since_restore": 3623.0207874774933, "episode_reward_max": 565.404511128882, "hostname": "flow-main", "date": "2019-05-19_07-33-46", "timesteps_since_restore": 3793452, "custom_metrics": {"cost1_mean": 98.24938107450537, "cost1_max": 148.83951732726774, "cost2_min": -87.0, "system_level_velocity_max": 12.61933968943883, "system_level_velocity_mean": 8.69317489845008, "cost1_min": 39.79108851944956, "system_level_velocity_min": 3.777512417200112, "cost2_mean": -3.868435108974948, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 321.3567245800852, "done": false, "episode_reward_min": 71.18808997998643, "episodes_this_iter": 44, "episode_len_mean": 324.11, "time_this_iter_s": 46.13231062889099, "timestamp": 1558251226, "iterations_since_restore": 78, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.786, "default": {"policy_loss": -0.021930553019046783, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5832750797271729, "entropy": 1.537940263748169, "vf_loss": 15.235595703125, "cur_lr": 0.0005000000237487257, "kl": 0.016350939869880676, "total_loss": 15.221024513244629}, "grad_time_ms": 12902.249, "num_steps_sampled": 3839117, "update_time_ms": 9.225, "sample_time_ms": 33017.802, "num_steps_trained": 3839117}, "timesteps_total": 3839117, "training_iteration": 79, "timesteps_this_iter": 45665, "time_total_s": 3668.2566821575165, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f86a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408630>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3692, "time_since_restore": 3668.2566821575165, "episode_reward_max": 621.6993524331652, "hostname": "flow-main", "date": "2019-05-19_07-34-32", "timesteps_since_restore": 3839117, "custom_metrics": {"cost1_mean": 99.39631878187232, "cost1_max": 155.42483810829157, "cost2_min": -44.75, "system_level_velocity_max": 12.359567985433614, "system_level_velocity_mean": 8.767281655907508, "cost1_min": 43.65073800558835, "system_level_velocity_min": 4.881575750360893, "cost2_mean": -3.4019158254241266, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 323.4409857329911, "done": false, "episode_reward_min": 103.84015411849785, "episodes_this_iter": 45, "episode_len_mean": 324.11, "time_this_iter_s": 45.23589468002319, "timestamp": 1558251272, "iterations_since_restore": 79, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 17.039, "default": {"policy_loss": -0.022830460220575333, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5558125972747803, "entropy": 1.5680632591247559, "vf_loss": 15.943994522094727, "cur_lr": 0.0005000000237487257, "kl": 0.016995465382933617, "total_loss": 15.928812026977539}, "grad_time_ms": 12943.203, "num_steps_sampled": 3888477, "update_time_ms": 9.009, "sample_time_ms": 33027.814, "num_steps_trained": 3888477}, "timesteps_total": 3888477, "training_iteration": 80, "timesteps_this_iter": 49360, "time_total_s": 3714.8463575839996, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f20b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3742, "time_since_restore": 3714.8463575839996, "episode_reward_max": 621.6993524331652, "hostname": "flow-main", "date": "2019-05-19_07-35-18", "timesteps_since_restore": 3888477, "custom_metrics": {"cost1_mean": 98.05303965523693, "cost1_max": 155.42483810829157, "cost2_min": -44.75, "system_level_velocity_max": 12.359567985433614, "system_level_velocity_mean": 8.663373827736812, "cost1_min": 41.992531939220484, "system_level_velocity_min": 3.918169367641475, "cost2_mean": -3.954150772918002, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.3098436557231, "done": false, "episode_reward_min": 103.84015411849785, "episodes_this_iter": 50, "episode_len_mean": 325.0, "time_this_iter_s": 46.589675426483154, "timestamp": 1558251318, "iterations_since_restore": 80, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.66, "default": {"policy_loss": -0.02124970220029354, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5855146646499634, "entropy": 1.566339373588562, "vf_loss": 13.030167579650879, "cur_lr": 0.0005000000237487257, "kl": 0.016404232010245323, "total_loss": 13.016300201416016}, "grad_time_ms": 13108.435, "num_steps_sampled": 3938280, "update_time_ms": 8.666, "sample_time_ms": 32934.946, "num_steps_trained": 3938280}, "timesteps_total": 3938280, "training_iteration": 81, "timesteps_this_iter": 49803, "time_total_s": 3760.9930078983307, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c898>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3786, "time_since_restore": 3760.9930078983307, "episode_reward_max": 554.2795028501399, "hostname": "flow-main", "date": "2019-05-19_07-36-05", "timesteps_since_restore": 3938280, "custom_metrics": {"cost1_mean": 95.45703105127681, "cost1_max": 138.56987571253504, "cost2_min": -27.25, "system_level_velocity_max": 11.418300221477839, "system_level_velocity_mean": 8.50748902074984, "cost1_min": 25.878176188586824, "system_level_velocity_min": 3.918169367641475, "cost2_mean": -4.0539083757003915, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.1702426563609, "done": false, "episode_reward_min": 98.86123290982746, "episodes_this_iter": 44, "episode_len_mean": 322.66, "time_this_iter_s": 46.146650314331055, "timestamp": 1558251365, "iterations_since_restore": 81, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.44, "default": {"policy_loss": -0.022950343787670135, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.44994306564331055, "entropy": 1.566368579864502, "vf_loss": 15.844408988952637, "cur_lr": 0.0005000000237487257, "kl": 0.017600281164050102, "total_loss": 15.829379081726074}, "grad_time_ms": 13094.707, "num_steps_sampled": 3985638, "update_time_ms": 8.545, "sample_time_ms": 32882.825, "num_steps_trained": 3985638}, "timesteps_total": 3985638, "training_iteration": 82, "timesteps_this_iter": 47358, "time_total_s": 3806.1518075466156, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f84a8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3832, "time_since_restore": 3806.1518075466156, "episode_reward_max": 466.0046820553098, "hostname": "flow-main", "date": "2019-05-19_07-36-50", "timesteps_since_restore": 3985638, "custom_metrics": {"cost1_mean": 96.55864363155311, "cost1_max": 145.34147777150787, "cost2_min": -19.666666666666664, "system_level_velocity_max": 12.01195224654602, "system_level_velocity_mean": 8.586978699282085, "cost1_min": 25.878176188586824, "system_level_velocity_min": 4.896868421278, "cost2_mean": -3.015580839393244, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 312.74855296037816, "done": false, "episode_reward_min": 86.14814231757896, "episodes_this_iter": 46, "episode_len_mean": 322.66, "time_this_iter_s": 45.15879964828491, "timestamp": 1558251410, "iterations_since_restore": 82, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.076, "default": {"policy_loss": -0.02264932170510292, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.47365623712539673, "entropy": 1.5854471921920776, "vf_loss": 15.86213207244873, "cur_lr": 0.0005000000237487257, "kl": 0.01742524839937687, "total_loss": 15.847323417663574}, "grad_time_ms": 13076.497, "num_steps_sampled": 4033000, "update_time_ms": 8.36, "sample_time_ms": 32922.269, "num_steps_trained": 4033000}, "timesteps_total": 4033000, "training_iteration": 83, "timesteps_this_iter": 47362, "time_total_s": 3851.596282720566, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408e48>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3882, "time_since_restore": 3851.596282720566, "episode_reward_max": 654.194089302237, "hostname": "flow-main", "date": "2019-05-19_07-37-35", "timesteps_since_restore": 4033000, "custom_metrics": {"cost1_mean": 98.98557543967353, "cost1_max": 163.5485223255588, "cost2_min": -19.0, "system_level_velocity_max": 13.005867980061392, "system_level_velocity_mean": 8.712540380194069, "cost1_min": 53.6337942714696, "system_level_velocity_min": 4.896868421278, "cost2_mean": -2.004459220037447, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 311.04289529987415, "done": false, "episode_reward_min": 86.14814231757896, "episodes_this_iter": 50, "episode_len_mean": 325.0, "time_this_iter_s": 45.444475173950195, "timestamp": 1558251455, "iterations_since_restore": 83, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.028, "default": {"policy_loss": -0.02168361470103264, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.484365850687027, "entropy": 1.5688031911849976, "vf_loss": 14.575311660766602, "cur_lr": 0.0005000000237487257, "kl": 0.01586035266518593, "total_loss": 14.560766220092773}, "grad_time_ms": 13064.014, "num_steps_sampled": 4081282, "update_time_ms": 8.354, "sample_time_ms": 32903.922, "num_steps_trained": 4081282}, "timesteps_total": 4081282, "training_iteration": 84, "timesteps_this_iter": 48282, "time_total_s": 3897.8888199329376, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3926, "time_since_restore": 3897.8888199329376, "episode_reward_max": 654.194089302237, "hostname": "flow-main", "date": "2019-05-19_07-38-22", "timesteps_since_restore": 4081282, "custom_metrics": {"cost1_mean": 97.94506877473503, "cost1_max": 163.5485223255588, "cost2_min": -16.333333333333332, "system_level_velocity_max": 13.005867980061392, "system_level_velocity_mean": 8.653433509752421, "cost1_min": 66.90914428023041, "system_level_velocity_min": 5.986197367414174, "cost2_mean": -1.9547562329807802, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.2135404683864, "done": false, "episode_reward_min": 102.40720678726535, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 46.292537212371826, "timestamp": 1558251502, "iterations_since_restore": 84, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.032, "default": {"policy_loss": -0.024105718359351158, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5195751786231995, "entropy": 1.586087703704834, "vf_loss": 14.693923950195312, "cur_lr": 0.0005000000237487257, "kl": 0.017389561980962753, "total_loss": 14.677643775939941}, "grad_time_ms": 13006.9, "num_steps_sampled": 4131181, "update_time_ms": 8.389, "sample_time_ms": 32833.87, "num_steps_trained": 4131181}, "timesteps_total": 4131181, "training_iteration": 85, "timesteps_this_iter": 49899, "time_total_s": 3943.2380316257477, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667978>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 3970, "time_since_restore": 3943.2380316257477, "episode_reward_max": 503.8682985759925, "hostname": "flow-main", "date": "2019-05-19_07-39-07", "timesteps_since_restore": 4131181, "custom_metrics": {"cost1_mean": 98.57132502171775, "cost1_max": 150.08454103474824, "cost2_min": -25.75, "system_level_velocity_max": 12.259900419551697, "system_level_velocity_mean": 8.674604830126619, "cost1_min": 55.786918308623484, "system_level_velocity_min": 5.001257047164287, "cost2_mean": -2.5028084563278643, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 314.178641287485, "done": false, "episode_reward_min": 102.40720678726535, "episodes_this_iter": 44, "episode_len_mean": 325.0, "time_this_iter_s": 45.34921169281006, "timestamp": 1558251547, "iterations_since_restore": 85, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.233, "default": {"policy_loss": -0.024692073464393616, "cur_kl_coeff": 0.45000001788139343, "vf_explained_var": 0.5315920114517212, "entropy": 1.599439024925232, "vf_loss": 16.224531173706055, "cur_lr": 0.0005000000237487257, "kl": 0.018703171983361244, "total_loss": 16.208255767822266}, "grad_time_ms": 13001.137, "num_steps_sampled": 4177178, "update_time_ms": 8.654, "sample_time_ms": 32812.664, "num_steps_trained": 4177178}, "timesteps_total": 4177178, "training_iteration": 86, "timesteps_this_iter": 45997, "time_total_s": 3988.338484764099, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f8240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f85f8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4019, "time_since_restore": 3988.338484764099, "episode_reward_max": 561.2637953495762, "hostname": "flow-main", "date": "2019-05-19_07-39-52", "timesteps_since_restore": 4177178, "custom_metrics": {"cost1_mean": 101.07957409473958, "cost1_max": 150.08454103474824, "cost2_min": -25.75, "system_level_velocity_max": 12.259900419551697, "system_level_velocity_mean": 8.858239213340989, "cost1_min": 55.786918308623484, "system_level_velocity_min": 5.001257047164287, "cost2_mean": -2.4809164804558907, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 322.16138828825746, "done": false, "episode_reward_min": 143.19480441152285, "episodes_this_iter": 49, "episode_len_mean": 325.0, "time_this_iter_s": 45.10045313835144, "timestamp": 1558251592, "iterations_since_restore": 86, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 16.118, "default": {"policy_loss": -0.0227051991969347, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5273035764694214, "entropy": 1.588213562965393, "vf_loss": 14.51207447052002, "cur_lr": 0.0005000000237487257, "kl": 0.01717653125524521, "total_loss": 14.497098922729492}, "grad_time_ms": 12789.326, "num_steps_sampled": 4223432, "update_time_ms": 8.556, "sample_time_ms": 32806.716, "num_steps_trained": 4223432}, "timesteps_total": 4223432, "training_iteration": 87, "timesteps_this_iter": 46254, "time_total_s": 4034.014133453369, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408c50>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04083c8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4066, "time_since_restore": 4034.014133453369, "episode_reward_max": 561.2637953495762, "hostname": "flow-main", "date": "2019-05-19_07-40-38", "timesteps_since_restore": 4223432, "custom_metrics": {"cost1_mean": 98.9189400450322, "cost1_max": 140.62658885302298, "cost2_min": -25.33333333333333, "system_level_velocity_max": 11.656868076114499, "system_level_velocity_mean": 8.719882195537899, "cost1_min": 50.32720713209554, "system_level_velocity_min": 4.683215664367004, "cost2_mean": -2.4600352782476254, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 305.02714250612496, "done": false, "episode_reward_min": 143.19480441152285, "episodes_this_iter": 47, "episode_len_mean": 324.86, "time_this_iter_s": 45.67564868927002, "timestamp": 1558251638, "iterations_since_restore": 87, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.203, "default": {"policy_loss": -0.02298722416162491, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4917769134044647, "entropy": 1.5735467672348022, "vf_loss": 15.18288516998291, "cur_lr": 0.0005000000237487257, "kl": 0.01805279403924942, "total_loss": 15.168022155761719}, "grad_time_ms": 12785.359, "num_steps_sampled": 4273840, "update_time_ms": 8.607, "sample_time_ms": 32749.392, "num_steps_trained": 4273840}, "timesteps_total": 4273840, "training_iteration": 88, "timesteps_this_iter": 50408, "time_total_s": 4079.5448887348175, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2240>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4109, "time_since_restore": 4079.5448887348175, "episode_reward_max": 519.1030629376961, "hostname": "flow-main", "date": "2019-05-19_07-41-23", "timesteps_since_restore": 4273840, "custom_metrics": {"cost1_mean": 99.16141996048113, "cost1_max": 140.77698860281566, "cost2_min": -35.5, "system_level_velocity_max": 11.656868076114499, "system_level_velocity_mean": 8.733964503168819, "cost1_min": 50.32720713209554, "system_level_velocity_min": 4.683215664367004, "cost2_mean": -3.038535198947226, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 308.2064693158073, "done": false, "episode_reward_min": 146.14206865313602, "episodes_this_iter": 43, "episode_len_mean": 324.86, "time_this_iter_s": 45.530755281448364, "timestamp": 1558251683, "iterations_since_restore": 88, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.312, "default": {"policy_loss": -0.022997919470071793, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5191469192504883, "entropy": 1.5908565521240234, "vf_loss": 15.502615928649902, "cur_lr": 0.0005000000237487257, "kl": 0.016681557521224022, "total_loss": 15.487123489379883}, "grad_time_ms": 12810.338, "num_steps_sampled": 4321848, "update_time_ms": 8.818, "sample_time_ms": 32715.62, "num_steps_trained": 4321848}, "timesteps_total": 4321848, "training_iteration": 89, "timesteps_this_iter": 48008, "time_total_s": 4124.699283361435, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0667240>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4159, "time_since_restore": 4124.699283361435, "episode_reward_max": 519.1030629376961, "hostname": "flow-main", "date": "2019-05-19_07-42-09", "timesteps_since_restore": 4321848, "custom_metrics": {"cost1_mean": 99.01465809148144, "cost1_max": 140.77698860281566, "cost2_min": -35.5, "system_level_velocity_max": 12.109804974699863, "system_level_velocity_mean": 8.743235133665047, "cost1_min": 54.97083776877798, "system_level_velocity_min": 4.97367895006626, "cost2_mean": -2.909022823480188, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 319.8068022333028, "done": false, "episode_reward_min": 101.70563657500004, "episodes_this_iter": 50, "episode_len_mean": 323.64, "time_this_iter_s": 45.15439462661743, "timestamp": 1558251729, "iterations_since_restore": 89, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.276, "default": {"policy_loss": -0.023756783455610275, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5124269723892212, "entropy": 1.5975698232650757, "vf_loss": 14.998199462890625, "cur_lr": 0.0005000000237487257, "kl": 0.01771130971610546, "total_loss": 14.982412338256836}, "grad_time_ms": 12833.399, "num_steps_sampled": 4373576, "update_time_ms": 9.004, "sample_time_ms": 32735.075, "num_steps_trained": 4373576}, "timesteps_total": 4373576, "training_iteration": 90, "timesteps_this_iter": 51728, "time_total_s": 4171.718354225159, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408320>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4204, "time_since_restore": 4171.718354225159, "episode_reward_max": 563.7236952494695, "hostname": "flow-main", "date": "2019-05-19_07-42-56", "timesteps_since_restore": 4373576, "custom_metrics": {"cost1_mean": 97.26180266585352, "cost1_max": 141.36310256404226, "cost2_min": -35.5, "system_level_velocity_max": 12.109804974699863, "system_level_velocity_mean": 8.621800561406578, "cost1_min": 54.97083776877798, "system_level_velocity_min": 4.97367895006626, "cost2_mean": -3.2560379863459805, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 316.88163689224837, "done": false, "episode_reward_min": 101.70563657500004, "episodes_this_iter": 45, "episode_len_mean": 323.64, "time_this_iter_s": 47.019070863723755, "timestamp": 1558251776, "iterations_since_restore": 90, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.363, "default": {"policy_loss": -0.024539191275835037, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.543262243270874, "entropy": 1.5871002674102783, "vf_loss": 14.422185897827148, "cur_lr": 0.0005000000237487257, "kl": 0.018214093521237373, "total_loss": 14.405841827392578}, "grad_time_ms": 12696.81, "num_steps_sampled": 4421182, "update_time_ms": 9.018, "sample_time_ms": 32881.874, "num_steps_trained": 4421182}, "timesteps_total": 4421182, "training_iteration": 91, "timesteps_this_iter": 47606, "time_total_s": 4217.983367919922, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04072b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407128>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4249, "time_since_restore": 4217.983367919922, "episode_reward_max": 563.7236952494695, "hostname": "flow-main", "date": "2019-05-19_07-43-42", "timesteps_since_restore": 4421182, "custom_metrics": {"cost1_mean": 95.75574761183127, "cost1_max": 141.36310256404226, "cost2_min": -26.25, "system_level_velocity_max": 11.307166025144781, "system_level_velocity_mean": 8.487911062413858, "cost1_min": 26.28341678962589, "system_level_velocity_min": 4.467709604550021, "cost2_mean": -3.8990586216536283, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 314.38039509776314, "done": false, "episode_reward_min": 65.32459691213779, "episodes_this_iter": 45, "episode_len_mean": 322.61, "time_this_iter_s": 46.265013694763184, "timestamp": 1558251822, "iterations_since_restore": 91, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 15.387, "default": {"policy_loss": -0.024397848173975945, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.4937250018119812, "entropy": 1.6015959978103638, "vf_loss": 14.065498352050781, "cur_lr": 0.0005000000237487257, "kl": 0.017836060374975204, "total_loss": 14.049126625061035}, "grad_time_ms": 12668.235, "num_steps_sampled": 4468404, "update_time_ms": 9.02, "sample_time_ms": 32954.863, "num_steps_trained": 4468404}, "timesteps_total": 4468404, "training_iteration": 92, "timesteps_this_iter": 47222, "time_total_s": 4263.596243858337, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04073c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407048>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4294, "time_since_restore": 4263.596243858337, "episode_reward_max": 565.4444695561244, "hostname": "flow-main", "date": "2019-05-19_07-44-28", "timesteps_since_restore": 4468404, "custom_metrics": {"cost1_mean": 97.06162168484839, "cost1_max": 141.36310256404226, "cost2_min": -21.333333333333332, "system_level_velocity_max": 11.994479648598098, "system_level_velocity_mean": 8.607749918167956, "cost1_min": 26.28341678962589, "system_level_velocity_min": 4.467709604550021, "cost2_mean": -3.2704371729217625, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 313.54806572058556, "done": false, "episode_reward_min": 65.32459691213779, "episodes_this_iter": 45, "episode_len_mean": 322.61, "time_this_iter_s": 45.61287593841553, "timestamp": 1558251868, "iterations_since_restore": 92, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.922, "default": {"policy_loss": -0.023143379017710686, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45614105463027954, "entropy": 1.603237271308899, "vf_loss": 14.670080184936523, "cur_lr": 0.0005000000237487257, "kl": 0.017178162932395935, "total_loss": 14.65466594696045}, "grad_time_ms": 12660.086, "num_steps_sampled": 4515531, "update_time_ms": 8.999, "sample_time_ms": 32969.424, "num_steps_trained": 4515531}, "timesteps_total": 4515531, "training_iteration": 93, "timesteps_this_iter": 47127, "time_total_s": 4309.0985679626465, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066c940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe066cba8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4344, "time_since_restore": 4309.0985679626465, "episode_reward_max": 565.4444695561244, "hostname": "flow-main", "date": "2019-05-19_07-45-13", "timesteps_since_restore": 4515531, "custom_metrics": {"cost1_mean": 97.5715832650322, "cost1_max": 141.36111738903128, "cost2_min": -20.666666666666664, "system_level_velocity_max": 11.994479648598098, "system_level_velocity_mean": 8.651559784259549, "cost1_min": 66.77330978568787, "system_level_velocity_min": 5.840119968109642, "cost2_mean": -2.7866019182127517, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 301.0712770050424, "done": false, "episode_reward_min": 139.298496563925, "episodes_this_iter": 50, "episode_len_mean": 325.0, "time_this_iter_s": 45.50232410430908, "timestamp": 1558251913, "iterations_since_restore": 93, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.818, "default": {"policy_loss": -0.025092793628573418, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.45290693640708923, "entropy": 1.6263982057571411, "vf_loss": 13.39860725402832, "cur_lr": 0.0005000000237487257, "kl": 0.018896931782364845, "total_loss": 13.382018089294434}, "grad_time_ms": 12716.739, "num_steps_sampled": 4565737, "update_time_ms": 8.892, "sample_time_ms": 32972.398, "num_steps_trained": 4565737}, "timesteps_total": 4565737, "training_iteration": 94, "timesteps_this_iter": 50206, "time_total_s": 4355.968106508255, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f25c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe03f2eb8>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4389, "time_since_restore": 4355.968106508255, "episode_reward_max": 443.8476657925201, "hostname": "flow-main", "date": "2019-05-19_07-46-00", "timesteps_since_restore": 4565737, "custom_metrics": {"cost1_mean": 97.00261307987465, "cost1_max": 139.1002369734722, "cost2_min": -18.666666666666664, "system_level_velocity_max": 11.994479648598098, "system_level_velocity_mean": 8.630590344566315, "cost1_min": 57.54345406385456, "system_level_velocity_min": 6.195246254259954, "cost2_mean": -2.3464272752640754, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 302.41123922925163, "done": false, "episode_reward_min": 139.298496563925, "episodes_this_iter": 45, "episode_len_mean": 323.74, "time_this_iter_s": 46.86953854560852, "timestamp": 1558251960, "iterations_since_restore": 94, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.613, "default": {"policy_loss": -0.02390611357986927, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5427311062812805, "entropy": 1.6209012269973755, "vf_loss": 13.147747993469238, "cur_lr": 0.0005000000237487257, "kl": 0.017378265038132668, "total_loss": 13.131660461425781}, "grad_time_ms": 12630.087, "num_steps_sampled": 4612901, "update_time_ms": 8.614, "sample_time_ms": 33008.139, "num_steps_trained": 4612901}, "timesteps_total": 4612901, "training_iteration": 95, "timesteps_this_iter": 47164, "time_total_s": 4400.807307004929, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04070f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407ef0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4434, "time_since_restore": 4400.807307004929, "episode_reward_max": 477.93664229791585, "hostname": "flow-main", "date": "2019-05-19_07-46-45", "timesteps_since_restore": 4612901, "custom_metrics": {"cost1_mean": 96.79361815957755, "cost1_max": 133.51230936424093, "cost2_min": -17.5, "system_level_velocity_max": 11.121794301698301, "system_level_velocity_mean": 8.579561599689507, "cost1_min": 57.54345406385456, "system_level_velocity_min": 5.834462485020913, "cost2_mean": -2.2336649640356483, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 309.7692553014889, "done": false, "episode_reward_min": 81.15439228235596, "episodes_this_iter": 45, "episode_len_mean": 323.74, "time_this_iter_s": 44.839200496673584, "timestamp": 1558252005, "iterations_since_restore": 95, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.459, "default": {"policy_loss": -0.023529108613729477, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5230989456176758, "entropy": 1.6298102140426636, "vf_loss": 13.961488723754883, "cur_lr": 0.0005000000237487257, "kl": 0.017857946455478668, "total_loss": 13.94599437713623}, "grad_time_ms": 12673.853, "num_steps_sampled": 4661007, "update_time_ms": 8.526, "sample_time_ms": 33050.465, "num_steps_trained": 4661007}, "timesteps_total": 4661007, "training_iteration": 96, "timesteps_this_iter": 48106, "time_total_s": 4446.776197910309, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407860>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407b70>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4482, "time_since_restore": 4446.776197910309, "episode_reward_max": 477.93664229791585, "hostname": "flow-main", "date": "2019-05-19_07-47-31", "timesteps_since_restore": 4661007, "custom_metrics": {"cost1_mean": 94.81688122704149, "cost1_max": 133.51230936424093, "cost2_min": -22.77750135434752, "system_level_velocity_max": 11.121794301698301, "system_level_velocity_mean": 8.425182599775255, "cost1_min": 31.17330314786488, "system_level_velocity_min": 2.689226083791796, "cost2_mean": -2.700779508659915, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 299.4979468254601, "done": false, "episode_reward_min": 81.15439228235596, "episodes_this_iter": 48, "episode_len_mean": 322.97, "time_this_iter_s": 45.96889090538025, "timestamp": 1558252051, "iterations_since_restore": 96, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.511, "default": {"policy_loss": -0.02374030277132988, "cur_kl_coeff": 0.44999998807907104, "vf_explained_var": 0.5386892557144165, "entropy": 1.6174535751342773, "vf_loss": 13.61500358581543, "cur_lr": 0.0005000000237487257, "kl": 0.017710544168949127, "total_loss": 13.599233627319336}, "grad_time_ms": 12654.846, "num_steps_sampled": 4708626, "update_time_ms": 8.561, "sample_time_ms": 33067.822, "num_steps_trained": 4708626}, "timesteps_total": 4708626, "training_iteration": 97, "timesteps_this_iter": 47619, "time_total_s": 4492.423696756363, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04070b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0407908>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4530, "time_since_restore": 4492.423696756363, "episode_reward_max": 441.7407153611756, "hostname": "flow-main", "date": "2019-05-19_07-48-17", "timesteps_since_restore": 4708626, "custom_metrics": {"cost1_mean": 93.6654796650178, "cost1_max": 127.83900584318718, "cost2_min": -22.77750135434752, "system_level_velocity_max": 10.71558917513651, "system_level_velocity_mean": 8.34857395719627, "cost1_min": 31.17330314786488, "system_level_velocity_min": 2.689226083791796, "cost2_mean": -2.599286653904676, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 293.9056120278746, "done": false, "episode_reward_min": 90.55039451691275, "episodes_this_iter": 48, "episode_len_mean": 321.81, "time_this_iter_s": 45.64749884605408, "timestamp": 1558252097, "iterations_since_restore": 97, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 14.459, "default": {"policy_loss": -0.024112433195114136, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.5522462725639343, "entropy": 1.6227513551712036, "vf_loss": 12.541606903076172, "cur_lr": 0.0005000000237487257, "kl": 0.018064459785819054, "total_loss": 12.52562427520752}, "grad_time_ms": 12591.058, "num_steps_sampled": 4757969, "update_time_ms": 8.61, "sample_time_ms": 33163.401, "num_steps_trained": 4757969}, "timesteps_total": 4757969, "training_iteration": 98, "timesteps_this_iter": 49343, "time_total_s": 4538.252605676651, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe064e9b0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4574, "time_since_restore": 4538.252605676651, "episode_reward_max": 481.63331994526845, "hostname": "flow-main", "date": "2019-05-19_07-49-03", "timesteps_since_restore": 4757969, "custom_metrics": {"cost1_mean": 96.6275878430009, "cost1_max": 138.7568057677279, "cost2_min": -17.333333333333332, "system_level_velocity_max": 11.5331781658495, "system_level_velocity_mean": 8.558272634837772, "cost1_min": 43.80412059867851, "system_level_velocity_min": 5.25698298509783, "cost2_mean": -2.238650971804699, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 306.31798609047263, "done": false, "episode_reward_min": 98.49906010867731, "episodes_this_iter": 44, "episode_len_mean": 321.96, "time_this_iter_s": 45.828908920288086, "timestamp": 1558252143, "iterations_since_restore": 98, "num_metric_batches_dropped": 0, "pid": 40367}
{"policy_reward_mean": {}, "info": {"load_time_ms": 13.947, "default": {"policy_loss": -0.02464589662849903, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.517967700958252, "entropy": 1.6199802160263062, "vf_loss": 14.547325134277344, "cur_lr": 0.0005000000237487257, "kl": 0.018284955993294716, "total_loss": 14.53090763092041}, "grad_time_ms": 12624.613, "num_steps_sampled": 4807327, "update_time_ms": 8.391, "sample_time_ms": 33295.447, "num_steps_trained": 4807327}, "timesteps_total": 4807327, "training_iteration": 99, "timesteps_this_iter": 49358, "time_total_s": 4585.048114299774, "experiment_id": "c50a572288c84bc58d88610f4a41e499", "config": {"optimizer": {}, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "clip_rewards": null, "output_max_file_size": 67108864, "train_batch_size": 15000, "model": {"lstm_cell_size": 256, "grayscale": false, "conv_activation": "relu", "channel_major": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "zero_mean": true, "dim": 84, "custom_model": null, "free_log_std": false, "conv_filters": null, "use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [128, 64, 32], "framestack": true, "max_seq_len": 20}, "output": null, "output_compress_columns": ["obs", "new_obs"], "compress_observations": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_sgd_iter": 10, "num_gpus": 0, "num_workers": 20, "clip_param": 0.3, "use_gae": true, "monitor": false, "log_level": "INFO", "sgd_minibatch_size": 128, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"top\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"probability\": 0.1,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 1\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"LoopInflowScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 4,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0density_[eta2]:[0.5]_t_min:1.0", "gamma": 0.99, "lambda": 0.97, "input_evaluation": null, "entropy_coeff": 0.0, "sample_async": false, "num_gpus_per_worker": 0, "horizon": 750, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7efbe0408860>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7efbe04080f0>"}, "vf_share_layers": false, "input": "sampler", "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "lr": 0.0005, "kl_target": 0.01, "collect_metrics_timeout": 180, "lr_schedule": null, "custom_resources_per_worker": {}, "tf_session_args": {"intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "num_cpus_per_worker": 1, "clip_actions": false, "simple_optimizer": false, "num_envs_per_worker": 1, "synchronize_filters": true, "sample_batch_size": 750, "straggler_mitigation": false, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}}, "episodes_total": 4620, "time_since_restore": 4585.048114299774, "episode_reward_max": 481.63331994526845, "hostname": "flow-main", "date": "2019-05-19_07-49-50", "timesteps_since_restore": 4807327, "custom_metrics": {"cost1_mean": 96.32941647585014, "cost1_max": 140.25731772540883, "cost2_min": -11.999999999999998, "system_level_velocity_max": 11.677352306961192, "system_level_velocity_mean": 8.496620639698108, "cost1_min": 23.319724324918845, "system_level_velocity_min": 2.9640576651925494, "cost2_mean": -2.4194837505600377, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "episode_reward_mean": 310.90602679800037, "done": false, "episode_reward_min": 69.8345774216838, "episodes_this_iter": 46, "episode_len_mean": 322.16, "time_this_iter_s": 46.79550862312317, "timestamp": 1558252190, "iterations_since_restore": 99, "num_metric_batches_dropped": 0, "pid": 40367}
