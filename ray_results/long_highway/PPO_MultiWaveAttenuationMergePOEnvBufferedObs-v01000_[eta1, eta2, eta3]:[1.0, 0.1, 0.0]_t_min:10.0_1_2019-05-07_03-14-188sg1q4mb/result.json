{"training_iteration": 1, "time_since_restore": 52.22610688209534, "num_metric_batches_dropped": 0, "timesteps_total": 52335, "time_this_iter_s": 52.22610688209534, "date": "2019-05-07_03-15-44", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00d30>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 18.861549520656187, "cost1_mean": 34.21969505458482, "cost1_max": 34.21969505458482, "cost2_min": -34.78104892623254, "system_level_velocity_min": 18.861549520656187, "outflow_rate_max": 319.92940939152567, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 319.92940939152567, "cost2_mean": -34.78104892623254}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 52335, "episodes_this_iter": 1, "info": {"update_time_ms": 1174.806, "num_steps_sampled": 52335, "num_steps_trained": 52335, "load_time_ms": 92.434, "sample_time_ms": 39211.193, "default": {"entropy": 1.4202316999435425, "policy_loss": -0.0019487218232825398, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.9099676609039307, "vf_loss": 1.7629806995391846, "total_loss": 1.7616523504257202, "cur_lr": 0.0005000000237487257, "kl": 0.0031019265297800303}, "grad_time_ms": 11594.184}, "done": false, "episode_reward_mean": 64.20422307609708, "iterations_since_restore": 1, "time_total_s": 52.22610688209534, "timestamp": 1557198944, "pid": 281, "episode_len_mean": 50.0, "episode_reward_max": 64.20422307609708, "episodes_total": 1, "timesteps_since_restore": 52335, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 2, "time_since_restore": 80.89472723007202, "num_metric_batches_dropped": 0, "timesteps_total": 98721, "time_this_iter_s": 28.668620347976685, "date": "2019-05-07_03-16-13", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71518>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 9.03035483777166, "cost1_mean": 215.76990104152446, "cost1_max": 285.8309594964316, "cost2_min": -167.34147883835684, "system_level_velocity_min": 6.164637946222036, "outflow_rate_max": 731.4936834417845, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 541.3573220816628, "cost2_mean": -126.92266912899616}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 46386, "episodes_this_iter": 20, "info": {"update_time_ms": 590.833, "num_steps_sampled": 98721, "num_steps_trained": 98721, "load_time_ms": 56.301, "sample_time_ms": 28981.002, "default": {"entropy": 1.4143176078796387, "policy_loss": -0.0011126737808808684, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.9801528453826904, "vf_loss": 0.7651629447937012, "total_loss": 0.7643682956695557, "cur_lr": 0.0005000000237487257, "kl": 0.003180653788149357}, "grad_time_ms": 10698.972}, "done": false, "episode_reward_mean": 563.8137490396582, "iterations_since_restore": 2, "time_total_s": 80.89472723007202, "timestamp": 1557198973, "pid": 281, "episode_len_mean": 669.047619047619, "episode_reward_max": 765.9337273809776, "episodes_total": 21, "timesteps_since_restore": 98721, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 3, "time_since_restore": 111.64531540870667, "num_metric_batches_dropped": 0, "timesteps_total": 145955, "time_this_iter_s": 30.750588178634644, "date": "2019-05-07_03-16-44", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79a58>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 8.002107363945582, "cost1_mean": 197.4599893875687, "cost1_max": 285.8309594964316, "cost2_min": -167.34147883835684, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 731.4936834417845, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 489.33914394267777, "cost2_mean": -112.35896733551846}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 47234, "episodes_this_iter": 15, "info": {"update_time_ms": 396.272, "num_steps_sampled": 145955, "num_steps_trained": 145955, "load_time_ms": 42.593, "sample_time_ms": 25791.191, "default": {"entropy": 1.4171873331069946, "policy_loss": -0.0039055049419403076, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9731022119522095, "vf_loss": 0.6888352632522583, "total_loss": 0.6854644417762756, "cur_lr": 0.0005000000237487257, "kl": 0.010692865587770939}, "grad_time_ms": 10875.64}, "done": false, "episode_reward_mean": 517.5687817842204, "iterations_since_restore": 3, "time_total_s": 111.64531540870667, "timestamp": 1557199004, "pid": 281, "episode_len_mean": 681.9444444444445, "episode_reward_max": 765.9337273809776, "episodes_total": 36, "timesteps_since_restore": 145955, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 4, "time_since_restore": 136.49966740608215, "num_metric_batches_dropped": 0, "timesteps_total": 189900, "time_this_iter_s": 24.85435199737549, "date": "2019-05-07_03-17-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e695c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69438>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 7.921435991156841, "cost1_mean": 196.8244809036825, "cost1_max": 285.8309594964316, "cost2_min": -167.34147883835684, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 731.4936834417845, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 489.6383104974141, "cost2_mean": -110.77599984223805}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 43945, "episodes_this_iter": 5, "info": {"update_time_ms": 299.101, "num_steps_sampled": 189900, "num_steps_trained": 189900, "load_time_ms": 35.425, "sample_time_ms": 23403.737, "default": {"entropy": 1.381678819656372, "policy_loss": -0.004499404225498438, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9784165024757385, "vf_loss": 1.5320998430252075, "total_loss": 1.5281356573104858, "cur_lr": 0.0005000000237487257, "kl": 0.010703318752348423}, "grad_time_ms": 10286.135}, "done": false, "episode_reward_mean": 518.3092612834636, "iterations_since_restore": 4, "time_total_s": 136.49966740608215, "timestamp": 1557199029, "pid": 281, "episode_len_mean": 684.1463414634146, "episode_reward_max": 765.9337273809776, "episodes_total": 41, "timesteps_since_restore": 189900, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 5, "time_since_restore": 161.7049524784088, "num_metric_batches_dropped": 0, "timesteps_total": 233013, "time_this_iter_s": 25.20528507232666, "date": "2019-05-07_03-17-34", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f98>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 8.172027417006149, "cost1_mean": 207.95392411042275, "cost1_max": 285.8309594964316, "cost2_min": -167.34147883835684, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 731.4936834417845, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 528.7871645402133, "cost2_mean": -110.2959709819744}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 43113, "episodes_this_iter": 20, "info": {"update_time_ms": 240.424, "num_steps_sampled": 233013, "num_steps_trained": 233013, "load_time_ms": 31.111, "sample_time_ms": 22051.28, "default": {"entropy": 1.3635584115982056, "policy_loss": -0.0027026752941310406, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9535010457038879, "vf_loss": 3.7051987648010254, "total_loss": 3.7029812335968018, "cur_lr": 0.0005000000237487257, "kl": 0.009701394475996494}, "grad_time_ms": 9922.556}, "done": false, "episode_reward_mean": 566.3964813126939, "iterations_since_restore": 5, "time_total_s": 161.7049524784088, "timestamp": 1557199054, "pid": 281, "episode_len_mean": 689.344262295082, "episode_reward_max": 814.2513261102417, "episodes_total": 61, "timesteps_since_restore": 233013, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 6, "time_since_restore": 189.7993025779724, "num_metric_batches_dropped": 0, "timesteps_total": 280447, "time_this_iter_s": 28.0943500995636, "date": "2019-05-07_03-18-02", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79cf8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 8.53248909995165, "cost1_mean": 220.07816535598718, "cost1_max": 294.3920215443513, "cost2_min": -192.50555746247002, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 771.2135668173099, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 560.5368437597817, "cost2_mean": -114.284769400873}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 47434, "episodes_this_iter": 16, "info": {"update_time_ms": 201.416, "num_steps_sampled": 280447, "num_steps_trained": 280447, "load_time_ms": 28.603, "sample_time_ms": 21395.9, "default": {"entropy": 1.3698219060897827, "policy_loss": -0.0019138017669320107, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9273722171783447, "vf_loss": 3.795631170272827, "total_loss": 3.7941362857818604, "cur_lr": 0.0005000000237487257, "kl": 0.008384814485907555}, "grad_time_ms": 9914.355}, "done": false, "episode_reward_mean": 623.3791904817788, "iterations_since_restore": 6, "time_total_s": 189.7993025779724, "timestamp": 1557199082, "pid": 281, "episode_len_mean": 691.5584415584416, "episode_reward_max": 949.5554346458986, "episodes_total": 77, "timesteps_since_restore": 280447, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 7, "time_since_restore": 216.56561470031738, "num_metric_batches_dropped": 0, "timesteps_total": 327551, "time_this_iter_s": 26.76631212234497, "date": "2019-05-07_03-18-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79240>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 8.636417751060552, "cost1_mean": 223.84487605353436, "cost1_max": 294.3920215443513, "cost2_min": -192.50555746247002, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 771.2135668173099, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 570.3464580284358, "cost2_mean": -121.18315382384424}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 47104, "episodes_this_iter": 10, "info": {"update_time_ms": 173.44, "num_steps_sampled": 327551, "num_steps_trained": 327551, "load_time_ms": 26.767, "sample_time_ms": 20644.609, "default": {"entropy": 1.368392825126648, "policy_loss": -0.0021334844641387463, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9830353856086731, "vf_loss": 1.8192112445831299, "total_loss": 1.8174564838409424, "cur_lr": 0.0005000000237487257, "kl": 0.007573750801384449}, "grad_time_ms": 10002.179}, "done": false, "episode_reward_mean": 648.9345573635682, "iterations_since_restore": 7, "time_total_s": 216.56561470031738, "timestamp": 1557199109, "pid": 281, "episode_len_mean": 692.528735632184, "episode_reward_max": 977.887671670476, "episodes_total": 87, "timesteps_since_restore": 327551, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 8, "time_since_restore": 245.71415257453918, "num_metric_batches_dropped": 0, "timesteps_total": 376409, "time_this_iter_s": 29.1485378742218, "date": "2019-05-07_03-18-58", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e699b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e695c0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.21969505458482, "cost2_max": -34.78104892623254, "outflow_rate_min": 319.92940939152567, "system_level_velocity_mean": 8.769237321527005, "cost1_mean": 228.36924057099094, "cost1_max": 294.3920215443513, "cost2_min": -195.00238505793416, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 771.2135668173099, "system_level_velocity_max": 18.861549520656187, "outflow_rate_mean": 583.6135746557713, "cost2_mean": -128.84548146452337}, "policy_reward_mean": {}, "episode_reward_min": 64.20422307609708, "timesteps_this_iter": 48858, "episodes_this_iter": 13, "info": {"update_time_ms": 152.514, "num_steps_sampled": 376409, "num_steps_trained": 376409, "load_time_ms": 24.523, "sample_time_ms": 20354.723, "default": {"entropy": 1.3669763803482056, "policy_loss": -0.0014724958455190063, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9766458868980408, "vf_loss": 2.255669116973877, "total_loss": 2.254667043685913, "cur_lr": 0.0005000000237487257, "kl": 0.009410879574716091}, "grad_time_ms": 10092.061}, "done": false, "episode_reward_mean": 675.1229711095735, "iterations_since_restore": 8, "time_total_s": 245.71415257453918, "timestamp": 1557199138, "pid": 281, "episode_len_mean": 693.5, "episode_reward_max": 977.887671670476, "episodes_total": 100, "timesteps_since_restore": 376409, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 9, "time_since_restore": 273.2873251438141, "num_metric_batches_dropped": 0, "timesteps_total": 421770, "time_this_iter_s": 27.573172569274902, "date": "2019-05-07_03-19-25", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e790b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79f28>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 140.8456879757235, "cost2_max": -52.91131437507865, "outflow_rate_min": 361.3072673184024, "system_level_velocity_mean": 8.908265667868804, "cost1_mean": 237.26169957223985, "cost1_max": 308.13828941031676, "cost2_min": -195.00238505793416, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 801.6662594459514, "system_level_velocity_max": 11.366709347915423, "outflow_rate_mean": 606.8161016270003, "cost2_mean": -134.60932408007616}, "policy_reward_mean": {}, "episode_reward_min": 335.689767688943, "timesteps_this_iter": 45361, "episodes_this_iter": 15, "info": {"update_time_ms": 136.41, "num_steps_sampled": 421770, "num_steps_trained": 421770, "load_time_ms": 22.972, "sample_time_ms": 19985.013, "default": {"entropy": 1.3494491577148438, "policy_loss": -0.0024708942510187626, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9892157316207886, "vf_loss": 1.712787389755249, "total_loss": 1.7107656002044678, "cur_lr": 0.0005000000237487257, "kl": 0.008984215557575226}, "grad_time_ms": 10131.567}, "done": false, "episode_reward_mean": 715.804715210192, "iterations_since_restore": 9, "time_total_s": 273.2873251438141, "timestamp": 1557199165, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 977.887671670476, "episodes_total": 115, "timesteps_since_restore": 421770, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 10, "time_since_restore": 302.7397584915161, "num_metric_batches_dropped": 0, "timesteps_total": 474416, "time_this_iter_s": 29.452433347702026, "date": "2019-05-07_03-19-55", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 140.8456879757235, "cost2_max": -52.91131437507865, "outflow_rate_min": 361.3072673184024, "system_level_velocity_mean": 9.084549299082699, "cost1_mean": 242.15335206296922, "cost1_max": 318.76233092802244, "cost2_min": -195.00238505793416, "system_level_velocity_min": 5.423468178543395, "outflow_rate_max": 820.8471327781475, "system_level_velocity_max": 11.940542513181727, "outflow_rate_mean": 623.2563983987726, "cost2_mean": -136.8792818063386}, "policy_reward_mean": {}, "episode_reward_min": 335.689767688943, "timesteps_this_iter": 52646, "episodes_this_iter": 8, "info": {"update_time_ms": 123.403, "num_steps_sampled": 474416, "num_steps_trained": 474416, "load_time_ms": 22.572, "sample_time_ms": 19653.866, "default": {"entropy": 1.3657716512680054, "policy_loss": -0.0011273090494796634, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9904659390449524, "vf_loss": 1.202752709388733, "total_loss": 1.2018845081329346, "cur_lr": 0.0005000000237487257, "kl": 0.0051810466684401035}, "grad_time_ms": 10383.087}, "done": false, "episode_reward_mean": 734.5887425034211, "iterations_since_restore": 10, "time_total_s": 302.7397584915161, "timestamp": 1557199195, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 977.887671670476, "episodes_total": 123, "timesteps_since_restore": 474416, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 11, "time_since_restore": 329.7309603691101, "num_metric_batches_dropped": 0, "timesteps_total": 520384, "time_this_iter_s": 26.991201877593994, "date": "2019-05-07_03-20-22", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 169.1678316048897, "cost2_max": -78.10309732939648, "outflow_rate_min": 461.8433399171488, "system_level_velocity_mean": 9.784966306828077, "cost1_mean": 261.2891856369186, "cost1_max": 330.2494978586182, "cost2_min": -195.00238505793416, "system_level_velocity_min": 6.486041799310032, "outflow_rate_max": 850.2308815282614, "system_level_velocity_max": 12.333301841054693, "outflow_rate_mean": 676.0885473399356, "cost2_mean": -149.78503165146273}, "policy_reward_mean": {}, "episode_reward_min": 462.47460784767185, "timesteps_this_iter": 45968, "episodes_this_iter": 15, "info": {"update_time_ms": 6.57, "num_steps_sampled": 520384, "num_steps_trained": 520384, "load_time_ms": 14.771, "sample_time_ms": 17307.342, "default": {"entropy": 1.3021409511566162, "policy_loss": -0.002091379137709737, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9922758340835571, "vf_loss": 1.6024823188781738, "total_loss": 1.6007848978042603, "cur_lr": 0.0005000000237487257, "kl": 0.007874361239373684}, "grad_time_ms": 10337.77}, "done": false, "episode_reward_mean": 802.0594602571506, "iterations_since_restore": 11, "time_total_s": 329.7309603691101, "timestamp": 1557199222, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 1025.3896956917938, "episodes_total": 138, "timesteps_since_restore": 520384, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 12, "time_since_restore": 357.6685628890991, "num_metric_batches_dropped": 0, "timesteps_total": 569347, "time_this_iter_s": 27.937602519989014, "date": "2019-05-07_03-20-50", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c748>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 210.64933764646756, "cost2_max": -78.10309732939648, "outflow_rate_min": 554.7694477313931, "system_level_velocity_mean": 10.34749941528663, "cost1_mean": 276.05899679491324, "cost1_max": 346.335665952706, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.898056959468873, "outflow_rate_max": 854.0195216208195, "system_level_velocity_max": 13.291241116056263, "outflow_rate_mean": 709.740400054628, "cost2_mean": -163.15181948193785}, "policy_reward_mean": {}, "episode_reward_min": 624.2998389844554, "timesteps_this_iter": 48963, "episodes_this_iter": 17, "info": {"update_time_ms": 6.512, "num_steps_sampled": 569347, "num_steps_trained": 569347, "load_time_ms": 14.375, "sample_time_ms": 16980.045, "default": {"entropy": 1.35317063331604, "policy_loss": -0.0016866092337295413, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9904114603996277, "vf_loss": 1.4212819337844849, "total_loss": 1.4199445247650146, "cur_lr": 0.0005000000237487257, "kl": 0.006988133303821087}, "grad_time_ms": 10592.225}, "done": false, "episode_reward_mean": 851.3946877593744, "iterations_since_restore": 12, "time_total_s": 357.6685628890991, "timestamp": 1557199250, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 1045.1154171063813, "episodes_total": 155, "timesteps_since_restore": 569347, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 13, "time_since_restore": 385.5557949542999, "num_metric_batches_dropped": 0, "timesteps_total": 619417, "time_this_iter_s": 27.887232065200806, "date": "2019-05-07_03-21-18", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69358>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.58652607962495, "cost2_max": -34.19063910413961, "outflow_rate_min": 325.77280635295926, "system_level_velocity_mean": 10.582132250171366, "cost1_mean": 277.44204355380316, "cost1_max": 346.335665952706, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.898056959468873, "outflow_rate_max": 854.0195216208195, "system_level_velocity_max": 19.031637059058077, "outflow_rate_mean": 713.802783265154, "cost2_mean": -166.99661695451215}, "policy_reward_mean": {}, "episode_reward_min": 59.42294082331095, "timesteps_this_iter": 50070, "episodes_this_iter": 9, "info": {"update_time_ms": 6.421, "num_steps_sampled": 619417, "num_steps_trained": 619417, "load_time_ms": 14.835, "sample_time_ms": 16540.332, "default": {"entropy": 1.2908527851104736, "policy_loss": -0.0015282166423276067, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9860273003578186, "vf_loss": 2.3170218467712402, "total_loss": 2.3158762454986572, "cur_lr": 0.0005000000237487257, "kl": 0.007650032639503479}, "grad_time_ms": 10743.238}, "done": false, "episode_reward_mean": 857.0207556758594, "iterations_since_restore": 13, "time_total_s": 385.5557949542999, "timestamp": 1557199278, "pid": 281, "episode_len_mean": 693.51, "episode_reward_max": 1045.1154171063813, "episodes_total": 164, "timesteps_since_restore": 619417, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 14, "time_since_restore": 413.455849647522, "num_metric_batches_dropped": 0, "timesteps_total": 665186, "time_this_iter_s": 27.900054693222046, "date": "2019-05-07_03-21-46", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.58652607962495, "cost2_max": -34.19063910413961, "outflow_rate_min": 325.77280635295926, "system_level_velocity_mean": 10.955598165543993, "cost1_mean": 283.30189697616186, "cost1_max": 361.2030902576739, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.898056959468873, "outflow_rate_max": 891.8757340823504, "system_level_velocity_max": 19.031637059058077, "outflow_rate_mean": 727.160558780699, "cost2_mean": -172.61834520708965}, "policy_reward_mean": {}, "episode_reward_min": 59.42294082331095, "timesteps_this_iter": 45769, "episodes_this_iter": 17, "info": {"update_time_ms": 6.29, "num_steps_sampled": 665186, "num_steps_trained": 665186, "load_time_ms": 14.782, "sample_time_ms": 16521.732, "default": {"entropy": 1.2492375373840332, "policy_loss": -0.0021449648775160313, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9852873086929321, "vf_loss": 3.3435862064361572, "total_loss": 3.341954231262207, "cur_lr": 0.0005000000237487257, "kl": 0.010256282053887844}, "grad_time_ms": 11065.04}, "done": false, "episode_reward_mean": 865.2316241405008, "iterations_since_restore": 14, "time_total_s": 413.455849647522, "timestamp": 1557199306, "pid": 281, "episode_len_mean": 688.01, "episode_reward_max": 1081.865900885875, "episodes_total": 181, "timesteps_since_restore": 665186, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 15, "time_since_restore": 441.59358310699463, "num_metric_batches_dropped": 0, "timesteps_total": 711129, "time_this_iter_s": 28.137733459472656, "date": "2019-05-07_03-22-14", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e793c8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.58652607962495, "cost2_max": -34.19063910413961, "outflow_rate_min": 325.77280635295926, "system_level_velocity_mean": 11.43213629329582, "cost1_mean": 295.7420577497619, "cost1_max": 377.1881623949615, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.898056959468873, "outflow_rate_max": 891.8757340823504, "system_level_velocity_max": 19.031637059058077, "outflow_rate_mean": 754.0086923101219, "cost2_mean": -171.94931534574553}, "policy_reward_mean": {}, "episode_reward_min": 59.42294082331095, "timesteps_this_iter": 45943, "episodes_this_iter": 18, "info": {"update_time_ms": 6.611, "num_steps_sampled": 711129, "num_steps_trained": 711129, "load_time_ms": 14.739, "sample_time_ms": 16494.866, "default": {"entropy": 1.2719448804855347, "policy_loss": -0.0016277572140097618, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9800541996955872, "vf_loss": 3.066760301589966, "total_loss": 3.065523862838745, "cur_lr": 0.0005000000237487257, "kl": 0.007826617918908596}, "grad_time_ms": 11383.261}, "done": false, "episode_reward_mean": 882.3684575243248, "iterations_since_restore": 15, "time_total_s": 441.59358310699463, "timestamp": 1557199334, "pid": 281, "episode_len_mean": 688.01, "episode_reward_max": 1125.318504142457, "episodes_total": 199, "timesteps_since_restore": 711129, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 16, "time_since_restore": 469.0291118621826, "num_metric_batches_dropped": 0, "timesteps_total": 757214, "time_this_iter_s": 27.43552875518799, "date": "2019-05-07_03-22-41", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ccc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c4e0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 34.58652607962495, "cost2_max": -34.19063910413961, "outflow_rate_min": 325.77280635295926, "system_level_velocity_mean": 11.475340032349283, "cost1_mean": 296.7713179678903, "cost1_max": 377.1881623949615, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 891.8757340823504, "system_level_velocity_max": 19.031637059058077, "outflow_rate_mean": 754.7929017585305, "cost2_mean": -171.27453953390483}, "policy_reward_mean": {}, "episode_reward_min": 59.42294082331095, "timesteps_this_iter": 46085, "episodes_this_iter": 6, "info": {"update_time_ms": 6.725, "num_steps_sampled": 757214, "num_steps_trained": 757214, "load_time_ms": 14.618, "sample_time_ms": 16180.327, "default": {"entropy": 1.2298551797866821, "policy_loss": -0.004320303909480572, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9859439134597778, "vf_loss": 2.0450375080108643, "total_loss": 2.0413644313812256, "cur_lr": 0.0005000000237487257, "kl": 0.012946898117661476}, "grad_time_ms": 11631.915}, "done": false, "episode_reward_mean": 887.3942102220477, "iterations_since_restore": 16, "time_total_s": 469.0291118621826, "timestamp": 1557199361, "pid": 281, "episode_len_mean": 688.01, "episode_reward_max": 1125.318504142457, "episodes_total": 205, "timesteps_since_restore": 757214, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 17, "time_since_restore": 495.6526436805725, "num_metric_batches_dropped": 0, "timesteps_total": 801941, "time_this_iter_s": 26.623531818389893, "date": "2019-05-07_03-23-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c0f0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 11.876008312241357, "cost1_mean": 297.8209482901143, "cost1_max": 377.1881623949615, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 891.8757340823504, "system_level_velocity_max": 19.83885580149961, "outflow_rate_mean": 759.5525367635496, "cost2_mean": -166.54545955315552}, "policy_reward_mean": {}, "episode_reward_min": 53.528741789889445, "timesteps_this_iter": 44727, "episodes_this_iter": 19, "info": {"update_time_ms": 6.733, "num_steps_sampled": 801941, "num_steps_trained": 801941, "load_time_ms": 13.76, "sample_time_ms": 16076.837, "default": {"entropy": 1.1799863576889038, "policy_loss": -0.002513886895030737, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9552897214889526, "vf_loss": 7.573976039886475, "total_loss": 7.572017192840576, "cur_lr": 0.0005000000237487257, "kl": 0.011103187687695026}, "grad_time_ms": 11721.479}, "done": false, "episode_reward_mean": 887.7628407795995, "iterations_since_restore": 17, "time_total_s": 495.6526436805725, "timestamp": 1557199388, "pid": 281, "episode_len_mean": 674.94, "episode_reward_max": 1125.318504142457, "episodes_total": 224, "timesteps_since_restore": 801941, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 18, "time_since_restore": 522.6364789009094, "num_metric_batches_dropped": 0, "timesteps_total": 844445, "time_this_iter_s": 26.983835220336914, "date": "2019-05-07_03-23-35", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e796d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79400>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 11.998979977641602, "cost1_mean": 301.62082665519205, "cost1_max": 377.1881623949615, "cost2_min": -210.37247018898344, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 891.8757340823504, "system_level_velocity_max": 19.83885580149961, "outflow_rate_mean": 766.0451263434843, "cost2_mean": -164.42068595775862}, "policy_reward_mean": {}, "episode_reward_min": 53.528741789889445, "timesteps_this_iter": 42504, "episodes_this_iter": 18, "info": {"update_time_ms": 7.015, "num_steps_sampled": 844445, "num_steps_trained": 844445, "load_time_ms": 14.392, "sample_time_ms": 15814.46, "default": {"entropy": 1.1796427965164185, "policy_loss": -0.0017994019435718656, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9638441801071167, "vf_loss": 6.368517875671387, "total_loss": 6.367278575897217, "cur_lr": 0.0005000000237487257, "kl": 0.011215374805033207}, "grad_time_ms": 11766.508}, "done": false, "episode_reward_mean": 900.6534689423593, "iterations_since_restore": 18, "time_total_s": 522.6364789009094, "timestamp": 1557199415, "pid": 281, "episode_len_mean": 674.94, "episode_reward_max": 1125.318504142457, "episodes_total": 242, "timesteps_since_restore": 844445, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 19, "time_since_restore": 549.693496465683, "num_metric_batches_dropped": 0, "timesteps_total": 889137, "time_this_iter_s": 27.05701756477356, "date": "2019-05-07_03-24-02", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c940>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 12.141867671741695, "cost1_mean": 305.66069245169854, "cost1_max": 377.1881623949615, "cost2_min": -196.9397885205242, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 898.1711252520514, "system_level_velocity_max": 19.83885580149961, "outflow_rate_mean": 776.1644953178345, "cost2_mean": -163.43041847188164}, "policy_reward_mean": {}, "episode_reward_min": 53.528741789889445, "timesteps_this_iter": 44692, "episodes_this_iter": 10, "info": {"update_time_ms": 7.156, "num_steps_sampled": 889137, "num_steps_trained": 889137, "load_time_ms": 14.585, "sample_time_ms": 15631.355, "default": {"entropy": 1.1855158805847168, "policy_loss": -0.00253645284101367, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.976359486579895, "vf_loss": 3.418764114379883, "total_loss": 3.4166789054870605, "cur_lr": 0.0005000000237487257, "kl": 0.009028743952512741}, "grad_time_ms": 11896.649}, "done": false, "episode_reward_mean": 914.3431695270142, "iterations_since_restore": 19, "time_total_s": 549.693496465683, "timestamp": 1557199442, "pid": 281, "episode_len_mean": 674.94, "episode_reward_max": 1155.3439675560264, "episodes_total": 252, "timesteps_since_restore": 889137, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 20, "time_since_restore": 576.7078237533569, "num_metric_batches_dropped": 0, "timesteps_total": 933060, "time_this_iter_s": 27.01432728767395, "date": "2019-05-07_03-24-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c4e0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 12.311409551054933, "cost1_mean": 315.36908460289993, "cost1_max": 377.1881623949615, "cost2_min": -197.74483051356347, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 904.1685232746152, "system_level_velocity_max": 19.83885580149961, "outflow_rate_mean": 799.365752910357, "cost2_mean": -164.54576327711868}, "policy_reward_mean": {}, "episode_reward_min": 53.528741789889445, "timesteps_this_iter": 43923, "episodes_this_iter": 19, "info": {"update_time_ms": 7.252, "num_steps_sampled": 933060, "num_steps_trained": 933060, "load_time_ms": 14.077, "sample_time_ms": 15478.288, "default": {"entropy": 1.151130199432373, "policy_loss": -0.0027088772039860487, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9661030769348145, "vf_loss": 5.823151111602783, "total_loss": 5.820925235748291, "cur_lr": 0.0005000000237487257, "kl": 0.009659139439463615}, "grad_time_ms": 11807.162}, "done": false, "episode_reward_mean": 948.2788281257107, "iterations_since_restore": 20, "time_total_s": 576.7078237533569, "timestamp": 1557199469, "pid": 281, "episode_len_mean": 681.43, "episode_reward_max": 1155.3439675560264, "episodes_total": 271, "timesteps_since_restore": 933060, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 21, "time_since_restore": 604.9282901287079, "num_metric_batches_dropped": 0, "timesteps_total": 980589, "time_this_iter_s": 28.220466375350952, "date": "2019-05-07_03-24-57", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 12.298263954332326, "cost1_mean": 318.820670450669, "cost1_max": 377.1881623949615, "cost2_min": -206.43601585118103, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 904.1685232746152, "system_level_velocity_max": 19.83885580149961, "outflow_rate_mean": 808.3292903755408, "cost2_mean": -166.94317747804752}, "policy_reward_mean": {}, "episode_reward_min": 53.528741789889445, "timesteps_this_iter": 47529, "episodes_this_iter": 13, "info": {"update_time_ms": 7.251, "num_steps_sampled": 980589, "num_steps_trained": 980589, "load_time_ms": 14.04, "sample_time_ms": 15453.973, "default": {"entropy": 1.2119072675704956, "policy_loss": -0.0015348716406151652, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9675476551055908, "vf_loss": 4.610972881317139, "total_loss": 4.609827995300293, "cur_lr": 0.0005000000237487257, "kl": 0.007795520126819611}, "grad_time_ms": 11951.063}, "done": false, "episode_reward_mean": 966.5271108471769, "iterations_since_restore": 21, "time_total_s": 604.9282901287079, "timestamp": 1557199497, "pid": 281, "episode_len_mean": 686.93, "episode_reward_max": 1174.02719797803, "episodes_total": 284, "timesteps_since_restore": 980589, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 22, "time_since_restore": 630.982736825943, "num_metric_batches_dropped": 0, "timesteps_total": 1027445, "time_this_iter_s": 26.054446697235107, "date": "2019-05-07_03-25-24", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c7f0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 12.446168629691956, "cost1_mean": 317.75743321894237, "cost1_max": 379.8099722298299, "cost2_min": -214.17468047791832, "system_level_velocity_min": 7.35630146954819, "outflow_rate_max": 910.831645918747, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 808.914587785481, "cost2_mean": -167.89164787328755}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 46856, "episodes_this_iter": 10, "info": {"update_time_ms": 7.336, "num_steps_sampled": 1027445, "num_steps_trained": 1027445, "load_time_ms": 14.02, "sample_time_ms": 15293.357, "default": {"entropy": 1.117875576019287, "policy_loss": -0.0036714382003992796, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9707309603691101, "vf_loss": 5.150495529174805, "total_loss": 5.147400379180908, "cur_lr": 0.0005000000237487257, "kl": 0.01152463536709547}, "grad_time_ms": 11922.975}, "done": false, "episode_reward_mean": 968.4999210834335, "iterations_since_restore": 22, "time_total_s": 630.982736825943, "timestamp": 1557199524, "pid": 281, "episode_len_mean": 680.36, "episode_reward_max": 1191.5536245900144, "episodes_total": 294, "timesteps_since_restore": 1027445, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 23, "time_since_restore": 657.4596514701843, "num_metric_batches_dropped": 0, "timesteps_total": 1072215, "time_this_iter_s": 26.476914644241333, "date": "2019-05-07_03-25-50", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e694a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69358>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.10772943023288, "cost2_max": -27.180138182103356, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 12.666341539514852, "cost1_mean": 323.6694662395486, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 10.325877533253589, "outflow_rate_max": 919.1535350711781, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 824.627247765888, "cost2_mean": -175.17208060026246}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 44770, "episodes_this_iter": 19, "info": {"update_time_ms": 7.48, "num_steps_sampled": 1072215, "num_steps_trained": 1072215, "load_time_ms": 13.745, "sample_time_ms": 15317.001, "default": {"entropy": 1.1335450410842896, "policy_loss": -0.0035073773469775915, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9679387807846069, "vf_loss": 6.208048343658447, "total_loss": 6.205080986022949, "cur_lr": 0.0005000000237487257, "kl": 0.01079708244651556}, "grad_time_ms": 11757.23}, "done": false, "episode_reward_mean": 992.6631708367463, "iterations_since_restore": 23, "time_total_s": 657.4596514701843, "timestamp": 1557199550, "pid": 281, "episode_len_mean": 680.36, "episode_reward_max": 1191.5536245900144, "episodes_total": 313, "timesteps_since_restore": 1072215, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 24, "time_since_restore": 682.4671883583069, "num_metric_batches_dropped": 0, "timesteps_total": 1116159, "time_this_iter_s": 25.00753688812256, "date": "2019-05-07_03-26-15", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e794a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79dd8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.422317584101503, "cost2_max": -28.35436024008329, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 12.718477207027531, "cost1_mean": 334.71927474784513, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 10.65943418306581, "outflow_rate_max": 919.1535350711781, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 846.174412919792, "cost2_mean": -182.64377057229248}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 43944, "episodes_this_iter": 13, "info": {"update_time_ms": 7.816, "num_steps_sampled": 1116159, "num_steps_trained": 1116159, "load_time_ms": 13.802, "sample_time_ms": 15116.689, "default": {"entropy": 1.1166846752166748, "policy_loss": -0.0012360819382593036, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9646848440170288, "vf_loss": 5.838005065917969, "total_loss": 5.837154388427734, "cur_lr": 0.0005000000237487257, "kl": 0.007705262862145901}, "grad_time_ms": 11665.557}, "done": false, "episode_reward_mean": 1030.5369485366316, "iterations_since_restore": 24, "time_total_s": 682.4671883583069, "timestamp": 1557199575, "pid": 281, "episode_len_mean": 693.43, "episode_reward_max": 1204.2790290282373, "episodes_total": 326, "timesteps_since_restore": 1116159, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 25, "time_since_restore": 708.3096213340759, "num_metric_batches_dropped": 0, "timesteps_total": 1161066, "time_this_iter_s": 25.842432975769043, "date": "2019-05-07_03-26-41", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71828>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.422317584101503, "cost2_max": -28.35436024008329, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 12.787747835255185, "cost1_mean": 336.29676757760285, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 10.790421863814819, "outflow_rate_max": 928.762280871734, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 849.8434705202085, "cost2_mean": -185.51801454150237}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 44907, "episodes_this_iter": 12, "info": {"update_time_ms": 7.705, "num_steps_sampled": 1161066, "num_steps_trained": 1161066, "load_time_ms": 13.634, "sample_time_ms": 14972.043, "default": {"entropy": 1.0821080207824707, "policy_loss": -0.0019217872759327292, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9639343023300171, "vf_loss": 5.747836112976074, "total_loss": 5.746372222900391, "cur_lr": 0.0005000000237487257, "kl": 0.009145530872046947}, "grad_time_ms": 11579.21}, "done": false, "episode_reward_mean": 1037.7613292539224, "iterations_since_restore": 25, "time_total_s": 708.3096213340759, "timestamp": 1557199601, "pid": 281, "episode_len_mean": 693.43, "episode_reward_max": 1204.2790290282373, "episodes_total": 338, "timesteps_since_restore": 1161066, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 26, "time_since_restore": 736.1786694526672, "num_metric_batches_dropped": 0, "timesteps_total": 1204748, "time_this_iter_s": 27.86904811859131, "date": "2019-05-07_03-27-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f98>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.422317584101503, "cost2_max": -28.35436024008329, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 12.90529053140932, "cost1_mean": 336.16493568537385, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 10.790421863814819, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 850.7182487702572, "cost2_mean": -184.48115442164664}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 43682, "episodes_this_iter": 18, "info": {"update_time_ms": 7.844, "num_steps_sampled": 1204748, "num_steps_trained": 1204748, "load_time_ms": 13.679, "sample_time_ms": 15122.421, "default": {"entropy": 1.0543479919433594, "policy_loss": -0.003249255008995533, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.95381760597229, "vf_loss": 8.267241477966309, "total_loss": 8.26461124420166, "cur_lr": 0.0005000000237487257, "kl": 0.012387924827635288}, "grad_time_ms": 11469.386}, "done": false, "episode_reward_mean": 1035.4071321087295, "iterations_since_restore": 26, "time_total_s": 736.1786694526672, "timestamp": 1557199629, "pid": 281, "episode_len_mean": 688.36, "episode_reward_max": 1206.4357229954533, "episodes_total": 356, "timesteps_since_restore": 1204748, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 27, "time_since_restore": 762.1073853969574, "num_metric_batches_dropped": 0, "timesteps_total": 1246939, "time_this_iter_s": 25.92871594429016, "date": "2019-05-07_03-27-35", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e838d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.422317584101503, "cost2_max": -28.35436024008329, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 12.971425270150933, "cost1_mean": 337.97809740850016, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 10.790421863814819, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 855.3007432413563, "cost2_mean": -182.50853804242576}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 42191, "episodes_this_iter": 15, "info": {"update_time_ms": 7.987, "num_steps_sampled": 1246939, "num_steps_trained": 1246939, "load_time_ms": 14.278, "sample_time_ms": 15188.027, "default": {"entropy": 1.0670346021652222, "policy_loss": -0.0037147863768041134, "cur_kl_coeff": 0.05000000074505806, "vf_explained_var": 0.9577950239181519, "vf_loss": 7.373266696929932, "total_loss": 7.370052814483643, "cur_lr": 0.0005000000237487257, "kl": 0.010029477998614311}, "grad_time_ms": 11330.434}, "done": false, "episode_reward_mean": 1034.7877637340441, "iterations_since_restore": 27, "time_total_s": 762.1073853969574, "timestamp": 1557199655, "pid": 281, "episode_len_mean": 688.36, "episode_reward_max": 1206.4357229954533, "episodes_total": 371, "timesteps_since_restore": 1246939, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 28, "time_since_restore": 788.2468876838684, "num_metric_batches_dropped": 0, "timesteps_total": 1289476, "time_this_iter_s": 26.13950228691101, "date": "2019-05-07_03-28-01", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69ef0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.422317584101503, "cost2_max": -28.35436024008329, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 13.086617423070402, "cost1_mean": 340.78498142099323, "cost1_max": 381.1510725786016, "cost2_min": -221.16308688345202, "system_level_velocity_min": 11.33964269538268, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 20.029084903817406, "outflow_rate_mean": 858.4635687896655, "cost2_mean": -177.08606377913452}, "policy_reward_mean": {}, "episode_reward_min": 50.283909382733924, "timesteps_this_iter": 42537, "episodes_this_iter": 17, "info": {"update_time_ms": 8.084, "num_steps_sampled": 1289476, "num_steps_trained": 1289476, "load_time_ms": 14.313, "sample_time_ms": 15232.073, "default": {"entropy": 1.076097011566162, "policy_loss": -0.001646222430281341, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9404280185699463, "vf_loss": 9.883587837219238, "total_loss": 9.882353782653809, "cur_lr": 0.0005000000237487257, "kl": 0.008244471624493599}, "grad_time_ms": 11201.99}, "done": false, "episode_reward_mean": 1038.5229716635267, "iterations_since_restore": 28, "time_total_s": 788.2468876838684, "timestamp": 1557199681, "pid": 281, "episode_len_mean": 688.36, "episode_reward_max": 1206.4357229954533, "episodes_total": 388, "timesteps_since_restore": 1289476, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 29, "time_since_restore": 814.7655012607574, "num_metric_batches_dropped": 0, "timesteps_total": 1332497, "time_this_iter_s": 26.518613576889038, "date": "2019-05-07_03-28-28", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e798d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 120.84629180712056, "cost2_max": -82.91664459673113, "outflow_rate_min": 488.8812478848085, "system_level_velocity_mean": 13.012570982082686, "cost1_mean": 343.8079632050656, "cost1_max": 381.1510725786016, "cost2_min": -210.14618836497465, "system_level_velocity_min": 10.867891840380288, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 16.637812259597002, "outflow_rate_mean": 863.1313308426626, "cost2_mean": -172.44656897057735}, "policy_reward_mean": {}, "episode_reward_min": 302.2089794843954, "timesteps_this_iter": 43021, "episodes_this_iter": 13, "info": {"update_time_ms": 8.107, "num_steps_sampled": 1332497, "num_steps_trained": 1332497, "load_time_ms": 14.382, "sample_time_ms": 15358.746, "default": {"entropy": 1.0815825462341309, "policy_loss": -0.004136058036237955, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9270918965339661, "vf_loss": 10.242142677307129, "total_loss": 10.238627433776855, "cur_lr": 0.0005000000237487257, "kl": 0.012398024089634418}, "grad_time_ms": 11021.016}, "done": false, "episode_reward_mean": 1044.442871867709, "iterations_since_restore": 29, "time_total_s": 814.7655012607574, "timestamp": 1557199708, "pid": 281, "episode_len_mean": 694.93, "episode_reward_max": 1206.4357229954533, "episodes_total": 401, "timesteps_since_restore": 1332497, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 30, "time_since_restore": 840.5019266605377, "num_metric_batches_dropped": 0, "timesteps_total": 1375151, "time_this_iter_s": 25.736425399780273, "date": "2019-05-07_03-28-53", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e712e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ce80>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 120.84629180712056, "cost2_max": -82.91664459673113, "outflow_rate_min": 488.8812478848085, "system_level_velocity_mean": 12.96763545905073, "cost1_mean": 342.56458283736947, "cost1_max": 380.60231689223644, "cost2_min": -207.63918284251366, "system_level_velocity_min": 10.867891840380288, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 16.637812259597002, "outflow_rate_mean": 860.324114538967, "cost2_mean": -166.68698558986696}, "policy_reward_mean": {}, "episode_reward_min": 302.2089794843954, "timesteps_this_iter": 42654, "episodes_this_iter": 14, "info": {"update_time_ms": 8.18, "num_steps_sampled": 1375151, "num_steps_trained": 1375151, "load_time_ms": 14.267, "sample_time_ms": 15459.324, "default": {"entropy": 1.0690524578094482, "policy_loss": -0.002564686583355069, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9301039576530457, "vf_loss": 11.100102424621582, "total_loss": 11.098158836364746, "cur_lr": 0.0005000000237487257, "kl": 0.012416229583323002}, "grad_time_ms": 10793.357}, "done": false, "episode_reward_mean": 1040.0278462189112, "iterations_since_restore": 30, "time_total_s": 840.5019266605377, "timestamp": 1557199733, "pid": 281, "episode_len_mean": 694.93, "episode_reward_max": 1206.4357229954533, "episodes_total": 415, "timesteps_since_restore": 1375151, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 31, "time_since_restore": 866.5859179496765, "num_metric_batches_dropped": 0, "timesteps_total": 1419343, "time_this_iter_s": 26.083991289138794, "date": "2019-05-07_03-29-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e836a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83518>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 13.041325347278505, "cost1_mean": 339.68440424766624, "cost1_max": 377.1712569221704, "cost2_min": -207.3383314461872, "system_level_velocity_min": 10.867891840380288, "outflow_rate_max": 929.027964513815, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 857.0624602735177, "cost2_mean": -157.66002040988033}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 44192, "episodes_this_iter": 17, "info": {"update_time_ms": 8.202, "num_steps_sampled": 1419343, "num_steps_trained": 1419343, "load_time_ms": 14.46, "sample_time_ms": 15535.189, "default": {"entropy": 1.0846878290176392, "policy_loss": -0.003761479863896966, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.939570426940918, "vf_loss": 10.261680603027344, "total_loss": 10.258515357971191, "cur_lr": 0.0005000000237487257, "kl": 0.01193621102720499}, "grad_time_ms": 10507.257}, "done": false, "episode_reward_mean": 1019.1633054339362, "iterations_since_restore": 31, "time_total_s": 866.5859179496765, "timestamp": 1557199759, "pid": 281, "episode_len_mean": 688.39, "episode_reward_max": 1206.4357229954533, "episodes_total": 432, "timesteps_since_restore": 1419343, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 32, "time_since_restore": 893.3160784244537, "num_metric_batches_dropped": 0, "timesteps_total": 1463221, "time_this_iter_s": 26.73016047477722, "date": "2019-05-07_03-29-46", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c1d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 13.015178232592934, "cost1_mean": 338.86309576947644, "cost1_max": 385.61392633615526, "cost2_min": -208.10451893491518, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 960.9893493721969, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 855.2113367327211, "cost2_mean": -156.2219190543773}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 43878, "episodes_this_iter": 14, "info": {"update_time_ms": 8.162, "num_steps_sampled": 1463221, "num_steps_trained": 1463221, "load_time_ms": 14.4, "sample_time_ms": 15908.819, "default": {"entropy": 1.0675002336502075, "policy_loss": -0.0030505305621773005, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9624953866004944, "vf_loss": 6.629088401794434, "total_loss": 6.626552581787109, "cur_lr": 0.0005000000237487257, "kl": 0.010299920104444027}, "grad_time_ms": 10201.856}, "done": false, "episode_reward_mean": 1017.0197165762016, "iterations_since_restore": 32, "time_total_s": 893.3160784244537, "timestamp": 1557199786, "pid": 281, "episode_len_mean": 688.39, "episode_reward_max": 1206.4357229954533, "episodes_total": 446, "timesteps_since_restore": 1463221, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 33, "time_since_restore": 918.7809443473816, "num_metric_batches_dropped": 0, "timesteps_total": 1507631, "time_this_iter_s": 25.464865922927856, "date": "2019-05-07_03-30-12", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e798d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 12.913907438728423, "cost1_mean": 339.3325874630776, "cost1_max": 385.61392633615526, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 960.9893493721969, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 855.5891617833906, "cost2_mean": -158.82456752133692}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 44410, "episodes_this_iter": 16, "info": {"update_time_ms": 8.105, "num_steps_sampled": 1507631, "num_steps_trained": 1507631, "load_time_ms": 13.898, "sample_time_ms": 15970.634, "default": {"entropy": 1.1063445806503296, "policy_loss": -0.0036724554374814034, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9590808749198914, "vf_loss": 7.00222110748291, "total_loss": 6.999136447906494, "cur_lr": 0.0005000000237487257, "kl": 0.011748479679226875}, "grad_time_ms": 10043.048}, "done": false, "episode_reward_mean": 1022.1071761560883, "iterations_since_restore": 33, "time_total_s": 918.7809443473816, "timestamp": 1557199812, "pid": 281, "episode_len_mean": 693.46, "episode_reward_max": 1153.227274702642, "episodes_total": 462, "timesteps_since_restore": 1507631, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 34, "time_since_restore": 945.8685202598572, "num_metric_batches_dropped": 0, "timesteps_total": 1552672, "time_this_iter_s": 27.087575912475586, "date": "2019-05-07_03-30-39", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ceb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb38>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 12.927759483137264, "cost1_mean": 335.70029973413614, "cost1_max": 385.61392633615526, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 960.9893493721969, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 848.814158995828, "cost2_mean": -158.85646994792452}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 45041, "episodes_this_iter": 14, "info": {"update_time_ms": 7.815, "num_steps_sampled": 1552672, "num_steps_trained": 1552672, "load_time_ms": 13.154, "sample_time_ms": 16281.61, "default": {"entropy": 1.0759345293045044, "policy_loss": -0.004275414161384106, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9753268361091614, "vf_loss": 6.056370735168457, "total_loss": 6.052855491638184, "cur_lr": 0.0005000000237487257, "kl": 0.015201647765934467}, "grad_time_ms": 9944.036}, "done": false, "episode_reward_mean": 1009.5239785316809, "iterations_since_restore": 34, "time_total_s": 945.8685202598572, "timestamp": 1557199839, "pid": 281, "episode_len_mean": 687.87, "episode_reward_max": 1149.5712087736827, "episodes_total": 476, "timesteps_since_restore": 1552672, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 35, "time_since_restore": 971.2615909576416, "num_metric_batches_dropped": 0, "timesteps_total": 1597540, "time_this_iter_s": 25.393070697784424, "date": "2019-05-07_03-31-04", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 13.031330743646524, "cost1_mean": 338.453189643057, "cost1_max": 393.7267856682979, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 960.9893493721969, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 856.0093725668662, "cost2_mean": -162.33536851319587}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 44868, "episodes_this_iter": 14, "info": {"update_time_ms": 7.779, "num_steps_sampled": 1597540, "num_steps_trained": 1597540, "load_time_ms": 13.512, "sample_time_ms": 16319.301, "default": {"entropy": 1.1125967502593994, "policy_loss": -0.004022367298603058, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9860265254974365, "vf_loss": 3.3336987495422363, "total_loss": 3.3302667140960693, "cur_lr": 0.0005000000237487257, "kl": 0.011811197735369205}, "grad_time_ms": 9862.577}, "done": false, "episode_reward_mean": 1008.918115438882, "iterations_since_restore": 35, "time_total_s": 971.2615909576416, "timestamp": 1557199864, "pid": 281, "episode_len_mean": 687.87, "episode_reward_max": 1153.109058677511, "episodes_total": 490, "timesteps_since_restore": 1597540, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 36, "time_since_restore": 997.9264600276947, "num_metric_batches_dropped": 0, "timesteps_total": 1643973, "time_this_iter_s": 26.6648690700531, "date": "2019-05-07_03-31-31", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69908>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 328.35239028511677, "system_level_velocity_mean": 13.116495554845486, "cost1_mean": 336.8081923809032, "cost1_max": 413.2731898142366, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 960.9893493721969, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 856.1842768248788, "cost2_mean": -166.38185340060846}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 46433, "episodes_this_iter": 16, "info": {"update_time_ms": 7.566, "num_steps_sampled": 1643973, "num_steps_trained": 1643973, "load_time_ms": 13.574, "sample_time_ms": 16298.89, "default": {"entropy": 1.1380736827850342, "policy_loss": -0.0034925753716379404, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9749222993850708, "vf_loss": 5.704751491546631, "total_loss": 5.701892375946045, "cur_lr": 0.0005000000237487257, "kl": 0.012650679796934128}, "grad_time_ms": 9764.237}, "done": false, "episode_reward_mean": 1000.2870392233551, "iterations_since_restore": 36, "time_total_s": 997.9264600276947, "timestamp": 1557199891, "pid": 281, "episode_len_mean": 682.29, "episode_reward_max": 1228.2921588812496, "episodes_total": 506, "timesteps_since_restore": 1643973, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 37, "time_since_restore": 1022.7735171318054, "num_metric_batches_dropped": 0, "timesteps_total": 1687190, "time_this_iter_s": 24.847057104110718, "date": "2019-05-07_03-31-56", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710f0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 31.277457919929507, "cost2_max": -30.220198001477314, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.27518277294638, "cost1_mean": 336.3142586731827, "cost1_max": 413.2731898142366, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 19.48966023799277, "outflow_rate_mean": 857.8302631122398, "cost2_mean": -168.20578704071653}, "policy_reward_mean": {}, "episode_reward_min": 53.67257196129584, "timesteps_this_iter": 43217, "episodes_this_iter": 14, "info": {"update_time_ms": 7.484, "num_steps_sampled": 1687190, "num_steps_trained": 1687190, "load_time_ms": 13.162, "sample_time_ms": 16194.012, "default": {"entropy": 1.069130778312683, "policy_loss": -0.003479845356196165, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9730530977249146, "vf_loss": 6.900411128997803, "total_loss": 6.897531986236572, "cur_lr": 0.0005000000237487257, "kl": 0.012022996321320534}, "grad_time_ms": 9764.665}, "done": false, "episode_reward_mean": 998.3747323016723, "iterations_since_restore": 37, "time_total_s": 1022.7735171318054, "timestamp": 1557199916, "pid": 281, "episode_len_mean": 675.79, "episode_reward_max": 1228.2921588812496, "episodes_total": 520, "timesteps_since_restore": 1687190, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 38, "time_since_restore": 1049.4775066375732, "num_metric_batches_dropped": 0, "timesteps_total": 1730680, "time_this_iter_s": 26.703989505767822, "date": "2019-05-07_03-32-22", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e830b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83588>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.9274013880152, "cost2_max": -31.509426499635936, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.274462428861469, "cost1_mean": 341.3956235055445, "cost1_max": 413.2731898142366, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.58548562076829, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 18.903792122094277, "outflow_rate_mean": 867.8576788608489, "cost2_mean": -174.45827568130258}, "policy_reward_mean": {}, "episode_reward_min": 66.86594976747763, "timesteps_this_iter": 43490, "episodes_this_iter": 16, "info": {"update_time_ms": 7.128, "num_steps_sampled": 1730680, "num_steps_trained": 1730680, "load_time_ms": 12.872, "sample_time_ms": 16172.827, "default": {"entropy": 1.0894427299499512, "policy_loss": -0.0055856527760624886, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9726412892341614, "vf_loss": 6.112196445465088, "total_loss": 6.107243061065674, "cur_lr": 0.0005000000237487257, "kl": 0.01263959426432848}, "grad_time_ms": 9842.755}, "done": false, "episode_reward_mean": 1013.6326855278463, "iterations_since_restore": 38, "time_total_s": 1049.4775066375732, "timestamp": 1557199942, "pid": 281, "episode_len_mean": 682.33, "episode_reward_max": 1228.2921588812496, "episodes_total": 536, "timesteps_since_restore": 1730680, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 39, "time_since_restore": 1075.218158006668, "num_metric_batches_dropped": 0, "timesteps_total": 1775080, "time_this_iter_s": 25.74065136909485, "date": "2019-05-07_03-32-48", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96908>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.9274013880152, "cost2_max": -31.509426499635936, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.383128739656271, "cost1_mean": 344.35100364586293, "cost1_max": 413.2731898142366, "cost2_min": -215.63107063647848, "system_level_velocity_min": 10.688758639279486, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 18.903792122094277, "outflow_rate_mean": 874.3801215114737, "cost2_mean": -175.73395223218708}, "policy_reward_mean": {}, "episode_reward_min": 66.86594976747763, "timesteps_this_iter": 44400, "episodes_this_iter": 14, "info": {"update_time_ms": 6.903, "num_steps_sampled": 1775080, "num_steps_trained": 1775080, "load_time_ms": 12.909, "sample_time_ms": 15966.272, "default": {"entropy": 1.0726783275604248, "policy_loss": -0.0042547001503407955, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9830830097198486, "vf_loss": 4.032323837280273, "total_loss": 4.028654098510742, "cur_lr": 0.0005000000237487257, "kl": 0.011696935631334782}, "grad_time_ms": 9970.198}, "done": false, "episode_reward_mean": 1018.5708199626242, "iterations_since_restore": 39, "time_total_s": 1075.218158006668, "timestamp": 1557199968, "pid": 281, "episode_len_mean": 682.33, "episode_reward_max": 1228.2921588812496, "episodes_total": 550, "timesteps_since_restore": 1775080, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 40, "time_since_restore": 1100.355284690857, "num_metric_batches_dropped": 0, "timesteps_total": 1818010, "time_this_iter_s": 25.137126684188843, "date": "2019-05-07_03-33-13", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e836d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83240>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.9274013880152, "cost2_max": -31.509426499635936, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.416101830591794, "cost1_mean": 348.8798140138016, "cost1_max": 413.2731898142366, "cost2_min": -203.6715019951107, "system_level_velocity_min": 10.688758639279486, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 18.903792122094277, "outflow_rate_mean": 882.4908077124602, "cost2_mean": -177.28811279639768}, "policy_reward_mean": {}, "episode_reward_min": 66.86594976747763, "timesteps_this_iter": 42930, "episodes_this_iter": 17, "info": {"update_time_ms": 6.874, "num_steps_sampled": 1818010, "num_steps_trained": 1818010, "load_time_ms": 13.119, "sample_time_ms": 15812.674, "default": {"entropy": 1.0226744413375854, "policy_loss": -0.0034933339338749647, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9850944876670837, "vf_loss": 4.042032241821289, "total_loss": 4.039078235626221, "cur_lr": 0.0005000000237487257, "kl": 0.010782355442643166}, "grad_time_ms": 10063.785}, "done": false, "episode_reward_mean": 1029.6124845234342, "iterations_since_restore": 40, "time_total_s": 1100.355284690857, "timestamp": 1557199993, "pid": 281, "episode_len_mean": 687.92, "episode_reward_max": 1228.2921588812496, "episodes_total": 567, "timesteps_since_restore": 1818010, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 41, "time_since_restore": 1126.8402693271637, "num_metric_batches_dropped": 0, "timesteps_total": 1863196, "time_this_iter_s": 26.484984636306763, "date": "2019-05-07_03-33-40", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cd30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cf60>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.9274013880152, "cost2_max": -31.509426499635936, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.479281811476993, "cost1_mean": 350.6236679144521, "cost1_max": 413.2731898142366, "cost2_min": -203.6715019951107, "system_level_velocity_min": 10.688758639279486, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 18.903792122094277, "outflow_rate_mean": 884.8149279202667, "cost2_mean": -179.03356234151545}, "policy_reward_mean": {}, "episode_reward_min": 66.86594976747763, "timesteps_this_iter": 45186, "episodes_this_iter": 15, "info": {"update_time_ms": 7.212, "num_steps_sampled": 1863196, "num_steps_trained": 1863196, "load_time_ms": 12.942, "sample_time_ms": 15685.989, "default": {"entropy": 1.0686326026916504, "policy_loss": -0.0036127837374806404, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9819055795669556, "vf_loss": 4.32373046875, "total_loss": 4.320630073547363, "cur_lr": 0.0005000000237487257, "kl": 0.010247485712170601}, "grad_time_ms": 10227.385}, "done": false, "episode_reward_mean": 1034.5555023344973, "iterations_since_restore": 41, "time_total_s": 1126.8402693271637, "timestamp": 1557200020, "pid": 281, "episode_len_mean": 687.92, "episode_reward_max": 1252.8771724753328, "episodes_total": 582, "timesteps_since_restore": 1863196, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 42, "time_since_restore": 1151.892501592636, "num_metric_batches_dropped": 0, "timesteps_total": 1909026, "time_this_iter_s": 25.052232265472412, "date": "2019-05-07_03-34-05", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835c0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.9274013880152, "cost2_max": -31.509426499635936, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.502820517383986, "cost1_mean": 351.403718727362, "cost1_max": 413.2731898142366, "cost2_min": -213.45127501395132, "system_level_velocity_min": 10.688758639279486, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 18.903792122094277, "outflow_rate_mean": 886.7829241793396, "cost2_mean": -179.7405126446608}, "policy_reward_mean": {}, "episode_reward_min": 66.86594976747763, "timesteps_this_iter": 45830, "episodes_this_iter": 10, "info": {"update_time_ms": 7.244, "num_steps_sampled": 1909026, "num_steps_trained": 1909026, "load_time_ms": 12.81, "sample_time_ms": 15257.969, "default": {"entropy": 1.0434014797210693, "policy_loss": -0.0034033216070383787, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.988933265209198, "vf_loss": 2.9588780403137207, "total_loss": 2.9559824466705322, "cur_lr": 0.0005000000237487257, "kl": 0.010157687589526176}, "grad_time_ms": 10487.357}, "done": false, "episode_reward_mean": 1035.3731596188595, "iterations_since_restore": 42, "time_total_s": 1151.892501592636, "timestamp": 1557200045, "pid": 281, "episode_len_mean": 687.92, "episode_reward_max": 1252.8771724753328, "episodes_total": 592, "timesteps_since_restore": 1909026, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 43, "time_since_restore": 1177.1788053512573, "num_metric_batches_dropped": 0, "timesteps_total": 1953041, "time_this_iter_s": 25.286303758621216, "date": "2019-05-07_03-34-30", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96908>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 280.9127328595104, "cost2_max": -158.0667258694617, "outflow_rate_min": 743.7424464976059, "system_level_velocity_mean": 13.37943085452698, "cost1_mean": 356.8358098950945, "cost1_max": 392.46225657844496, "cost2_min": -213.45127501395132, "system_level_velocity_min": 10.688758639279486, "outflow_rate_max": 967.1435762455689, "system_level_velocity_max": 14.883047588588816, "outflow_rate_mean": 897.3718471240836, "cost2_mean": -183.84440866246143}, "policy_reward_mean": {}, "episode_reward_min": 815.4837695186266, "timesteps_this_iter": 44015, "episodes_this_iter": 18, "info": {"update_time_ms": 7.278, "num_steps_sampled": 1953041, "num_steps_trained": 1953041, "load_time_ms": 12.941, "sample_time_ms": 15078.23, "default": {"entropy": 1.0063183307647705, "policy_loss": -0.004320221021771431, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9842977523803711, "vf_loss": 4.430187702178955, "total_loss": 4.426470756530762, "cur_lr": 0.0005000000237487257, "kl": 0.012058384716510773}, "grad_time_ms": 10648.25}, "done": false, "episode_reward_mean": 1059.8469569291135, "iterations_since_restore": 43, "time_total_s": 1177.1788053512573, "timestamp": 1557200070, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 1252.8771724753328, "episodes_total": 610, "timesteps_since_restore": 1953041, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 44, "time_since_restore": 1204.7492401599884, "num_metric_batches_dropped": 0, "timesteps_total": 1997453, "time_this_iter_s": 27.57043480873108, "date": "2019-05-07_03-34-58", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e836d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83518>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 174.1509071353849, "cost2_max": -104.97270478610639, "outflow_rate_min": 551.9416243542238, "system_level_velocity_mean": 13.515830490436715, "cost1_mean": 357.51329810350444, "cost1_max": 397.03299718574806, "cost2_min": -213.45127501395132, "system_level_velocity_min": 11.759425131863388, "outflow_rate_max": 962.1725026895476, "system_level_velocity_max": 16.592642259137296, "outflow_rate_mean": 897.065047752491, "cost2_mean": -183.39282272397796}, "policy_reward_mean": {}, "episode_reward_min": 478.31455020790287, "timesteps_this_iter": 44412, "episodes_this_iter": 16, "info": {"update_time_ms": 7.638, "num_steps_sampled": 1997453, "num_steps_trained": 1997453, "load_time_ms": 13.499, "sample_time_ms": 15002.399, "default": {"entropy": 1.0390311479568481, "policy_loss": -0.004972898401319981, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9779767990112305, "vf_loss": 6.422906398773193, "total_loss": 6.418910026550293, "cur_lr": 0.0005000000237487257, "kl": 0.01954096369445324}, "grad_time_ms": 10768.78}, "done": false, "episode_reward_mean": 1062.4816826272904, "iterations_since_restore": 44, "time_total_s": 1204.7492401599884, "timestamp": 1557200098, "pid": 281, "episode_len_mean": 695.76, "episode_reward_max": 1252.8771724753328, "episodes_total": 626, "timesteps_since_restore": 1997453, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 45, "time_since_restore": 1230.7519035339355, "num_metric_batches_dropped": 0, "timesteps_total": 2041009, "time_this_iter_s": 26.002663373947144, "date": "2019-05-07_03-35-24", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 329.21922607834034, "system_level_velocity_mean": 13.598818732123634, "cost1_mean": 354.49054084290407, "cost1_max": 398.7687144212854, "cost2_min": -213.45127501395132, "system_level_velocity_min": 12.11717365567559, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 892.2341349437156, "cost2_mean": -181.83393398879085}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 43556, "episodes_this_iter": 13, "info": {"update_time_ms": 7.898, "num_steps_sampled": 2041009, "num_steps_trained": 2041009, "load_time_ms": 12.685, "sample_time_ms": 15003.498, "default": {"entropy": 1.0114026069641113, "policy_loss": -0.0048389495350420475, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9724485278129578, "vf_loss": 7.421389579772949, "total_loss": 7.417206287384033, "cur_lr": 0.0005000000237487257, "kl": 0.013102531433105469}, "grad_time_ms": 10827.659}, "done": false, "episode_reward_mean": 1056.2862336598794, "iterations_since_restore": 45, "time_total_s": 1230.7519035339355, "timestamp": 1557200124, "pid": 281, "episode_len_mean": 689.2, "episode_reward_max": 1252.8771724753328, "episodes_total": 639, "timesteps_since_restore": 2041009, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 46, "time_since_restore": 1257.063452720642, "num_metric_batches_dropped": 0, "timesteps_total": 2084202, "time_this_iter_s": 26.311549186706543, "date": "2019-05-07_03-35-50", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cd68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cc18>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.697383022780643, "cost1_mean": 352.2437190350517, "cost1_max": 402.44155642500937, "cost2_min": -213.45127501395132, "system_level_velocity_min": 11.924918537396136, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 889.2912878720962, "cost2_mean": -179.97843471872383}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 43193, "episodes_this_iter": 18, "info": {"update_time_ms": 8.082, "num_steps_sampled": 2084202, "num_steps_trained": 2084202, "load_time_ms": 12.255, "sample_time_ms": 14972.894, "default": {"entropy": 0.9913530945777893, "policy_loss": -0.00433002645149827, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9654532074928284, "vf_loss": 7.627396583557129, "total_loss": 7.623916149139404, "cur_lr": 0.0005000000237487257, "kl": 0.01701306365430355}, "grad_time_ms": 10821.337}, "done": false, "episode_reward_mean": 1050.5665941121085, "iterations_since_restore": 46, "time_total_s": 1257.063452720642, "timestamp": 1557200150, "pid": 281, "episode_len_mean": 682.7, "episode_reward_max": 1252.8771724753328, "episodes_total": 657, "timesteps_since_restore": 2084202, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 47, "time_since_restore": 1282.2749936580658, "num_metric_batches_dropped": 0, "timesteps_total": 2128566, "time_this_iter_s": 25.211540937423706, "date": "2019-05-07_03-36-16", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a90>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.72470997731778, "cost1_mean": 349.0187995467282, "cost1_max": 402.44155642500937, "cost2_min": -213.45127501395132, "system_level_velocity_min": 11.101446568217865, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 885.0075298604212, "cost2_mean": -177.16935824014763}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 44364, "episodes_this_iter": 13, "info": {"update_time_ms": 8.451, "num_steps_sampled": 2128566, "num_steps_trained": 2128566, "load_time_ms": 12.647, "sample_time_ms": 14977.891, "default": {"entropy": 0.9826210141181946, "policy_loss": -0.0037031834945082664, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9611161351203918, "vf_loss": 8.791768074035645, "total_loss": 8.78877067565918, "cur_lr": 0.0005000000237487257, "kl": 0.014111202210187912}, "grad_time_ms": 10849.123}, "done": false, "episode_reward_mean": 1047.0745121689374, "iterations_since_restore": 47, "time_total_s": 1282.2749936580658, "timestamp": 1557200176, "pid": 281, "episode_len_mean": 677.26, "episode_reward_max": 1252.8771724753328, "episodes_total": 670, "timesteps_since_restore": 2128566, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 48, "time_since_restore": 1307.185656785965, "num_metric_batches_dropped": 0, "timesteps_total": 2173265, "time_this_iter_s": 24.91066312789917, "date": "2019-05-07_03-36-41", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83320>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.683065849824608, "cost1_mean": 347.4294104502053, "cost1_max": 402.44155642500937, "cost2_min": -213.45127501395132, "system_level_velocity_min": 11.101446568217865, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 880.5678546473739, "cost2_mean": -175.49826383024003}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 44699, "episodes_this_iter": 15, "info": {"update_time_ms": 8.769, "num_steps_sampled": 2173265, "num_steps_trained": 2173265, "load_time_ms": 12.529, "sample_time_ms": 14888.377, "default": {"entropy": 0.9970045685768127, "policy_loss": -0.005243509542196989, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9842450618743896, "vf_loss": 4.315621852874756, "total_loss": 4.311099052429199, "cur_lr": 0.0005000000237487257, "kl": 0.014401528984308243}, "grad_time_ms": 10758.5}, "done": false, "episode_reward_mean": 1048.5980092502014, "iterations_since_restore": 48, "time_total_s": 1307.185656785965, "timestamp": 1557200201, "pid": 281, "episode_len_mean": 677.26, "episode_reward_max": 1229.2255151019822, "episodes_total": 685, "timesteps_since_restore": 2173265, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 49, "time_since_restore": 1334.2423741817474, "num_metric_batches_dropped": 0, "timesteps_total": 2217137, "time_this_iter_s": 27.05671739578247, "date": "2019-05-07_03-37-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ccf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cc18>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.621371472131962, "cost1_mean": 345.4201161055348, "cost1_max": 402.44155642500937, "cost2_min": -197.4754060455375, "system_level_velocity_min": 11.101446568217865, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 877.4751231067705, "cost2_mean": -174.29971924062724}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 43872, "episodes_this_iter": 16, "info": {"update_time_ms": 9.071, "num_steps_sampled": 2217137, "num_steps_trained": 2217137, "load_time_ms": 12.397, "sample_time_ms": 15135.426, "default": {"entropy": 1.0084834098815918, "policy_loss": -0.00472433865070343, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.985561192035675, "vf_loss": 4.271790504455566, "total_loss": 4.267742156982422, "cur_lr": 0.0005000000237487257, "kl": 0.01351364329457283}, "grad_time_ms": 10644.678}, "done": false, "episode_reward_mean": 1041.4924880994743, "iterations_since_restore": 49, "time_total_s": 1334.2423741817474, "timestamp": 1557200228, "pid": 281, "episode_len_mean": 677.26, "episode_reward_max": 1229.2255151019822, "episodes_total": 701, "timesteps_since_restore": 2217137, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 50, "time_since_restore": 1363.353282213211, "num_metric_batches_dropped": 0, "timesteps_total": 2264303, "time_this_iter_s": 29.110908031463623, "date": "2019-05-07_03-37-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e48>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.595611962909201, "cost1_mean": 347.0878112801787, "cost1_max": 406.0164221569913, "cost2_min": -215.51625769345515, "system_level_velocity_min": 11.101446568217865, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 880.9477977048045, "cost2_mean": -175.11467688506713}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 47166, "episodes_this_iter": 12, "info": {"update_time_ms": 9.289, "num_steps_sampled": 2264303, "num_steps_trained": 2264303, "load_time_ms": 12.318, "sample_time_ms": 15434.976, "default": {"entropy": 1.0117641687393188, "policy_loss": -0.003621985437348485, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.993264377117157, "vf_loss": 2.0594229698181152, "total_loss": 2.056391716003418, "cur_lr": 0.0005000000237487257, "kl": 0.011816971004009247}, "grad_time_ms": 10740.548}, "done": false, "episode_reward_mean": 1040.475192743335, "iterations_since_restore": 50, "time_total_s": 1363.353282213211, "timestamp": 1557200257, "pid": 281, "episode_len_mean": 681.5, "episode_reward_max": 1229.2255151019822, "episodes_total": 713, "timesteps_since_restore": 2264303, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 51, "time_since_restore": 1390.7782649993896, "num_metric_batches_dropped": 0, "timesteps_total": 2309459, "time_this_iter_s": 27.42498278617859, "date": "2019-05-07_03-38-04", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c320>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.982494935395344, "cost2_max": -29.233162599523297, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.562727756862063, "cost1_mean": 346.0007159358609, "cost1_max": 406.0164221569913, "cost2_min": -215.51625769345515, "system_level_velocity_min": 11.101446568217865, "outflow_rate_max": 981.4134627566979, "system_level_velocity_max": 19.94403678071135, "outflow_rate_mean": 880.513112900695, "cost2_mean": -175.72049202722982}, "policy_reward_mean": {}, "episode_reward_min": 51.852376115462434, "timesteps_this_iter": 45156, "episodes_this_iter": 15, "info": {"update_time_ms": 9.189, "num_steps_sampled": 2309459, "num_steps_trained": 2309459, "load_time_ms": 11.736, "sample_time_ms": 15538.979, "default": {"entropy": 0.9807250499725342, "policy_loss": -0.0039691440761089325, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9923279285430908, "vf_loss": 2.7959940433502197, "total_loss": 2.7927589416503906, "cur_lr": 0.0005000000237487257, "kl": 0.014680343680083752}, "grad_time_ms": 10730.752}, "done": false, "episode_reward_mean": 1030.922742589084, "iterations_since_restore": 51, "time_total_s": 1390.7782649993896, "timestamp": 1557200284, "pid": 281, "episode_len_mean": 681.5, "episode_reward_max": 1262.7113122349754, "episodes_total": 728, "timesteps_since_restore": 2309459, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 52, "time_since_restore": 1417.1812405586243, "num_metric_batches_dropped": 0, "timesteps_total": 2355105, "time_this_iter_s": 26.40297555923462, "date": "2019-05-07_03-38-31", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96ba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.77824201238719, "cost2_max": -29.814306538415035, "outflow_rate_min": 324.8763846761304, "system_level_velocity_mean": 13.54735180359038, "cost1_mean": 345.69655727350005, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 10.783843790435826, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 879.1620420858252, "cost2_mean": -176.8417247197045}, "policy_reward_mean": {}, "episode_reward_min": 58.61672301199095, "timesteps_this_iter": 45646, "episodes_this_iter": 16, "info": {"update_time_ms": 9.449, "num_steps_sampled": 2355105, "num_steps_trained": 2355105, "load_time_ms": 11.802, "sample_time_ms": 15697.072, "default": {"entropy": 0.9812796711921692, "policy_loss": -0.004868524614721537, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9860985279083252, "vf_loss": 4.681082248687744, "total_loss": 4.6770548820495605, "cur_lr": 0.0005000000237487257, "kl": 0.01682337000966072}, "grad_time_ms": 10704.538}, "done": false, "episode_reward_mean": 1030.1360706529056, "iterations_since_restore": 52, "time_total_s": 1417.1812405586243, "timestamp": 1557200311, "pid": 281, "episode_len_mean": 682.13, "episode_reward_max": 1293.7756011541635, "episodes_total": 744, "timesteps_since_restore": 2355105, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 53, "time_since_restore": 1442.9481632709503, "num_metric_batches_dropped": 0, "timesteps_total": 2399408, "time_this_iter_s": 25.76692271232605, "date": "2019-05-07_03-38-56", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cda0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 74.34437920263636, "cost2_max": -46.86351034095852, "outflow_rate_min": 411.93778116209114, "system_level_velocity_mean": 13.594620751472155, "cost1_mean": 343.95871359253323, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 10.783843790435826, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 876.026415721638, "cost2_mean": -176.33389333645988}, "policy_reward_mean": {}, "episode_reward_min": 143.7290446998982, "timesteps_this_iter": 44303, "episodes_this_iter": 16, "info": {"update_time_ms": 9.65, "num_steps_sampled": 2399408, "num_steps_trained": 2399408, "load_time_ms": 12.121, "sample_time_ms": 15732.223, "default": {"entropy": 0.9697254300117493, "policy_loss": -0.0028436295688152313, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9797458648681641, "vf_loss": 6.806010723114014, "total_loss": 6.803971290588379, "cur_lr": 0.0005000000237487257, "kl": 0.01608726941049099}, "grad_time_ms": 10715.978}, "done": false, "episode_reward_mean": 1020.56889975527, "iterations_since_restore": 53, "time_total_s": 1442.9481632709503, "timestamp": 1557200336, "pid": 281, "episode_len_mean": 677.64, "episode_reward_max": 1293.7756011541635, "episodes_total": 760, "timesteps_since_restore": 2399408, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 54, "time_since_restore": 1468.8026630878448, "num_metric_batches_dropped": 0, "timesteps_total": 2444645, "time_this_iter_s": 25.85449981689453, "date": "2019-05-07_03-39-22", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c278>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 74.34437920263636, "cost2_max": -46.86351034095852, "outflow_rate_min": 411.93778116209114, "system_level_velocity_mean": 13.516223630452977, "cost1_mean": 345.8357004566113, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 880.5058890815179, "cost2_mean": -178.8703859415065}, "policy_reward_mean": {}, "episode_reward_min": 143.7290446998982, "timesteps_this_iter": 45237, "episodes_this_iter": 12, "info": {"update_time_ms": 9.377, "num_steps_sampled": 2444645, "num_steps_trained": 2444645, "load_time_ms": 12.55, "sample_time_ms": 15521.436, "default": {"entropy": 1.0035483837127686, "policy_loss": -0.0033632891718298197, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.991827666759491, "vf_loss": 2.490562677383423, "total_loss": 2.487837791442871, "cur_lr": 0.0005000000237487257, "kl": 0.0127662168815732}, "grad_time_ms": 10755.217}, "done": false, "episode_reward_mean": 1023.5449237340201, "iterations_since_restore": 54, "time_total_s": 1468.8026630878448, "timestamp": 1557200362, "pid": 281, "episode_len_mean": 683.08, "episode_reward_max": 1293.7756011541635, "episodes_total": 772, "timesteps_since_restore": 2444645, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 55, "time_since_restore": 1495.9010469913483, "num_metric_batches_dropped": 0, "timesteps_total": 2492189, "time_this_iter_s": 27.098383903503418, "date": "2019-05-07_03-39-49", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1f28>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 74.34437920263636, "cost2_max": -46.86351034095852, "outflow_rate_min": 411.93778116209114, "system_level_velocity_mean": 13.488470908490028, "cost1_mean": 345.3129096608903, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 880.6382806249163, "cost2_mean": -179.66736382325792}, "policy_reward_mean": {}, "episode_reward_min": 143.7290446998982, "timesteps_this_iter": 47544, "episodes_this_iter": 14, "info": {"update_time_ms": 9.26, "num_steps_sampled": 2492189, "num_steps_trained": 2492189, "load_time_ms": 13.59, "sample_time_ms": 15480.989, "default": {"entropy": 1.019330382347107, "policy_loss": -0.004744058474898338, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9924069046974182, "vf_loss": 2.2979941368103027, "total_loss": 2.2939891815185547, "cur_lr": 0.0005000000237487257, "kl": 0.014783687889575958}, "grad_time_ms": 10903.433}, "done": false, "episode_reward_mean": 1015.313271114376, "iterations_since_restore": 55, "time_total_s": 1495.9010469913483, "timestamp": 1557200389, "pid": 281, "episode_len_mean": 683.08, "episode_reward_max": 1293.7756011541635, "episodes_total": 786, "timesteps_since_restore": 2492189, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 56, "time_since_restore": 1521.7190897464752, "num_metric_batches_dropped": 0, "timesteps_total": 2535648, "time_this_iter_s": 25.818042755126953, "date": "2019-05-07_03-40-15", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e960b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 74.34437920263636, "cost2_max": -46.86351034095852, "outflow_rate_min": 411.93778116209114, "system_level_velocity_mean": 13.445811071692663, "cost1_mean": 344.14664074938025, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 878.248762677838, "cost2_mean": -180.4886441175743}, "policy_reward_mean": {}, "episode_reward_min": 143.7290446998982, "timesteps_this_iter": 43459, "episodes_this_iter": 16, "info": {"update_time_ms": 9.375, "num_steps_sampled": 2535648, "num_steps_trained": 2535648, "load_time_ms": 13.609, "sample_time_ms": 15371.929, "default": {"entropy": 0.9779232740402222, "policy_loss": -0.005708496086299419, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9908787608146667, "vf_loss": 3.2883458137512207, "total_loss": 3.2834255695343018, "cur_lr": 0.0005000000237487257, "kl": 0.01576823927462101}, "grad_time_ms": 10964.559}, "done": false, "episode_reward_mean": 1014.206590992371, "iterations_since_restore": 56, "time_total_s": 1521.7190897464752, "timestamp": 1557200415, "pid": 281, "episode_len_mean": 683.08, "episode_reward_max": 1293.7756011541635, "episodes_total": 802, "timesteps_since_restore": 2535648, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 57, "time_since_restore": 1548.479389667511, "num_metric_batches_dropped": 0, "timesteps_total": 2580645, "time_this_iter_s": 26.760299921035767, "date": "2019-05-07_03-40-42", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c198>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 74.34437920263636, "cost2_max": -46.86351034095852, "outflow_rate_min": 411.93778116209114, "system_level_velocity_mean": 13.411368950496492, "cost1_mean": 340.38848000680235, "cost1_max": 433.0874757837531, "cost2_min": -221.66190855697255, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 985.1574649709269, "system_level_velocity_max": 19.45366882730816, "outflow_rate_mean": 870.1836762003068, "cost2_mean": -179.53236500154853}, "policy_reward_mean": {}, "episode_reward_min": 143.7290446998982, "timesteps_this_iter": 44997, "episodes_this_iter": 15, "info": {"update_time_ms": 9.313, "num_steps_sampled": 2580645, "num_steps_trained": 2580645, "load_time_ms": 13.478, "sample_time_ms": 15461.943, "default": {"entropy": 0.9842379093170166, "policy_loss": -0.004460940137505531, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9873303174972534, "vf_loss": 3.866713762283325, "total_loss": 3.863147020339966, "cur_lr": 0.0005000000237487257, "kl": 0.017883367836475372}, "grad_time_ms": 11031.91}, "done": false, "episode_reward_mean": 1007.3638295663108, "iterations_since_restore": 57, "time_total_s": 1548.479389667511, "timestamp": 1557200442, "pid": 281, "episode_len_mean": 678.37, "episode_reward_max": 1293.7756011541635, "episodes_total": 817, "timesteps_since_restore": 2580645, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 58, "time_since_restore": 1576.3936972618103, "num_metric_batches_dropped": 0, "timesteps_total": 2627689, "time_this_iter_s": 27.914307594299316, "date": "2019-05-07_03-41-10", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.53195799577094, "outflow_rate_min": 328.8236585015129, "system_level_velocity_mean": 13.531247262941092, "cost1_mean": 329.16755658224514, "cost1_max": 433.0874757837531, "cost2_min": -208.59579942109434, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 974.5678578251009, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 849.2306614688198, "cost2_mean": -175.66280662671304}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 47044, "episodes_this_iter": 17, "info": {"update_time_ms": 8.997, "num_steps_sampled": 2627689, "num_steps_trained": 2627689, "load_time_ms": 13.214, "sample_time_ms": 15619.641, "default": {"entropy": 0.9835518002510071, "policy_loss": -0.008824110962450504, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.977393388748169, "vf_loss": 6.597301483154297, "total_loss": 6.589447498321533, "cur_lr": 0.0005000000237487257, "kl": 0.019392099231481552}, "grad_time_ms": 11174.738}, "done": false, "episode_reward_mean": 979.09169705847, "iterations_since_restore": 58, "time_total_s": 1576.3936972618103, "timestamp": 1557200470, "pid": 281, "episode_len_mean": 658.68, "episode_reward_max": 1293.7756011541635, "episodes_total": 834, "timesteps_since_restore": 2627689, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 59, "time_since_restore": 1602.2029206752777, "num_metric_batches_dropped": 0, "timesteps_total": 2673960, "time_this_iter_s": 25.809223413467407, "date": "2019-05-07_03-41-36", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1588>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.53195799577094, "outflow_rate_min": 328.8236585015129, "system_level_velocity_mean": 13.422435861976957, "cost1_mean": 330.87406285671733, "cost1_max": 398.28529848215203, "cost2_min": -208.59579942109434, "system_level_velocity_min": 9.605787742326314, "outflow_rate_max": 974.5678578251009, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 852.5814944732826, "cost2_mean": -176.90452452584955}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 46271, "episodes_this_iter": 12, "info": {"update_time_ms": 8.669, "num_steps_sampled": 2673960, "num_steps_trained": 2673960, "load_time_ms": 13.281, "sample_time_ms": 15424.963, "default": {"entropy": 0.9532599449157715, "policy_loss": -0.005573340225964785, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.990787923336029, "vf_loss": 3.0478408336639404, "total_loss": 3.043093204498291, "cur_lr": 0.0005000000237487257, "kl": 0.016515031456947327}, "grad_time_ms": 11245.57}, "done": false, "episode_reward_mean": 983.5952592215141, "iterations_since_restore": 59, "time_total_s": 1602.2029206752777, "timestamp": 1557200496, "pid": 281, "episode_len_mean": 664.61, "episode_reward_max": 1205.9653503148645, "episodes_total": 846, "timesteps_since_restore": 2673960, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 60, "time_since_restore": 1628.0739028453827, "num_metric_batches_dropped": 0, "timesteps_total": 2720642, "time_this_iter_s": 25.87098217010498, "date": "2019-05-07_03-42-02", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e967f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.53195799577094, "outflow_rate_min": 328.8236585015129, "system_level_velocity_mean": 13.158441908262454, "cost1_mean": 331.55128253610013, "cost1_max": 388.2425059673673, "cost2_min": -208.59579942109434, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 948.2651895714731, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 852.3252439778221, "cost2_mean": -179.84357458933854}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 46682, "episodes_this_iter": 15, "info": {"update_time_ms": 8.447, "num_steps_sampled": 2720642, "num_steps_trained": 2720642, "load_time_ms": 12.717, "sample_time_ms": 15144.073, "default": {"entropy": 0.9860308170318604, "policy_loss": -0.005769955459982157, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9873690605163574, "vf_loss": 3.5653491020202637, "total_loss": 3.560404062271118, "cur_lr": 0.0005000000237487257, "kl": 0.016487928107380867}, "grad_time_ms": 11205.506}, "done": false, "episode_reward_mean": 992.5992893741079, "iterations_since_restore": 60, "time_total_s": 1628.0739028453827, "timestamp": 1557200522, "pid": 281, "episode_len_mean": 675.6, "episode_reward_max": 1166.0535496849068, "episodes_total": 861, "timesteps_since_restore": 2720642, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 61, "time_since_restore": 1655.098072052002, "num_metric_batches_dropped": 0, "timesteps_total": 2765529, "time_this_iter_s": 27.024169206619263, "date": "2019-05-07_03-42-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83390>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.53195799577094, "outflow_rate_min": 328.8236585015129, "system_level_velocity_mean": 13.034495757202773, "cost1_mean": 328.6151565723479, "cost1_max": 388.2425059673673, "cost2_min": -213.5939855008206, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 948.2651895714731, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 846.1749957327264, "cost2_mean": -181.28157067498094}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 44887, "episodes_this_iter": 14, "info": {"update_time_ms": 8.162, "num_steps_sampled": 2765529, "num_steps_trained": 2765529, "load_time_ms": 12.511, "sample_time_ms": 15133.848, "default": {"entropy": 0.9631121754646301, "policy_loss": -0.0051003131084144115, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.985254168510437, "vf_loss": 3.9264142513275146, "total_loss": 3.9222307205200195, "cur_lr": 0.0005000000237487257, "kl": 0.018336962908506393}, "grad_time_ms": 11178.663}, "done": false, "episode_reward_mean": 996.8719567369471, "iterations_since_restore": 61, "time_total_s": 1655.098072052002, "timestamp": 1557200549, "pid": 281, "episode_len_mean": 675.6, "episode_reward_max": 1258.9804807501794, "episodes_total": 875, "timesteps_since_restore": 2765529, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 62, "time_since_restore": 1681.334189414978, "num_metric_batches_dropped": 0, "timesteps_total": 2811514, "time_this_iter_s": 26.236117362976074, "date": "2019-05-07_03-42-55", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e965f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e966d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96ba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.09240437971407, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.090086776546855, "cost1_mean": 321.85244282485127, "cost1_max": 388.2425059673673, "cost2_min": -213.5939855008206, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 948.2651895714731, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 833.3067062395035, "cost2_mean": -178.502385680609}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 45985, "episodes_this_iter": 15, "info": {"update_time_ms": 7.993, "num_steps_sampled": 2811514, "num_steps_trained": 2811514, "load_time_ms": 12.551, "sample_time_ms": 15118.999, "default": {"entropy": 0.9675959348678589, "policy_loss": -0.004211124498397112, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9805660247802734, "vf_loss": 5.122971057891846, "total_loss": 5.119703769683838, "cur_lr": 0.0005000000237487257, "kl": 0.01888619363307953}, "grad_time_ms": 11180.504}, "done": false, "episode_reward_mean": 980.1759428229188, "iterations_since_restore": 62, "time_total_s": 1681.334189414978, "timestamp": 1557200575, "pid": 281, "episode_len_mean": 663.15, "episode_reward_max": 1258.9804807501794, "episodes_total": 890, "timesteps_since_restore": 2811514, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 63, "time_since_restore": 1707.4745161533356, "num_metric_batches_dropped": 0, "timesteps_total": 2854291, "time_this_iter_s": 26.140326738357544, "date": "2019-05-07_03-43-21", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea19b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1208>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.09240437971407, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 12.982632950870386, "cost1_mean": 318.282696659381, "cost1_max": 388.2425059673673, "cost2_min": -213.5939855008206, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 947.5462269568392, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 825.5916608895757, "cost2_mean": -179.42356340369994}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 42777, "episodes_this_iter": 19, "info": {"update_time_ms": 7.772, "num_steps_sampled": 2854291, "num_steps_trained": 2854291, "load_time_ms": 12.37, "sample_time_ms": 15264.338, "default": {"entropy": 0.9817832708358765, "policy_loss": -0.004415333736687899, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9811158180236816, "vf_loss": 5.781188011169434, "total_loss": 5.777632713317871, "cur_lr": 0.0005000000237487257, "kl": 0.01719631627202034}, "grad_time_ms": 11074.373}, "done": false, "episode_reward_mean": 984.4656454459863, "iterations_since_restore": 63, "time_total_s": 1707.4745161533356, "timestamp": 1557200601, "pid": 281, "episode_len_mean": 661.36, "episode_reward_max": 1258.9804807501794, "episodes_total": 909, "timesteps_since_restore": 2854291, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 64, "time_since_restore": 1733.109599351883, "num_metric_batches_dropped": 0, "timesteps_total": 2898935, "time_this_iter_s": 25.635083198547363, "date": "2019-05-07_03-43-47", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c940>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.902140838733725, "cost2_max": -27.09240437971407, "outflow_rate_min": 325.2012645303821, "system_level_velocity_mean": 12.992343862313572, "cost1_mean": 314.3480647475789, "cost1_max": 384.5838516376083, "cost2_min": -213.5939855008206, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 947.5462269568392, "system_level_velocity_max": 19.764982154143482, "outflow_rate_mean": 819.5233673745353, "cost2_mean": -178.52156870730246}, "policy_reward_mean": {}, "episode_reward_min": 52.462356361373665, "timesteps_this_iter": 44644, "episodes_this_iter": 12, "info": {"update_time_ms": 7.692, "num_steps_sampled": 2898935, "num_steps_trained": 2898935, "load_time_ms": 12.187, "sample_time_ms": 15322.081, "default": {"entropy": 0.987784206867218, "policy_loss": -0.006462906487286091, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9743728637695312, "vf_loss": 5.727046012878418, "total_loss": 5.721615314483643, "cur_lr": 0.0005000000237487257, "kl": 0.020643938332796097}, "grad_time_ms": 10996.704}, "done": false, "episode_reward_mean": 977.3616208061504, "iterations_since_restore": 64, "time_total_s": 1733.109599351883, "timestamp": 1557200627, "pid": 281, "episode_len_mean": 654.88, "episode_reward_max": 1258.9804807501794, "episodes_total": 921, "timesteps_since_restore": 2898935, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 65, "time_since_restore": 1759.85542178154, "num_metric_batches_dropped": 0, "timesteps_total": 2943752, "time_this_iter_s": 26.745822429656982, "date": "2019-05-07_03-44-14", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c5f8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 32.60766953427654, "cost2_max": -27.09240437971407, "outflow_rate_min": 325.2012645303821, "system_level_velocity_mean": 12.761499285367675, "cost1_mean": 323.39722378687964, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.472587560146014, "outflow_rate_max": 947.5462269568392, "system_level_velocity_max": 18.716394533346406, "outflow_rate_mean": 834.9862354788149, "cost2_mean": -184.56472770999608}, "policy_reward_mean": {}, "episode_reward_min": 58.61193162001371, "timesteps_this_iter": 44817, "episodes_this_iter": 14, "info": {"update_time_ms": 7.558, "num_steps_sampled": 2943752, "num_steps_trained": 2943752, "load_time_ms": 11.281, "sample_time_ms": 15425.973, "default": {"entropy": 0.9711585640907288, "policy_loss": -0.006150662433356047, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9907535314559937, "vf_loss": 2.7124991416931152, "total_loss": 2.7076656818389893, "cur_lr": 0.0005000000237487257, "kl": 0.01756197027862072}, "grad_time_ms": 10861.514}, "done": false, "episode_reward_mean": 1012.1401394458524, "iterations_since_restore": 65, "time_total_s": 1759.85542178154, "timestamp": 1557200654, "pid": 281, "episode_len_mean": 674.57, "episode_reward_max": 1330.067620995992, "episodes_total": 935, "timesteps_since_restore": 2943752, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 66, "time_since_restore": 1787.2185416221619, "num_metric_batches_dropped": 0, "timesteps_total": 2989198, "time_this_iter_s": 27.36311984062195, "date": "2019-05-07_03-44-41", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ceb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 32.60766953427654, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.776728675513926, "cost1_mean": 319.5990523511206, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.582800678265864, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.716394533346406, "outflow_rate_mean": 827.6732035800285, "cost2_mean": -184.01808017751176}, "policy_reward_mean": {}, "episode_reward_min": 58.61193162001371, "timesteps_this_iter": 45446, "episodes_this_iter": 17, "info": {"update_time_ms": 7.253, "num_steps_sampled": 2989198, "num_steps_trained": 2989198, "load_time_ms": 11.389, "sample_time_ms": 15585.353, "default": {"entropy": 0.9801675081253052, "policy_loss": -0.005420895759016275, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9801345467567444, "vf_loss": 5.893426895141602, "total_loss": 5.889211654663086, "cur_lr": 0.0005000000237487257, "kl": 0.016071848571300507}, "grad_time_ms": 10855.259}, "done": false, "episode_reward_mean": 1007.3106316558212, "iterations_since_restore": 66, "time_total_s": 1787.2185416221619, "timestamp": 1557200681, "pid": 281, "episode_len_mean": 668.1, "episode_reward_max": 1330.067620995992, "episodes_total": 952, "timesteps_since_restore": 2989198, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 67, "time_since_restore": 1811.957751274109, "num_metric_batches_dropped": 0, "timesteps_total": 3033680, "time_this_iter_s": 24.73920965194702, "date": "2019-05-07_03-45-06", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea13c8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.95022471133725, "cost1_mean": 316.1786364619482, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.582800678265864, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 822.2852601538922, "cost2_mean": -181.68755505583903}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 44482, "episodes_this_iter": 13, "info": {"update_time_ms": 6.944, "num_steps_sampled": 3033680, "num_steps_trained": 3033680, "load_time_ms": 11.506, "sample_time_ms": 15402.259, "default": {"entropy": 0.9861191511154175, "policy_loss": -0.0029606991447508335, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9797219038009644, "vf_loss": 5.621405601501465, "total_loss": 5.619480609893799, "cur_lr": 0.0005000000237487257, "kl": 0.013806779868900776}, "grad_time_ms": 10836.997}, "done": false, "episode_reward_mean": 996.2380159168721, "iterations_since_restore": 67, "time_total_s": 1811.957751274109, "timestamp": 1557200706, "pid": 281, "episode_len_mean": 656.22, "episode_reward_max": 1330.067620995992, "episodes_total": 965, "timesteps_since_restore": 3033680, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 68, "time_since_restore": 1838.2088673114777, "num_metric_batches_dropped": 0, "timesteps_total": 3079318, "time_this_iter_s": 26.251116037368774, "date": "2019-05-07_03-45-32", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.879374848404964, "cost1_mean": 314.4326351649784, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 818.6926082678046, "cost2_mean": -182.287702903823}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 45638, "episodes_this_iter": 15, "info": {"update_time_ms": 7.044, "num_steps_sampled": 3079318, "num_steps_trained": 3079318, "load_time_ms": 12.141, "sample_time_ms": 15273.598, "default": {"entropy": 0.9843615293502808, "policy_loss": -0.0053414576686918736, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9812694787979126, "vf_loss": 4.46682596206665, "total_loss": 4.462674140930176, "cur_lr": 0.0005000000237487257, "kl": 0.015857256948947906}, "grad_time_ms": 10799.018}, "done": false, "episode_reward_mean": 991.4785636675217, "iterations_since_restore": 68, "time_total_s": 1838.2088673114777, "timestamp": 1557200732, "pid": 281, "episode_len_mean": 656.22, "episode_reward_max": 1330.067620995992, "episodes_total": 980, "timesteps_since_restore": 3079318, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 69, "time_since_restore": 1864.7083985805511, "num_metric_batches_dropped": 0, "timesteps_total": 3123861, "time_this_iter_s": 26.499531269073486, "date": "2019-05-07_03-45-59", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.764987110331518, "cost1_mean": 320.02851004705315, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 827.5323702069857, "cost2_mean": -185.58501819361663}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 44543, "episodes_this_iter": 15, "info": {"update_time_ms": 7.387, "num_steps_sampled": 3123861, "num_steps_trained": 3123861, "load_time_ms": 12.301, "sample_time_ms": 15367.295, "default": {"entropy": 0.9659118056297302, "policy_loss": -0.005149928852915764, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9847456216812134, "vf_loss": 4.107552528381348, "total_loss": 4.103677749633789, "cur_lr": 0.0005000000237487257, "kl": 0.017002122476696968}, "grad_time_ms": 10773.724}, "done": false, "episode_reward_mean": 1010.3639964954875, "iterations_since_restore": 69, "time_total_s": 1864.7083985805511, "timestamp": 1557200759, "pid": 281, "episode_len_mean": 668.67, "episode_reward_max": 1330.067620995992, "episodes_total": 995, "timesteps_since_restore": 3123861, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 70, "time_since_restore": 1891.0860714912415, "num_metric_batches_dropped": 0, "timesteps_total": 3169422, "time_this_iter_s": 26.377672910690308, "date": "2019-05-07_03-46-25", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.768184164417944, "cost1_mean": 320.0796699527576, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 828.2685598913008, "cost2_mean": -185.57049239829993}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 45561, "episodes_this_iter": 13, "info": {"update_time_ms": 7.378, "num_steps_sampled": 3169422, "num_steps_trained": 3169422, "load_time_ms": 12.91, "sample_time_ms": 15447.393, "default": {"entropy": 0.9730811715126038, "policy_loss": -0.0033134978730231524, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9889994263648987, "vf_loss": 2.806269884109497, "total_loss": 2.8039968013763428, "cur_lr": 0.0005000000237487257, "kl": 0.01386877242475748}, "grad_time_ms": 10744.226}, "done": false, "episode_reward_mean": 1009.6775062750136, "iterations_since_restore": 70, "time_total_s": 1891.0860714912415, "timestamp": 1557200785, "pid": 281, "episode_len_mean": 668.67, "episode_reward_max": 1330.067620995992, "episodes_total": 1008, "timesteps_since_restore": 3169422, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 71, "time_since_restore": 1917.4762654304504, "num_metric_batches_dropped": 0, "timesteps_total": 3214770, "time_this_iter_s": 26.390193939208984, "date": "2019-05-07_03-46-51", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1b00>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.655836365853128, "cost1_mean": 326.2610811626275, "cost1_max": 388.4313250887543, "cost2_min": -215.8257228688458, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 838.8226853994216, "cost2_mean": -188.1780782472}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 45348, "episodes_this_iter": 16, "info": {"update_time_ms": 7.343, "num_steps_sampled": 3214770, "num_steps_trained": 3214770, "load_time_ms": 13.811, "sample_time_ms": 15398.51, "default": {"entropy": 0.956607460975647, "policy_loss": -0.003968703560531139, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9885335564613342, "vf_loss": 3.1629645824432373, "total_loss": 3.1599652767181396, "cur_lr": 0.0005000000237487257, "kl": 0.012922788970172405}, "grad_time_ms": 10728.889}, "done": false, "episode_reward_mean": 1030.1876867536075, "iterations_since_restore": 71, "time_total_s": 1917.4762654304504, "timestamp": 1557200811, "pid": 281, "episode_len_mean": 681.65, "episode_reward_max": 1330.067620995992, "episodes_total": 1024, "timesteps_since_restore": 3214770, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 72, "time_since_restore": 1943.2435948848724, "num_metric_batches_dropped": 0, "timesteps_total": 3258977, "time_this_iter_s": 25.767329454421997, "date": "2019-05-07_03-47-17", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1518>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.963346675263868, "outflow_rate_min": 313.7799387618665, "system_level_velocity_mean": 12.615147668198988, "cost1_mean": 325.0759039561928, "cost1_max": 372.4987242027781, "cost2_min": -214.93598881712254, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 942.6183656962195, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 836.7508078792098, "cost2_mean": -186.893974538345}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 44207, "episodes_this_iter": 13, "info": {"update_time_ms": 7.263, "num_steps_sampled": 3258977, "num_steps_trained": 3258977, "load_time_ms": 13.555, "sample_time_ms": 15392.812, "default": {"entropy": 0.9714452624320984, "policy_loss": -0.006309507880359888, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.99052894115448, "vf_loss": 2.893914222717285, "total_loss": 2.8888142108917236, "cur_lr": 0.0005000000237487257, "kl": 0.016124719753861427}, "grad_time_ms": 10684.923}, "done": false, "episode_reward_mean": 1025.61331978754, "iterations_since_restore": 72, "time_total_s": 1943.2435948848724, "timestamp": 1557200837, "pid": 281, "episode_len_mean": 681.65, "episode_reward_max": 1304.5843353802552, "episodes_total": 1037, "timesteps_since_restore": 3258977, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 73, "time_since_restore": 1971.0907080173492, "num_metric_batches_dropped": 0, "timesteps_total": 3303991, "time_this_iter_s": 27.847113132476807, "date": "2019-05-07_03-47-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb008d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96f98>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.027326431377823, "cost2_max": -22.99124304906358, "outflow_rate_min": 329.21922607834034, "system_level_velocity_mean": 12.597867404345509, "cost1_mean": 329.06380324261363, "cost1_max": 378.42442370302706, "cost2_min": -214.93598881712254, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 928.6418216916849, "system_level_velocity_max": 18.973380978656476, "outflow_rate_mean": 846.2052422041724, "cost2_mean": -188.33796747100754}, "policy_reward_mean": {}, "episode_reward_min": 53.47091793874429, "timesteps_this_iter": 45014, "episodes_this_iter": 14, "info": {"update_time_ms": 7.433, "num_steps_sampled": 3303991, "num_steps_trained": 3303991, "load_time_ms": 13.435, "sample_time_ms": 15364.041, "default": {"entropy": 0.9652441143989563, "policy_loss": -0.00416237348690629, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9878473281860352, "vf_loss": 3.3604259490966797, "total_loss": 3.3572309017181396, "cur_lr": 0.0005000000237487257, "kl": 0.012899944558739662}, "grad_time_ms": 10883.611}, "done": false, "episode_reward_mean": 1039.6042652938738, "iterations_since_restore": 73, "time_total_s": 1971.0907080173492, "timestamp": 1557200865, "pid": 281, "episode_len_mean": 688.12, "episode_reward_max": 1236.6395115543137, "episodes_total": 1051, "timesteps_since_restore": 3303991, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 74, "time_since_restore": 1996.8863644599915, "num_metric_batches_dropped": 0, "timesteps_total": 3347716, "time_this_iter_s": 25.795656442642212, "date": "2019-05-07_03-48-11", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96898>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 273.35328669592093, "cost2_max": -168.42422353989818, "outflow_rate_min": 715.0660566646252, "system_level_velocity_mean": 12.506332979805418, "cost1_mean": 334.7394021100975, "cost1_max": 378.42442370302706, "cost2_min": -216.08399380752292, "system_level_velocity_min": 10.043856232170683, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 14.381848174133598, "outflow_rate_mean": 857.5318723507559, "cost2_mean": -191.6182292759692}, "policy_reward_mean": {}, "episode_reward_min": 863.0242969980301, "timesteps_this_iter": 43725, "episodes_this_iter": 16, "info": {"update_time_ms": 7.517, "num_steps_sampled": 3347716, "num_steps_trained": 3347716, "load_time_ms": 13.372, "sample_time_ms": 15391.191, "default": {"entropy": 0.9504998326301575, "policy_loss": -0.005379894748330116, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9877533912658691, "vf_loss": 3.754638671875, "total_loss": 3.7502963542938232, "cur_lr": 0.0005000000237487257, "kl": 0.01383411418646574}, "grad_time_ms": 10872.739}, "done": false, "episode_reward_mean": 1052.166125218602, "iterations_since_restore": 74, "time_total_s": 1996.8863644599915, "timestamp": 1557200891, "pid": 281, "episode_len_mean": 700.0, "episode_reward_max": 1236.6395115543137, "episodes_total": 1067, "timesteps_since_restore": 3347716, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 75, "time_since_restore": 2023.065146446228, "num_metric_batches_dropped": 0, "timesteps_total": 3391360, "time_this_iter_s": 26.178781986236572, "date": "2019-05-07_03-48-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69438>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -25.563344421144386, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 12.839169851195338, "cost1_mean": 331.2914874831673, "cost1_max": 381.7680085951942, "cost2_min": -216.84201930844728, "system_level_velocity_min": 10.946922493173421, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 19.396362486628618, "outflow_rate_mean": 854.3557376474812, "cost2_mean": -188.91480930756114}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 43644, "episodes_this_iter": 19, "info": {"update_time_ms": 7.464, "num_steps_sampled": 3391360, "num_steps_trained": 3391360, "load_time_ms": 14.013, "sample_time_ms": 15360.938, "default": {"entropy": 0.9644613862037659, "policy_loss": -0.0062809777446091175, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.966929018497467, "vf_loss": 9.552027702331543, "total_loss": 9.54696273803711, "cur_lr": 0.0005000000237487257, "kl": 0.01620536483824253}, "grad_time_ms": 10846.485}, "done": false, "episode_reward_mean": 1037.1347309142795, "iterations_since_restore": 75, "time_total_s": 2023.065146446228, "timestamp": 1557200917, "pid": 281, "episode_len_mean": 682.91, "episode_reward_max": 1313.454459094055, "episodes_total": 1086, "timesteps_since_restore": 3391360, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 76, "time_since_restore": 2049.5347533226013, "num_metric_batches_dropped": 0, "timesteps_total": 3437553, "time_this_iter_s": 26.46960687637329, "date": "2019-05-07_03-49-04", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c198>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 329.21922607834034, "system_level_velocity_mean": 12.978429071172991, "cost1_mean": 329.84988483821826, "cost1_max": 381.7680085951942, "cost2_min": -217.93767089862578, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 19.396362486628618, "outflow_rate_mean": 853.4374967316389, "cost2_mean": -187.8422307516103}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 46193, "episodes_this_iter": 13, "info": {"update_time_ms": 7.399, "num_steps_sampled": 3437553, "num_steps_trained": 3437553, "load_time_ms": 13.423, "sample_time_ms": 15260.081, "default": {"entropy": 0.948698103427887, "policy_loss": -0.0059899818152189255, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9854404926300049, "vf_loss": 4.239609241485596, "total_loss": 4.23480749130249, "cur_lr": 0.0005000000237487257, "kl": 0.01584569551050663}, "grad_time_ms": 10861.266}, "done": false, "episode_reward_mean": 1025.2399357034028, "iterations_since_restore": 76, "time_total_s": 2049.5347533226013, "timestamp": 1557200944, "pid": 281, "episode_len_mean": 676.35, "episode_reward_max": 1313.454459094055, "episodes_total": 1099, "timesteps_since_restore": 3437553, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 77, "time_since_restore": 2074.986295223236, "num_metric_batches_dropped": 0, "timesteps_total": 3484769, "time_this_iter_s": 25.451541900634766, "date": "2019-05-07_03-49-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1080>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 329.21922607834034, "system_level_velocity_mean": 13.034478563050657, "cost1_mean": 331.04814313012497, "cost1_max": 381.7680085951942, "cost2_min": -217.93767089862578, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 19.396362486628618, "outflow_rate_mean": 856.6320786571689, "cost2_mean": -188.78378748972358}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 47216, "episodes_this_iter": 11, "info": {"update_time_ms": 7.561, "num_steps_sampled": 3484769, "num_steps_trained": 3484769, "load_time_ms": 13.677, "sample_time_ms": 15251.567, "default": {"entropy": 0.9296829104423523, "policy_loss": -0.006367857102304697, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9905569553375244, "vf_loss": 2.8840339183807373, "total_loss": 2.878915548324585, "cur_lr": 0.0005000000237487257, "kl": 0.016666274517774582}, "grad_time_ms": 10939.263}, "done": false, "episode_reward_mean": 1024.556033860362, "iterations_since_restore": 77, "time_total_s": 2074.986295223236, "timestamp": 1557200969, "pid": 281, "episode_len_mean": 676.35, "episode_reward_max": 1313.454459094055, "episodes_total": 1110, "timesteps_since_restore": 3484769, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 78, "time_since_restore": 2100.069625377655, "num_metric_batches_dropped": 0, "timesteps_total": 3529435, "time_this_iter_s": 25.083330154418945, "date": "2019-05-07_03-49-54", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71828>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 329.21922607834034, "system_level_velocity_mean": 13.130543539685169, "cost1_mean": 333.14172350337503, "cost1_max": 381.8117558702152, "cost2_min": -232.88488376405252, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 19.396362486628618, "outflow_rate_mean": 861.9982858752775, "cost2_mean": -191.51862957317488}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 44666, "episodes_this_iter": 16, "info": {"update_time_ms": 7.522, "num_steps_sampled": 3529435, "num_steps_trained": 3529435, "load_time_ms": 13.062, "sample_time_ms": 15139.815, "default": {"entropy": 0.9026085138320923, "policy_loss": -0.005667453166097403, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9892933964729309, "vf_loss": 3.80496883392334, "total_loss": 3.8007569313049316, "cur_lr": 0.0005000000237487257, "kl": 0.019405387341976166}, "grad_time_ms": 10935.146}, "done": false, "episode_reward_mean": 1030.2876078639226, "iterations_since_restore": 78, "time_total_s": 2100.069625377655, "timestamp": 1557200994, "pid": 281, "episode_len_mean": 676.35, "episode_reward_max": 1313.454459094055, "episodes_total": 1126, "timesteps_since_restore": 3529435, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 79, "time_since_restore": 2125.077842950821, "num_metric_batches_dropped": 0, "timesteps_total": 3574091, "time_this_iter_s": 25.008217573165894, "date": "2019-05-07_03-50-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cb70>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.412762840485932, "cost1_mean": 331.61315307415606, "cost1_max": 403.834832797859, "cost2_min": -232.88488376405252, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 960.6764581677027, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 858.1544120413826, "cost2_mean": -189.82758840464737}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 44656, "episodes_this_iter": 17, "info": {"update_time_ms": 7.258, "num_steps_sampled": 3574091, "num_steps_trained": 3574091, "load_time_ms": 12.535, "sample_time_ms": 14948.276, "default": {"entropy": 0.9268383383750916, "policy_loss": -0.007154124788939953, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9762532711029053, "vf_loss": 7.834394931793213, "total_loss": 7.8285064697265625, "cur_lr": 0.0005000000237487257, "kl": 0.016867967322468758}, "grad_time_ms": 10977.657}, "done": false, "episode_reward_mean": 1016.5809557994771, "iterations_since_restore": 79, "time_total_s": 2125.077842950821, "timestamp": 1557201019, "pid": 281, "episode_len_mean": 664.24, "episode_reward_max": 1313.454459094055, "episodes_total": 1143, "timesteps_since_restore": 3574091, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 80, "time_since_restore": 2151.1558604240417, "num_metric_batches_dropped": 0, "timesteps_total": 3618288, "time_this_iter_s": 26.078017473220825, "date": "2019-05-07_03-50-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96780>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.498226343582042, "cost1_mean": 333.3886728997433, "cost1_max": 403.834832797859, "cost2_min": -232.88488376405252, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 959.8628586448541, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 860.3034517366867, "cost2_mean": -190.75769355550537}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 44197, "episodes_this_iter": 15, "info": {"update_time_ms": 7.214, "num_steps_sampled": 3618288, "num_steps_trained": 3618288, "load_time_ms": 12.517, "sample_time_ms": 14896.402, "default": {"entropy": 0.9139073491096497, "policy_loss": -0.00654945382848382, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9904814958572388, "vf_loss": 3.1929264068603516, "total_loss": 3.18768048286438, "cur_lr": 0.0005000000237487257, "kl": 0.017378395423293114}, "grad_time_ms": 10996.587}, "done": false, "episode_reward_mean": 1014.1763356332411, "iterations_since_restore": 80, "time_total_s": 2151.1558604240417, "timestamp": 1557201045, "pid": 281, "episode_len_mean": 664.24, "episode_reward_max": 1313.454459094055, "episodes_total": 1158, "timesteps_since_restore": 3618288, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 81, "time_since_restore": 2178.234325647354, "num_metric_batches_dropped": 0, "timesteps_total": 3664665, "time_this_iter_s": 27.078465223312378, "date": "2019-05-07_03-51-13", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1898>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 28.938401086859347, "cost2_max": -24.928407000512237, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.54361945051807, "cost1_mean": 334.35497496431884, "cost1_max": 403.834832797859, "cost2_min": -232.88488376405252, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 959.8628586448541, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 862.7113318592327, "cost2_mean": -192.11481515088505}, "policy_reward_mean": {}, "episode_reward_min": 47.44566690110445, "timesteps_this_iter": 46377, "episodes_this_iter": 13, "info": {"update_time_ms": 7.562, "num_steps_sampled": 3664665, "num_steps_trained": 3664665, "load_time_ms": 12.323, "sample_time_ms": 14898.542, "default": {"entropy": 0.9313845038414001, "policy_loss": -0.0059586321003735065, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9920377731323242, "vf_loss": 2.588190793991089, "total_loss": 2.5834808349609375, "cur_lr": 0.0005000000237487257, "kl": 0.016643621027469635}, "grad_time_ms": 11062.898}, "done": false, "episode_reward_mean": 1015.7015979057982, "iterations_since_restore": 81, "time_total_s": 2178.234325647354, "timestamp": 1557201073, "pid": 281, "episode_len_mean": 664.24, "episode_reward_max": 1313.454459094055, "episodes_total": 1171, "timesteps_since_restore": 3664665, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 82, "time_since_restore": 2203.7843284606934, "num_metric_batches_dropped": 0, "timesteps_total": 3710319, "time_this_iter_s": 25.550002813339233, "date": "2019-05-07_03-51-38", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ccf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb38>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.171708630128094, "cost2_max": -24.928407000512237, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.363660905339959, "cost1_mean": 341.29206624775054, "cost1_max": 403.834832797859, "cost2_min": -232.88488376405252, "system_level_velocity_min": 10.661174921052233, "outflow_rate_max": 959.8628586448541, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 875.2002129698635, "cost2_mean": -196.247246722171}, "policy_reward_mean": {}, "episode_reward_min": 49.92421822596867, "timesteps_this_iter": 45654, "episodes_this_iter": 14, "info": {"update_time_ms": 7.482, "num_steps_sampled": 3710319, "num_steps_trained": 3710319, "load_time_ms": 12.49, "sample_time_ms": 14833.916, "default": {"entropy": 0.889079749584198, "policy_loss": -0.0056813666597008705, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9922056794166565, "vf_loss": 2.722008466720581, "total_loss": 2.717602014541626, "cur_lr": 0.0005000000237487257, "kl": 0.01700013317167759}, "grad_time_ms": 11106.983}, "done": false, "episode_reward_mean": 1039.1246656621502, "iterations_since_restore": 82, "time_total_s": 2203.7843284606934, "timestamp": 1557201098, "pid": 281, "episode_len_mean": 681.33, "episode_reward_max": 1302.990134511374, "episodes_total": 1185, "timesteps_since_restore": 3710319, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 83, "time_since_restore": 2228.886248588562, "num_metric_batches_dropped": 0, "timesteps_total": 3753953, "time_this_iter_s": 25.101920127868652, "date": "2019-05-07_03-52-03", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.171708630128094, "cost2_max": -27.618027157274003, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.407052733923729, "cost1_mean": 346.84267633832815, "cost1_max": 405.88559611347773, "cost2_min": -232.88488376405252, "system_level_velocity_min": 11.475468039636281, "outflow_rate_max": 959.8628586448541, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 881.8261760910162, "cost2_mean": -197.73265399491447}, "policy_reward_mean": {}, "episode_reward_min": 49.92421822596867, "timesteps_this_iter": 43634, "episodes_this_iter": 15, "info": {"update_time_ms": 7.224, "num_steps_sampled": 3753953, "num_steps_trained": 3753953, "load_time_ms": 12.614, "sample_time_ms": 14659.161, "default": {"entropy": 0.878563404083252, "policy_loss": -0.004431921057403088, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9905632734298706, "vf_loss": 3.43430757522583, "total_loss": 3.4309935569763184, "cur_lr": 0.0005000000237487257, "kl": 0.014907185919582844}, "grad_time_ms": 11005.643}, "done": false, "episode_reward_mean": 1055.3365294877322, "iterations_since_restore": 83, "time_total_s": 2228.886248588562, "timestamp": 1557201123, "pid": 281, "episode_len_mean": 687.89, "episode_reward_max": 1302.990134511374, "episodes_total": 1200, "timesteps_since_restore": 3753953, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 84, "time_since_restore": 2254.156010389328, "num_metric_batches_dropped": 0, "timesteps_total": 3798515, "time_this_iter_s": 25.26976180076599, "date": "2019-05-07_03-52-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e960b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.171708630128094, "cost2_max": -27.618027157274003, "outflow_rate_min": 326.2713828205716, "system_level_velocity_mean": 13.497117159887786, "cost1_mean": 348.69079811811406, "cost1_max": 417.0903486192543, "cost2_min": -232.88488376405252, "system_level_velocity_min": 11.475468039636281, "outflow_rate_max": 968.2253132619853, "system_level_velocity_max": 19.783066367943515, "outflow_rate_mean": 882.4251132268, "cost2_mean": -196.8178867852439}, "policy_reward_mean": {}, "episode_reward_min": 49.92421822596867, "timesteps_this_iter": 44562, "episodes_this_iter": 16, "info": {"update_time_ms": 7.395, "num_steps_sampled": 3798515, "num_steps_trained": 3798515, "load_time_ms": 12.686, "sample_time_ms": 14604.16, "default": {"entropy": 0.9036540985107422, "policy_loss": -0.005306207109242678, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9846692085266113, "vf_loss": 4.949225425720215, "total_loss": 4.945206165313721, "cur_lr": 0.0005000000237487257, "kl": 0.017165135592222214}, "grad_time_ms": 11005.085}, "done": false, "episode_reward_mean": 1054.596966263139, "iterations_since_restore": 84, "time_total_s": 2254.156010389328, "timestamp": 1557201149, "pid": 281, "episode_len_mean": 687.89, "episode_reward_max": 1302.990134511374, "episodes_total": 1216, "timesteps_since_restore": 3798515, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 85, "time_since_restore": 2282.3662869930267, "num_metric_batches_dropped": 0, "timesteps_total": 3843496, "time_this_iter_s": 28.21027660369873, "date": "2019-05-07_03-52-57", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 230.35184255169742, "cost2_max": -125.190001910132, "outflow_rate_min": 681.8078592577613, "system_level_velocity_mean": 13.460858655623865, "cost1_mean": 354.34719050719673, "cost1_max": 417.0903486192543, "cost2_min": -230.09602565690838, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 994.2916080411977, "system_level_velocity_max": 16.43809476818022, "outflow_rate_mean": 891.7389256408105, "cost2_mean": -198.84425918380407}, "policy_reward_mean": {}, "episode_reward_min": 631.2236026025485, "timesteps_this_iter": 44981, "episodes_this_iter": 15, "info": {"update_time_ms": 7.633, "num_steps_sampled": 3843496, "num_steps_trained": 3843496, "load_time_ms": 12.632, "sample_time_ms": 14635.914, "default": {"entropy": 0.9162013530731201, "policy_loss": -0.004491600673645735, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.987941324710846, "vf_loss": 4.221767902374268, "total_loss": 4.21845006942749, "cur_lr": 0.0005000000237487257, "kl": 0.015645399689674377}, "grad_time_ms": 11173.388}, "done": false, "episode_reward_mean": 1068.3077310289937, "iterations_since_restore": 85, "time_total_s": 2282.3662869930267, "timestamp": 1557201177, "pid": 281, "episode_len_mean": 696.72, "episode_reward_max": 1331.885760680308, "episodes_total": 1231, "timesteps_since_restore": 3843496, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 86, "time_since_restore": 2310.0338752269745, "num_metric_batches_dropped": 0, "timesteps_total": 3889671, "time_this_iter_s": 27.667588233947754, "date": "2019-05-07_03-53-24", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e719e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 230.35184255169742, "cost2_max": -125.190001910132, "outflow_rate_min": 681.8078592577613, "system_level_velocity_mean": 13.424741376133737, "cost1_mean": 353.79132837672563, "cost1_max": 417.0903486192543, "cost2_min": -230.09602565690838, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 994.2916080411977, "system_level_velocity_max": 16.43809476818022, "outflow_rate_mean": 893.3310837018385, "cost2_mean": -200.22496349373864}, "policy_reward_mean": {}, "episode_reward_min": 631.2236026025485, "timesteps_this_iter": 46175, "episodes_this_iter": 12, "info": {"update_time_ms": 7.917, "num_steps_sampled": 3889671, "num_steps_trained": 3889671, "load_time_ms": 13.425, "sample_time_ms": 14801.335, "default": {"entropy": 0.9135618209838867, "policy_loss": -0.006500725168734789, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9910227656364441, "vf_loss": 2.8731281757354736, "total_loss": 2.867875099182129, "cur_lr": 0.0005000000237487257, "kl": 0.016637558117508888}, "grad_time_ms": 11123.503}, "done": false, "episode_reward_mean": 1071.370879780582, "iterations_since_restore": 86, "time_total_s": 2310.0338752269745, "timestamp": 1557201204, "pid": 281, "episode_len_mean": 696.72, "episode_reward_max": 1331.885760680308, "episodes_total": 1243, "timesteps_since_restore": 3889671, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 87, "time_since_restore": 2339.0716440677643, "num_metric_batches_dropped": 0, "timesteps_total": 3935124, "time_this_iter_s": 29.037768840789795, "date": "2019-05-07_03-53-54", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e989e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c588>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -27.635739185279444, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 13.51535447639462, "cost1_mean": 348.69054316191546, "cost1_max": 417.0903486192543, "cost2_min": -230.09602565690838, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 994.2916080411977, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 883.6905916873085, "cost2_mean": -197.81237169964905}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 45453, "episodes_this_iter": 17, "info": {"update_time_ms": 7.855, "num_steps_sampled": 3935124, "num_steps_trained": 3935124, "load_time_ms": 13.206, "sample_time_ms": 15333.515, "default": {"entropy": 0.9110002517700195, "policy_loss": -0.008394128642976284, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.985088050365448, "vf_loss": 5.529312610626221, "total_loss": 5.522274017333984, "cur_lr": 0.0005000000237487257, "kl": 0.018066255375742912}, "grad_time_ms": 10951.488}, "done": false, "episode_reward_mean": 1060.2555237562783, "iterations_since_restore": 87, "time_total_s": 2339.0716440677643, "timestamp": 1557201234, "pid": 281, "episode_len_mean": 685.69, "episode_reward_max": 1331.885760680308, "episodes_total": 1260, "timesteps_since_restore": 3935124, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 88, "time_since_restore": 2365.0660967826843, "num_metric_batches_dropped": 0, "timesteps_total": 3979527, "time_this_iter_s": 25.994452714920044, "date": "2019-05-07_03-54-20", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96240>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -27.635739185279444, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 13.65288610598481, "cost1_mean": 345.50229248865884, "cost1_max": 417.0903486192543, "cost2_min": -229.2258212749599, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 994.2916080411977, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 877.506981886163, "cost2_mean": -195.31148766226744}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 44403, "episodes_this_iter": 16, "info": {"update_time_ms": 7.838, "num_steps_sampled": 3979527, "num_steps_trained": 3979527, "load_time_ms": 14.007, "sample_time_ms": 15565.234, "default": {"entropy": 0.9107417464256287, "policy_loss": -0.005535570904612541, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.9797819256782532, "vf_loss": 7.446471214294434, "total_loss": 7.442482948303223, "cur_lr": 0.0005000000237487257, "kl": 0.02062644250690937}, "grad_time_ms": 10810.147}, "done": false, "episode_reward_mean": 1047.8931094270454, "iterations_since_restore": 88, "time_total_s": 2365.0660967826843, "timestamp": 1557201260, "pid": 281, "episode_len_mean": 675.54, "episode_reward_max": 1331.885760680308, "episodes_total": 1276, "timesteps_since_restore": 3979527, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 89, "time_since_restore": 2391.312683582306, "num_metric_batches_dropped": 0, "timesteps_total": 4024382, "time_this_iter_s": 26.246586799621582, "date": "2019-05-07_03-54-46", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e969e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -27.635739185279444, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 13.712699297175345, "cost1_mean": 347.38369722394816, "cost1_max": 417.0903486192543, "cost2_min": -229.5432252272286, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 882.078303008187, "cost2_mean": -195.82226193404907}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 44855, "episodes_this_iter": 13, "info": {"update_time_ms": 7.824, "num_steps_sampled": 4024382, "num_steps_trained": 4024382, "load_time_ms": 14.545, "sample_time_ms": 15818.865, "default": {"entropy": 0.9078178405761719, "policy_loss": -0.0052946629002690315, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9909834265708923, "vf_loss": 3.1426596641540527, "total_loss": 3.1390583515167236, "cur_lr": 0.0005000000237487257, "kl": 0.015054675750434399}, "grad_time_ms": 10679.968}, "done": false, "episode_reward_mean": 1049.6223944980877, "iterations_since_restore": 89, "time_total_s": 2391.312683582306, "timestamp": 1557201286, "pid": 281, "episode_len_mean": 675.54, "episode_reward_max": 1331.885760680308, "episodes_total": 1289, "timesteps_since_restore": 4024382, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 90, "time_since_restore": 2419.0388839244843, "num_metric_batches_dropped": 0, "timesteps_total": 4069868, "time_this_iter_s": 27.726200342178345, "date": "2019-05-07_03-55-14", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e989b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e983c8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -27.635739185279444, "outflow_rate_min": 329.6337234057179, "system_level_velocity_mean": 13.751880828576127, "cost1_mean": 341.84259465836044, "cost1_max": 418.7490481983218, "cost2_min": -230.32934375179792, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 876.3380734606595, "cost2_mean": -194.13903675780367}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 45486, "episodes_this_iter": 19, "info": {"update_time_ms": 7.781, "num_steps_sampled": 4069868, "num_steps_trained": 4069868, "load_time_ms": 14.613, "sample_time_ms": 16110.311, "default": {"entropy": 0.889362633228302, "policy_loss": -0.004337699618190527, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9793741703033447, "vf_loss": 7.417943954467773, "total_loss": 7.4153923988342285, "cur_lr": 0.0005000000237487257, "kl": 0.015883073210716248}, "grad_time_ms": 10554.636}, "done": false, "episode_reward_mean": 1032.6546292717164, "iterations_since_restore": 90, "time_total_s": 2419.0388839244843, "timestamp": 1557201314, "pid": 281, "episode_len_mean": 664.8, "episode_reward_max": 1331.885760680308, "episodes_total": 1308, "timesteps_since_restore": 4069868, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 91, "time_since_restore": 2446.312170267105, "num_metric_batches_dropped": 0, "timesteps_total": 4115462, "time_this_iter_s": 27.27328634262085, "date": "2019-05-07_03-55-41", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.847337332166065, "cost1_mean": 336.62535144561457, "cost1_max": 418.7490481983218, "cost2_min": -230.32934375179792, "system_level_velocity_min": 11.236892303315404, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 868.6682044287656, "cost2_mean": -192.07397760120105}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 45594, "episodes_this_iter": 14, "info": {"update_time_ms": 7.665, "num_steps_sampled": 4115462, "num_steps_trained": 4115462, "load_time_ms": 14.109, "sample_time_ms": 16280.996, "default": {"entropy": 0.872617244720459, "policy_loss": -0.00399576872587204, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9858362674713135, "vf_loss": 5.339941024780273, "total_loss": 5.337927341461182, "cur_lr": 0.0005000000237487257, "kl": 0.017617175355553627}, "grad_time_ms": 10403.902}, "done": false, "episode_reward_mean": 1017.786095747297, "iterations_since_restore": 91, "time_total_s": 2446.312170267105, "timestamp": 1557201341, "pid": 281, "episode_len_mean": 653.41, "episode_reward_max": 1331.885760680308, "episodes_total": 1322, "timesteps_since_restore": 4115462, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 92, "time_since_restore": 2473.2955799102783, "num_metric_batches_dropped": 0, "timesteps_total": 4161586, "time_this_iter_s": 26.983409643173218, "date": "2019-05-07_03-56-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e980b8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 29.151828903323363, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.820921141425968, "cost1_mean": 337.6803809375714, "cost1_max": 418.7490481983218, "cost2_min": -230.32934375179792, "system_level_velocity_min": 11.419065974582029, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 19.920318104044455, "outflow_rate_mean": 871.990333526153, "cost2_mean": -192.63706755467385}, "policy_reward_mean": {}, "episode_reward_min": 49.8755344800526, "timesteps_this_iter": 46124, "episodes_this_iter": 12, "info": {"update_time_ms": 7.834, "num_steps_sampled": 4161586, "num_steps_trained": 4161586, "load_time_ms": 14.013, "sample_time_ms": 16530.017, "default": {"entropy": 0.8799476623535156, "policy_loss": -0.006778576411306858, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9884253740310669, "vf_loss": 4.124572277069092, "total_loss": 4.119289875030518, "cur_lr": 0.0005000000237487257, "kl": 0.013304033316671848}, "grad_time_ms": 10298.998}, "done": false, "episode_reward_mean": 1022.2794073588597, "iterations_since_restore": 92, "time_total_s": 2473.2955799102783, "timestamp": 1557201368, "pid": 281, "episode_len_mean": 656.69, "episode_reward_max": 1287.3517732929706, "episodes_total": 1334, "timesteps_since_restore": 4161586, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 93, "time_since_restore": 2500.061824321747, "num_metric_batches_dropped": 0, "timesteps_total": 4205441, "time_this_iter_s": 26.766244411468506, "date": "2019-05-07_03-56-35", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 30.168525320434576, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.878436056437565, "cost1_mean": 343.1119029140547, "cost1_max": 418.7490481983218, "cost2_min": -230.32934375179792, "system_level_velocity_min": 11.419065974582029, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 18.910319766574098, "outflow_rate_mean": 880.0440875349522, "cost2_mean": -194.1953391603554}, "policy_reward_mean": {}, "episode_reward_min": 57.968416214073606, "timesteps_this_iter": 43855, "episodes_this_iter": 18, "info": {"update_time_ms": 7.97, "num_steps_sampled": 4205441, "num_steps_trained": 4205441, "load_time_ms": 13.918, "sample_time_ms": 16837.939, "default": {"entropy": 0.8625434041023254, "policy_loss": -0.004582347348332405, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9856307506561279, "vf_loss": 5.7258477210998535, "total_loss": 5.72318696975708, "cur_lr": 0.0005000000237487257, "kl": 0.01708257384598255}, "grad_time_ms": 10157.312}, "done": false, "episode_reward_mean": 1027.399963650317, "iterations_since_restore": 93, "time_total_s": 2500.061824321747, "timestamp": 1557201395, "pid": 281, "episode_len_mean": 662.23, "episode_reward_max": 1287.3517732929706, "episodes_total": 1352, "timesteps_since_restore": 4205441, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 94, "time_since_restore": 2526.6380808353424, "num_metric_batches_dropped": 0, "timesteps_total": 4248839, "time_this_iter_s": 26.57625651359558, "date": "2019-05-07_03-57-01", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98080>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 30.168525320434576, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.85922463644233, "cost1_mean": 344.6675061231042, "cost1_max": 418.7490481983218, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.419065974582029, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 18.910319766574098, "outflow_rate_mean": 884.5666002903087, "cost2_mean": -195.1341333569702}, "policy_reward_mean": {}, "episode_reward_min": 57.968416214073606, "timesteps_this_iter": 43398, "episodes_this_iter": 18, "info": {"update_time_ms": 7.685, "num_steps_sampled": 4248839, "num_steps_trained": 4248839, "load_time_ms": 13.989, "sample_time_ms": 17049.222, "default": {"entropy": 0.9064984321594238, "policy_loss": -0.006436916999518871, "cur_kl_coeff": 0.11249998956918716, "vf_explained_var": 0.9872337579727173, "vf_loss": 5.0153489112854, "total_loss": 5.010488986968994, "cur_lr": 0.0005000000237487257, "kl": 0.014018841087818146}, "grad_time_ms": 10077.675}, "done": false, "episode_reward_mean": 1034.0548902979856, "iterations_since_restore": 94, "time_total_s": 2526.6380808353424, "timestamp": 1557201421, "pid": 281, "episode_len_mean": 666.5, "episode_reward_max": 1287.3517732929706, "episodes_total": 1370, "timesteps_since_restore": 4248839, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 95, "time_since_restore": 2555.1310324668884, "num_metric_batches_dropped": 0, "timesteps_total": 4296351, "time_this_iter_s": 28.49295163154602, "date": "2019-05-07_03-57-30", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 30.168525320434576, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.929682877599426, "cost1_mean": 342.7305404943678, "cost1_max": 418.7490481983218, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.419065974582029, "outflow_rate_max": 1004.7922747426827, "system_level_velocity_max": 18.910319766574098, "outflow_rate_mean": 879.1927819432609, "cost2_mean": -192.70516430901526}, "policy_reward_mean": {}, "episode_reward_min": 57.968416214073606, "timesteps_this_iter": 47512, "episodes_this_iter": 11, "info": {"update_time_ms": 7.467, "num_steps_sampled": 4296351, "num_steps_trained": 4296351, "load_time_ms": 14.297, "sample_time_ms": 17232.888, "default": {"entropy": 0.9208385348320007, "policy_loss": -0.0050833821296691895, "cur_kl_coeff": 0.11249998956918716, "vf_explained_var": 0.9875037670135498, "vf_loss": 4.226418972015381, "total_loss": 4.2229719161987305, "cur_lr": 0.0005000000237487257, "kl": 0.014547448605298996}, "grad_time_ms": 9922.17}, "done": false, "episode_reward_mean": 1022.3636307068195, "iterations_since_restore": 95, "time_total_s": 2555.1310324668884, "timestamp": 1557201450, "pid": 281, "episode_len_mean": 661.23, "episode_reward_max": 1287.3517732929706, "episodes_total": 1381, "timesteps_since_restore": 4296351, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 96, "time_since_restore": 2582.406837463379, "num_metric_batches_dropped": 0, "timesteps_total": 4342161, "time_this_iter_s": 27.27580499649048, "date": "2019-05-07_03-57-57", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e982e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98320>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 30.168525320434576, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.89689057063748, "cost1_mean": 339.05088643528893, "cost1_max": 422.63606674808693, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.419065974582029, "outflow_rate_max": 1002.6662682336329, "system_level_velocity_max": 18.910319766574098, "outflow_rate_mean": 872.3423338397773, "cost2_mean": -191.37159209809582}, "policy_reward_mean": {}, "episode_reward_min": 57.968416214073606, "timesteps_this_iter": 45810, "episodes_this_iter": 15, "info": {"update_time_ms": 7.285, "num_steps_sampled": 4342161, "num_steps_trained": 4342161, "load_time_ms": 14.197, "sample_time_ms": 17238.256, "default": {"entropy": 0.8806039690971375, "policy_loss": -0.0037508250679820776, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9881148338317871, "vf_loss": 4.4947943687438965, "total_loss": 4.492904186248779, "cur_lr": 0.0005000000237487257, "kl": 0.016536427661776543}, "grad_time_ms": 9881.072}, "done": false, "episode_reward_mean": 1010.7818780744922, "iterations_since_restore": 96, "time_total_s": 2582.406837463379, "timestamp": 1557201477, "pid": 281, "episode_len_mean": 657.29, "episode_reward_max": 1287.3517732929706, "episodes_total": 1396, "timesteps_since_restore": 4342161, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 97, "time_since_restore": 2609.7662715911865, "num_metric_batches_dropped": 0, "timesteps_total": 4387080, "time_this_iter_s": 27.359434127807617, "date": "2019-05-07_03-58-24", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e984a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 30.168525320434576, "cost2_max": -21.875750057532542, "outflow_rate_min": 308.80706590232967, "system_level_velocity_mean": 13.82585666056016, "cost1_mean": 340.34803837759944, "cost1_max": 422.63606674808693, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.557622185181751, "outflow_rate_max": 1002.6662682336329, "system_level_velocity_max": 18.910319766574098, "outflow_rate_mean": 874.5305713801921, "cost2_mean": -191.1075600866702}, "policy_reward_mean": {}, "episode_reward_min": 57.968416214073606, "timesteps_this_iter": 44919, "episodes_this_iter": 18, "info": {"update_time_ms": 7.266, "num_steps_sampled": 4387080, "num_steps_trained": 4387080, "load_time_ms": 13.786, "sample_time_ms": 17072.462, "default": {"entropy": 0.8831274509429932, "policy_loss": -0.006393319461494684, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.983626127243042, "vf_loss": 6.080228805541992, "total_loss": 6.075743675231934, "cur_lr": 0.0005000000237487257, "kl": 0.016966406255960464}, "grad_time_ms": 9879.628}, "done": false, "episode_reward_mean": 1012.5501104426719, "iterations_since_restore": 97, "time_total_s": 2609.7662715911865, "timestamp": 1557201504, "pid": 281, "episode_len_mean": 662.49, "episode_reward_max": 1255.4379543643142, "episodes_total": 1414, "timesteps_since_restore": 4387080, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 98, "time_since_restore": 2636.8293108940125, "num_metric_batches_dropped": 0, "timesteps_total": 4432831, "time_this_iter_s": 27.063039302825928, "date": "2019-05-07_03-58-52", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.206418288191806, "cost2_max": -27.37483260436072, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.79553426767577, "cost1_mean": 339.7848769002407, "cost1_max": 422.63606674808693, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.557622185181751, "outflow_rate_max": 990.5526011071271, "system_level_velocity_max": 18.54265895282645, "outflow_rate_mean": 873.3538630113907, "cost2_mean": -190.9312208792388}, "policy_reward_mean": {}, "episode_reward_min": 63.53558388349297, "timesteps_this_iter": 45751, "episodes_this_iter": 13, "info": {"update_time_ms": 7.198, "num_steps_sampled": 4432831, "num_steps_trained": 4432831, "load_time_ms": 12.794, "sample_time_ms": 17189.14, "default": {"entropy": 0.8764930367469788, "policy_loss": -0.006600243505090475, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9837840795516968, "vf_loss": 5.842121601104736, "total_loss": 5.8374342918396, "cur_lr": 0.0005000000237487257, "kl": 0.017000170424580574}, "grad_time_ms": 9871.773}, "done": false, "episode_reward_mean": 1010.4987947552066, "iterations_since_restore": 98, "time_total_s": 2636.8293108940125, "timestamp": 1557201532, "pid": 281, "episode_len_mean": 662.68, "episode_reward_max": 1255.4379543643142, "episodes_total": 1427, "timesteps_since_restore": 4432831, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 99, "time_since_restore": 2663.759356021881, "num_metric_batches_dropped": 0, "timesteps_total": 4477281, "time_this_iter_s": 26.930045127868652, "date": "2019-05-07_03-59-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea15c0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.206418288191806, "cost2_max": -27.37483260436072, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.732293105351697, "cost1_mean": 337.9592167718003, "cost1_max": 422.63606674808693, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.332478266120766, "outflow_rate_max": 990.5526011071271, "system_level_velocity_max": 18.54265895282645, "outflow_rate_mean": 868.7648198869928, "cost2_mean": -189.97823239452347}, "policy_reward_mean": {}, "episode_reward_min": 63.53558388349297, "timesteps_this_iter": 44450, "episodes_this_iter": 14, "info": {"update_time_ms": 7.051, "num_steps_sampled": 4477281, "num_steps_trained": 4477281, "load_time_ms": 12.701, "sample_time_ms": 17346.057, "default": {"entropy": 0.8540827035903931, "policy_loss": -0.009386032819747925, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9911031126976013, "vf_loss": 3.408266544342041, "total_loss": 3.4010307788848877, "cur_lr": 0.0005000000237487257, "kl": 0.019112808629870415}, "grad_time_ms": 9784.247}, "done": false, "episode_reward_mean": 1003.1398379555824, "iterations_since_restore": 99, "time_total_s": 2663.759356021881, "timestamp": 1557201559, "pid": 281, "episode_len_mean": 662.68, "episode_reward_max": 1255.4379543643142, "episodes_total": 1441, "timesteps_since_restore": 4477281, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"training_iteration": 100, "time_since_restore": 2690.151093482971, "num_metric_batches_dropped": 0, "timesteps_total": 4521160, "time_this_iter_s": 26.391737461090088, "date": "2019-05-07_03-59-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "entropy_coeff": 0.0, "clip_param": 0.3, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "dim": 84, "lstm_cell_size": 256, "custom_options": {}, "conv_filters": null, "conv_activation": "relu", "zero_mean": true, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "use_lstm": false}}, "experiment_id": "92ec715bd4a640638cb336bf7e7be550", "custom_metrics": {"cost1_min": 33.206418288191806, "cost2_max": -27.37483260436072, "outflow_rate_min": 326.3279975793562, "system_level_velocity_mean": 13.75507457201262, "cost1_mean": 342.16449720654754, "cost1_max": 422.63606674808693, "cost2_min": -233.08374922965464, "system_level_velocity_min": 11.332478266120766, "outflow_rate_max": 997.9398901777506, "system_level_velocity_max": 18.54265895282645, "outflow_rate_mean": 879.1486366696458, "cost2_mean": -191.1657362049596}, "policy_reward_mean": {}, "episode_reward_min": 63.53558388349297, "timesteps_this_iter": 43879, "episodes_this_iter": 18, "info": {"update_time_ms": 7.105, "num_steps_sampled": 4521160, "num_steps_trained": 4521160, "load_time_ms": 12.536, "sample_time_ms": 17341.058, "default": {"entropy": 0.8612099885940552, "policy_loss": -0.005227965768426657, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.991762101650238, "vf_loss": 3.3334739208221436, "total_loss": 3.3299717903137207, "cur_lr": 0.0005000000237487257, "kl": 0.015342575497925282}, "grad_time_ms": 9657.884}, "done": true, "episode_reward_mean": 1016.0054532787362, "iterations_since_restore": 100, "time_total_s": 2690.151093482971, "timestamp": 1557201585, "pid": 281, "episode_len_mean": 668.17, "episode_reward_max": 1285.835732907277, "episodes_total": 1459, "timesteps_since_restore": 4521160, "hostname": "flow-main", "node_ip": "10.138.0.2"}
