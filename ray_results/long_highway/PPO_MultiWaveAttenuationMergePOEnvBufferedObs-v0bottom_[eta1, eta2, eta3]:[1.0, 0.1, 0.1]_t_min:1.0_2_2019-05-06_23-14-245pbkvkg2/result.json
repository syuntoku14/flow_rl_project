{"timesteps_since_restore": 47345, "policy_reward_mean": {}, "time_total_s": 49.956902503967285, "episode_reward_max": 75.87485841595766, "info": {"num_steps_sampled": 47345, "sample_time_ms": 37889.788, "update_time_ms": 1381.628, "grad_time_ms": 10468.587, "default": {"kl": 0.0029048712458461523, "entropy": 1.4104288816452026, "cur_lr": 0.0005000000237487257, "total_loss": 1.7141087055206299, "vf_explained_var": 0.8993546962738037, "policy_loss": -0.0008066852460615337, "vf_loss": 1.714334487915039, "cur_kl_coeff": 0.20000003278255463}, "num_steps_trained": 47345, "load_time_ms": 70.335}, "custom_metrics": {"system_level_velocity_max": 18.417319979826555, "outflow_rate_max": 493.88720825651825, "system_level_velocity_mean": 18.11385984839155, "cost1_min": 39.215915525440785, "cost2_min": 0.0, "cost1_mean": 42.276977988307536, "cost2_mean": 0.0, "outflow_rate_mean": 475.4717562086149, "outflow_rate_min": 457.05630416071153, "system_level_velocity_min": 17.810399716956546, "cost1_max": 45.33804045117429, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 1, "done": false, "episodes_total": 2, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406289940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406289780>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406289908>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 70.31116269565618, "episode_reward_min": 64.7474669753547, "timesteps_total": 47345, "time_since_restore": 49.956902503967285, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 47345, "pid": 25263, "episodes_this_iter": 2, "timestamp": 1557184539, "time_this_iter_s": 49.956902503967285, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 1, "date": "2019-05-06_23-15-39", "episode_len_mean": 63.5}
{"timesteps_since_restore": 93841, "policy_reward_mean": {}, "time_total_s": 78.50723600387573, "episode_reward_max": 672.8048889002205, "info": {"num_steps_sampled": 93841, "sample_time_ms": 28284.087, "update_time_ms": 694.348, "grad_time_ms": 10116.798, "default": {"kl": 0.0020901469979435205, "entropy": 1.4153423309326172, "cur_lr": 0.0005000000237487257, "total_loss": 1.4391945600509644, "vf_explained_var": 0.9585747718811035, "policy_loss": -0.0006192108266986907, "vf_loss": 1.439604640007019, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 93841, "load_time_ms": 42.299}, "custom_metrics": {"system_level_velocity_max": 18.99557625856526, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 10.31881635711023, "cost1_min": 26.369065914922558, "cost2_min": -0.5555555555555556, "cost1_mean": 196.15983332648702, "cost2_mean": -0.02314814814814815, "outflow_rate_mean": 633.7108387219423, "outflow_rate_min": 397.23805970637477, "system_level_velocity_min": 6.412916277156998, "cost1_max": 282.8773280530053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 2, "done": false, "episodes_total": 24, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235208>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 462.76727773756903, "episode_reward_min": 50.83446971451615, "timesteps_total": 93841, "time_since_restore": 78.50723600387573, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 46496, "pid": 25263, "episodes_this_iter": 22, "timestamp": 1557184567, "time_this_iter_s": 28.550333499908447, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 2, "date": "2019-05-06_23-16-07", "episode_len_mean": 592.0416666666666}
{"timesteps_since_restore": 136544, "policy_reward_mean": {}, "time_total_s": 104.83193945884705, "episode_reward_max": 672.8048889002205, "info": {"num_steps_sampled": 136544, "sample_time_ms": 24727.114, "update_time_ms": 465.264, "grad_time_ms": 9612.92, "default": {"kl": 0.00913915690034628, "entropy": 1.4082262516021729, "cur_lr": 0.0005000000237487257, "total_loss": 0.8294312953948975, "vf_explained_var": 0.9819130897521973, "policy_loss": -0.0024441422428935766, "vf_loss": 0.831418514251709, "cur_kl_coeff": 0.05000000447034836}, "num_steps_trained": 136544, "load_time_ms": 32.113}, "custom_metrics": {"system_level_velocity_max": 18.99557625856526, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 9.37439165074115, "cost1_min": 26.369065914922558, "cost2_min": -0.5555555555555556, "cost1_mean": 201.8936087039059, "cost2_mean": -0.0381541988575739, "outflow_rate_mean": 614.2991332683822, "outflow_rate_min": 397.23805970637477, "system_level_velocity_min": 6.412916277156998, "cost1_max": 282.8773280530053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 3, "done": false, "episodes_total": 41, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e6a0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e6d8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 481.1015900934263, "episode_reward_min": 50.83446971451615, "timesteps_total": 136544, "time_since_restore": 104.83193945884705, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 42703, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557184594, "time_this_iter_s": 26.324703454971313, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 3, "date": "2019-05-06_23-16-34", "episode_len_mean": 636.8048780487804}
{"timesteps_since_restore": 183709, "policy_reward_mean": {}, "time_total_s": 133.67127132415771, "episode_reward_max": 691.9372472647607, "info": {"num_steps_sampled": 183709, "sample_time_ms": 23187.03, "update_time_ms": 350.984, "grad_time_ms": 9751.402, "default": {"kl": 0.004119466058909893, "entropy": 1.4217990636825562, "cur_lr": 0.0005000000237487257, "total_loss": 1.1347622871398926, "vf_explained_var": 0.97038334608078, "policy_loss": -0.0017592551885172725, "vf_loss": 1.1363155841827393, "cur_kl_coeff": 0.05000000447034836}, "num_steps_trained": 183709, "load_time_ms": 27.348}, "custom_metrics": {"cost1_mean": 195.9321947137452, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 9.558110522449867, "cost1_min": 23.60159423711288, "cost1_max": 282.8773280530053, "outflow_rate_min": 397.23805970637477, "cost2_mean": -0.036658441180448476, "outflow_rate_mean": 601.710285455668, "system_level_velocity_min": 6.412916277156998, "cost2_min": -0.5555555555555556, "system_level_velocity_max": 18.99557625856526, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 4, "done": false, "episodes_total": 50, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062355c0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 467.47847645607976, "episode_reward_min": 45.2182374516409, "timesteps_total": 183709, "time_since_restore": 133.67127132415771, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 47165, "pid": 25263, "episodes_this_iter": 9, "timestamp": 1557184622, "time_this_iter_s": 28.83933186531067, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 4, "date": "2019-05-06_23-17-02", "episode_len_mean": 621.66}
{"timesteps_since_restore": 228864, "policy_reward_mean": {}, "time_total_s": 163.66652369499207, "episode_reward_max": 691.9372472647607, "info": {"num_steps_sampled": 228864, "sample_time_ms": 22528.517, "update_time_ms": 282.644, "grad_time_ms": 9801.174, "default": {"kl": 0.008452785201370716, "entropy": 1.4088847637176514, "cur_lr": 0.0005000000237487257, "total_loss": 1.0403099060058594, "vf_explained_var": 0.9830971360206604, "policy_loss": -0.002796386368572712, "vf_loss": 1.0428948402404785, "cur_kl_coeff": 0.02500000409781933}, "num_steps_trained": 228864, "load_time_ms": 24.419}, "custom_metrics": {"system_level_velocity_max": 18.99557625856526, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 9.000104044984614, "cost1_min": 23.60159423711288, "cost2_min": -0.5555555555555556, "cost1_mean": 195.21168413595902, "cost2_mean": -0.03361037903474563, "outflow_rate_mean": 583.7392260890321, "outflow_rate_min": 156.43035373697396, "system_level_velocity_min": 3.2749752647425328, "cost1_max": 282.8773280530053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 5, "done": false, "episodes_total": 68, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e898>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e5c0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 467.825815003557, "episode_reward_min": 45.2182374516409, "timesteps_total": 228864, "time_since_restore": 163.66652369499207, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 45155, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557184652, "time_this_iter_s": 29.99525237083435, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 5, "date": "2019-05-06_23-17-32", "episode_len_mean": 642.3970588235294}
{"timesteps_since_restore": 275211, "policy_reward_mean": {}, "time_total_s": 193.01177334785461, "episode_reward_max": 691.9372472647607, "info": {"num_steps_sampled": 275211, "sample_time_ms": 21728.908, "update_time_ms": 236.699, "grad_time_ms": 10081.27, "default": {"kl": 0.004937737248837948, "entropy": 1.403355360031128, "cur_lr": 0.0005000000237487257, "total_loss": 0.6927565336227417, "vf_explained_var": 0.9899882674217224, "policy_loss": -0.002169934567064047, "vf_loss": 0.6948030591011047, "cur_kl_coeff": 0.02500000223517418}, "num_steps_trained": 275211, "load_time_ms": 22.526}, "custom_metrics": {"system_level_velocity_max": 18.99557625856526, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 8.649381593283817, "cost1_min": 23.60159423711288, "cost2_min": -1.1111111111111112, "cost1_mean": 192.1988741171081, "cost2_mean": -0.05200082983381109, "outflow_rate_mean": 564.8137049073271, "outflow_rate_min": 156.43035373697396, "system_level_velocity_min": 3.2749752647425328, "cost1_max": 282.8773280530053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 6, "done": false, "episodes_total": 81, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062352b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235208>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 461.9334319014608, "episode_reward_min": 45.2182374516409, "timesteps_total": 275211, "time_since_restore": 193.01177334785461, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 46347, "pid": 25263, "episodes_this_iter": 13, "timestamp": 1557184682, "time_this_iter_s": 29.34524965286255, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 6, "date": "2019-05-06_23-18-02", "episode_len_mean": 651.641975308642}
{"timesteps_since_restore": 322422, "policy_reward_mean": {}, "time_total_s": 221.40650582313538, "episode_reward_max": 693.5157604313875, "info": {"num_steps_sampled": 322422, "sample_time_ms": 20957.647, "update_time_ms": 204.067, "grad_time_ms": 10348.39, "default": {"kl": 0.012578146532177925, "entropy": 1.3694312572479248, "cur_lr": 0.0005000000237487257, "total_loss": 1.3772118091583252, "vf_explained_var": 0.9846510887145996, "policy_loss": -0.003339435439556837, "vf_loss": 1.3803941011428833, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 322422, "load_time_ms": 21.173}, "custom_metrics": {"cost1_mean": 191.34700295656785, "outflow_rate_max": 852.6979718938463, "system_level_velocity_mean": 8.63329542426423, "cost1_min": 23.60159423711288, "cost1_max": 282.8773280530053, "outflow_rate_min": 156.43035373697396, "cost2_mean": -0.05339564518568528, "outflow_rate_mean": 559.5242703776285, "system_level_velocity_min": 3.2749752647425328, "cost2_min": -1.1111111111111112, "system_level_velocity_max": 18.99557625856526, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 7, "done": false, "episodes_total": 93, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623eef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ebe0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623edd8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 464.6854662833874, "episode_reward_min": 45.2182374516409, "timesteps_total": 322422, "time_since_restore": 221.40650582313538, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 47211, "pid": 25263, "episodes_this_iter": 12, "timestamp": 1557184710, "time_this_iter_s": 28.39473247528076, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 7, "date": "2019-05-06_23-18-30", "episode_len_mean": 650.8494623655914}
{"timesteps_since_restore": 364313, "policy_reward_mean": {}, "time_total_s": 247.0623598098755, "episode_reward_max": 853.6043251678225, "info": {"num_steps_sampled": 364313, "sample_time_ms": 20207.229, "update_time_ms": 179.676, "grad_time_ms": 10376.68, "default": {"kl": 0.007928918115794659, "entropy": 1.3211361169815063, "cur_lr": 0.0005000000237487257, "total_loss": 3.262674331665039, "vf_explained_var": 0.9657820463180542, "policy_loss": -0.0019211034523323178, "vf_loss": 3.264496088027954, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 364313, "load_time_ms": 19.975}, "custom_metrics": {"system_level_velocity_max": 18.99557625856526, "outflow_rate_max": 862.4550350961865, "system_level_velocity_mean": 8.361968092618831, "cost1_min": 23.60159423711288, "cost2_min": -1.1111111111111112, "cost1_mean": 199.7902262154463, "cost2_mean": -0.05339342650938676, "outflow_rate_mean": 580.4815854901676, "outflow_rate_min": 156.43035373697396, "system_level_velocity_min": 3.2749752647425328, "cost1_max": 282.8773280530053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 8, "done": false, "episodes_total": 112, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540626a5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e898>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e160>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 505.7174944249203, "episode_reward_min": 45.2182374516409, "timesteps_total": 364313, "time_since_restore": 247.0623598098755, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 41891, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557184736, "time_this_iter_s": 25.655853986740112, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 8, "date": "2019-05-06_23-18-56", "episode_len_mean": 673.63}
{"timesteps_since_restore": 404375, "policy_reward_mean": {}, "time_total_s": 270.8382000923157, "episode_reward_max": 930.2386187133487, "info": {"num_steps_sampled": 404375, "sample_time_ms": 19523.955, "update_time_ms": 160.789, "grad_time_ms": 10292.153, "default": {"kl": 0.009813100099563599, "entropy": 1.2919628620147705, "cur_lr": 0.0005000000237487257, "total_loss": 6.347460746765137, "vf_explained_var": 0.8946703672409058, "policy_loss": -0.002176365116611123, "vf_loss": 6.349514484405518, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 404375, "load_time_ms": 18.992}, "custom_metrics": {"system_level_velocity_max": 18.737344466603407, "outflow_rate_max": 964.0340382284082, "system_level_velocity_mean": 8.33226279715675, "cost1_min": 23.60159423711288, "cost2_min": -1.1111111111111112, "cost1_mean": 203.58074517112618, "cost2_mean": -0.05579882882737506, "outflow_rate_mean": 601.7548266955331, "outflow_rate_min": 156.43035373697396, "system_level_velocity_min": 3.2749752647425328, "cost1_max": 323.733930033035, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 9, "done": false, "episodes_total": 128, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e240>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ec88>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 547.1540842971576, "episode_reward_min": 45.2182374516409, "timesteps_total": 404375, "time_since_restore": 270.8382000923157, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 40062, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557184760, "time_this_iter_s": 23.775840282440186, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 9, "date": "2019-05-06_23-19-20", "episode_len_mean": 680.2}
{"timesteps_since_restore": 443918, "policy_reward_mean": {}, "time_total_s": 295.5325458049774, "episode_reward_max": 930.2386187133487, "info": {"num_steps_sampled": 443918, "sample_time_ms": 19092.512, "update_time_ms": 145.75, "grad_time_ms": 10198.916, "default": {"kl": 0.01062768790870905, "entropy": 1.256778597831726, "cur_lr": 0.0005000000237487257, "total_loss": 7.956898212432861, "vf_explained_var": 0.8574516177177429, "policy_loss": -0.0015835824888199568, "vf_loss": 7.958348751068115, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 443918, "load_time_ms": 18.346}, "custom_metrics": {"cost1_mean": 213.83442335187365, "outflow_rate_max": 964.0340382284082, "system_level_velocity_mean": 8.552017014736585, "cost1_min": 23.60159423711288, "cost1_max": 323.733930033035, "outflow_rate_min": 156.43035373697396, "cost2_mean": -0.06045562137234917, "outflow_rate_mean": 648.1381487192498, "system_level_velocity_min": 3.2749752647425328, "cost2_min": -1.1111111111111112, "system_level_velocity_max": 18.737344466603407, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 10, "done": false, "episodes_total": 144, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062471d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247630>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247208>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 598.5879244955308, "episode_reward_min": 45.2182374516409, "timesteps_total": 443918, "time_since_restore": 295.5325458049774, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39543, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557184784, "time_this_iter_s": 24.694345712661743, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 10, "date": "2019-05-06_23-19-44", "episode_len_mean": 686.82}
{"timesteps_since_restore": 484285, "policy_reward_mean": {}, "time_total_s": 322.12084698677063, "episode_reward_max": 930.2386187133487, "info": {"num_steps_sampled": 484285, "sample_time_ms": 16835.672, "update_time_ms": 8.635, "grad_time_ms": 10268.424, "default": {"kl": 0.008835443295538425, "entropy": 1.266475796699524, "cur_lr": 0.0005000000237487257, "total_loss": 7.19082498550415, "vf_explained_var": 0.882494330406189, "policy_loss": -0.0012247632257640362, "vf_loss": 7.191938877105713, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 484285, "load_time_ms": 12.53}, "custom_metrics": {"system_level_velocity_max": 18.45617717070768, "outflow_rate_max": 973.8626261232224, "system_level_velocity_mean": 8.887799525376659, "cost1_min": 30.782896890393687, "cost2_min": -1.1111111111111112, "cost1_mean": 227.49337243699821, "cost2_mean": -0.06887759655295078, "outflow_rate_mean": 704.2151312423764, "outflow_rate_min": 352.97888393834376, "system_level_velocity_min": 5.539273697720743, "cost1_max": 323.733930033035, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 11, "done": false, "episodes_total": 159, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235780>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235a90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 655.8525750432345, "episode_reward_min": 56.63562921738457, "timesteps_total": 484285, "time_since_restore": 322.12084698677063, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 40367, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557184811, "time_this_iter_s": 26.588301181793213, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 11, "date": "2019-05-06_23-20-11", "episode_len_mean": 693.46}
{"timesteps_since_restore": 523973, "policy_reward_mean": {}, "time_total_s": 346.85128259658813, "episode_reward_max": 930.2386187133487, "info": {"num_steps_sampled": 523973, "sample_time_ms": 16453.958, "update_time_ms": 8.762, "grad_time_ms": 10268.446, "default": {"kl": 0.009797186590731144, "entropy": 1.2292351722717285, "cur_lr": 0.0005000000237487257, "total_loss": 8.347704887390137, "vf_explained_var": 0.8714779019355774, "policy_loss": -0.0008937832899391651, "vf_loss": 8.348475456237793, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 523973, "load_time_ms": 12.423}, "custom_metrics": {"system_level_velocity_max": 18.45617717070768, "outflow_rate_max": 974.0073871450354, "system_level_velocity_mean": 9.372519447745704, "cost1_min": 30.782896890393687, "cost2_min": -1.1111111111111112, "cost1_mean": 240.02106109105117, "cost2_mean": -0.08866743289036119, "outflow_rate_mean": 762.9473373092525, "outflow_rate_min": 352.97888393834376, "system_level_velocity_min": 5.539273697720743, "cost1_max": 323.733930033035, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 12, "done": false, "episodes_total": 176, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e710>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e208>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 713.3155312970532, "episode_reward_min": 56.63562921738457, "timesteps_total": 523973, "time_since_restore": 346.85128259658813, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39688, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557184836, "time_this_iter_s": 24.730435609817505, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 12, "date": "2019-05-06_23-20-36", "episode_len_mean": 693.46}
{"timesteps_since_restore": 563391, "policy_reward_mean": {}, "time_total_s": 373.48421335220337, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 563391, "sample_time_ms": 16369.915, "update_time_ms": 8.652, "grad_time_ms": 10383.7, "default": {"kl": 0.010653790086507797, "entropy": 1.198984146118164, "cur_lr": 0.0005000000237487257, "total_loss": 9.987163543701172, "vf_explained_var": 0.8619464039802551, "policy_loss": -0.0015294179320335388, "vf_loss": 9.98855972290039, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 563391, "load_time_ms": 12.793}, "custom_metrics": {"system_level_velocity_max": 12.279113589833887, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 9.86987233573273, "cost1_min": 140.34518097994174, "cost2_min": -0.9222208493447401, "cost1_mean": 256.91927298930017, "cost2_mean": -0.06945854002161239, "outflow_rate_mean": 832.0866738106996, "outflow_rate_min": 352.97888393834376, "system_level_velocity_min": 5.539273697720743, "cost1_max": 323.733930033035, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 13, "done": false, "episodes_total": 195, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ea90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062476d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247be0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 774.0148212450281, "episode_reward_min": 410.7294609227737, "timesteps_total": 563391, "time_since_restore": 373.48421335220337, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39418, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557184862, "time_this_iter_s": 26.632930755615234, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 13, "date": "2019-05-06_23-21-02", "episode_len_mean": 700.0}
{"timesteps_since_restore": 602190, "policy_reward_mean": {}, "time_total_s": 397.374223947525, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 602190, "sample_time_ms": 15958.85, "update_time_ms": 8.687, "grad_time_ms": 10299.181, "default": {"kl": 0.009613541886210442, "entropy": 1.2163598537445068, "cur_lr": 0.0005000000237487257, "total_loss": 10.23279094696045, "vf_explained_var": 0.8496567010879517, "policy_loss": -0.001606568694114685, "vf_loss": 10.23427677154541, "cur_kl_coeff": 0.012500002980232239}, "num_steps_trained": 602190, "load_time_ms": 12.761}, "custom_metrics": {"system_level_velocity_max": 12.279113589833887, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 10.264293197317489, "cost1_min": 157.78571188181138, "cost2_min": -1.0, "cost1_mean": 266.61703856407684, "cost2_mean": -0.07928747583682552, "outflow_rate_mean": 875.1341262666579, "outflow_rate_min": 612.2288054574731, "system_level_velocity_min": 6.305526694383299, "cost1_max": 323.733930033035, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 14, "done": false, "episodes_total": 214, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247e10>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062472e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 805.9066970614383, "episode_reward_min": 671.2403082995434, "timesteps_total": 602190, "time_since_restore": 397.374223947525, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38799, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557184886, "time_this_iter_s": 23.890010595321655, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 14, "date": "2019-05-06_23-21-26", "episode_len_mean": 700.0}
{"timesteps_since_restore": 640653, "policy_reward_mean": {}, "time_total_s": 421.7624468803406, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 640653, "sample_time_ms": 15474.947, "update_time_ms": 8.788, "grad_time_ms": 10222.774, "default": {"kl": 0.009773888625204563, "entropy": 1.2108335494995117, "cur_lr": 0.0005000000237487257, "total_loss": 10.5310697555542, "vf_explained_var": 0.832669198513031, "policy_loss": -0.001639041118323803, "vf_loss": 10.532587051391602, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 640653, "load_time_ms": 12.503}, "custom_metrics": {"system_level_velocity_max": 12.279113589833887, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 10.494681582646509, "cost1_min": 202.13358648529515, "cost2_min": -1.0, "cost1_mean": 271.7875114405936, "cost2_mean": -0.07810303129361276, "outflow_rate_mean": 892.927982067546, "outflow_rate_min": 776.1407105901684, "system_level_velocity_min": 8.113573872115914, "cost1_max": 322.32089654884527, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 15, "done": false, "episodes_total": 232, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ec50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e6d8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 807.0582266916074, "episode_reward_min": 678.1777412625454, "timesteps_total": 640653, "time_since_restore": 421.7624468803406, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38463, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557184911, "time_this_iter_s": 24.38822293281555, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 15, "date": "2019-05-06_23-21-51", "episode_len_mean": 700.0}
{"timesteps_since_restore": 679702, "policy_reward_mean": {}, "time_total_s": 446.1227807998657, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 679702, "sample_time_ms": 15206.444, "update_time_ms": 8.753, "grad_time_ms": 9995.931, "default": {"kl": 0.011136779561638832, "entropy": 1.2348110675811768, "cur_lr": 0.0005000000237487257, "total_loss": 8.523386001586914, "vf_explained_var": 0.8530867695808411, "policy_loss": -0.0026022421661764383, "vf_loss": 8.525849342346191, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 679702, "load_time_ms": 12.196}, "custom_metrics": {"system_level_velocity_max": 12.279113589833887, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 10.645215458004266, "cost1_min": 202.13358648529515, "cost2_min": -1.0, "cost1_mean": 275.483358308388, "cost2_mean": -0.0663894121393027, "outflow_rate_mean": 903.3486515966563, "outflow_rate_min": 776.1407105901684, "system_level_velocity_min": 8.113573872115914, "cost1_max": 322.32089654884527, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 16, "done": false, "episodes_total": 247, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062478d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062474e0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 813.611953400082, "episode_reward_min": 703.846088347244, "timesteps_total": 679702, "time_since_restore": 446.1227807998657, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39049, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557184935, "time_this_iter_s": 24.360333919525146, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 16, "date": "2019-05-06_23-22-15", "episode_len_mean": 700.0}
{"timesteps_since_restore": 719284, "policy_reward_mean": {}, "time_total_s": 471.85895800590515, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 719284, "sample_time_ms": 15190.908, "update_time_ms": 8.637, "grad_time_ms": 9745.569, "default": {"kl": 0.011044363491237164, "entropy": 1.2342863082885742, "cur_lr": 0.0005000000237487257, "total_loss": 8.446185111999512, "vf_explained_var": 0.8948344588279724, "policy_loss": -0.0023870596196502447, "vf_loss": 8.448433876037598, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 719284, "load_time_ms": 12.053}, "custom_metrics": {"system_level_velocity_max": 12.348361456074064, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 10.707343120945588, "cost1_min": 190.14463008474422, "cost2_min": -1.0, "cost1_mean": 276.5862424003576, "cost2_mean": -0.06214369771772275, "outflow_rate_mean": 908.2465243392927, "outflow_rate_min": 756.4760348799895, "system_level_velocity_min": 7.675796399098587, "cost1_max": 322.32089654884527, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 17, "done": false, "episodes_total": 262, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235be0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062350f0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 812.7090817959115, "episode_reward_min": 636.9267746449322, "timesteps_total": 719284, "time_since_restore": 471.85895800590515, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39582, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557184961, "time_this_iter_s": 25.73617720603943, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 17, "date": "2019-05-06_23-22-41", "episode_len_mean": 700.0}
{"timesteps_since_restore": 761835, "policy_reward_mean": {}, "time_total_s": 500.5199315547943, "episode_reward_max": 1019.6375073174936, "info": {"num_steps_sampled": 761835, "sample_time_ms": 15500.825, "update_time_ms": 8.484, "grad_time_ms": 9738.377, "default": {"kl": 0.013468652963638306, "entropy": 1.2645727396011353, "cur_lr": 0.0005000000237487257, "total_loss": 7.209771156311035, "vf_explained_var": 0.9306159615516663, "policy_loss": -0.002197675406932831, "vf_loss": 7.211801052093506, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 761835, "load_time_ms": 12.113}, "custom_metrics": {"system_level_velocity_max": 12.348361456074064, "outflow_rate_max": 1020.496948295475, "system_level_velocity_mean": 10.793303066207542, "cost1_min": 190.14463008474422, "cost2_min": -1.0, "cost1_mean": 278.80919869646465, "cost2_mean": -0.04848276900257385, "outflow_rate_mean": 913.4215111281177, "outflow_rate_min": 691.942783179008, "system_level_velocity_min": 7.675796399098587, "cost1_max": 322.32089654884527, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 18, "done": false, "episodes_total": 278, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062474e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247e48>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062474a8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 810.920793890704, "episode_reward_min": 600.5323813559576, "timesteps_total": 761835, "time_since_restore": 500.5199315547943, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 42551, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557184990, "time_this_iter_s": 28.66097354888916, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 18, "date": "2019-05-06_23-23-10", "episode_len_mean": 700.0}
{"timesteps_since_restore": 802312, "policy_reward_mean": {}, "time_total_s": 525.8740646839142, "episode_reward_max": 1001.2006351128588, "info": {"num_steps_sampled": 802312, "sample_time_ms": 15650.978, "update_time_ms": 8.415, "grad_time_ms": 9746.275, "default": {"kl": 0.01267386693507433, "entropy": 1.2694132328033447, "cur_lr": 0.0005000000237487257, "total_loss": 10.25701904296875, "vf_explained_var": 0.9306970834732056, "policy_loss": -0.00217143795453012, "vf_loss": 10.259031295776367, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 802312, "load_time_ms": 12.142}, "custom_metrics": {"cost1_mean": 278.09099402025555, "outflow_rate_max": 1019.150916302779, "system_level_velocity_mean": 10.768941766026508, "cost1_min": 190.14463008474422, "cost1_max": 316.9530116415642, "outflow_rate_min": 603.6396221270335, "cost2_mean": -0.05721601342614615, "outflow_rate_mean": 909.1529303943738, "system_level_velocity_min": 7.675796399098587, "cost2_min": -1.0, "system_level_velocity_max": 12.348361456074064, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 19, "done": false, "episodes_total": 295, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247da0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540630aef0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 803.0366427253139, "episode_reward_min": 551.9754949106166, "timesteps_total": 802312, "time_since_restore": 525.8740646839142, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 40477, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185015, "time_this_iter_s": 25.354133129119873, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 19, "date": "2019-05-06_23-23-35", "episode_len_mean": 700.0}
{"timesteps_since_restore": 841158, "policy_reward_mean": {}, "time_total_s": 552.418940782547, "episode_reward_max": 1001.2006351128588, "info": {"num_steps_sampled": 841158, "sample_time_ms": 15839.561, "update_time_ms": 8.094, "grad_time_ms": 9743.307, "default": {"kl": 0.012637993320822716, "entropy": 1.2127764225006104, "cur_lr": 0.0005000000237487257, "total_loss": 11.113531112670898, "vf_explained_var": 0.9027107954025269, "policy_loss": -0.0028310660272836685, "vf_loss": 11.116205215454102, "cur_kl_coeff": 0.012500002980232239}, "num_steps_trained": 841158, "load_time_ms": 11.988}, "custom_metrics": {"system_level_velocity_max": 18.154735312315328, "outflow_rate_max": 1062.060946786744, "system_level_velocity_mean": 10.95406234437782, "cost1_min": 33.11306370426142, "cost2_min": -0.8315006873045181, "cost1_mean": 278.45905719059056, "cost2_mean": -0.05170416200073149, "outflow_rate_mean": 906.0464521784852, "outflow_rate_min": 454.2861491187317, "system_level_velocity_min": 7.675796399098587, "cost1_max": 334.351341458908, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 20, "done": false, "episodes_total": 314, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e630>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247828>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 799.148886644083, "episode_reward_min": 58.55403335562854, "timesteps_total": 841158, "time_since_restore": 552.418940782547, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38846, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185042, "time_this_iter_s": 26.544876098632812, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 20, "date": "2019-05-06_23-24-02", "episode_len_mean": 693.49}
{"timesteps_since_restore": 879679, "policy_reward_mean": {}, "time_total_s": 577.4006567001343, "episode_reward_max": 1001.2006351128588, "info": {"num_steps_sampled": 879679, "sample_time_ms": 15845.381, "update_time_ms": 7.948, "grad_time_ms": 9576.114, "default": {"kl": 0.009600630030035973, "entropy": 1.2279893159866333, "cur_lr": 0.0005000000237487257, "total_loss": 11.292847633361816, "vf_explained_var": 0.8872823119163513, "policy_loss": -0.0016908540856093168, "vf_loss": 11.294417381286621, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 879679, "load_time_ms": 11.983}, "custom_metrics": {"system_level_velocity_max": 18.154735312315328, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.016567592560541, "cost1_min": 33.11306370426142, "cost2_min": -0.8315006873045181, "cost1_mean": 280.18669950491136, "cost2_mean": -0.04796475136221119, "outflow_rate_mean": 907.4245314423365, "outflow_rate_min": 454.2861491187317, "system_level_velocity_min": 7.675796399098587, "cost1_max": 360.17460715679385, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 21, "done": false, "episodes_total": 332, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062350f0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235be0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 802.004895824345, "episode_reward_min": 58.55403335562854, "timesteps_total": 879679, "time_since_restore": 577.4006567001343, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38521, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185067, "time_this_iter_s": 24.98171591758728, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 21, "date": "2019-05-06_23-24-27", "episode_len_mean": 693.49}
{"timesteps_since_restore": 918727, "policy_reward_mean": {}, "time_total_s": 604.275648355484, "episode_reward_max": 1001.2006351128588, "info": {"num_steps_sampled": 918727, "sample_time_ms": 16006.486, "update_time_ms": 7.931, "grad_time_ms": 9629.537, "default": {"kl": 0.010556204244494438, "entropy": 1.1970188617706299, "cur_lr": 0.0005000000237487257, "total_loss": 10.992334365844727, "vf_explained_var": 0.8891171216964722, "policy_loss": -0.002379074925556779, "vf_loss": 10.99458122253418, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 918727, "load_time_ms": 11.864}, "custom_metrics": {"system_level_velocity_max": 18.154735312315328, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.11929271133362, "cost1_min": 33.11306370426142, "cost2_min": -0.8315006873045181, "cost1_mean": 282.8531894194918, "cost2_mean": -0.04578714788344691, "outflow_rate_mean": 910.7310295742618, "outflow_rate_min": 454.2861491187317, "system_level_velocity_min": 7.675796399098587, "cost1_max": 360.17460715679385, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 22, "done": false, "episodes_total": 349, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247a58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247dd8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 803.1196082739767, "episode_reward_min": 58.55403335562854, "timesteps_total": 918727, "time_since_restore": 604.275648355484, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39048, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185094, "time_this_iter_s": 26.87499165534973, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 22, "date": "2019-05-06_23-24-54", "episode_len_mean": 693.49}
{"timesteps_since_restore": 958439, "policy_reward_mean": {}, "time_total_s": 631.377464056015, "episode_reward_max": 997.8418175763977, "info": {"num_steps_sampled": 958439, "sample_time_ms": 15878.753, "update_time_ms": 8.056, "grad_time_ms": 9803.587, "default": {"kl": 0.016532789915800095, "entropy": 1.20290207862854, "cur_lr": 0.0005000000237487257, "total_loss": 10.40777587890625, "vf_explained_var": 0.8857504725456238, "policy_loss": -0.0031688085291534662, "vf_loss": 10.410737037658691, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 958439, "load_time_ms": 11.723}, "custom_metrics": {"system_level_velocity_max": 18.154735312315328, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.156483098135212, "cost1_min": 33.11306370426142, "cost2_min": -0.8315006873045181, "cost1_mean": 283.92019080314327, "cost2_mean": -0.049796871220325514, "outflow_rate_mean": 911.7575947866238, "outflow_rate_min": 454.2861491187317, "system_level_velocity_min": 6.95452481907286, "cost1_max": 360.17460715679385, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 23, "done": false, "episodes_total": 365, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062479b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247ac8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 809.7673526224487, "episode_reward_min": 58.55403335562854, "timesteps_total": 958439, "time_since_restore": 631.377464056015, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39712, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185121, "time_this_iter_s": 27.101815700531006, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 23, "date": "2019-05-06_23-25-21", "episode_len_mean": 693.49}
{"timesteps_since_restore": 997914, "policy_reward_mean": {}, "time_total_s": 656.7485182285309, "episode_reward_max": 1011.1627621378387, "info": {"num_steps_sampled": 997914, "sample_time_ms": 16031.301, "update_time_ms": 8.082, "grad_time_ms": 9799.791, "default": {"kl": 0.014102022163569927, "entropy": 1.190045952796936, "cur_lr": 0.0005000000237487257, "total_loss": 10.53303050994873, "vf_explained_var": 0.8804749250411987, "policy_loss": -0.0019096308387815952, "vf_loss": 10.53476333618164, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 997914, "load_time_ms": 11.674}, "custom_metrics": {"cost1_mean": 288.0199094549723, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.31472470391201, "cost1_min": 33.11306370426142, "cost1_max": 360.17460715679385, "outflow_rate_min": 454.2861491187317, "cost2_mean": -0.044595970620538807, "outflow_rate_mean": 923.2602024048261, "system_level_velocity_min": 6.95452481907286, "cost2_min": -0.8315006873045181, "system_level_velocity_max": 18.154735312315328, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 24, "done": false, "episodes_total": 382, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ec50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622eba8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e9b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 817.8539072112982, "episode_reward_min": 58.55403335562854, "timesteps_total": 997914, "time_since_restore": 656.7485182285309, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39475, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185146, "time_this_iter_s": 25.37105417251587, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 24, "date": "2019-05-06_23-25-46", "episode_len_mean": 693.49}
{"timesteps_since_restore": 1036860, "policy_reward_mean": {}, "time_total_s": 681.0050096511841, "episode_reward_max": 1011.1627621378387, "info": {"num_steps_sampled": 1036860, "sample_time_ms": 15981.642, "update_time_ms": 7.846, "grad_time_ms": 9835.608, "default": {"kl": 0.014995860867202282, "entropy": 1.1882902383804321, "cur_lr": 0.0005000000237487257, "total_loss": 9.627812385559082, "vf_explained_var": 0.8942089080810547, "policy_loss": -0.0026638570707291365, "vf_loss": 9.630289077758789, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 1036860, "load_time_ms": 11.945}, "custom_metrics": {"system_level_velocity_max": 18.154735312315328, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.412019847902698, "cost1_min": 33.11306370426142, "cost2_min": -0.6147765216031862, "cost1_mean": 290.6546056126158, "cost2_mean": -0.04743308163537305, "outflow_rate_mean": 933.5672459814341, "outflow_rate_min": 454.2861491187317, "system_level_velocity_min": 6.95452481907286, "cost1_max": 360.17460715679385, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 25, "done": false, "episodes_total": 398, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540626ac50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235be0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062355f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 830.5207094133316, "episode_reward_min": 58.55403335562854, "timesteps_total": 1036860, "time_since_restore": 681.0050096511841, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38946, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185170, "time_this_iter_s": 24.2564914226532, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 25, "date": "2019-05-06_23-26-10", "episode_len_mean": 693.49}
{"timesteps_since_restore": 1075583, "policy_reward_mean": {}, "time_total_s": 705.3312690258026, "episode_reward_max": 1011.1627621378387, "info": {"num_steps_sampled": 1075583, "sample_time_ms": 15916.638, "update_time_ms": 7.894, "grad_time_ms": 9896.453, "default": {"kl": 0.0126744220033288, "entropy": 1.1774823665618896, "cur_lr": 0.0005000000237487257, "total_loss": 10.924206733703613, "vf_explained_var": 0.8939936757087708, "policy_loss": -0.002118580276146531, "vf_loss": 10.926165580749512, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 1075583, "load_time_ms": 13.146}, "custom_metrics": {"system_level_velocity_max": 13.693781973235946, "outflow_rate_max": 1084.1574983578646, "system_level_velocity_mean": 11.351782157731805, "cost1_min": 172.33343137355004, "cost2_min": -0.6147765216031862, "cost1_mean": 293.5337046522177, "cost2_mean": -0.0448467300621042, "outflow_rate_mean": 941.9738901904847, "outflow_rate_min": 668.660720660311, "system_level_velocity_min": 6.95452481907286, "cost1_max": 360.17460715679385, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 26, "done": false, "episodes_total": 416, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248ac8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b38>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 835.8807832665774, "episode_reward_min": 659.104548149937, "timesteps_total": 1075583, "time_since_restore": 705.3312690258026, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38723, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185195, "time_this_iter_s": 24.32625937461853, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 26, "date": "2019-05-06_23-26-35", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1114651, "policy_reward_mean": {}, "time_total_s": 729.920628786087, "episode_reward_max": 1011.1627621378387, "info": {"num_steps_sampled": 1114651, "sample_time_ms": 15759.207, "update_time_ms": 7.875, "grad_time_ms": 9940.259, "default": {"kl": 0.01324154157191515, "entropy": 1.1609431505203247, "cur_lr": 0.0005000000237487257, "total_loss": 11.590592384338379, "vf_explained_var": 0.8867571949958801, "policy_loss": -0.0031117447651922703, "vf_loss": 11.593538284301758, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 1114651, "load_time_ms": 13.051}, "custom_metrics": {"system_level_velocity_max": 13.42543971324799, "outflow_rate_max": 1067.981567042909, "system_level_velocity_mean": 11.38540306013401, "cost1_min": 172.33343137355004, "cost2_min": -0.6147765216031862, "cost1_mean": 294.35313061393833, "cost2_mean": -0.0396890048998863, "outflow_rate_mean": 946.4082515902498, "outflow_rate_min": 668.660720660311, "system_level_velocity_min": 6.95452481907286, "cost1_max": 346.2104843348927, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 27, "done": false, "episodes_total": 434, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e518>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e940>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.6054308397966, "episode_reward_min": 708.302213089083, "timesteps_total": 1114651, "time_since_restore": 729.920628786087, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39068, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185219, "time_this_iter_s": 24.589359760284424, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 27, "date": "2019-05-06_23-26-59", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1153789, "policy_reward_mean": {}, "time_total_s": 756.0093069076538, "episode_reward_max": 1011.1627621378387, "info": {"num_steps_sampled": 1153789, "sample_time_ms": 15501.084, "update_time_ms": 8.151, "grad_time_ms": 9940.732, "default": {"kl": 0.013367562554776669, "entropy": 1.1581677198410034, "cur_lr": 0.0005000000237487257, "total_loss": 10.900565147399902, "vf_explained_var": 0.8819125890731812, "policy_loss": -0.002937417710199952, "vf_loss": 10.903335571289062, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 1153789, "load_time_ms": 12.694}, "custom_metrics": {"system_level_velocity_max": 13.016360262009847, "outflow_rate_max": 1067.981567042909, "system_level_velocity_mean": 11.33467466781029, "cost1_min": 172.33343137355004, "cost2_min": -0.6147765216031862, "cost1_mean": 293.13829947894055, "cost2_mean": -0.04556297723165082, "outflow_rate_mean": 947.4601035353811, "outflow_rate_min": 668.660720660311, "system_level_velocity_min": 6.95452481907286, "cost1_max": 342.95334309380326, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 28, "done": false, "episodes_total": 452, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ecc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.372158047927, "episode_reward_min": 728.3352319164665, "timesteps_total": 1153789, "time_since_restore": 756.0093069076538, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39138, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185245, "time_this_iter_s": 26.088678121566772, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 28, "date": "2019-05-06_23-27-25", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1192256, "policy_reward_mean": {}, "time_total_s": 781.426876783371, "episode_reward_max": 1030.4877212356732, "info": {"num_steps_sampled": 1192256, "sample_time_ms": 15532.897, "update_time_ms": 8.438, "grad_time_ms": 9915.023, "default": {"kl": 0.01275101862847805, "entropy": 1.1257954835891724, "cur_lr": 0.0005000000237487257, "total_loss": 10.10571575164795, "vf_explained_var": 0.9118934869766235, "policy_loss": -0.003030963009223342, "vf_loss": 10.108589172363281, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 1192256, "load_time_ms": 12.703}, "custom_metrics": {"cost1_mean": 295.06620803523265, "outflow_rate_max": 1067.981567042909, "system_level_velocity_mean": 11.411169498372379, "cost1_min": 216.73027586069344, "cost1_max": 355.4283947609364, "outflow_rate_min": 825.179477612999, "cost2_mean": -0.042928243391710856, "outflow_rate_mean": 953.1780836100983, "system_level_velocity_min": 8.547123461357142, "cost2_min": -0.857004383696601, "system_level_velocity_max": 13.580652037893188, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 29, "done": false, "episodes_total": 468, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062519e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251278>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 846.2443909847701, "episode_reward_min": 694.9022077079185, "timesteps_total": 1192256, "time_since_restore": 781.426876783371, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38467, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185271, "time_this_iter_s": 25.417569875717163, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 29, "date": "2019-05-06_23-27-51", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1230820, "policy_reward_mean": {}, "time_total_s": 807.4182124137878, "episode_reward_max": 1030.4877212356732, "info": {"num_steps_sampled": 1230820, "sample_time_ms": 15412.582, "update_time_ms": 8.792, "grad_time_ms": 9978.421, "default": {"kl": 0.011807017028331757, "entropy": 1.1534490585327148, "cur_lr": 0.0005000000237487257, "total_loss": 11.583956718444824, "vf_explained_var": 0.9072198867797852, "policy_loss": -0.00284220720641315, "vf_loss": 11.586650848388672, "cur_kl_coeff": 0.012500002980232239}, "num_steps_trained": 1230820, "load_time_ms": 13.021}, "custom_metrics": {"system_level_velocity_max": 13.62333367595278, "outflow_rate_max": 1057.9843112091933, "system_level_velocity_mean": 11.47313787277335, "cost1_min": 217.6201590907792, "cost2_min": -1.15054308662753, "cost1_mean": 296.5074828648972, "cost2_mean": -0.0505138972621477, "outflow_rate_mean": 955.5229558745742, "outflow_rate_min": 828.4140138025069, "system_level_velocity_min": 8.645232589987183, "cost1_max": 355.4283947609364, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 30, "done": false, "episodes_total": 485, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248908>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b70>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.2027353719952, "episode_reward_min": 694.9022077079185, "timesteps_total": 1230820, "time_since_restore": 807.4182124137878, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38564, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185297, "time_this_iter_s": 25.99133563041687, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 30, "date": "2019-05-06_23-28-17", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1270431, "policy_reward_mean": {}, "time_total_s": 832.5500917434692, "episode_reward_max": 1043.7224305516409, "info": {"num_steps_sampled": 1270431, "sample_time_ms": 15420.125, "update_time_ms": 8.967, "grad_time_ms": 9985.202, "default": {"kl": 0.014502971433103085, "entropy": 1.1799589395523071, "cur_lr": 0.0005000000237487257, "total_loss": 12.005914688110352, "vf_explained_var": 0.893007755279541, "policy_loss": -0.0028199232183396816, "vf_loss": 12.008552551269531, "cur_kl_coeff": 0.012500002048909664}, "num_steps_trained": 1270431, "load_time_ms": 13.463}, "custom_metrics": {"system_level_velocity_max": 18.693285466847495, "outflow_rate_max": 1075.7299039177562, "system_level_velocity_mean": 11.64619273870951, "cost1_min": 28.887352447370887, "cost2_min": -1.15054308662753, "cost1_mean": 296.27964426035265, "cost2_mean": -0.04875229753696452, "outflow_rate_mean": 954.7353644110358, "outflow_rate_min": 447.7522503976392, "system_level_velocity_min": 8.645232589987183, "cost1_max": 391.40653693018794, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 31, "done": false, "episodes_total": 504, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622eba8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e9e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.0015811136949, "episode_reward_min": 54.710009409817175, "timesteps_total": 1270431, "time_since_restore": 832.5500917434692, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39611, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185322, "time_this_iter_s": 25.131879329681396, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 31, "date": "2019-05-06_23-28-42", "episode_len_mean": 693.42}
{"timesteps_since_restore": 1309421, "policy_reward_mean": {}, "time_total_s": 857.1746802330017, "episode_reward_max": 1043.7224305516409, "info": {"num_steps_sampled": 1309421, "sample_time_ms": 15274.74, "update_time_ms": 8.948, "grad_time_ms": 9905.36, "default": {"kl": 0.016884787008166313, "entropy": 1.1968525648117065, "cur_lr": 0.0005000000237487257, "total_loss": 9.777789115905762, "vf_explained_var": 0.9200100302696228, "policy_loss": -0.005039673298597336, "vf_loss": 9.782618522644043, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 1309421, "load_time_ms": 13.594}, "custom_metrics": {"system_level_velocity_max": 18.693285466847495, "outflow_rate_max": 1075.7299039177562, "system_level_velocity_mean": 11.678047781450173, "cost1_min": 28.887352447370887, "cost2_min": -1.15054308662753, "cost1_mean": 297.0180224743393, "cost2_mean": -0.047076837382694, "outflow_rate_mean": 956.9381962181717, "outflow_rate_min": 447.7522503976392, "system_level_velocity_min": 8.645232589987183, "cost1_max": 391.40653693018794, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 32, "done": false, "episodes_total": 520, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251898>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 839.9628624651773, "episode_reward_min": 54.710009409817175, "timesteps_total": 1309421, "time_since_restore": 857.1746802330017, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38990, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185347, "time_this_iter_s": 24.62458848953247, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 32, "date": "2019-05-06_23-29-07", "episode_len_mean": 693.42}
{"timesteps_since_restore": 1347689, "policy_reward_mean": {}, "time_total_s": 883.4139947891235, "episode_reward_max": 1043.7224305516409, "info": {"num_steps_sampled": 1347689, "sample_time_ms": 15431.334, "update_time_ms": 9.08, "grad_time_ms": 9662.845, "default": {"kl": 0.020649917423725128, "entropy": 1.1931054592132568, "cur_lr": 0.0005000000237487257, "total_loss": 13.276683807373047, "vf_explained_var": 0.8927643299102783, "policy_loss": -0.006418182048946619, "vf_loss": 13.282842636108398, "cur_kl_coeff": 0.01250000111758709}, "num_steps_trained": 1347689, "load_time_ms": 13.584}, "custom_metrics": {"system_level_velocity_max": 18.693285466847495, "outflow_rate_max": 1075.7299039177562, "system_level_velocity_mean": 11.776259294304536, "cost1_min": 28.887352447370887, "cost2_min": -1.15054308662753, "cost1_mean": 299.6467685251888, "cost2_mean": -0.04507724359195561, "outflow_rate_mean": 960.7251415569003, "outflow_rate_min": 447.7522503976392, "system_level_velocity_min": 8.645232589987183, "cost1_max": 391.40653693018794, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 33, "done": false, "episodes_total": 539, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062484e0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248208>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 834.114548660466, "episode_reward_min": 54.710009409817175, "timesteps_total": 1347689, "time_since_restore": 883.4139947891235, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38268, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185373, "time_this_iter_s": 26.239314556121826, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 33, "date": "2019-05-06_23-29-33", "episode_len_mean": 693.42}
{"timesteps_since_restore": 1385805, "policy_reward_mean": {}, "time_total_s": 909.1050035953522, "episode_reward_max": 1043.7224305516409, "info": {"num_steps_sampled": 1385805, "sample_time_ms": 15480.266, "update_time_ms": 8.908, "grad_time_ms": 9645.775, "default": {"kl": 0.015202566981315613, "entropy": 1.1960809230804443, "cur_lr": 0.0005000000237487257, "total_loss": 12.5642671585083, "vf_explained_var": 0.901112973690033, "policy_loss": -0.004359407350420952, "vf_loss": 12.568343162536621, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1385805, "load_time_ms": 14.232}, "custom_metrics": {"system_level_velocity_max": 18.693285466847495, "outflow_rate_max": 1080.78429952814, "system_level_velocity_mean": 11.920807942369043, "cost1_min": 28.887352447370887, "cost2_min": -1.15054308662753, "cost1_mean": 303.47258704413025, "cost2_mean": -0.04260116836814586, "outflow_rate_mean": 968.2624031251061, "outflow_rate_min": 447.7522503976392, "system_level_velocity_min": 8.645232589987183, "cost1_max": 391.40653693018794, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 34, "done": false, "episodes_total": 558, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 833.6315347435267, "episode_reward_min": 54.710009409817175, "timesteps_total": 1385805, "time_since_restore": 909.1050035953522, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38116, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185399, "time_this_iter_s": 25.691008806228638, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 34, "date": "2019-05-06_23-29-59", "episode_len_mean": 693.42}
{"timesteps_since_restore": 1424955, "policy_reward_mean": {}, "time_total_s": 934.2495222091675, "episode_reward_max": 1043.7224305516409, "info": {"num_steps_sampled": 1424955, "sample_time_ms": 15497.308, "update_time_ms": 8.75, "grad_time_ms": 9716.127, "default": {"kl": 0.017662398517131805, "entropy": 1.18222975730896, "cur_lr": 0.0005000000237487257, "total_loss": 11.170949935913086, "vf_explained_var": 0.8990740776062012, "policy_loss": -0.002547837095335126, "vf_loss": 11.173166275024414, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1424955, "load_time_ms": 13.961}, "custom_metrics": {"cost1_mean": 304.11409272842127, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 11.950370609184404, "cost1_min": 28.887352447370887, "cost1_max": 393.78063505367663, "outflow_rate_min": 447.7522503976392, "cost2_mean": -0.018586764585099697, "outflow_rate_mean": 970.1222244373674, "system_level_velocity_min": 8.645232589987183, "cost2_min": -0.25, "system_level_velocity_max": 18.693285466847495, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 35, "done": false, "episodes_total": 574, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622eba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ea90>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e898>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 833.6591360573389, "episode_reward_min": 54.710009409817175, "timesteps_total": 1424955, "time_since_restore": 934.2495222091675, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39150, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185424, "time_this_iter_s": 25.144518613815308, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 35, "date": "2019-05-06_23-30-24", "episode_len_mean": 693.42}
{"timesteps_since_restore": 1463499, "policy_reward_mean": {}, "time_total_s": 960.6050193309784, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1463499, "sample_time_ms": 15698.146, "update_time_ms": 8.836, "grad_time_ms": 9718.162, "default": {"kl": 0.013853287324309349, "entropy": 1.173187255859375, "cur_lr": 0.0005000000237487257, "total_loss": 11.49792766571045, "vf_explained_var": 0.9115395545959473, "policy_loss": -0.003092665458098054, "vf_loss": 11.500761032104492, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1463499, "load_time_ms": 13.137}, "custom_metrics": {"system_level_velocity_max": 15.020549387569455, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 11.932126661007542, "cost1_min": 236.69600226848254, "cost2_min": -0.2857142857142857, "cost1_mean": 308.2458544310467, "cost2_mean": -0.018395889160731437, "outflow_rate_mean": 978.5442946207924, "outflow_rate_min": 837.263769523259, "system_level_velocity_min": 9.448509024765519, "cost1_max": 393.78063505367663, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 36, "done": false, "episodes_total": 590, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062518d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.8059788531494, "episode_reward_min": 711.8805786856514, "timesteps_total": 1463499, "time_since_restore": 960.6050193309784, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38544, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185450, "time_this_iter_s": 26.355497121810913, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 36, "date": "2019-05-06_23-30-50", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1502857, "policy_reward_mean": {}, "time_total_s": 985.0010657310486, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1502857, "sample_time_ms": 15646.209, "update_time_ms": 8.749, "grad_time_ms": 9750.211, "default": {"kl": 0.015184451825916767, "entropy": 1.14296555519104, "cur_lr": 0.0005000000237487257, "total_loss": 12.783387184143066, "vf_explained_var": 0.8930917382240295, "policy_loss": -0.00425175204873085, "vf_loss": 12.78735637664795, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1502857, "load_time_ms": 13.41}, "custom_metrics": {"system_level_velocity_max": 15.020549387569455, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 11.895292662761578, "cost1_min": 236.69600226848254, "cost2_min": -0.3512670797058167, "cost1_mean": 307.07725118059153, "cost2_mean": -0.022208054073786343, "outflow_rate_mean": 976.2129122797493, "outflow_rate_min": 837.263769523259, "system_level_velocity_min": 9.448509024765519, "cost1_max": 393.78063505367663, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 37, "done": false, "episodes_total": 607, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248208>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248160>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.2057682725253, "episode_reward_min": 711.8805786856514, "timesteps_total": 1502857, "time_since_restore": 985.0010657310486, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39358, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185475, "time_this_iter_s": 24.39604640007019, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 37, "date": "2019-05-06_23-31-15", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1541960, "policy_reward_mean": {}, "time_total_s": 1010.5816247463226, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1541960, "sample_time_ms": 15644.689, "update_time_ms": 8.629, "grad_time_ms": 9699.173, "default": {"kl": 0.013368409126996994, "entropy": 1.154313087463379, "cur_lr": 0.0005000000237487257, "total_loss": 14.039957046508789, "vf_explained_var": 0.8901879191398621, "policy_loss": -0.0029320025350898504, "vf_loss": 14.042638778686523, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1541960, "load_time_ms": 13.863}, "custom_metrics": {"system_level_velocity_max": 18.528925363418203, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 12.07913920766061, "cost1_min": 33.42206655953823, "cost2_min": -0.4990950209304217, "cost1_mean": 307.60394421185345, "cost2_mean": -0.02484238043250082, "outflow_rate_mean": 977.0415307554302, "outflow_rate_min": 445.2408771867224, "system_level_velocity_min": 9.718779588584347, "cost1_max": 393.78063505367663, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 38, "done": false, "episodes_total": 626, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248e10>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.1089930045961, "episode_reward_min": 69.13455732396928, "timesteps_total": 1541960, "time_since_restore": 1010.5816247463226, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39103, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185500, "time_this_iter_s": 25.580559015274048, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 38, "date": "2019-05-06_23-31-40", "episode_len_mean": 693.5}
{"timesteps_since_restore": 1581146, "policy_reward_mean": {}, "time_total_s": 1035.859882593155, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1581146, "sample_time_ms": 15575.826, "update_time_ms": 8.34, "grad_time_ms": 9753.614, "default": {"kl": 0.017014581710100174, "entropy": 1.152719259262085, "cur_lr": 0.0005000000237487257, "total_loss": 11.839428901672363, "vf_explained_var": 0.9063987731933594, "policy_loss": -0.003023497760295868, "vf_loss": 11.842133522033691, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1581146, "load_time_ms": 14.332}, "custom_metrics": {"system_level_velocity_max": 18.528925363418203, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 12.082436278967272, "cost1_min": 33.42206655953823, "cost2_min": -0.5300523311191642, "cost1_mean": 307.62339464850066, "cost2_mean": -0.0392963355472919, "outflow_rate_mean": 977.9340215038095, "outflow_rate_min": 445.2408771867224, "system_level_velocity_min": 9.718779588584347, "cost1_max": 393.78063505367663, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 39, "done": false, "episodes_total": 644, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622eba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e4a8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.1258475514871, "episode_reward_min": 69.13455732396928, "timesteps_total": 1581146, "time_since_restore": 1035.859882593155, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39186, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185526, "time_this_iter_s": 25.278257846832275, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 39, "date": "2019-05-06_23-32-06", "episode_len_mean": 693.5}
{"timesteps_since_restore": 1619768, "policy_reward_mean": {}, "time_total_s": 1059.3818809986115, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1619768, "sample_time_ms": 15319.666, "update_time_ms": 7.978, "grad_time_ms": 9766.363, "default": {"kl": 0.01788168214261532, "entropy": 1.1421797275543213, "cur_lr": 0.0005000000237487257, "total_loss": 14.13912296295166, "vf_explained_var": 0.8865430355072021, "policy_loss": -0.003187545808032155, "vf_loss": 14.141973495483398, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1619768, "load_time_ms": 14.215}, "custom_metrics": {"system_level_velocity_max": 18.528925363418203, "outflow_rate_max": 1159.033256264009, "system_level_velocity_mean": 11.960723195891942, "cost1_min": 33.42206655953823, "cost2_min": -0.5300523311191642, "cost1_mean": 304.0267084276157, "cost2_mean": -0.04120476759748496, "outflow_rate_mean": 971.4531624952008, "outflow_rate_min": 445.2408771867224, "system_level_velocity_min": 9.40987967739017, "cost1_max": 393.78063505367663, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 40, "done": false, "episodes_total": 662, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251470>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.7379462703205, "episode_reward_min": 69.13455732396928, "timesteps_total": 1619768, "time_since_restore": 1059.3818809986115, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38622, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185549, "time_this_iter_s": 23.521998405456543, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 40, "date": "2019-05-06_23-32-29", "episode_len_mean": 693.5}
{"timesteps_since_restore": 1658610, "policy_reward_mean": {}, "time_total_s": 1082.7877686023712, "episode_reward_max": 1045.7375193960454, "info": {"num_steps_sampled": 1658610, "sample_time_ms": 15086.48, "update_time_ms": 7.871, "grad_time_ms": 9826.8, "default": {"kl": 0.017610754817724228, "entropy": 1.153425931930542, "cur_lr": 0.0005000000237487257, "total_loss": 11.543924331665039, "vf_explained_var": 0.9204105734825134, "policy_loss": -0.004622509703040123, "vf_loss": 11.5482177734375, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1658610, "load_time_ms": 13.643}, "custom_metrics": {"system_level_velocity_max": 18.528925363418203, "outflow_rate_max": 1095.485687992181, "system_level_velocity_mean": 11.970813448002056, "cost1_min": 33.42206655953823, "cost2_min": -0.6736412048897991, "cost1_mean": 304.5538156444321, "cost2_mean": -0.056847878520530706, "outflow_rate_mean": 971.71480321676, "outflow_rate_min": 445.2408771867224, "system_level_velocity_min": 9.40987967739017, "cost1_max": 366.93541516069564, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 41, "done": false, "episodes_total": 678, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062488d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248160>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.0565330722759, "episode_reward_min": 69.13455732396928, "timesteps_total": 1658610, "time_since_restore": 1082.7877686023712, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38842, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185573, "time_this_iter_s": 23.405887603759766, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 41, "date": "2019-05-06_23-32-53", "episode_len_mean": 693.5}
{"timesteps_since_restore": 1697989, "policy_reward_mean": {}, "time_total_s": 1106.4130601882935, "episode_reward_max": 1086.3995948122242, "info": {"num_steps_sampled": 1697989, "sample_time_ms": 14907.079, "update_time_ms": 7.846, "grad_time_ms": 9904.519, "default": {"kl": 0.015803677961230278, "entropy": 1.1580239534378052, "cur_lr": 0.0005000000237487257, "total_loss": 11.317275047302246, "vf_explained_var": 0.9201992154121399, "policy_loss": -0.004181563854217529, "vf_loss": 11.321159362792969, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1697989, "load_time_ms": 13.832}, "custom_metrics": {"cost1_mean": 306.45166238655315, "outflow_rate_max": 1185.0566916106734, "system_level_velocity_mean": 12.033938159717996, "cost1_min": 33.42206655953823, "cost1_max": 403.6007030600899, "outflow_rate_min": 445.2408771867224, "cost2_mean": -0.07011820760872035, "outflow_rate_mean": 974.1267700598701, "system_level_velocity_min": 9.40987967739017, "cost2_min": -0.8277491392097732, "system_level_velocity_max": 18.528925363418203, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 42, "done": false, "episodes_total": 694, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248d30>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248978>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.8318748279448, "episode_reward_min": 69.13455732396928, "timesteps_total": 1697989, "time_since_restore": 1106.4130601882935, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39379, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185596, "time_this_iter_s": 23.62529158592224, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 42, "date": "2019-05-06_23-33-16", "episode_len_mean": 693.5}
{"timesteps_since_restore": 1736894, "policy_reward_mean": {}, "time_total_s": 1131.7642705440521, "episode_reward_max": 1086.3995948122242, "info": {"num_steps_sampled": 1736894, "sample_time_ms": 14748.773, "update_time_ms": 7.944, "grad_time_ms": 9973.92, "default": {"kl": 0.01574442908167839, "entropy": 1.1626315116882324, "cur_lr": 0.0005000000237487257, "total_loss": 13.410599708557129, "vf_explained_var": 0.9045621752738953, "policy_loss": -0.0026166746392846107, "vf_loss": 13.412921905517578, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1736894, "load_time_ms": 13.75}, "custom_metrics": {"system_level_velocity_max": 15.224246472764944, "outflow_rate_max": 1185.0566916106734, "system_level_velocity_mean": 11.958927489247126, "cost1_min": 236.83647162713768, "cost2_min": -0.8277491392097732, "cost1_mean": 308.9110882954156, "cost2_mean": -0.07557946545213073, "outflow_rate_mean": 980.06152710618, "outflow_rate_min": 821.93205473499, "system_level_velocity_min": 9.40987967739017, "cost1_max": 403.6007030600899, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 43, "done": false, "episodes_total": 712, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062518d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e7b8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ea90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 848.7671378806601, "episode_reward_min": 690.4572752779335, "timesteps_total": 1736894, "time_since_restore": 1131.7642705440521, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38905, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185622, "time_this_iter_s": 25.351210355758667, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 43, "date": "2019-05-06_23-33-42", "episode_len_mean": 700.0}
{"timesteps_since_restore": 1775858, "policy_reward_mean": {}, "time_total_s": 1157.5186290740967, "episode_reward_max": 1086.3995948122242, "info": {"num_steps_sampled": 1775858, "sample_time_ms": 14613.662, "update_time_ms": 8.251, "grad_time_ms": 10113.361, "default": {"kl": 0.018069420009851456, "entropy": 1.1573703289031982, "cur_lr": 0.0005000000237487257, "total_loss": 14.538403511047363, "vf_explained_var": 0.9106811881065369, "policy_loss": -0.005739875137805939, "vf_loss": 14.543807029724121, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1775858, "load_time_ms": 13.24}, "custom_metrics": {"system_level_velocity_max": 19.008435623297135, "outflow_rate_max": 1185.0566916106734, "system_level_velocity_mean": 12.10671096249754, "cost1_min": 24.0663837411219, "cost2_min": -0.8277491392097732, "cost1_mean": 307.92762623683967, "cost2_mean": -0.08439741685616169, "outflow_rate_mean": 977.395841029592, "outflow_rate_min": 426.9550269549756, "system_level_velocity_min": 9.40987967739017, "cost1_max": 403.6007030600899, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 44, "done": false, "episodes_total": 732, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251400>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251d30>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.4125702244311, "episode_reward_min": 49.62331111433707, "timesteps_total": 1775858, "time_since_restore": 1157.5186290740967, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38964, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557185647, "time_this_iter_s": 25.754358530044556, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 44, "date": "2019-05-06_23-34-07", "episode_len_mean": 693.36}
{"timesteps_since_restore": 1813675, "policy_reward_mean": {}, "time_total_s": 1183.5506782531738, "episode_reward_max": 1086.3995948122242, "info": {"num_steps_sampled": 1813675, "sample_time_ms": 14704.593, "update_time_ms": 8.593, "grad_time_ms": 10112.397, "default": {"kl": 0.013909680768847466, "entropy": 1.143324851989746, "cur_lr": 0.0005000000237487257, "total_loss": 14.376622200012207, "vf_explained_var": 0.9189409613609314, "policy_loss": -0.0035560736432671547, "vf_loss": 14.379916191101074, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1813675, "load_time_ms": 13.537}, "custom_metrics": {"system_level_velocity_max": 19.008435623297135, "outflow_rate_max": 1185.0566916106734, "system_level_velocity_mean": 12.13533787762106, "cost1_min": 24.0663837411219, "cost2_min": -0.8277491392097732, "cost1_mean": 308.70418229633503, "cost2_mean": -0.0810614179395591, "outflow_rate_mean": 979.4514046133615, "outflow_rate_min": 426.9550269549756, "system_level_velocity_min": 9.40987967739017, "cost1_max": 403.6007030600899, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 45, "done": false, "episodes_total": 750, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062485f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248208>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062482b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 846.0482458628779, "episode_reward_min": 49.62331111433707, "timesteps_total": 1813675, "time_since_restore": 1183.5506782531738, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37817, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185674, "time_this_iter_s": 26.03204917907715, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 45, "date": "2019-05-06_23-34-34", "episode_len_mean": 693.36}
{"timesteps_since_restore": 1852192, "policy_reward_mean": {}, "time_total_s": 1207.8312301635742, "episode_reward_max": 1086.3995948122242, "info": {"num_steps_sampled": 1852192, "sample_time_ms": 14469.354, "update_time_ms": 8.766, "grad_time_ms": 10137.522, "default": {"kl": 0.0194034893065691, "entropy": 1.1544609069824219, "cur_lr": 0.0005000000237487257, "total_loss": 11.75904369354248, "vf_explained_var": 0.9248415231704712, "policy_loss": -0.005151093937456608, "vf_loss": 11.763830184936523, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1852192, "load_time_ms": 13.809}, "custom_metrics": {"system_level_velocity_max": 19.008435623297135, "outflow_rate_max": 1223.4899142582574, "system_level_velocity_mean": 12.262782386241657, "cost1_min": 24.0663837411219, "cost2_min": -0.8277491392097732, "cost1_mean": 312.01296981055543, "cost2_mean": -0.08548381764498349, "outflow_rate_mean": 987.007820749936, "outflow_rate_min": 426.9550269549756, "system_level_velocity_min": 9.558793778835733, "cost1_max": 418.0937184550405, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 46, "done": false, "episodes_total": 766, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062487f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248908>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b70>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.5799507672677, "episode_reward_min": 49.62331111433707, "timesteps_total": 1852192, "time_since_restore": 1207.8312301635742, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38517, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185698, "time_this_iter_s": 24.28055191040039, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 46, "date": "2019-05-06_23-34-58", "episode_len_mean": 693.36}
{"timesteps_since_restore": 1890806, "policy_reward_mean": {}, "time_total_s": 1233.0503895282745, "episode_reward_max": 1062.5834072388297, "info": {"num_steps_sampled": 1890806, "sample_time_ms": 14522.737, "update_time_ms": 9.18, "grad_time_ms": 10166.178, "default": {"kl": 0.017491105943918228, "entropy": 1.1682138442993164, "cur_lr": 0.0005000000237487257, "total_loss": 15.06130599975586, "vf_explained_var": 0.9006596803665161, "policy_loss": -0.004330672323703766, "vf_loss": 15.065306663513184, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1890806, "load_time_ms": 13.864}, "custom_metrics": {"system_level_velocity_max": 19.008435623297135, "outflow_rate_max": 1223.4899142582574, "system_level_velocity_mean": 12.482670907462348, "cost1_min": 23.07380899748029, "cost2_min": -0.8277491392097732, "cost1_mean": 313.4009480887133, "cost2_mean": -0.07020027294588777, "outflow_rate_mean": 990.1351460628805, "outflow_rate_min": 426.9550269549756, "system_level_velocity_min": 9.558793778835733, "cost1_max": 418.0937184550405, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 47, "done": false, "episodes_total": 785, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251048>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251ac8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.1849614804872, "episode_reward_min": 47.61032698122935, "timesteps_total": 1890806, "time_since_restore": 1233.0503895282745, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38614, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185723, "time_this_iter_s": 25.219159364700317, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 47, "date": "2019-05-06_23-35-23", "episode_len_mean": 686.7}
{"timesteps_since_restore": 1930510, "policy_reward_mean": {}, "time_total_s": 1261.4497408866882, "episode_reward_max": 1035.3052340047823, "info": {"num_steps_sampled": 1930510, "sample_time_ms": 14670.156, "update_time_ms": 9.216, "grad_time_ms": 10299.549, "default": {"kl": 0.01988382078707218, "entropy": 1.1471588611602783, "cur_lr": 0.0005000000237487257, "total_loss": 11.854372024536133, "vf_explained_var": 0.9163631200790405, "policy_loss": -0.005467576906085014, "vf_loss": 11.859466552734375, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 1930510, "load_time_ms": 14.195}, "custom_metrics": {"system_level_velocity_max": 19.008435623297135, "outflow_rate_max": 1223.4899142582574, "system_level_velocity_mean": 12.430724329243187, "cost1_min": 23.07380899748029, "cost2_min": -0.8444543523306519, "cost1_mean": 311.6976943715897, "cost2_mean": -0.060077116300378035, "outflow_rate_mean": 988.757772101621, "outflow_rate_min": 426.9550269549756, "system_level_velocity_min": 9.558793778835733, "cost1_max": 418.0937184550405, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 48, "done": false, "episodes_total": 802, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247b00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aa90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.3519068646549, "episode_reward_min": 47.61032698122935, "timesteps_total": 1930510, "time_since_restore": 1261.4497408866882, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39704, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185752, "time_this_iter_s": 28.399351358413696, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 48, "date": "2019-05-06_23-35-52", "episode_len_mean": 686.7}
{"timesteps_since_restore": 1968851, "policy_reward_mean": {}, "time_total_s": 1286.9916598796844, "episode_reward_max": 1035.3052340047823, "info": {"num_steps_sampled": 1968851, "sample_time_ms": 14703.559, "update_time_ms": 9.215, "grad_time_ms": 10292.139, "default": {"kl": 0.01773662306368351, "entropy": 1.1320379972457886, "cur_lr": 0.0005000000237487257, "total_loss": 14.686805725097656, "vf_explained_var": 0.9080190062522888, "policy_loss": -0.004303533583879471, "vf_loss": 14.690775871276855, "cur_kl_coeff": 0.01874999701976776}, "num_steps_trained": 1968851, "load_time_ms": 14.106}, "custom_metrics": {"cost1_mean": 306.97892026945846, "outflow_rate_max": 1223.4899142582574, "system_level_velocity_mean": 12.58149131292965, "cost1_min": 23.07380899748029, "cost1_max": 418.0937184550405, "outflow_rate_min": 426.9550269549756, "cost2_mean": -0.04576020594614965, "outflow_rate_mean": 978.8661959936521, "system_level_velocity_min": 10.488065079436362, "cost2_min": -0.8444543523306519, "system_level_velocity_max": 19.008435623297135, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 49, "done": false, "episodes_total": 822, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062510b8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062511d0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 822.410375016873, "episode_reward_min": 47.61032698122935, "timesteps_total": 1968851, "time_since_restore": 1286.9916598796844, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38341, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557185777, "time_this_iter_s": 25.541918992996216, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 49, "date": "2019-05-06_23-36-17", "episode_len_mean": 674.29}
{"timesteps_since_restore": 2007252, "policy_reward_mean": {}, "time_total_s": 1311.8889751434326, "episode_reward_max": 1035.3052340047823, "info": {"num_steps_sampled": 2007252, "sample_time_ms": 14880.692, "update_time_ms": 9.118, "grad_time_ms": 10251.89, "default": {"kl": 0.02035285346210003, "entropy": 1.124514102935791, "cur_lr": 0.0005000000237487257, "total_loss": 16.828330993652344, "vf_explained_var": 0.8958528637886047, "policy_loss": -0.0061274124309420586, "vf_loss": 16.834077835083008, "cur_kl_coeff": 0.01874999888241291}, "num_steps_trained": 2007252, "load_time_ms": 14.1}, "custom_metrics": {"system_level_velocity_max": 19.286009076185174, "outflow_rate_max": 1223.4899142582574, "system_level_velocity_mean": 12.753013163669188, "cost1_min": 23.07380899748029, "cost2_min": -0.8444543523306519, "cost1_mean": 307.0222334926301, "cost2_mean": -0.0446208655759194, "outflow_rate_mean": 979.6867418525367, "outflow_rate_min": 444.03644460055534, "system_level_velocity_min": 10.45385318272719, "cost1_max": 418.0937184550405, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 50, "done": false, "episodes_total": 842, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062472e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 815.194362247366, "episode_reward_min": 47.61032698122935, "timesteps_total": 2007252, "time_since_restore": 1311.8889751434326, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38401, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557185802, "time_this_iter_s": 24.89731526374817, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 50, "date": "2019-05-06_23-36-42", "episode_len_mean": 668.06}
{"timesteps_since_restore": 2045959, "policy_reward_mean": {}, "time_total_s": 1336.1708769798279, "episode_reward_max": 1035.3052340047823, "info": {"num_steps_sampled": 2045959, "sample_time_ms": 15028.607, "update_time_ms": 8.955, "grad_time_ms": 10190.597, "default": {"kl": 0.018053818494081497, "entropy": 1.1128625869750977, "cur_lr": 0.0005000000237487257, "total_loss": 13.808456420898438, "vf_explained_var": 0.9091073274612427, "policy_loss": -0.004742121323943138, "vf_loss": 13.812690734863281, "cur_kl_coeff": 0.02812500111758709}, "num_steps_trained": 2045959, "load_time_ms": 14.65}, "custom_metrics": {"system_level_velocity_max": 19.286009076185174, "outflow_rate_max": 1157.5085607247443, "system_level_velocity_mean": 12.771139527215073, "cost1_min": 23.07380899748029, "cost2_min": -0.8444543523306519, "cost1_mean": 307.4183615534196, "cost2_mean": -0.05013125007466408, "outflow_rate_mean": 979.3002825244578, "outflow_rate_min": 444.03644460055534, "system_level_velocity_min": 10.45385318272719, "cost1_max": 416.255455410286, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 51, "done": false, "episodes_total": 860, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062516a0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 817.6144145162751, "episode_reward_min": 47.61032698122935, "timesteps_total": 2045959, "time_since_restore": 1336.1708769798279, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38707, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185826, "time_this_iter_s": 24.281901836395264, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 51, "date": "2019-05-06_23-37-06", "episode_len_mean": 668.06}
{"timesteps_since_restore": 2084433, "policy_reward_mean": {}, "time_total_s": 1361.184201002121, "episode_reward_max": 1014.5607532098744, "info": {"num_steps_sampled": 2084433, "sample_time_ms": 15231.62, "update_time_ms": 9.01, "grad_time_ms": 10128.529, "default": {"kl": 0.019812021404504776, "entropy": 1.1086360216140747, "cur_lr": 0.0005000000237487257, "total_loss": 11.806557655334473, "vf_explained_var": 0.9283121824264526, "policy_loss": -0.004728814121335745, "vf_loss": 11.810729026794434, "cur_kl_coeff": 0.02812499925494194}, "num_steps_trained": 2084433, "load_time_ms": 14.304}, "custom_metrics": {"system_level_velocity_max": 19.286009076185174, "outflow_rate_max": 1157.5085607247443, "system_level_velocity_mean": 12.724213666889538, "cost1_min": 23.07380899748029, "cost2_min": -0.8444543523306519, "cost1_mean": 306.08585365100765, "cost2_mean": -0.04970041010869611, "outflow_rate_mean": 978.4174727169712, "outflow_rate_min": 444.03644460055534, "system_level_velocity_min": 10.239960152875517, "cost1_max": 416.255455410286, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 52, "done": false, "episodes_total": 876, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247208>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 816.946957732439, "episode_reward_min": 47.61032698122935, "timesteps_total": 2084433, "time_since_restore": 1361.184201002121, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38474, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557185851, "time_this_iter_s": 25.01332402229309, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 52, "date": "2019-05-06_23-37-31", "episode_len_mean": 668.06}
{"timesteps_since_restore": 2122337, "policy_reward_mean": {}, "time_total_s": 1386.717853307724, "episode_reward_max": 1014.5607532098744, "info": {"num_steps_sampled": 2122337, "sample_time_ms": 15275.287, "update_time_ms": 8.773, "grad_time_ms": 10103.416, "default": {"kl": 0.017826097086071968, "entropy": 1.1260167360305786, "cur_lr": 0.0005000000237487257, "total_loss": 14.017716407775879, "vf_explained_var": 0.9243983626365662, "policy_loss": -0.005303529556840658, "vf_loss": 14.022520065307617, "cur_kl_coeff": 0.02812500298023224}, "num_steps_trained": 2122337, "load_time_ms": 14.163}, "custom_metrics": {"system_level_velocity_max": 19.286009076185174, "outflow_rate_max": 1181.6913577785933, "system_level_velocity_mean": 12.74247504121786, "cost1_min": 26.683237336871994, "cost2_min": -0.7666462263097549, "cost1_mean": 310.99178466798077, "cost2_mean": -0.0509257616818549, "outflow_rate_mean": 988.2220340948757, "outflow_rate_min": 449.88502780643296, "system_level_velocity_min": 10.239960152875517, "cost1_max": 409.6012624837574, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 53, "done": false, "episodes_total": 895, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ac18>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ac88>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 823.9054976385935, "episode_reward_min": 52.17922948062009, "timesteps_total": 2122337, "time_since_restore": 1386.717853307724, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37904, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557185877, "time_this_iter_s": 25.533652305603027, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 53, "date": "2019-05-06_23-37-57", "episode_len_mean": 674.72}
{"timesteps_since_restore": 2161387, "policy_reward_mean": {}, "time_total_s": 1412.339335680008, "episode_reward_max": 1014.5607532098744, "info": {"num_steps_sampled": 2161387, "sample_time_ms": 15284.199, "update_time_ms": 8.771, "grad_time_ms": 10083.556, "default": {"kl": 0.02020666003227234, "entropy": 1.128725290298462, "cur_lr": 0.0005000000237487257, "total_loss": 12.85234546661377, "vf_explained_var": 0.9161723256111145, "policy_loss": -0.006312986835837364, "vf_loss": 12.858091354370117, "cur_kl_coeff": 0.02812499925494194}, "num_steps_trained": 2161387, "load_time_ms": 14.147}, "custom_metrics": {"system_level_velocity_max": 19.286009076185174, "outflow_rate_max": 1209.718101942869, "system_level_velocity_mean": 12.842331873096839, "cost1_min": 26.683237336871994, "cost2_min": -0.7666462263097549, "cost1_mean": 317.6632430442153, "cost2_mean": -0.05846114256327906, "outflow_rate_mean": 1000.6057195135297, "outflow_rate_min": 449.88502780643296, "system_level_velocity_min": 10.239960152875517, "cost1_max": 411.2575441290437, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 54, "done": false, "episodes_total": 913, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ebe0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 830.8388253309884, "episode_reward_min": 52.17922948062009, "timesteps_total": 2161387, "time_since_restore": 1412.339335680008, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39050, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185903, "time_this_iter_s": 25.621482372283936, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 54, "date": "2019-05-06_23-38-23", "episode_len_mean": 680.52}
{"timesteps_since_restore": 2199763, "policy_reward_mean": {}, "time_total_s": 1437.7439289093018, "episode_reward_max": 1014.5607532098744, "info": {"num_steps_sampled": 2199763, "sample_time_ms": 15234.003, "update_time_ms": 8.636, "grad_time_ms": 10071.846, "default": {"kl": 0.015530123375356197, "entropy": 1.1296277046203613, "cur_lr": 0.0005000000237487257, "total_loss": 12.584498405456543, "vf_explained_var": 0.9251448512077332, "policy_loss": -0.005337022710591555, "vf_loss": 12.589181900024414, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2199763, "load_time_ms": 13.663}, "custom_metrics": {"system_level_velocity_max": 18.963321067711885, "outflow_rate_max": 1209.718101942869, "system_level_velocity_mean": 12.665823227665626, "cost1_min": 34.417180099758006, "cost2_min": -0.8113902318824799, "cost1_mean": 322.0816847097742, "cost2_mean": -0.060640269024547576, "outflow_rate_mean": 1008.4321079460512, "outflow_rate_min": 440.95290042961557, "system_level_velocity_min": 9.766318778873122, "cost1_max": 411.2575441290437, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 55, "done": false, "episodes_total": 930, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625acf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aa58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625add8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.4583687148389, "episode_reward_min": 60.89254493437799, "timesteps_total": 2199763, "time_since_restore": 1437.7439289093018, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38376, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185928, "time_this_iter_s": 25.404593229293823, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 55, "date": "2019-05-06_23-38-48", "episode_len_mean": 693.5}
{"timesteps_since_restore": 2238637, "policy_reward_mean": {}, "time_total_s": 1462.6950857639313, "episode_reward_max": 1014.5607532098744, "info": {"num_steps_sampled": 2238637, "sample_time_ms": 15322.508, "update_time_ms": 8.498, "grad_time_ms": 10054.186, "default": {"kl": 0.016071142628788948, "entropy": 1.1476165056228638, "cur_lr": 0.0005000000237487257, "total_loss": 12.57041072845459, "vf_explained_var": 0.9128057360649109, "policy_loss": -0.003893294371664524, "vf_loss": 12.573625564575195, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2238637, "load_time_ms": 13.259}, "custom_metrics": {"cost1_mean": 322.0565338111188, "outflow_rate_max": 1209.718101942869, "system_level_velocity_mean": 12.658610225939844, "cost1_min": 34.417180099758006, "cost1_max": 411.2575441290437, "outflow_rate_min": 440.95290042961557, "cost2_mean": -0.05631399777377413, "outflow_rate_mean": 1009.4828781109069, "system_level_velocity_min": 9.766318778873122, "cost2_min": -0.8113902318824799, "system_level_velocity_max": 18.963321067711885, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 56, "done": false, "episodes_total": 947, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062485f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 848.1139902262923, "episode_reward_min": 60.89254493437799, "timesteps_total": 2238637, "time_since_restore": 1462.6950857639313, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38874, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557185953, "time_this_iter_s": 24.951156854629517, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 56, "date": "2019-05-06_23-39-13", "episode_len_mean": 693.5}
{"timesteps_since_restore": 2277921, "policy_reward_mean": {}, "time_total_s": 1487.2003638744354, "episode_reward_max": 1027.475766611187, "info": {"num_steps_sampled": 2277921, "sample_time_ms": 15324.861, "update_time_ms": 8.382, "grad_time_ms": 9980.932, "default": {"kl": 0.018913140520453453, "entropy": 1.1083377599716187, "cur_lr": 0.0005000000237487257, "total_loss": 14.864933967590332, "vf_explained_var": 0.9001602530479431, "policy_loss": -0.005545858293771744, "vf_loss": 14.869683265686035, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2277921, "load_time_ms": 13.346}, "custom_metrics": {"system_level_velocity_max": 19.350475720620143, "outflow_rate_max": 1209.718101942869, "system_level_velocity_mean": 12.64548230357375, "cost1_min": 34.417180099758006, "cost2_min": -0.8113902318824799, "cost1_mean": 317.2627307025389, "cost2_mean": -0.05937447822885179, "outflow_rate_mean": 1001.5958231639637, "outflow_rate_min": 440.95290042961557, "system_level_velocity_min": 9.74614898480663, "cost1_max": 411.2575441290437, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 57, "done": false, "episodes_total": 965, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a1d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a048>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.1711698096178, "episode_reward_min": 60.89254493437799, "timesteps_total": 2277921, "time_since_restore": 1487.2003638744354, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39284, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557185978, "time_this_iter_s": 24.50527811050415, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 57, "date": "2019-05-06_23-39-38", "episode_len_mean": 687.11}
{"timesteps_since_restore": 2316018, "policy_reward_mean": {}, "time_total_s": 1514.4701082706451, "episode_reward_max": 1060.3777365554956, "info": {"num_steps_sampled": 2316018, "sample_time_ms": 15246.123, "update_time_ms": 8.101, "grad_time_ms": 9948.071, "default": {"kl": 0.019070252776145935, "entropy": 1.0891884565353394, "cur_lr": 0.0005000000237487257, "total_loss": 13.984574317932129, "vf_explained_var": 0.9176560640335083, "policy_loss": -0.006078545935451984, "vf_loss": 13.989850044250488, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2316018, "load_time_ms": 12.95}, "custom_metrics": {"system_level_velocity_max": 19.350475720620143, "outflow_rate_max": 1209.718101942869, "system_level_velocity_mean": 12.652341797368818, "cost1_min": 34.417180099758006, "cost2_min": -0.8113902318824799, "cost1_mean": 312.7828128936013, "cost2_mean": -0.05381961330848589, "outflow_rate_mean": 992.6362968240323, "outflow_rate_min": 440.95290042961557, "system_level_velocity_min": 9.74614898480663, "cost1_max": 411.2575441290437, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 58, "done": false, "episodes_total": 984, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062516a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251be0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251080>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.7523643512753, "episode_reward_min": 56.296825339266434, "timesteps_total": 2316018, "time_since_restore": 1514.4701082706451, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38097, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186005, "time_this_iter_s": 27.269744396209717, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 58, "date": "2019-05-06_23-40-05", "episode_len_mean": 680.63}
{"timesteps_since_restore": 2353886, "policy_reward_mean": {}, "time_total_s": 1541.5018017292023, "episode_reward_max": 1060.3777365554956, "info": {"num_steps_sampled": 2353886, "sample_time_ms": 15428.302, "update_time_ms": 8.526, "grad_time_ms": 9914.923, "default": {"kl": 0.018466457724571228, "entropy": 1.071386456489563, "cur_lr": 0.0005000000237487257, "total_loss": 13.281926155090332, "vf_explained_var": 0.9239640831947327, "policy_loss": -0.007256784942001104, "vf_loss": 13.288403511047363, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2353886, "load_time_ms": 12.747}, "custom_metrics": {"system_level_velocity_max": 19.350475720620143, "outflow_rate_max": 1172.6121656057194, "system_level_velocity_mean": 12.605767901040911, "cost1_min": 34.417180099758006, "cost2_min": -0.8113902318824799, "cost1_mean": 311.38195067134365, "cost2_mean": -0.056790126066814904, "outflow_rate_mean": 989.8675550420419, "outflow_rate_min": 440.95290042961557, "system_level_velocity_min": 9.74614898480663, "cost1_max": 403.1975957743166, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 59, "done": false, "episodes_total": 1002, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ab00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.6852810836152, "episode_reward_min": 56.296825339266434, "timesteps_total": 2353886, "time_since_restore": 1541.5018017292023, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37868, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186032, "time_this_iter_s": 27.03169345855713, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 59, "date": "2019-05-06_23-40-32", "episode_len_mean": 680.63}
{"timesteps_since_restore": 2392302, "policy_reward_mean": {}, "time_total_s": 1566.656571149826, "episode_reward_max": 1060.3777365554956, "info": {"num_steps_sampled": 2392302, "sample_time_ms": 15340.442, "update_time_ms": 8.653, "grad_time_ms": 10029.291, "default": {"kl": 0.017186343669891357, "entropy": 1.0471216440200806, "cur_lr": 0.0005000000237487257, "total_loss": 14.28653335571289, "vf_explained_var": 0.9247288107872009, "policy_loss": -0.004345757886767387, "vf_loss": 14.290156364440918, "cur_kl_coeff": 0.04218750819563866}, "num_steps_trained": 2392302, "load_time_ms": 12.794}, "custom_metrics": {"system_level_velocity_max": 19.350475720620143, "outflow_rate_max": 1183.7046715188856, "system_level_velocity_mean": 12.638758039601514, "cost1_min": 34.417180099758006, "cost2_min": -0.8113902318824799, "cost1_mean": 311.9670307759566, "cost2_mean": -0.05590765048432601, "outflow_rate_mean": 991.3602035012303, "outflow_rate_min": 440.95290042961557, "system_level_velocity_min": 9.74614898480663, "cost1_max": 420.0282982152183, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 60, "done": false, "episodes_total": 1021, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248278>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.6063808505464, "episode_reward_min": 56.296825339266434, "timesteps_total": 2392302, "time_since_restore": 1566.656571149826, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38416, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186057, "time_this_iter_s": 25.15476942062378, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 60, "date": "2019-05-06_23-40-57", "episode_len_mean": 680.63}
{"timesteps_since_restore": 2430320, "policy_reward_mean": {}, "time_total_s": 1590.1237361431122, "episode_reward_max": 1060.3777365554956, "info": {"num_steps_sampled": 2430320, "sample_time_ms": 15253.237, "update_time_ms": 8.6, "grad_time_ms": 10037.565, "default": {"kl": 0.021930886432528496, "entropy": 1.0790941715240479, "cur_lr": 0.0005000000237487257, "total_loss": 12.96037769317627, "vf_explained_var": 0.9281942844390869, "policy_loss": -0.006156908348202705, "vf_loss": 12.965608596801758, "cur_kl_coeff": 0.04218750447034836}, "num_steps_trained": 2430320, "load_time_ms": 12.398}, "custom_metrics": {"system_level_velocity_max": 19.350475720620143, "outflow_rate_max": 1186.0687490122486, "system_level_velocity_mean": 12.698388716030738, "cost1_min": 35.57908473253247, "cost2_min": -0.5817897010602062, "cost1_mean": 317.9855997744329, "cost2_mean": -0.052190728262579714, "outflow_rate_mean": 999.7513046611599, "outflow_rate_min": 470.5443113856731, "system_level_velocity_min": 9.74614898480663, "cost1_max": 436.79639087030966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 61, "done": false, "episodes_total": 1038, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ad30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a080>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 846.1420690384024, "episode_reward_min": 56.296825339266434, "timesteps_total": 2430320, "time_since_restore": 1590.1237361431122, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38018, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186081, "time_this_iter_s": 23.467164993286133, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 61, "date": "2019-05-06_23-41-21", "episode_len_mean": 687.13}
{"timesteps_since_restore": 2468509, "policy_reward_mean": {}, "time_total_s": 1615.5002663135529, "episode_reward_max": 1062.1279679651682, "info": {"num_steps_sampled": 2468509, "sample_time_ms": 15303.941, "update_time_ms": 8.772, "grad_time_ms": 10023.291, "default": {"kl": 0.020233426243066788, "entropy": 1.055034875869751, "cur_lr": 0.0005000000237487257, "total_loss": 16.57534408569336, "vf_explained_var": 0.9170494079589844, "policy_loss": -0.005592247936874628, "vf_loss": 16.579654693603516, "cur_kl_coeff": 0.06328124552965164}, "num_steps_trained": 2468509, "load_time_ms": 12.464}, "custom_metrics": {"system_level_velocity_max": 19.46338592074823, "outflow_rate_max": 1229.1718420028933, "system_level_velocity_mean": 12.933566841740767, "cost1_min": 26.858491711420303, "cost2_min": -1.2550097462291332, "cost1_mean": 314.7266904703942, "cost2_mean": -0.059352363233304145, "outflow_rate_mean": 993.0648095222205, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 9.74614898480663, "cost1_max": 436.79639087030966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 62, "done": false, "episodes_total": 1057, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251710>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 826.7206524380464, "episode_reward_min": 51.76006486652127, "timesteps_total": 2468509, "time_since_restore": 1615.5002663135529, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38189, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186106, "time_this_iter_s": 25.376530170440674, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 62, "date": "2019-05-06_23-41-46", "episode_len_mean": 674.08}
{"timesteps_since_restore": 2506843, "policy_reward_mean": {}, "time_total_s": 1641.1122896671295, "episode_reward_max": 1062.1279679651682, "info": {"num_steps_sampled": 2506843, "sample_time_ms": 15318.231, "update_time_ms": 9.029, "grad_time_ms": 10014.588, "default": {"kl": 0.017223220318555832, "entropy": 1.055471658706665, "cur_lr": 0.0005000000237487257, "total_loss": 14.28119945526123, "vf_explained_var": 0.922774076461792, "policy_loss": -0.00534807238727808, "vf_loss": 14.284913063049316, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2506843, "load_time_ms": 12.557}, "custom_metrics": {"cost1_mean": 324.7764562342886, "outflow_rate_max": 1229.1718420028933, "system_level_velocity_mean": 12.967088002350758, "cost1_min": 26.858491711420303, "cost1_max": 436.79639087030966, "outflow_rate_min": 450.96297142169004, "cost2_mean": -0.053660848087452945, "outflow_rate_mean": 1011.3451926645635, "system_level_velocity_min": 9.999343976191398, "cost2_min": -1.2550097462291332, "system_level_velocity_max": 19.46338592074823, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 63, "done": false, "episodes_total": 1075, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ae10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ad68>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a7b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 847.3465680153649, "episode_reward_min": 51.76006486652127, "timesteps_total": 2506843, "time_since_restore": 1641.1122896671295, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38334, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186132, "time_this_iter_s": 25.61202335357666, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 63, "date": "2019-05-06_23-42-12", "episode_len_mean": 686.95}
{"timesteps_since_restore": 2545020, "policy_reward_mean": {}, "time_total_s": 1666.3057119846344, "episode_reward_max": 1062.1279679651682, "info": {"num_steps_sampled": 2545020, "sample_time_ms": 15350.467, "update_time_ms": 8.901, "grad_time_ms": 9937.885, "default": {"kl": 0.01558889914304018, "entropy": 1.0445929765701294, "cur_lr": 0.0005000000237487257, "total_loss": 12.388964653015137, "vf_explained_var": 0.9316000938415527, "policy_loss": -0.004963538143783808, "vf_loss": 12.392447471618652, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2545020, "load_time_ms": 12.529}, "custom_metrics": {"system_level_velocity_max": 19.46338592074823, "outflow_rate_max": 1229.1718420028933, "system_level_velocity_mean": 12.986393310802928, "cost1_min": 26.858491711420303, "cost2_min": -1.2550097462291332, "cost1_mean": 325.29520699716227, "cost2_mean": -0.05510013953807445, "outflow_rate_mean": 1010.3385329440655, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 9.999343976191398, "cost1_max": 436.79639087030966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 64, "done": false, "episodes_total": 1090, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248b00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062488d0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.2214525594079, "episode_reward_min": 51.76006486652127, "timesteps_total": 2545020, "time_since_restore": 1666.3057119846344, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38177, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557186157, "time_this_iter_s": 25.193422317504883, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 64, "date": "2019-05-06_23-42-37", "episode_len_mean": 686.95}
{"timesteps_since_restore": 2583409, "policy_reward_mean": {}, "time_total_s": 1691.9245433807373, "episode_reward_max": 1062.1279679651682, "info": {"num_steps_sampled": 2583409, "sample_time_ms": 15461.294, "update_time_ms": 8.925, "grad_time_ms": 9848.204, "default": {"kl": 0.014712206088006496, "entropy": 1.035688877105713, "cur_lr": 0.0005000000237487257, "total_loss": 13.067163467407227, "vf_explained_var": 0.9344538450241089, "policy_loss": -0.00472907954826951, "vf_loss": 13.07049560546875, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2583409, "load_time_ms": 12.987}, "custom_metrics": {"system_level_velocity_max": 19.46338592074823, "outflow_rate_max": 1229.1718420028933, "system_level_velocity_mean": 13.034531942158665, "cost1_min": 26.858491711420303, "cost2_min": -1.2550097462291332, "cost1_mean": 326.66060418385916, "cost2_mean": -0.04836593978647003, "outflow_rate_mean": 1013.6451185502477, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 9.999343976191398, "cost1_max": 436.79639087030966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 65, "done": false, "episodes_total": 1109, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a0f0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5c0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 838.7069796740498, "episode_reward_min": 51.76006486652127, "timesteps_total": 2583409, "time_since_restore": 1691.9245433807373, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38389, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186183, "time_this_iter_s": 25.618831396102905, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 65, "date": "2019-05-06_23-43-03", "episode_len_mean": 686.95}
{"timesteps_since_restore": 2622118, "policy_reward_mean": {}, "time_total_s": 1716.8958187103271, "episode_reward_max": 1062.1279679651682, "info": {"num_steps_sampled": 2622118, "sample_time_ms": 15535.486, "update_time_ms": 8.878, "grad_time_ms": 9776.403, "default": {"kl": 0.017712770029902458, "entropy": 1.0510632991790771, "cur_lr": 0.0005000000237487257, "total_loss": 16.24444580078125, "vf_explained_var": 0.9127128720283508, "policy_loss": -0.004980303347110748, "vf_loss": 16.247743606567383, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2622118, "load_time_ms": 13.149}, "custom_metrics": {"system_level_velocity_max": 19.46338592074823, "outflow_rate_max": 1229.1718420028933, "system_level_velocity_mean": 13.105608418132597, "cost1_min": 26.858491711420303, "cost2_min": -1.2550097462291332, "cost1_mean": 324.4615080608761, "cost2_mean": -0.04310533382832176, "outflow_rate_mean": 1009.9873686140593, "outflow_rate_min": 416.40321229377986, "system_level_velocity_min": 10.016904412973672, "cost1_max": 436.79639087030966, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 66, "done": false, "episodes_total": 1128, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623eef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247278>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.1524659669408, "episode_reward_min": 51.76006486652127, "timesteps_total": 2622118, "time_since_restore": 1716.8958187103271, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38709, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186208, "time_this_iter_s": 24.971275329589844, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 66, "date": "2019-05-06_23-43-28", "episode_len_mean": 680.39}
{"timesteps_since_restore": 2660298, "policy_reward_mean": {}, "time_total_s": 1741.8604674339294, "episode_reward_max": 1029.397065803907, "info": {"num_steps_sampled": 2660298, "sample_time_ms": 15675.185, "update_time_ms": 8.881, "grad_time_ms": 9683.224, "default": {"kl": 0.017312411218881607, "entropy": 1.0617311000823975, "cur_lr": 0.0005000000237487257, "total_loss": 14.63296127319336, "vf_explained_var": 0.9186282753944397, "policy_loss": -0.006032372824847698, "vf_loss": 14.637349128723145, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2660298, "load_time_ms": 12.825}, "custom_metrics": {"system_level_velocity_max": 19.698247746610267, "outflow_rate_max": 1192.17580588494, "system_level_velocity_mean": 12.985852352232348, "cost1_min": 29.40049109591256, "cost2_min": -1.7812957611073101, "cost1_mean": 325.87802433435775, "cost2_mean": -0.0640106234846681, "outflow_rate_mean": 1014.4918931639227, "outflow_rate_min": 416.40321229377986, "system_level_velocity_min": 10.016904412973672, "cost1_max": 411.47570437007596, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 67, "done": false, "episodes_total": 1148, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a3c8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.5028490973091, "episode_reward_min": 56.128851683020365, "timesteps_total": 2660298, "time_since_restore": 1741.8604674339294, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38180, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557186233, "time_this_iter_s": 24.964648723602295, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 67, "date": "2019-05-06_23-43-53", "episode_len_mean": 686.94}
{"timesteps_since_restore": 2699155, "policy_reward_mean": {}, "time_total_s": 1766.5454614162445, "episode_reward_max": 1029.397065803907, "info": {"num_steps_sampled": 2699155, "sample_time_ms": 15605.755, "update_time_ms": 8.933, "grad_time_ms": 9497.46, "default": {"kl": 0.015831947326660156, "entropy": 1.0809661149978638, "cur_lr": 0.0005000000237487257, "total_loss": 12.534000396728516, "vf_explained_var": 0.9239088892936707, "policy_loss": -0.005919511895626783, "vf_loss": 12.538415908813477, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2699155, "load_time_ms": 12.794}, "custom_metrics": {"cost1_mean": 325.7980734584669, "outflow_rate_max": 1192.17580588494, "system_level_velocity_mean": 12.978548006526708, "cost1_min": 29.40049109591256, "cost1_max": 410.85694791408605, "outflow_rate_min": 416.40321229377986, "cost2_mean": -0.053359881047129604, "outflow_rate_mean": 1014.0754950103094, "system_level_velocity_min": 10.016904412973672, "cost2_min": -1.7812957611073101, "system_level_velocity_max": 19.698247746610267, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 68, "done": false, "episodes_total": 1163, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062489b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248978>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.9502467468801, "episode_reward_min": 56.128851683020365, "timesteps_total": 2699155, "time_since_restore": 1766.5454614162445, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38857, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557186257, "time_this_iter_s": 24.684993982315063, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 68, "date": "2019-05-06_23-44-17", "episode_len_mean": 686.94}
{"timesteps_since_restore": 2735937, "policy_reward_mean": {}, "time_total_s": 1790.4468774795532, "episode_reward_max": 1035.8256819258193, "info": {"num_steps_sampled": 2735937, "sample_time_ms": 15390.481, "update_time_ms": 8.264, "grad_time_ms": 9400.473, "default": {"kl": 0.016204461455345154, "entropy": 1.060945749282837, "cur_lr": 0.0005000000237487257, "total_loss": 17.60749053955078, "vf_explained_var": 0.9320461750030518, "policy_loss": -0.005129245109856129, "vf_loss": 17.6110782623291, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2735937, "load_time_ms": 12.78}, "custom_metrics": {"system_level_velocity_max": 19.698247746610267, "outflow_rate_max": 1205.5190123821073, "system_level_velocity_mean": 13.047557050112655, "cost1_min": 29.40049109591256, "cost2_min": -1.7812957611073101, "cost1_mean": 327.55978487708455, "cost2_mean": -0.05063614701854121, "outflow_rate_mean": 1015.704354504141, "outflow_rate_min": 416.40321229377986, "system_level_velocity_min": 10.016904412973672, "cost1_max": 457.5536083845136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 69, "done": false, "episodes_total": 1183, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ac88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a6d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ae48>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 847.6450652275078, "episode_reward_min": 56.128851683020365, "timesteps_total": 2735937, "time_since_restore": 1790.4468774795532, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 36782, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557186281, "time_this_iter_s": 23.901416063308716, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 69, "date": "2019-05-06_23-44-41", "episode_len_mean": 686.94}
{"timesteps_since_restore": 2774267, "policy_reward_mean": {}, "time_total_s": 1815.566240787506, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2774267, "sample_time_ms": 15569.37, "update_time_ms": 8.362, "grad_time_ms": 9217.26, "default": {"kl": 0.017655236646533012, "entropy": 1.0817927122116089, "cur_lr": 0.0005000000237487257, "total_loss": 17.58791732788086, "vf_explained_var": 0.8998268246650696, "policy_loss": -0.007196845952421427, "vf_loss": 17.59343719482422, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2774267, "load_time_ms": 12.876}, "custom_metrics": {"system_level_velocity_max": 19.698247746610267, "outflow_rate_max": 1232.102301547545, "system_level_velocity_mean": 13.240640497927465, "cost1_min": 18.99516019223066, "cost2_min": -1.7812957611073101, "cost1_mean": 328.0077532185325, "cost2_mean": -0.05218106798580802, "outflow_rate_mean": 1017.0354084614868, "outflow_rate_min": 416.40321229377986, "system_level_velocity_min": 10.507533889538665, "cost1_max": 457.5536083845136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 70, "done": false, "episodes_total": 1204, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251710>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.6030393228991, "episode_reward_min": 35.62738280030841, "timesteps_total": 2774267, "time_since_restore": 1815.566240787506, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38330, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557186306, "time_this_iter_s": 25.11936330795288, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 70, "date": "2019-05-06_23-45-06", "episode_len_mean": 680.22}
{"timesteps_since_restore": 2812575, "policy_reward_mean": {}, "time_total_s": 1840.9028797149658, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2812575, "sample_time_ms": 15771.336, "update_time_ms": 8.58, "grad_time_ms": 9199.634, "default": {"kl": 0.0170053169131279, "entropy": 1.0843324661254883, "cur_lr": 0.0005000000237487257, "total_loss": 12.002483367919922, "vf_explained_var": 0.9268079400062561, "policy_loss": -0.006154500413686037, "vf_loss": 12.007023811340332, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2812575, "load_time_ms": 12.581}, "custom_metrics": {"system_level_velocity_max": 19.698247746610267, "outflow_rate_max": 1232.102301547545, "system_level_velocity_mean": 13.23051469690348, "cost1_min": 18.99516019223066, "cost2_min": -1.7812957611073101, "cost1_mean": 327.2563771142164, "cost2_mean": -0.052746097763418896, "outflow_rate_mean": 1015.6313519428793, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.507533889538665, "cost1_max": 457.5536083845136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 71, "done": false, "episodes_total": 1218, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ab00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a9e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a2e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 839.0739557479232, "episode_reward_min": 35.62738280030841, "timesteps_total": 2812575, "time_since_restore": 1840.9028797149658, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38308, "pid": 25263, "episodes_this_iter": 14, "timestamp": 1557186332, "time_this_iter_s": 25.336638927459717, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 71, "date": "2019-05-06_23-45-32", "episode_len_mean": 680.33}
{"timesteps_since_restore": 2850226, "policy_reward_mean": {}, "time_total_s": 1866.657791376114, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2850226, "sample_time_ms": 15767.447, "update_time_ms": 8.497, "grad_time_ms": 9240.947, "default": {"kl": 0.016162043437361717, "entropy": 1.0703028440475464, "cur_lr": 0.0005000000237487257, "total_loss": 17.625995635986328, "vf_explained_var": 0.9178115129470825, "policy_loss": -0.005099197383970022, "vf_loss": 17.629560470581055, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2850226, "load_time_ms": 12.659}, "custom_metrics": {"system_level_velocity_max": 19.67340929803166, "outflow_rate_max": 1232.102301547545, "system_level_velocity_mean": 13.161128105804982, "cost1_min": 18.99516019223066, "cost2_min": -1.0112850403362001, "cost1_mean": 325.30128835723133, "cost2_mean": -0.0372558110572388, "outflow_rate_mean": 1012.2702071304691, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.351259167758853, "cost1_max": 457.5536083845136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 72, "done": false, "episodes_total": 1238, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062330f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623eef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233ba8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 840.1040289582087, "episode_reward_min": 35.62738280030841, "timesteps_total": 2850226, "time_since_restore": 1866.657791376114, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37651, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557186357, "time_this_iter_s": 25.75491166114807, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 72, "date": "2019-05-06_23-45-57", "episode_len_mean": 680.17}
{"timesteps_since_restore": 2889446, "policy_reward_mean": {}, "time_total_s": 1892.4953982830048, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2889446, "sample_time_ms": 15758.869, "update_time_ms": 8.626, "grad_time_ms": 9274.425, "default": {"kl": 0.014682434499263763, "entropy": 1.095821738243103, "cur_lr": 0.0005000000237487257, "total_loss": 16.951976776123047, "vf_explained_var": 0.8986440300941467, "policy_loss": -0.005845097824931145, "vf_loss": 16.95642852783203, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2889446, "load_time_ms": 12.547}, "custom_metrics": {"system_level_velocity_max": 19.67340929803166, "outflow_rate_max": 1232.102301547545, "system_level_velocity_mean": 13.304825967605566, "cost1_min": 18.99516019223066, "cost2_min": -0.49321109101177174, "cost1_mean": 324.6848811322029, "cost2_mean": -0.03110029645388237, "outflow_rate_mean": 1009.8573484065597, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.196171158116233, "cost1_max": 457.5536083845136, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 73, "done": false, "episodes_total": 1258, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233160>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.1522726800582, "episode_reward_min": 35.62738280030841, "timesteps_total": 2889446, "time_since_restore": 1892.4953982830048, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39220, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557186383, "time_this_iter_s": 25.83760690689087, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 73, "date": "2019-05-06_23-46-23", "episode_len_mean": 673.68}
{"timesteps_since_restore": 2927204, "policy_reward_mean": {}, "time_total_s": 1918.7278172969818, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2927204, "sample_time_ms": 15874.468, "update_time_ms": 8.459, "grad_time_ms": 9264.698, "default": {"kl": 0.01868320256471634, "entropy": 1.0990502834320068, "cur_lr": 0.0005000000237487257, "total_loss": 20.71497344970703, "vf_explained_var": 0.9059469103813171, "policy_loss": -0.005276981275528669, "vf_loss": 20.718477249145508, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 2927204, "load_time_ms": 12.68}, "custom_metrics": {"system_level_velocity_max": 19.67340929803166, "outflow_rate_max": 1232.102301547545, "system_level_velocity_mean": 13.442681640360842, "cost1_min": 18.99516019223066, "cost2_min": -0.49321109101177174, "cost1_mean": 309.8110184439833, "cost2_mean": -0.02955750560497637, "outflow_rate_mean": 983.7334176076239, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.051566384913638, "cost1_max": 431.0827697994938, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 74, "done": false, "episodes_total": 1279, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e2b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 801.4613386734541, "episode_reward_min": 35.62738280030841, "timesteps_total": 2927204, "time_since_restore": 1918.7278172969818, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37758, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557186410, "time_this_iter_s": 26.23241901397705, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 74, "date": "2019-05-06_23-46-50", "episode_len_mean": 647.63}
{"timesteps_since_restore": 2965368, "policy_reward_mean": {}, "time_total_s": 1944.6293532848358, "episode_reward_max": 1110.1038324046633, "info": {"num_steps_sampled": 2965368, "sample_time_ms": 15859.748, "update_time_ms": 8.352, "grad_time_ms": 9307.799, "default": {"kl": 0.016918683424592018, "entropy": 1.094103455543518, "cur_lr": 0.0005000000237487257, "total_loss": 13.944414138793945, "vf_explained_var": 0.9263590574264526, "policy_loss": -0.0060221184976398945, "vf_loss": 13.948832511901855, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 2965368, "load_time_ms": 12.736}, "custom_metrics": {"system_level_velocity_max": 19.67340929803166, "outflow_rate_max": 1235.6809132279864, "system_level_velocity_mean": 13.477628198254187, "cost1_min": 21.639962368779216, "cost2_min": -0.49321109101177174, "cost1_mean": 310.7392837892731, "cost2_mean": -0.03429275649824231, "outflow_rate_mean": 982.2103324005323, "outflow_rate_min": 440.08249163120905, "system_level_velocity_min": 10.051566384913638, "cost1_max": 471.43581550647366, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 75, "done": false, "episodes_total": 1297, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aeb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a550>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 802.3330418340082, "episode_reward_min": 41.13152850236793, "timesteps_total": 2965368, "time_since_restore": 1944.6293532848358, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38164, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186436, "time_this_iter_s": 25.901535987854004, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 75, "date": "2019-05-06_23-47-16", "episode_len_mean": 647.8}
{"timesteps_since_restore": 3004082, "policy_reward_mean": {}, "time_total_s": 1969.0439364910126, "episode_reward_max": 1029.576630664898, "info": {"num_steps_sampled": 3004082, "sample_time_ms": 15725.009, "update_time_ms": 8.34, "grad_time_ms": 9385.983, "default": {"kl": 0.01787644997239113, "entropy": 1.0835771560668945, "cur_lr": 0.0005000000237487257, "total_loss": 17.309696197509766, "vf_explained_var": 0.910149097442627, "policy_loss": -0.008082014508545399, "vf_loss": 17.316082000732422, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3004082, "load_time_ms": 12.698}, "custom_metrics": {"system_level_velocity_max": 19.547137583265098, "outflow_rate_max": 1235.6809132279864, "system_level_velocity_mean": 13.373869946954464, "cost1_min": 21.639962368779216, "cost2_min": -0.7626550021040956, "cost1_mean": 308.0192004890977, "cost2_mean": -0.04096270921264664, "outflow_rate_mean": 976.6698544640514, "outflow_rate_min": 440.08249163120905, "system_level_velocity_min": 10.051566384913638, "cost1_max": 471.43581550647366, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 76, "done": false, "episodes_total": 1318, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ecc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e4e0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e5f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 799.9595877737664, "episode_reward_min": 41.13152850236793, "timesteps_total": 3004082, "time_since_restore": 1969.0439364910126, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38714, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557186460, "time_this_iter_s": 24.414583206176758, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 76, "date": "2019-05-06_23-47-40", "episode_len_mean": 647.73}
{"timesteps_since_restore": 3042779, "policy_reward_mean": {}, "time_total_s": 1994.2696554660797, "episode_reward_max": 1023.6399168644209, "info": {"num_steps_sampled": 3042779, "sample_time_ms": 15622.156, "update_time_ms": 8.423, "grad_time_ms": 9512.751, "default": {"kl": 0.019185220822691917, "entropy": 1.0848324298858643, "cur_lr": 0.0005000000237487257, "total_loss": 15.85588264465332, "vf_explained_var": 0.9221702814102173, "policy_loss": -0.008307919837534428, "vf_loss": 15.862369537353516, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3042779, "load_time_ms": 12.459}, "custom_metrics": {"cost1_mean": 313.3260844310384, "outflow_rate_max": 1235.6809132279864, "system_level_velocity_mean": 13.394206432742115, "cost1_min": 21.639962368779216, "cost1_max": 471.43581550647366, "outflow_rate_min": 440.08249163120905, "cost2_mean": -0.04952305639520947, "outflow_rate_mean": 987.5922460287985, "system_level_velocity_min": 10.051566384913638, "cost2_min": -0.7626550021040956, "system_level_velocity_max": 19.547137583265098, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 77, "done": false, "episodes_total": 1335, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062351d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235cc0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062355f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 816.8187950725098, "episode_reward_min": 41.13152850236793, "timesteps_total": 3042779, "time_since_restore": 1994.2696554660797, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38697, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186485, "time_this_iter_s": 25.22571897506714, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 77, "date": "2019-05-06_23-48-05", "episode_len_mean": 654.39}
{"timesteps_since_restore": 3081019, "policy_reward_mean": {}, "time_total_s": 2018.7265372276306, "episode_reward_max": 1023.6399168644209, "info": {"num_steps_sampled": 3081019, "sample_time_ms": 15568.811, "update_time_ms": 8.559, "grad_time_ms": 9539.527, "default": {"kl": 0.017197411507368088, "entropy": 1.0980371236801147, "cur_lr": 0.0005000000237487257, "total_loss": 13.69151782989502, "vf_explained_var": 0.93502277135849, "policy_loss": -0.005152506288141012, "vf_loss": 13.695036888122559, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3081019, "load_time_ms": 12.633}, "custom_metrics": {"system_level_velocity_max": 19.547137583265098, "outflow_rate_max": 1235.6809132279864, "system_level_velocity_mean": 13.354340227883627, "cost1_min": 21.639962368779216, "cost2_min": -0.7626550021040956, "cost1_mean": 312.10287282548984, "cost2_mean": -0.04875295944568894, "outflow_rate_mean": 983.8504364115154, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.051566384913638, "cost1_max": 471.43581550647366, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 78, "done": false, "episodes_total": 1352, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a518>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 816.3902584058759, "episode_reward_min": 41.13152850236793, "timesteps_total": 3081019, "time_since_restore": 2018.7265372276306, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38240, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186510, "time_this_iter_s": 24.456881761550903, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 78, "date": "2019-05-06_23-48-30", "episode_len_mean": 654.35}
{"timesteps_since_restore": 3119694, "policy_reward_mean": {}, "time_total_s": 2044.2568135261536, "episode_reward_max": 1023.6399168644209, "info": {"num_steps_sampled": 3119694, "sample_time_ms": 15623.759, "update_time_ms": 8.831, "grad_time_ms": 9647.375, "default": {"kl": 0.014846540056169033, "entropy": 1.0913587808609009, "cur_lr": 0.0005000000237487257, "total_loss": 16.931812286376953, "vf_explained_var": 0.915708601474762, "policy_loss": -0.00443887896835804, "vf_loss": 16.93484115600586, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3119694, "load_time_ms": 12.758}, "custom_metrics": {"system_level_velocity_max": 19.547137583265098, "outflow_rate_max": 1235.6809132279864, "system_level_velocity_mean": 13.256851590529074, "cost1_min": 30.602347175520894, "cost2_min": -0.7626550021040956, "cost1_mean": 323.0097444922338, "cost2_mean": -0.037927694921612895, "outflow_rate_mean": 1005.634350584173, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.051566384913638, "cost1_max": 471.43581550647366, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 79, "done": false, "episodes_total": 1371, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233a58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248e10>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.9161025142884, "episode_reward_min": 55.75385988286126, "timesteps_total": 3119694, "time_since_restore": 2044.2568135261536, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38675, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186535, "time_this_iter_s": 25.53027629852295, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 79, "date": "2019-05-06_23-48-55", "episode_len_mean": 673.92}
{"timesteps_since_restore": 3158884, "policy_reward_mean": {}, "time_total_s": 2069.507415533066, "episode_reward_max": 1023.6399168644209, "info": {"num_steps_sampled": 3158884, "sample_time_ms": 15559.771, "update_time_ms": 8.731, "grad_time_ms": 9724.924, "default": {"kl": 0.016938796266913414, "entropy": 1.091355562210083, "cur_lr": 0.0005000000237487257, "total_loss": 13.408366203308105, "vf_explained_var": 0.931385338306427, "policy_loss": -0.006224428303539753, "vf_loss": 13.412983894348145, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3158884, "load_time_ms": 12.677}, "custom_metrics": {"system_level_velocity_max": 19.547137583265098, "outflow_rate_max": 1221.6030057258629, "system_level_velocity_mean": 13.160335408107152, "cost1_min": 30.602347175520894, "cost2_min": -0.7626550021040956, "cost1_mean": 325.13743225094584, "cost2_mean": -0.03929893195194492, "outflow_rate_mean": 1010.9912859416975, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.074764406702972, "cost1_max": 441.81405789542396, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 80, "done": false, "episodes_total": 1387, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e240>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.4240262012959, "episode_reward_min": 55.75385988286126, "timesteps_total": 3158884, "time_since_restore": 2069.507415533066, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39190, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557186561, "time_this_iter_s": 25.25060200691223, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 80, "date": "2019-05-06_23-49-21", "episode_len_mean": 680.4}
{"timesteps_since_restore": 3197210, "policy_reward_mean": {}, "time_total_s": 2095.33078455925, "episode_reward_max": 1127.818651671932, "info": {"num_steps_sampled": 3197210, "sample_time_ms": 15570.688, "update_time_ms": 8.769, "grad_time_ms": 9765.129, "default": {"kl": 0.017815273255109787, "entropy": 1.0634605884552002, "cur_lr": 0.0005000000237487257, "total_loss": 18.215770721435547, "vf_explained_var": 0.9190008640289307, "policy_loss": -0.007019307930022478, "vf_loss": 18.221097946166992, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 3197210, "load_time_ms": 13.15}, "custom_metrics": {"system_level_velocity_max": 19.547137583265098, "outflow_rate_max": 1287.0323428694146, "system_level_velocity_mean": 13.169243784247328, "cost1_min": 32.33046912428772, "cost2_min": -0.8832148501073336, "cost1_mean": 326.92010720236937, "cost2_mean": -0.05651750369021217, "outflow_rate_mean": 1016.9702783213174, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.074764406702972, "cost1_max": 463.3726430883101, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 81, "done": false, "episodes_total": 1406, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235128>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235c50>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 847.6402950880758, "episode_reward_min": 62.63556609358563, "timesteps_total": 3197210, "time_since_restore": 2095.33078455925, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38326, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186586, "time_this_iter_s": 25.823369026184082, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 81, "date": "2019-05-06_23-49-46", "episode_len_mean": 682.62}
{"timesteps_since_restore": 3235082, "policy_reward_mean": {}, "time_total_s": 2120.7045347690582, "episode_reward_max": 1127.818651671932, "info": {"num_steps_sampled": 3235082, "sample_time_ms": 15548.241, "update_time_ms": 8.693, "grad_time_ms": 9748.623, "default": {"kl": 0.017499705776572227, "entropy": 1.0792211294174194, "cur_lr": 0.0005000000237487257, "total_loss": 14.573518753051758, "vf_explained_var": 0.9239961504936218, "policy_loss": -0.00668449979275465, "vf_loss": 14.57854175567627, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 3235082, "load_time_ms": 13.093}, "custom_metrics": {"system_level_velocity_max": 18.969837792485574, "outflow_rate_max": 1287.0323428694146, "system_level_velocity_mean": 13.07680578561832, "cost1_min": 32.33046912428772, "cost2_min": -1.3056458772987283, "cost1_mean": 328.9072611974684, "cost2_mean": -0.06580847426488957, "outflow_rate_mean": 1021.7096581439205, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.415531280535616, "cost1_max": 463.3726430883101, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 82, "done": false, "episodes_total": 1423, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a6d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e6a0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 854.3174520558126, "episode_reward_min": 66.13242560892124, "timesteps_total": 3235082, "time_since_restore": 2120.7045347690582, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37872, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186612, "time_this_iter_s": 25.37375020980835, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 82, "date": "2019-05-06_23-50-12", "episode_len_mean": 689.14}
{"timesteps_since_restore": 3273432, "policy_reward_mean": {}, "time_total_s": 2146.5877158641815, "episode_reward_max": 1127.818651671932, "info": {"num_steps_sampled": 3273432, "sample_time_ms": 15519.259, "update_time_ms": 8.289, "grad_time_ms": 9780.177, "default": {"kl": 0.018556825816631317, "entropy": 1.1034214496612549, "cur_lr": 0.0005000000237487257, "total_loss": 19.31916046142578, "vf_explained_var": 0.896493136882782, "policy_loss": -0.006285457406193018, "vf_loss": 19.323680877685547, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 3273432, "load_time_ms": 13.231}, "custom_metrics": {"system_level_velocity_max": 19.330156138419053, "outflow_rate_max": 1287.0323428694146, "system_level_velocity_mean": 13.269101539802046, "cost1_min": 23.200375325387824, "cost2_min": -1.3056458772987283, "cost1_mean": 326.68116786935974, "cost2_mean": -0.06311744108792741, "outflow_rate_mean": 1018.5586594229367, "outflow_rate_min": 429.29272796108813, "system_level_velocity_min": 10.540875019986782, "cost1_max": 463.3726430883101, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 83, "done": false, "episodes_total": 1444, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235080>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062355c0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.4308083103429, "episode_reward_min": 44.33037305335985, "timesteps_total": 3273432, "time_since_restore": 2146.5877158641815, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38350, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557186638, "time_this_iter_s": 25.88318109512329, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 83, "date": "2019-05-06_23-50-38", "episode_len_mean": 678.53}
{"timesteps_since_restore": 3311751, "policy_reward_mean": {}, "time_total_s": 2171.964824438095, "episode_reward_max": 1127.818651671932, "info": {"num_steps_sampled": 3311751, "sample_time_ms": 15335.171, "update_time_ms": 8.514, "grad_time_ms": 9878.262, "default": {"kl": 0.019027963280677795, "entropy": 1.0817859172821045, "cur_lr": 0.0005000000237487257, "total_loss": 15.90653133392334, "vf_explained_var": 0.9145878553390503, "policy_loss": -0.007653603795915842, "vf_loss": 15.91237735748291, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 3311751, "load_time_ms": 12.63}, "custom_metrics": {"cost1_mean": 329.1850886086442, "outflow_rate_max": 1287.0323428694146, "system_level_velocity_mean": 13.196366597521532, "cost1_min": 23.200375325387824, "cost1_max": 463.3726430883101, "outflow_rate_min": 437.5408024946151, "cost2_mean": -0.07224452130804929, "outflow_rate_mean": 1024.756922772588, "system_level_velocity_min": 10.540875019986782, "cost2_min": -1.3056458772987283, "system_level_velocity_max": 19.330156138419053, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 84, "done": false, "episodes_total": 1461, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623eeb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.4497814125543, "episode_reward_min": 44.33037305335985, "timesteps_total": 3311751, "time_since_restore": 2171.964824438095, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38319, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186663, "time_this_iter_s": 25.377108573913574, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 84, "date": "2019-05-06_23-51-03", "episode_len_mean": 685.06}
{"timesteps_since_restore": 3349733, "policy_reward_mean": {}, "time_total_s": 2196.4231972694397, "episode_reward_max": 1127.818651671932, "info": {"num_steps_sampled": 3349733, "sample_time_ms": 15146.256, "update_time_ms": 8.718, "grad_time_ms": 9920.032, "default": {"kl": 0.017678869888186455, "entropy": 1.0899089574813843, "cur_lr": 0.0005000000237487257, "total_loss": 15.463042259216309, "vf_explained_var": 0.9015275835990906, "policy_loss": -0.00659021595492959, "vf_loss": 15.467954635620117, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3349733, "load_time_ms": 12.751}, "custom_metrics": {"system_level_velocity_max": 19.330156138419053, "outflow_rate_max": 1287.0323428694146, "system_level_velocity_mean": 13.195172274500283, "cost1_min": 23.200375325387824, "cost2_min": -1.3056458772987283, "cost1_mean": 329.24875510221005, "cost2_mean": -0.08538445175845658, "outflow_rate_mean": 1024.7197531923503, "outflow_rate_min": 437.5408024946151, "system_level_velocity_min": 10.540875019986782, "cost1_max": 463.3726430883101, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 85, "done": false, "episodes_total": 1479, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062332b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233438>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 853.2367974840764, "episode_reward_min": 44.33037305335985, "timesteps_total": 3349733, "time_since_restore": 2196.4231972694397, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37982, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186688, "time_this_iter_s": 24.458372831344604, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 85, "date": "2019-05-06_23-51-28", "episode_len_mean": 685.06}
{"timesteps_since_restore": 3388044, "policy_reward_mean": {}, "time_total_s": 2221.560065507889, "episode_reward_max": 1021.2988333133113, "info": {"num_steps_sampled": 3388044, "sample_time_ms": 15191.042, "update_time_ms": 8.796, "grad_time_ms": 9947.248, "default": {"kl": 0.019788213074207306, "entropy": 1.0924115180969238, "cur_lr": 0.0005000000237487257, "total_loss": 13.753873825073242, "vf_explained_var": 0.9261298775672913, "policy_loss": -0.006668659392744303, "vf_loss": 13.758665084838867, "cur_kl_coeff": 0.09492188692092896}, "num_steps_trained": 3388044, "load_time_ms": 12.7}, "custom_metrics": {"system_level_velocity_max": 19.330156138419053, "outflow_rate_max": 1203.2804565012143, "system_level_velocity_mean": 13.021574039415588, "cost1_min": 23.200375325387824, "cost2_min": -1.3056458772987283, "cost1_mean": 327.5194118576129, "cost2_mean": -0.07967341742994524, "outflow_rate_mean": 1019.1112802984889, "outflow_rate_min": 437.5408024946151, "system_level_velocity_min": 10.540875019986782, "cost1_max": 447.7148900444222, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 86, "done": false, "episodes_total": 1497, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235780>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233710>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 853.4421014647957, "episode_reward_min": 44.33037305335985, "timesteps_total": 3388044, "time_since_restore": 2221.560065507889, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38311, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186713, "time_this_iter_s": 25.136868238449097, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 86, "date": "2019-05-06_23-51-53", "episode_len_mean": 689.39}
{"timesteps_since_restore": 3427249, "policy_reward_mean": {}, "time_total_s": 2245.562426805496, "episode_reward_max": 1072.8199594605899, "info": {"num_steps_sampled": 3427249, "sample_time_ms": 15036.273, "update_time_ms": 8.794, "grad_time_ms": 9981.26, "default": {"kl": 0.0167107991874218, "entropy": 1.1285417079925537, "cur_lr": 0.0005000000237487257, "total_loss": 13.95920181274414, "vf_explained_var": 0.9173561930656433, "policy_loss": -0.0067911227233707905, "vf_loss": 13.964406967163086, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3427249, "load_time_ms": 13.027}, "custom_metrics": {"system_level_velocity_max": 19.330156138419053, "outflow_rate_max": 1203.2804565012143, "system_level_velocity_mean": 13.101469701698452, "cost1_min": 23.200375325387824, "cost2_min": -1.25, "cost1_mean": 325.6502851534131, "cost2_mean": -0.06695623905756212, "outflow_rate_mean": 1016.1920935855587, "outflow_rate_min": 437.5408024946151, "system_level_velocity_min": 10.540875019986782, "cost1_max": 447.7148900444222, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 87, "done": false, "episodes_total": 1513, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233780>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233a20>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.6493291161247, "episode_reward_min": 44.33037305335985, "timesteps_total": 3427249, "time_since_restore": 2245.562426805496, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39205, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557186737, "time_this_iter_s": 24.002361297607422, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 87, "date": "2019-05-06_23-52-17", "episode_len_mean": 683.59}
{"timesteps_since_restore": 3466054, "policy_reward_mean": {}, "time_total_s": 2272.2545833587646, "episode_reward_max": 1072.8199594605899, "info": {"num_steps_sampled": 3466054, "sample_time_ms": 15205.54, "update_time_ms": 8.878, "grad_time_ms": 10038.531, "default": {"kl": 0.01776701584458351, "entropy": 1.0769124031066895, "cur_lr": 0.0005000000237487257, "total_loss": 19.436389923095703, "vf_explained_var": 0.9137837290763855, "policy_loss": -0.006001200061291456, "vf_loss": 19.440704345703125, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3466054, "load_time_ms": 13.097}, "custom_metrics": {"system_level_velocity_max": 19.399932217363173, "outflow_rate_max": 1203.2804565012143, "system_level_velocity_mean": 13.213719300928288, "cost1_min": 40.79687147047065, "cost2_min": -1.25, "cost1_mean": 320.5286652357892, "cost2_mean": -0.07176323182748968, "outflow_rate_mean": 1007.3017099822894, "outflow_rate_min": 474.9778515330679, "system_level_velocity_min": 10.195475800881887, "cost1_max": 447.7148900444222, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 88, "done": false, "episodes_total": 1534, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e5f8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e160>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 833.7291211183427, "episode_reward_min": 68.02273347190115, "timesteps_total": 3466054, "time_since_restore": 2272.2545833587646, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38805, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557186764, "time_this_iter_s": 26.692156553268433, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 88, "date": "2019-05-06_23-52-44", "episode_len_mean": 672.42}
{"timesteps_since_restore": 3503147, "policy_reward_mean": {}, "time_total_s": 2297.8992002010345, "episode_reward_max": 1072.8199594605899, "info": {"num_steps_sampled": 3503147, "sample_time_ms": 15242.816, "update_time_ms": 8.85, "grad_time_ms": 10013.14, "default": {"kl": 0.02000836841762066, "entropy": 1.065986156463623, "cur_lr": 0.0005000000237487257, "total_loss": 25.12375259399414, "vf_explained_var": 0.9120956659317017, "policy_loss": -0.006540639791637659, "vf_loss": 25.128395080566406, "cur_kl_coeff": 0.09492187947034836}, "num_steps_trained": 3503147, "load_time_ms": 13.002}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1248.4988770244968, "system_level_velocity_mean": 13.32683893502507, "cost1_min": 20.983119880047937, "cost2_min": -1.25, "cost1_mean": 312.65374264364044, "cost2_mean": -0.07729361607284234, "outflow_rate_mean": 992.7457827628984, "outflow_rate_min": 441.2250166143162, "system_level_velocity_min": 10.195475800881887, "cost1_max": 456.9261225314094, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 89, "done": false, "episodes_total": 1557, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235d68>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062357b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 818.2265017921877, "episode_reward_min": 39.77722797769869, "timesteps_total": 3503147, "time_since_restore": 2297.8992002010345, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37093, "pid": 25263, "episodes_this_iter": 23, "timestamp": 1557186789, "time_this_iter_s": 25.644616842269897, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 89, "date": "2019-05-06_23-53-09", "episode_len_mean": 656.61}
{"timesteps_since_restore": 3541860, "policy_reward_mean": {}, "time_total_s": 2322.63303732872, "episode_reward_max": 1072.8199594605899, "info": {"num_steps_sampled": 3541860, "sample_time_ms": 15180.909, "update_time_ms": 8.971, "grad_time_ms": 10023.571, "default": {"kl": 0.014859460294246674, "entropy": 1.086546540260315, "cur_lr": 0.0005000000237487257, "total_loss": 15.430524826049805, "vf_explained_var": 0.9269364476203918, "policy_loss": -0.004632816184312105, "vf_loss": 15.433040618896484, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3541860, "load_time_ms": 13.01}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1248.4988770244968, "system_level_velocity_mean": 13.65046190974431, "cost1_min": 20.983119880047937, "cost2_min": -1.1484219908284854, "cost1_mean": 321.21754565533263, "cost2_mean": -0.0679076970309709, "outflow_rate_mean": 1005.0493632201611, "outflow_rate_min": 441.2250166143162, "system_level_velocity_min": 10.195475800881887, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 90, "done": false, "episodes_total": 1574, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a4a8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a3c8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 818.76440359695, "episode_reward_min": 39.77722797769869, "timesteps_total": 3541860, "time_since_restore": 2322.63303732872, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38713, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186814, "time_this_iter_s": 24.733837127685547, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 90, "date": "2019-05-06_23-53-34", "episode_len_mean": 656.61}
{"timesteps_since_restore": 3579691, "policy_reward_mean": {}, "time_total_s": 2346.92511677742, "episode_reward_max": 1072.8199594605899, "info": {"num_steps_sampled": 3579691, "sample_time_ms": 15041.029, "update_time_ms": 8.729, "grad_time_ms": 10010.782, "default": {"kl": 0.015150927007198334, "entropy": 1.0776880979537964, "cur_lr": 0.0005000000237487257, "total_loss": 17.81153106689453, "vf_explained_var": 0.8980907201766968, "policy_loss": -0.006642506457865238, "vf_loss": 17.816017150878906, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3579691, "load_time_ms": 12.811}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1248.4988770244968, "system_level_velocity_mean": 13.680575091993491, "cost1_min": 20.942605020254277, "cost2_min": -1.1484219908284854, "cost1_mean": 313.4127571447397, "cost2_mean": -0.07237405742356227, "outflow_rate_mean": 992.3031541888245, "outflow_rate_min": 419.9246278301799, "system_level_velocity_min": 10.195475800881887, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 91, "done": false, "episodes_total": 1593, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235cf8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235978>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 802.1199039535496, "episode_reward_min": 36.79502498317985, "timesteps_total": 3579691, "time_since_restore": 2346.92511677742, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37831, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186838, "time_this_iter_s": 24.29207944869995, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 91, "date": "2019-05-06_23-53-58", "episode_len_mean": 644.44}
{"timesteps_since_restore": 3617893, "policy_reward_mean": {}, "time_total_s": 2371.1707870960236, "episode_reward_max": 1031.6975306510992, "info": {"num_steps_sampled": 3617893, "sample_time_ms": 14914.903, "update_time_ms": 8.525, "grad_time_ms": 10023.375, "default": {"kl": 0.01747909188270569, "entropy": 1.0750452280044556, "cur_lr": 0.0005000000237487257, "total_loss": 17.89381980895996, "vf_explained_var": 0.9210025668144226, "policy_loss": -0.0066351876594126225, "vf_loss": 17.897966384887695, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3617893, "load_time_ms": 13.037}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1248.4988770244968, "system_level_velocity_mean": 13.725121897982337, "cost1_min": 20.942605020254277, "cost2_min": -1.1347043678451931, "cost1_mean": 314.03605854081167, "cost2_mean": -0.06115548501095251, "outflow_rate_mean": 991.7333443640532, "outflow_rate_min": 419.9246278301799, "system_level_velocity_min": 10.195475800881887, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 92, "done": false, "episodes_total": 1612, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248fd0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248710>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 797.4568509465289, "episode_reward_min": 36.79502498317985, "timesteps_total": 3617893, "time_since_restore": 2371.1707870960236, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38202, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186863, "time_this_iter_s": 24.245670318603516, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 92, "date": "2019-05-06_23-54-23", "episode_len_mean": 643.57}
{"timesteps_since_restore": 3656523, "policy_reward_mean": {}, "time_total_s": 2395.9749937057495, "episode_reward_max": 1031.6975306510992, "info": {"num_steps_sampled": 3656523, "sample_time_ms": 14819.83, "update_time_ms": 8.608, "grad_time_ms": 10012.488, "default": {"kl": 0.017637696117162704, "entropy": 1.071247935295105, "cur_lr": 0.0005000000237487257, "total_loss": 16.64038848876953, "vf_explained_var": 0.9163637161254883, "policy_loss": -0.0077178566716611385, "vf_loss": 16.645593643188477, "cur_kl_coeff": 0.14238283038139343}, "num_steps_trained": 3656523, "load_time_ms": 13.171}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1248.4988770244968, "system_level_velocity_mean": 13.722302699835081, "cost1_min": 20.942605020254277, "cost2_min": -0.8573735334779323, "cost1_mean": 318.89739849960785, "cost2_mean": -0.053613782449724805, "outflow_rate_mean": 999.4428525799625, "outflow_rate_min": 419.9246278301799, "system_level_velocity_min": 9.468303020132547, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 93, "done": false, "episodes_total": 1631, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625acf8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aa58>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 803.6025417851848, "episode_reward_min": 36.79502498317985, "timesteps_total": 3656523, "time_since_restore": 2395.9749937057495, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38630, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186887, "time_this_iter_s": 24.804206609725952, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 93, "date": "2019-05-06_23-54-47", "episode_len_mean": 650.26}
{"timesteps_since_restore": 3694432, "policy_reward_mean": {}, "time_total_s": 2422.2528989315033, "episode_reward_max": 1031.6975306510992, "info": {"num_steps_sampled": 3694432, "sample_time_ms": 14973.69, "update_time_ms": 8.59, "grad_time_ms": 9948.893, "default": {"kl": 0.01761501096189022, "entropy": 1.0576581954956055, "cur_lr": 0.0005000000237487257, "total_loss": 17.877107620239258, "vf_explained_var": 0.9042317271232605, "policy_loss": -0.007824219763278961, "vf_loss": 17.882423400878906, "cur_kl_coeff": 0.14238283038139343}, "num_steps_trained": 3694432, "load_time_ms": 13.706}, "custom_metrics": {"system_level_velocity_max": 19.654975835800315, "outflow_rate_max": 1236.947020868157, "system_level_velocity_mean": 13.603425390870774, "cost1_min": 20.942605020254277, "cost2_min": -0.8573735334779323, "cost1_mean": 320.53917094619146, "cost2_mean": -0.05288949578390669, "outflow_rate_mean": 1002.8323455869511, "outflow_rate_min": 419.9246278301799, "system_level_velocity_min": 9.468303020132547, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 94, "done": false, "episodes_total": 1649, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a3c8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a2e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 811.5973257593765, "episode_reward_min": 36.79502498317985, "timesteps_total": 3694432, "time_since_restore": 2422.2528989315033, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37909, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186914, "time_this_iter_s": 26.277905225753784, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 94, "date": "2019-05-06_23-55-14", "episode_len_mean": 657.67}
{"timesteps_since_restore": 3732527, "policy_reward_mean": {}, "time_total_s": 2446.562990665436, "episode_reward_max": 1031.6975306510992, "info": {"num_steps_sampled": 3732527, "sample_time_ms": 14971.378, "update_time_ms": 8.67, "grad_time_ms": 9937.981, "default": {"kl": 0.019066274166107178, "entropy": 1.0590959787368774, "cur_lr": 0.0005000000237487257, "total_loss": 13.444679260253906, "vf_explained_var": 0.9281484484672546, "policy_loss": -0.00879201851785183, "vf_loss": 13.45075798034668, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3732527, "load_time_ms": 13.691}, "custom_metrics": {"system_level_velocity_max": 19.122623020885268, "outflow_rate_max": 1236.947020868157, "system_level_velocity_mean": 13.306150989865836, "cost1_min": 20.942605020254277, "cost2_min": -0.8573735334779323, "cost1_mean": 321.8869973027897, "cost2_mean": -0.04261830002588804, "outflow_rate_mean": 1007.3635191055764, "outflow_rate_min": 419.9246278301799, "system_level_velocity_min": 9.468303020132547, "cost1_max": 476.57972182650565, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 95, "done": false, "episodes_total": 1666, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a240>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a1d0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 822.9353173623563, "episode_reward_min": 36.79502498317985, "timesteps_total": 3732527, "time_since_restore": 2446.562990665436, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38095, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557186938, "time_this_iter_s": 24.310091733932495, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 95, "date": "2019-05-06_23-55-38", "episode_len_mean": 670.74}
{"timesteps_since_restore": 3770806, "policy_reward_mean": {}, "time_total_s": 2471.432888031006, "episode_reward_max": 990.4599816875078, "info": {"num_steps_sampled": 3770806, "sample_time_ms": 15004.352, "update_time_ms": 8.534, "grad_time_ms": 9879.022, "default": {"kl": 0.015403416007757187, "entropy": 1.0308148860931396, "cur_lr": 0.0005000000237487257, "total_loss": 16.276247024536133, "vf_explained_var": 0.9182729125022888, "policy_loss": -0.006602579262107611, "vf_loss": 16.280658721923828, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3770806, "load_time_ms": 13.622}, "custom_metrics": {"system_level_velocity_max": 19.122623020885268, "outflow_rate_max": 1215.2679132387295, "system_level_velocity_mean": 13.21259370246459, "cost1_min": 22.33462860690347, "cost2_min": -0.8573735334779323, "cost1_mean": 319.3081466893173, "cost2_mean": -0.04248634351873635, "outflow_rate_mean": 1004.9138759397789, "outflow_rate_min": 443.24514735416784, "system_level_velocity_min": 9.468303020132547, "cost1_max": 431.5820777996319, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 96, "done": false, "episodes_total": 1684, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235630>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235d68>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 821.3392045581161, "episode_reward_min": 46.08459777902308, "timesteps_total": 3770806, "time_since_restore": 2471.432888031006, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38279, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557186963, "time_this_iter_s": 24.86989736557007, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 96, "date": "2019-05-06_23-56-03", "episode_len_mean": 670.82}
{"timesteps_since_restore": 3808788, "policy_reward_mean": {}, "time_total_s": 2496.3649773597717, "episode_reward_max": 990.4599816875078, "info": {"num_steps_sampled": 3808788, "sample_time_ms": 15066.528, "update_time_ms": 8.485, "grad_time_ms": 9910.168, "default": {"kl": 0.015702683478593826, "entropy": 1.0284652709960938, "cur_lr": 0.0005000000237487257, "total_loss": 15.576772689819336, "vf_explained_var": 0.922631561756134, "policy_loss": -0.006964103784412146, "vf_loss": 15.581500053405762, "cur_kl_coeff": 0.14238283038139343}, "num_steps_trained": 3808788, "load_time_ms": 13.773}, "custom_metrics": {"system_level_velocity_max": 18.83487123831686, "outflow_rate_max": 1215.2679132387295, "system_level_velocity_mean": 13.048277031751525, "cost1_min": 26.596066803985156, "cost2_min": -0.8573735334779323, "cost1_mean": 323.4635474916789, "cost2_mean": -0.046418841227737, "outflow_rate_mean": 1011.1865005233814, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 9.468303020132547, "cost1_max": 436.0234307329936, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 97, "done": false, "episodes_total": 1703, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625acc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aac8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a4a8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 830.5540400944806, "episode_reward_min": 47.84061628245659, "timesteps_total": 3808788, "time_since_restore": 2496.3649773597717, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37982, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557186988, "time_this_iter_s": 24.93208932876587, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 97, "date": "2019-05-06_23-56-28", "episode_len_mean": 682.97}
{"timesteps_since_restore": 3846190, "policy_reward_mean": {}, "time_total_s": 2521.0248556137085, "episode_reward_max": 985.6357351194046, "info": {"num_steps_sampled": 3846190, "sample_time_ms": 14929.943, "update_time_ms": 8.551, "grad_time_ms": 9842.749, "default": {"kl": 0.01881350204348564, "entropy": 1.0463184118270874, "cur_lr": 0.0005000000237487257, "total_loss": 17.633678436279297, "vf_explained_var": 0.9160861968994141, "policy_loss": -0.008468586020171642, "vf_loss": 17.639469146728516, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3846190, "load_time_ms": 13.667}, "custom_metrics": {"system_level_velocity_max": 18.925765322006995, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.980814328067773, "cost1_min": 26.596066803985156, "cost2_min": -0.8151784650251845, "cost1_mean": 317.8372008510703, "cost2_mean": -0.04863102752305047, "outflow_rate_mean": 1001.822693768227, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 9.468303020132547, "cost1_max": 438.83836506380294, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 98, "done": false, "episodes_total": 1723, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233be0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 823.3027850757941, "episode_reward_min": 47.84061628245659, "timesteps_total": 3846190, "time_since_restore": 2521.0248556137085, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37402, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557187013, "time_this_iter_s": 24.659878253936768, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 98, "date": "2019-05-06_23-56-53", "episode_len_mean": 677.35}
{"timesteps_since_restore": 3884337, "policy_reward_mean": {}, "time_total_s": 2546.100264310837, "episode_reward_max": 985.6357351194046, "info": {"num_steps_sampled": 3884337, "sample_time_ms": 14868.873, "update_time_ms": 8.345, "grad_time_ms": 9844.286, "default": {"kl": 0.016856232658028603, "entropy": 1.055355429649353, "cur_lr": 0.0005000000237487257, "total_loss": 14.429143905639648, "vf_explained_var": 0.9278962016105652, "policy_loss": -0.007010133471339941, "vf_loss": 14.433753967285156, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3884337, "load_time_ms": 13.645}, "custom_metrics": {"system_level_velocity_max": 18.925765322006995, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.979492940638435, "cost1_min": 26.596066803985156, "cost2_min": -0.8151784650251845, "cost1_mean": 321.1085066080291, "cost2_mean": -0.04845450125706266, "outflow_rate_mean": 1008.172487572964, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 10.384634406684755, "cost1_max": 438.83836506380294, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 99, "done": false, "episodes_total": 1741, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ef98>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e5f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 824.9066580190874, "episode_reward_min": 47.84061628245659, "timesteps_total": 3884337, "time_since_restore": 2546.100264310837, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38147, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187038, "time_this_iter_s": 25.075408697128296, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 99, "date": "2019-05-06_23-57-18", "episode_len_mean": 682.09}
{"timesteps_since_restore": 3923478, "policy_reward_mean": {}, "time_total_s": 2570.3978793621063, "episode_reward_max": 985.6357351194046, "info": {"num_steps_sampled": 3923478, "sample_time_ms": 14848.914, "update_time_ms": 8.431, "grad_time_ms": 9821.48, "default": {"kl": 0.017339259386062622, "entropy": 1.084520697593689, "cur_lr": 0.0005000000237487257, "total_loss": 10.392208099365234, "vf_explained_var": 0.9309558272361755, "policy_loss": -0.009048836305737495, "vf_loss": 10.398788452148438, "cur_kl_coeff": 0.14238283038139343}, "num_steps_trained": 3923478, "load_time_ms": 13.143}, "custom_metrics": {"cost1_mean": 322.97043789571285, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.897826886486664, "cost1_min": 26.596066803985156, "cost1_max": 438.83836506380294, "outflow_rate_min": 450.96297142169004, "cost2_mean": -0.0489864789428299, "outflow_rate_mean": 1010.0821587979189, "system_level_velocity_min": 10.180306958632144, "cost2_min": -0.8151784650251845, "system_level_velocity_max": 18.925765322006995, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 100, "done": false, "episodes_total": 1755, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fc88>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 828.8139927803696, "episode_reward_min": 47.84061628245659, "timesteps_total": 3923478, "time_since_restore": 2570.3978793621063, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39141, "pid": 25263, "episodes_this_iter": 14, "timestamp": 1557187062, "time_this_iter_s": 24.29761505126953, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 100, "date": "2019-05-06_23-57-42", "episode_len_mean": 687.77}
{"timesteps_since_restore": 3963690, "policy_reward_mean": {}, "time_total_s": 2596.1201663017273, "episode_reward_max": 1003.3283895751669, "info": {"num_steps_sampled": 3963690, "sample_time_ms": 14979.072, "update_time_ms": 8.423, "grad_time_ms": 9834.626, "default": {"kl": 0.018646245822310448, "entropy": 1.0655094385147095, "cur_lr": 0.0005000000237487257, "total_loss": 13.510562896728516, "vf_explained_var": 0.9212751388549805, "policy_loss": -0.008524815551936626, "vf_loss": 13.516435623168945, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 3963690, "load_time_ms": 13.275}, "custom_metrics": {"system_level_velocity_max": 19.197809517736047, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.839627802407286, "cost1_min": 26.596066803985156, "cost2_min": -0.8151784650251845, "cost1_mean": 317.3605163796195, "cost2_mean": -0.05186785254248928, "outflow_rate_mean": 1000.3109800580085, "outflow_rate_min": 450.96297142169004, "system_level_velocity_min": 10.002266538482433, "cost1_max": 438.83836506380294, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 101, "done": false, "episodes_total": 1771, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062357b8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235c18>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 821.4524807597418, "episode_reward_min": 47.84061628245659, "timesteps_total": 3963690, "time_since_restore": 2596.1201663017273, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 40212, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557187088, "time_this_iter_s": 25.72228693962097, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 101, "date": "2019-05-06_23-58-08", "episode_len_mean": 682.01}
{"timesteps_since_restore": 4002611, "policy_reward_mean": {}, "time_total_s": 2622.277016878128, "episode_reward_max": 1003.3283895751669, "info": {"num_steps_sampled": 4002611, "sample_time_ms": 15222.503, "update_time_ms": 8.527, "grad_time_ms": 9780.21, "default": {"kl": 0.02048392966389656, "entropy": 1.0690135955810547, "cur_lr": 0.0005000000237487257, "total_loss": 14.328941345214844, "vf_explained_var": 0.9245057106018066, "policy_loss": -0.006684350315481424, "vf_loss": 14.332709312438965, "cur_kl_coeff": 0.14238281548023224}, "num_steps_trained": 4002611, "load_time_ms": 13.553}, "custom_metrics": {"system_level_velocity_max": 19.197809517736047, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.66353545596519, "cost1_min": 86.74540784431426, "cost2_min": -0.7263137671684696, "cost1_mean": 317.33688484360584, "cost2_mean": -0.043968581828183695, "outflow_rate_mean": 999.5657872937717, "outflow_rate_min": 638.0173668792909, "system_level_velocity_min": 9.64040775516066, "cost1_max": 438.83836506380294, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 102, "done": false, "episodes_total": 1790, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ff28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f0b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 826.2293011597463, "episode_reward_min": 152.4529961837488, "timesteps_total": 4002611, "time_since_restore": 2622.277016878128, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38921, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187114, "time_this_iter_s": 26.156850576400757, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 102, "date": "2019-05-06_23-58-34", "episode_len_mean": 688.62}
{"timesteps_since_restore": 4041067, "policy_reward_mean": {}, "time_total_s": 2648.2336218357086, "episode_reward_max": 1003.3283895751669, "info": {"num_steps_sampled": 4041067, "sample_time_ms": 15445.922, "update_time_ms": 8.672, "grad_time_ms": 9670.7, "default": {"kl": 0.01636870764195919, "entropy": 1.0712143182754517, "cur_lr": 0.0005000000237487257, "total_loss": 20.09671401977539, "vf_explained_var": 0.8918882012367249, "policy_loss": -0.008598661050200462, "vf_loss": 20.101816177368164, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4041067, "load_time_ms": 13.311}, "custom_metrics": {"system_level_velocity_max": 19.527826304732674, "outflow_rate_max": 1251.051187834775, "system_level_velocity_mean": 12.556702357322354, "cost1_min": 28.71857334513109, "cost2_min": -0.7263137671684696, "cost1_mean": 313.71556165522964, "cost2_mean": -0.04449271108506697, "outflow_rate_mean": 991.9308643642906, "outflow_rate_min": 454.14688713509594, "system_level_velocity_min": 9.64040775516066, "cost1_max": 438.83836506380294, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 103, "done": false, "episodes_total": 1811, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540622eba8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540622ea90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 828.1741083190576, "episode_reward_min": 50.99912381652826, "timesteps_total": 4041067, "time_since_restore": 2648.2336218357086, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38456, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557187140, "time_this_iter_s": 25.956604957580566, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 103, "date": "2019-05-06_23-59-00", "episode_len_mean": 687.66}
{"timesteps_since_restore": 4078000, "policy_reward_mean": {}, "time_total_s": 2671.0857543945312, "episode_reward_max": 1063.646571011693, "info": {"num_steps_sampled": 4078000, "sample_time_ms": 15241.541, "update_time_ms": 8.514, "grad_time_ms": 9533.28, "default": {"kl": 0.014600270427763462, "entropy": 1.0964254140853882, "cur_lr": 0.0005000000237487257, "total_loss": 15.18431568145752, "vf_explained_var": 0.9153493046760559, "policy_loss": -0.007607860490679741, "vf_loss": 15.188803672790527, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4078000, "load_time_ms": 13.074}, "custom_metrics": {"system_level_velocity_max": 19.527826304732674, "outflow_rate_max": 1163.1306227566367, "system_level_velocity_mean": 12.490430972406745, "cost1_min": 28.71857334513109, "cost2_min": -0.5714285714285714, "cost1_mean": 311.94206632263064, "cost2_mean": -0.045873374913871966, "outflow_rate_mean": 988.8464063727046, "outflow_rate_min": 454.14688713509594, "system_level_velocity_min": 9.64040775516066, "cost1_max": 396.5695232181272, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 104, "done": false, "episodes_total": 1828, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625af28>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a198>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 826.7990268336831, "episode_reward_min": 50.99912381652826, "timesteps_total": 4078000, "time_since_restore": 2671.0857543945312, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 36933, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187163, "time_this_iter_s": 22.852132558822632, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 104, "date": "2019-05-06_23-59-23", "episode_len_mean": 687.66}
{"timesteps_since_restore": 4115696, "policy_reward_mean": {}, "time_total_s": 2696.3964405059814, "episode_reward_max": 1063.646571011693, "info": {"num_steps_sampled": 4115696, "sample_time_ms": 15481.625, "update_time_ms": 8.233, "grad_time_ms": 9394.648, "default": {"kl": 0.017513073980808258, "entropy": 1.0915539264678955, "cur_lr": 0.0005000000237487257, "total_loss": 18.002105712890625, "vf_explained_var": 0.8946025371551514, "policy_loss": -0.008785766549408436, "vf_loss": 18.007150650024414, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4115696, "load_time_ms": 12.676}, "custom_metrics": {"system_level_velocity_max": 19.527826304732674, "outflow_rate_max": 1191.959089481829, "system_level_velocity_mean": 12.553835301536449, "cost1_min": 23.81885924994991, "cost2_min": -0.8282653430406802, "cost1_mean": 305.4021918949735, "cost2_mean": -0.046230495668079116, "outflow_rate_mean": 978.0405130873708, "outflow_rate_min": 446.7456416085266, "system_level_velocity_min": 9.64040775516066, "cost1_max": 413.74417573715675, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 105, "done": false, "episodes_total": 1847, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235128>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062350f0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 820.3289083296856, "episode_reward_min": 40.779558831180715, "timesteps_total": 4115696, "time_since_restore": 2696.3964405059814, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37696, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187188, "time_this_iter_s": 25.310686111450195, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 105, "date": "2019-05-06_23-59-48", "episode_len_mean": 675.48}
{"timesteps_since_restore": 4154012, "policy_reward_mean": {}, "time_total_s": 2720.6221737861633, "episode_reward_max": 1063.646571011693, "info": {"num_steps_sampled": 4154012, "sample_time_ms": 15496.99, "update_time_ms": 8.229, "grad_time_ms": 9314.769, "default": {"kl": 0.014721861109137535, "entropy": 1.112463355064392, "cur_lr": 0.0005000000237487257, "total_loss": 17.15970802307129, "vf_explained_var": 0.9035865068435669, "policy_loss": -0.007614763453602791, "vf_loss": 17.1641788482666, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4154012, "load_time_ms": 12.722}, "custom_metrics": {"system_level_velocity_max": 19.527826304732674, "outflow_rate_max": 1191.959089481829, "system_level_velocity_mean": 12.70201496407218, "cost1_min": 17.982217940211868, "cost2_min": -0.8282653430406802, "cost1_mean": 304.3185420318503, "cost2_mean": -0.05273366782915684, "outflow_rate_mean": 976.137720310377, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.64040775516066, "cost1_max": 413.74417573715675, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 106, "done": false, "episodes_total": 1865, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fd30>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f3c8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 813.6805002777447, "episode_reward_min": 37.087833772882675, "timesteps_total": 4154012, "time_since_restore": 2720.6221737861633, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38316, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187212, "time_this_iter_s": 24.225733280181885, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 106, "date": "2019-05-07_00-00-12", "episode_len_mean": 668.75}
{"timesteps_since_restore": 4192827, "policy_reward_mean": {}, "time_total_s": 2747.4688968658447, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4192827, "sample_time_ms": 15847.774, "update_time_ms": 8.049, "grad_time_ms": 9152.915, "default": {"kl": 0.015427199192345142, "entropy": 1.095175862312317, "cur_lr": 0.0005000000237487257, "total_loss": 14.62115478515625, "vf_explained_var": 0.9241825342178345, "policy_loss": -0.006839240901172161, "vf_loss": 14.624698638916016, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 4192827, "load_time_ms": 12.797}, "custom_metrics": {"cost1_mean": 308.6123096975375, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 12.866368083348917, "cost1_min": 17.982217940211868, "cost1_max": 462.0424782052552, "outflow_rate_min": 434.44599691538906, "cost2_mean": -0.05443354419287818, "outflow_rate_mean": 983.7500979341581, "system_level_velocity_min": 9.697587487356499, "cost2_min": -0.8282653430406802, "system_level_velocity_max": 19.527826304732674, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 107, "done": false, "episodes_total": 1881, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062332e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233908>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 822.9512053495141, "episode_reward_min": 32.15925428672334, "timesteps_total": 4192827, "time_since_restore": 2747.4688968658447, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38815, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557187239, "time_this_iter_s": 26.846723079681396, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 107, "date": "2019-05-07_00-00-39", "episode_len_mean": 667.79}
{"timesteps_since_restore": 4231257, "policy_reward_mean": {}, "time_total_s": 2773.4467844963074, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4231257, "sample_time_ms": 15990.946, "update_time_ms": 7.987, "grad_time_ms": 9140.001, "default": {"kl": 0.015861142426729202, "entropy": 1.1166964769363403, "cur_lr": 0.0005000000237487257, "total_loss": 16.371923446655273, "vf_explained_var": 0.9127836227416992, "policy_loss": -0.007192475721240044, "vf_loss": 16.375728607177734, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4231257, "load_time_ms": 12.705}, "custom_metrics": {"system_level_velocity_max": 19.527826304732674, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 12.96682416656579, "cost1_min": 17.982217940211868, "cost2_min": -0.8282653430406802, "cost1_mean": 311.10629066084823, "cost2_mean": -0.05762746356186825, "outflow_rate_mean": 987.8672075850486, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.697587487356499, "cost1_max": 462.0424782052552, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 108, "done": false, "episodes_total": 1900, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a588>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a0b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 827.3137481484671, "episode_reward_min": 32.15925428672334, "timesteps_total": 4231257, "time_since_restore": 2773.4467844963074, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38430, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187265, "time_this_iter_s": 25.977887630462646, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 108, "date": "2019-05-07_00-01-05", "episode_len_mean": 667.79}
{"timesteps_since_restore": 4269506, "policy_reward_mean": {}, "time_total_s": 2798.2291095256805, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4269506, "sample_time_ms": 15959.945, "update_time_ms": 8.004, "grad_time_ms": 9144.327, "default": {"kl": 0.0145078981295228, "entropy": 1.1560170650482178, "cur_lr": 0.0005000000237487257, "total_loss": 13.539872169494629, "vf_explained_var": 0.9193021059036255, "policy_loss": -0.006874356418848038, "vf_loss": 13.543648719787598, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4269506, "load_time_ms": 12.466}, "custom_metrics": {"system_level_velocity_max": 19.515942399596025, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 12.957752413664966, "cost1_min": 17.982217940211868, "cost2_min": -0.8282653430406802, "cost1_mean": 315.95460993388787, "cost2_mean": -0.058212125681109554, "outflow_rate_mean": 997.3709619677844, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.653142252211593, "cost1_max": 462.0424782052552, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 109, "done": false, "episodes_total": 1917, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251eb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062511d0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 835.0297555611152, "episode_reward_min": 32.15925428672334, "timesteps_total": 4269506, "time_since_restore": 2798.2291095256805, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38249, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187290, "time_this_iter_s": 24.78232502937317, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 109, "date": "2019-05-07_00-01-30", "episode_len_mean": 674.37}
{"timesteps_since_restore": 4306948, "policy_reward_mean": {}, "time_total_s": 2823.3145496845245, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4306948, "sample_time_ms": 16124.486, "update_time_ms": 7.983, "grad_time_ms": 9055.031, "default": {"kl": 0.014824607409536839, "entropy": 1.1471232175827026, "cur_lr": 0.0005000000237487257, "total_loss": 14.886463165283203, "vf_explained_var": 0.9233667850494385, "policy_loss": -0.008272377774119377, "vf_loss": 14.891570091247559, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4306948, "load_time_ms": 12.858}, "custom_metrics": {"system_level_velocity_max": 19.515942399596025, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 12.930647995371991, "cost1_min": 17.982217940211868, "cost2_min": -0.8282653430406802, "cost1_mean": 319.0058246879886, "cost2_mean": -0.054051978102386294, "outflow_rate_mean": 1000.9949031442625, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.653142252211593, "cost1_max": 462.0424782052552, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 110, "done": false, "episodes_total": 1935, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f128>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 839.2617811965642, "episode_reward_min": 32.15925428672334, "timesteps_total": 4306948, "time_since_restore": 2823.3145496845245, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37442, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187315, "time_this_iter_s": 25.085440158843994, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 110, "date": "2019-05-07_00-01-55", "episode_len_mean": 679.9}
{"timesteps_since_restore": 4344766, "policy_reward_mean": {}, "time_total_s": 2847.718194246292, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4344766, "sample_time_ms": 16096.206, "update_time_ms": 8.147, "grad_time_ms": 8950.883, "default": {"kl": 0.013458420522511005, "entropy": 1.1342947483062744, "cur_lr": 0.0005000000237487257, "total_loss": 17.10980224609375, "vf_explained_var": 0.9235454797744751, "policy_loss": -0.007176776882261038, "vf_loss": 17.114103317260742, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4344766, "load_time_ms": 12.799}, "custom_metrics": {"system_level_velocity_max": 19.515942399596025, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 12.95502873884665, "cost1_min": 17.982217940211868, "cost2_min": -0.8, "cost1_mean": 319.7098348803018, "cost2_mean": -0.04836106306105639, "outflow_rate_mean": 1000.7623109253645, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.653142252211593, "cost1_max": 462.0424782052552, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 111, "done": false, "episodes_total": 1954, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062479b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247080>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 838.6069037150819, "episode_reward_min": 32.15925428672334, "timesteps_total": 4344766, "time_since_restore": 2847.718194246292, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37818, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187340, "time_this_iter_s": 24.403644561767578, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 111, "date": "2019-05-07_00-02-20", "episode_len_mean": 680.12}
{"timesteps_since_restore": 4383289, "policy_reward_mean": {}, "time_total_s": 2872.6010868549347, "episode_reward_max": 1079.7993150804944, "info": {"num_steps_sampled": 4383289, "sample_time_ms": 16025.745, "update_time_ms": 8.201, "grad_time_ms": 8896.692, "default": {"kl": 0.014365789480507374, "entropy": 1.146592378616333, "cur_lr": 0.0005000000237487257, "total_loss": 14.12447452545166, "vf_explained_var": 0.9223232269287109, "policy_loss": -0.007623360026627779, "vf_loss": 14.129030227661133, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4383289, "load_time_ms": 12.378}, "custom_metrics": {"system_level_velocity_max": 19.12578120738291, "outflow_rate_max": 1282.5617636924092, "system_level_velocity_mean": 13.162935646788341, "cost1_min": 18.640254375469087, "cost2_min": -0.8, "cost1_mean": 330.34908723047187, "cost2_mean": -0.049394219582615514, "outflow_rate_mean": 1020.1135711559339, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 9.653142252211593, "cost1_max": 480.90380040867393, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 112, "done": false, "episodes_total": 1971, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625af28>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a320>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 850.4163693020306, "episode_reward_min": 32.15925428672334, "timesteps_total": 4383289, "time_since_restore": 2872.6010868549347, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38523, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187365, "time_this_iter_s": 24.882892608642578, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 112, "date": "2019-05-07_00-02-45", "episode_len_mean": 686.85}
{"timesteps_since_restore": 4421844, "policy_reward_mean": {}, "time_total_s": 2899.1277997493744, "episode_reward_max": 994.7560637485606, "info": {"num_steps_sampled": 4421844, "sample_time_ms": 16058.921, "update_time_ms": 7.944, "grad_time_ms": 8922.228, "default": {"kl": 0.015382122248411179, "entropy": 1.119178295135498, "cur_lr": 0.0005000000237487257, "total_loss": 14.854177474975586, "vf_explained_var": 0.9170562624931335, "policy_loss": -0.008297980763018131, "vf_loss": 14.85919189453125, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 4421844, "load_time_ms": 12.473}, "custom_metrics": {"system_level_velocity_max": 19.483169160611848, "outflow_rate_max": 1264.5512109892434, "system_level_velocity_mean": 13.043389908976183, "cost1_min": 35.218172257095205, "cost2_min": -0.8, "cost1_mean": 326.6893017840474, "cost2_mean": -0.049292877465087655, "outflow_rate_mean": 1014.6499204169932, "outflow_rate_min": 459.0988228891668, "system_level_velocity_min": 9.653142252211593, "cost1_max": 480.90380040867393, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 113, "done": false, "episodes_total": 1990, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251518>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 848.3410623409055, "episode_reward_min": 57.593460388576396, "timesteps_total": 4421844, "time_since_restore": 2899.1277997493744, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38555, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187391, "time_this_iter_s": 26.526712894439697, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 113, "date": "2019-05-07_00-03-11", "episode_len_mean": 687.08}
{"timesteps_since_restore": 4460238, "policy_reward_mean": {}, "time_total_s": 2924.28710436821, "episode_reward_max": 1009.8276920423832, "info": {"num_steps_sampled": 4460238, "sample_time_ms": 16230.105, "update_time_ms": 7.971, "grad_time_ms": 8981.392, "default": {"kl": 0.015146767720580101, "entropy": 1.1356395483016968, "cur_lr": 0.0005000000237487257, "total_loss": 14.951616287231445, "vf_explained_var": 0.9218364953994751, "policy_loss": -0.0072271088138222694, "vf_loss": 14.955607414245605, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4460238, "load_time_ms": 12.559}, "custom_metrics": {"cost1_mean": 327.0469760634425, "outflow_rate_max": 1264.5512109892434, "system_level_velocity_mean": 13.054210307167342, "cost1_min": 35.218172257095205, "cost1_max": 480.90380040867393, "outflow_rate_min": 459.0988228891668, "cost2_mean": -0.03756485408505849, "outflow_rate_mean": 1015.4129035871456, "system_level_velocity_min": 9.772657727162459, "cost2_min": -0.5262044785859769, "system_level_velocity_max": 19.483169160611848, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 114, "done": false, "episodes_total": 2004, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.5987778298899, "episode_reward_min": 57.593460388576396, "timesteps_total": 4460238, "time_since_restore": 2924.28710436821, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38394, "pid": 25263, "episodes_this_iter": 14, "timestamp": 1557187416, "time_this_iter_s": 25.15930461883545, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 114, "date": "2019-05-07_00-03-36", "episode_len_mean": 687.08}
{"timesteps_since_restore": 4498489, "policy_reward_mean": {}, "time_total_s": 2950.818903207779, "episode_reward_max": 1012.3654545051554, "info": {"num_steps_sampled": 4498489, "sample_time_ms": 16282.429, "update_time_ms": 7.871, "grad_time_ms": 9050.351, "default": {"kl": 0.013313592411577702, "entropy": 1.126116394996643, "cur_lr": 0.0005000000237487257, "total_loss": 20.03066635131836, "vf_explained_var": 0.909332275390625, "policy_loss": -0.007427228149026632, "vf_loss": 20.03525161743164, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4498489, "load_time_ms": 12.709}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1264.5512109892434, "system_level_velocity_mean": 13.236539224137525, "cost1_min": 35.218172257095205, "cost2_min": -0.5262044785859769, "cost1_mean": 327.19022613765674, "cost2_mean": -0.03314209562045076, "outflow_rate_mean": 1015.4051544434774, "outflow_rate_min": 459.0988228891668, "system_level_velocity_min": 9.772657727162459, "cost1_max": 480.90380040867393, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 115, "done": false, "episodes_total": 2026, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062472e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251828>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251f28>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.8809335108776, "episode_reward_min": 57.593460388576396, "timesteps_total": 4498489, "time_since_restore": 2950.818903207779, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38251, "pid": 25263, "episodes_this_iter": 22, "timestamp": 1557187443, "time_this_iter_s": 26.531798839569092, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 115, "date": "2019-05-07_00-04-03", "episode_len_mean": 680.63}
{"timesteps_since_restore": 4536635, "policy_reward_mean": {}, "time_total_s": 2977.247103691101, "episode_reward_max": 1029.5013029924555, "info": {"num_steps_sampled": 4536635, "sample_time_ms": 16448.216, "update_time_ms": 8.008, "grad_time_ms": 9101.978, "default": {"kl": 0.014035488478839397, "entropy": 1.1529755592346191, "cur_lr": 0.0005000000237487257, "total_loss": 16.143619537353516, "vf_explained_var": 0.9108098149299622, "policy_loss": -0.006742377299815416, "vf_loss": 16.147363662719727, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4536635, "load_time_ms": 12.175}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1264.5512109892434, "system_level_velocity_mean": 13.256082883023524, "cost1_min": 35.218172257095205, "cost2_min": -0.5262044785859769, "cost1_mean": 332.29758182824247, "cost2_mean": -0.031231386373997153, "outflow_rate_mean": 1027.7677393661218, "outflow_rate_min": 465.6629799017355, "system_level_velocity_min": 9.772657727162459, "cost1_max": 480.90380040867393, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 116, "done": false, "episodes_total": 2044, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062479b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062474e0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247ef0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 861.8024221725377, "episode_reward_min": 57.593460388576396, "timesteps_total": 4536635, "time_since_restore": 2977.247103691101, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38146, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187469, "time_this_iter_s": 26.428200483322144, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 116, "date": "2019-05-07_00-04-29", "episode_len_mean": 687.06}
{"timesteps_since_restore": 4574005, "policy_reward_mean": {}, "time_total_s": 3004.4994747638702, "episode_reward_max": 1029.5013029924555, "info": {"num_steps_sampled": 4574005, "sample_time_ms": 16487.782, "update_time_ms": 8.086, "grad_time_ms": 9104.032, "default": {"kl": 0.01488829031586647, "entropy": 1.1468030214309692, "cur_lr": 0.0005000000237487257, "total_loss": 18.790882110595703, "vf_explained_var": 0.9162827134132385, "policy_loss": -0.008862346410751343, "vf_loss": 18.79656219482422, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4574005, "load_time_ms": 11.775}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1246.3342268010927, "system_level_velocity_mean": 13.310209793954746, "cost1_min": 18.87354682350557, "cost2_min": -0.37576658573424737, "cost1_mean": 324.3695907069676, "cost2_mean": -0.02715601932855409, "outflow_rate_mean": 1011.4947081528761, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 9.772657727162459, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 117, "done": false, "episodes_total": 2065, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5f8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a550>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.5972880608732, "episode_reward_min": 38.920097838682686, "timesteps_total": 4574005, "time_since_restore": 3004.4994747638702, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37370, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557187497, "time_this_iter_s": 27.252371072769165, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 117, "date": "2019-05-07_00-04-57", "episode_len_mean": 673.7}
{"timesteps_since_restore": 4611821, "policy_reward_mean": {}, "time_total_s": 3029.5746788978577, "episode_reward_max": 1029.5013029924555, "info": {"num_steps_sampled": 4611821, "sample_time_ms": 16381.33, "update_time_ms": 8.154, "grad_time_ms": 9119.997, "default": {"kl": 0.014004581607878208, "entropy": 1.1529335975646973, "cur_lr": 0.0005000000237487257, "total_loss": 14.54940414428711, "vf_explained_var": 0.9234505295753479, "policy_loss": -0.008114485070109367, "vf_loss": 14.55452823638916, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4611821, "load_time_ms": 11.694}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1246.3342268010927, "system_level_velocity_mean": 13.263272601985967, "cost1_min": 18.87354682350557, "cost2_min": -0.7366076799805641, "cost1_mean": 327.7112420443444, "cost2_mean": -0.03348040230984454, "outflow_rate_mean": 1016.8776193815766, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 9.772657727162459, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 118, "done": false, "episodes_total": 2082, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ff28>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f860>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.8990822090266, "episode_reward_min": 38.920097838682686, "timesteps_total": 4611821, "time_since_restore": 3029.5746788978577, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37816, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187522, "time_this_iter_s": 25.075204133987427, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 118, "date": "2019-05-07_00-05-22", "episode_len_mean": 680.19}
{"timesteps_since_restore": 4649839, "policy_reward_mean": {}, "time_total_s": 3054.465541601181, "episode_reward_max": 1029.5013029924555, "info": {"num_steps_sampled": 4649839, "sample_time_ms": 16386.195, "update_time_ms": 8.439, "grad_time_ms": 9125.942, "default": {"kl": 0.015472004190087318, "entropy": 1.1768125295639038, "cur_lr": 0.0005000000237487257, "total_loss": 18.88677215576172, "vf_explained_var": 0.893904983997345, "policy_loss": -0.009363116696476936, "vf_loss": 18.89282989501953, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4649839, "load_time_ms": 11.68}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1246.3342268010927, "system_level_velocity_mean": 13.316703810210276, "cost1_min": 18.87354682350557, "cost2_min": -0.7366076799805641, "cost1_mean": 325.0132194547039, "cost2_mean": -0.03921579320286857, "outflow_rate_mean": 1014.4172766442769, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.19072000790828, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 119, "done": false, "episodes_total": 2100, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062514a8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406251a90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 838.8357717367585, "episode_reward_min": 38.920097838682686, "timesteps_total": 4649839, "time_since_restore": 3054.465541601181, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38018, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187547, "time_this_iter_s": 24.890862703323364, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 119, "date": "2019-05-07_00-05-47", "episode_len_mean": 674.5}
{"timesteps_since_restore": 4688423, "policy_reward_mean": {}, "time_total_s": 3080.557265996933, "episode_reward_max": 1029.5013029924555, "info": {"num_steps_sampled": 4688423, "sample_time_ms": 16384.907, "update_time_ms": 8.192, "grad_time_ms": 9230.994, "default": {"kl": 0.013682559132575989, "entropy": 1.1786177158355713, "cur_lr": 0.0005000000237487257, "total_loss": 15.908781051635742, "vf_explained_var": 0.9225395917892456, "policy_loss": -0.007029990199953318, "vf_loss": 15.912887573242188, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 4688423, "load_time_ms": 11.498}, "custom_metrics": {"system_level_velocity_max": 19.75134110130906, "outflow_rate_max": 1246.3342268010927, "system_level_velocity_mean": 13.370011329505727, "cost1_min": 18.87354682350557, "cost2_min": -0.873725873012188, "cost1_mean": 326.0884637200142, "cost2_mean": -0.04989871647951096, "outflow_rate_mean": 1017.0149936703964, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.19072000790828, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 120, "done": false, "episodes_total": 2117, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247eb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062479b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.4225355274103, "episode_reward_min": 38.920097838682686, "timesteps_total": 4688423, "time_since_restore": 3080.557265996933, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38584, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187573, "time_this_iter_s": 26.091724395751953, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 120, "date": "2019-05-07_00-06-13", "episode_len_mean": 674.5}
{"timesteps_since_restore": 4727574, "policy_reward_mean": {}, "time_total_s": 3106.5158920288086, "episode_reward_max": 1017.8709508268361, "info": {"num_steps_sampled": 4727574, "sample_time_ms": 16392.39, "update_time_ms": 8.1, "grad_time_ms": 9378.769, "default": {"kl": 0.015978338196873665, "entropy": 1.2064778804779053, "cur_lr": 0.0005000000237487257, "total_loss": 15.732030868530273, "vf_explained_var": 0.8961694836616516, "policy_loss": -0.009032143279910088, "vf_loss": 15.737650871276855, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4727574, "load_time_ms": 11.418}, "custom_metrics": {"system_level_velocity_max": 19.170526742571553, "outflow_rate_max": 1234.2629432685808, "system_level_velocity_mean": 13.158514662241926, "cost1_min": 18.87354682350557, "cost2_min": -0.873725873012188, "cost1_mean": 325.04560476439565, "cost2_mean": -0.05745731643903224, "outflow_rate_mean": 1014.4383725496875, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.19072000790828, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 121, "done": false, "episodes_total": 2133, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5c0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a0b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 839.8846921147182, "episode_reward_min": 38.920097838682686, "timesteps_total": 4727574, "time_since_restore": 3106.5158920288086, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39151, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557187599, "time_this_iter_s": 25.95862603187561, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 121, "date": "2019-05-07_00-06-39", "episode_len_mean": 680.95}
{"timesteps_since_restore": 4765874, "policy_reward_mean": {}, "time_total_s": 3133.0188949108124, "episode_reward_max": 1066.4731219647563, "info": {"num_steps_sampled": 4765874, "sample_time_ms": 16431.874, "update_time_ms": 8.326, "grad_time_ms": 9502.044, "default": {"kl": 0.012471194379031658, "entropy": 1.1954861879348755, "cur_lr": 0.0005000000237487257, "total_loss": 17.71227264404297, "vf_explained_var": 0.9136208891868591, "policy_loss": -0.007160698529332876, "vf_loss": 17.71677017211914, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4765874, "load_time_ms": 11.452}, "custom_metrics": {"system_level_velocity_max": 19.170526742571553, "outflow_rate_max": 1234.2629432685808, "system_level_velocity_mean": 13.084951777641926, "cost1_min": 18.87354682350557, "cost2_min": -0.873725873012188, "cost1_mean": 323.3043508306059, "cost2_mean": -0.05562477508502952, "outflow_rate_mean": 1013.2676946974998, "outflow_rate_min": 436.5081934541252, "system_level_velocity_min": 10.19072000790828, "cost1_max": 480.90101768410733, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 122, "done": false, "episodes_total": 2153, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062666d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266b70>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266ac8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.6907621728095, "episode_reward_min": 38.920097838682686, "timesteps_total": 4765874, "time_since_restore": 3133.0188949108124, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38300, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557187625, "time_this_iter_s": 26.503002882003784, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 122, "date": "2019-05-07_00-07-05", "episode_len_mean": 680.95}
{"timesteps_since_restore": 4804232, "policy_reward_mean": {}, "time_total_s": 3158.47266292572, "episode_reward_max": 1066.4731219647563, "info": {"num_steps_sampled": 4804232, "sample_time_ms": 16246.411, "update_time_ms": 8.373, "grad_time_ms": 9579.752, "default": {"kl": 0.015490968711674213, "entropy": 1.189955234527588, "cur_lr": 0.0005000000237487257, "total_loss": 19.08531951904297, "vf_explained_var": 0.9103152751922607, "policy_loss": -0.008073399774730206, "vf_loss": 19.090085983276367, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4804232, "load_time_ms": 11.318}, "custom_metrics": {"system_level_velocity_max": 19.170526742571553, "outflow_rate_max": 1234.2629432685808, "system_level_velocity_mean": 13.026876214352205, "cost1_min": 24.21670598813057, "cost2_min": -0.873725873012188, "cost1_mean": 321.7553391876725, "cost2_mean": -0.055586782457398606, "outflow_rate_mean": 1011.8179682272487, "outflow_rate_min": 445.19836325564427, "system_level_velocity_min": 10.23996527121347, "cost1_max": 451.0265470700133, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 123, "done": false, "episodes_total": 2174, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062664e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062664a8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.0188709338431, "episode_reward_min": 49.98980255456968, "timesteps_total": 4804232, "time_since_restore": 3158.47266292572, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38358, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557187651, "time_this_iter_s": 25.453768014907837, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 123, "date": "2019-05-07_00-07-31", "episode_len_mean": 681.11}
{"timesteps_since_restore": 4842794, "policy_reward_mean": {}, "time_total_s": 3182.536607503891, "episode_reward_max": 1095.6404973463395, "info": {"num_steps_sampled": 4842794, "sample_time_ms": 16019.147, "update_time_ms": 8.363, "grad_time_ms": 9696.954, "default": {"kl": 0.012353969737887383, "entropy": 1.2210404872894287, "cur_lr": 0.0005000000237487257, "total_loss": 15.6531400680542, "vf_explained_var": 0.9086941480636597, "policy_loss": -0.005695938598364592, "vf_loss": 15.656196594238281, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 4842794, "load_time_ms": 11.262}, "custom_metrics": {"system_level_velocity_max": 19.170526742571553, "outflow_rate_max": 1245.0721762739042, "system_level_velocity_mean": 13.054412715604988, "cost1_min": 24.21670598813057, "cost2_min": -0.873725873012188, "cost1_mean": 319.1881703674355, "cost2_mean": -0.046306496736235096, "outflow_rate_mean": 1008.2585559420647, "outflow_rate_min": 445.19836325564427, "system_level_velocity_min": 10.136119067392142, "cost1_max": 451.0265470700133, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 124, "done": false, "episodes_total": 2191, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235128>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062359b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 835.3029547840878, "episode_reward_min": 49.98980255456968, "timesteps_total": 4842794, "time_since_restore": 3182.536607503891, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38562, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187675, "time_this_iter_s": 24.063944578170776, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 124, "date": "2019-05-07_00-07-55", "episode_len_mean": 676.2}
{"timesteps_since_restore": 4880146, "policy_reward_mean": {}, "time_total_s": 3207.4926311969757, "episode_reward_max": 1095.6404973463395, "info": {"num_steps_sampled": 4880146, "sample_time_ms": 15776.211, "update_time_ms": 8.462, "grad_time_ms": 9782.076, "default": {"kl": 0.014199047349393368, "entropy": 1.1904468536376953, "cur_lr": 0.0005000000237487257, "total_loss": 17.79749298095703, "vf_explained_var": 0.9274924397468567, "policy_loss": -0.006431203335523605, "vf_loss": 17.80088996887207, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4880146, "load_time_ms": 11.325}, "custom_metrics": {"system_level_velocity_max": 18.832399302201182, "outflow_rate_max": 1278.2867916520634, "system_level_velocity_mean": 12.997343416706004, "cost1_min": 24.21670598813057, "cost2_min": -0.4485680936241176, "cost1_mean": 321.87042432990177, "cost2_mean": -0.042587567424693724, "outflow_rate_mean": 1011.0490060192765, "outflow_rate_min": 445.19836325564427, "system_level_velocity_min": 10.136119067392142, "cost1_max": 476.22523716322826, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 125, "done": false, "episodes_total": 2208, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266898>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266c88>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.6707538449872, "episode_reward_min": 49.98980255456968, "timesteps_total": 4880146, "time_since_restore": 3207.4926311969757, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37352, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187700, "time_this_iter_s": 24.956023693084717, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 125, "date": "2019-05-07_00-08-20", "episode_len_mean": 681.89}
{"timesteps_since_restore": 4918308, "policy_reward_mean": {}, "time_total_s": 3233.856868982315, "episode_reward_max": 1095.6404973463395, "info": {"num_steps_sampled": 4918308, "sample_time_ms": 15689.743, "update_time_ms": 8.557, "grad_time_ms": 9863.967, "default": {"kl": 0.01684737391769886, "entropy": 1.2069109678268433, "cur_lr": 0.0005000000237487257, "total_loss": 18.134679794311523, "vf_explained_var": 0.9091829657554626, "policy_loss": -0.008130013011395931, "vf_loss": 18.139211654663086, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 4918308, "load_time_ms": 11.879}, "custom_metrics": {"system_level_velocity_max": 18.832399302201182, "outflow_rate_max": 1278.2867916520634, "system_level_velocity_mean": 13.182959337200217, "cost1_min": 24.21670598813057, "cost2_min": -0.4485680936241176, "cost1_mean": 326.9057733580592, "cost2_mean": -0.0433451467379816, "outflow_rate_mean": 1020.4204641065434, "outflow_rate_min": 445.19836325564427, "system_level_velocity_min": 10.136119067392142, "cost1_max": 476.22523716322826, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 126, "done": false, "episodes_total": 2228, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f908>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f5f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.205464739522, "episode_reward_min": 49.98980255456968, "timesteps_total": 4918308, "time_since_restore": 3233.856868982315, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38162, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557187726, "time_this_iter_s": 26.364237785339355, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 126, "date": "2019-05-07_00-08-46", "episode_len_mean": 681.89}
{"timesteps_since_restore": 4957228, "policy_reward_mean": {}, "time_total_s": 3258.866536617279, "episode_reward_max": 1095.6404973463395, "info": {"num_steps_sampled": 4957228, "sample_time_ms": 15341.288, "update_time_ms": 8.556, "grad_time_ms": 9989.317, "default": {"kl": 0.016410239040851593, "entropy": 1.2456084489822388, "cur_lr": 0.0005000000237487257, "total_loss": 14.522387504577637, "vf_explained_var": 0.9219967722892761, "policy_loss": -0.009583570063114166, "vf_loss": 14.528468132019043, "cur_kl_coeff": 0.21357421576976776}, "num_steps_trained": 4957228, "load_time_ms": 11.999}, "custom_metrics": {"cost1_mean": 327.6034380866767, "outflow_rate_max": 1278.2867916520634, "system_level_velocity_mean": 13.214220902682934, "cost1_min": 24.21670598813057, "cost1_max": 476.22523716322826, "outflow_rate_min": 445.19836325564427, "cost2_mean": -0.05361969857483466, "outflow_rate_mean": 1023.0154174565961, "system_level_velocity_min": 10.136119067392142, "cost2_min": -0.8, "system_level_velocity_max": 18.832399302201182, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 127, "done": false, "episodes_total": 2243, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f6a0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062514a8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 847.0755210637877, "episode_reward_min": 49.98980255456968, "timesteps_total": 4957228, "time_since_restore": 3258.866536617279, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38920, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557187751, "time_this_iter_s": 25.00966763496399, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 127, "date": "2019-05-07_00-09-11", "episode_len_mean": 681.89}
{"timesteps_since_restore": 4994635, "policy_reward_mean": {}, "time_total_s": 3282.9425809383392, "episode_reward_max": 1114.1628574155304, "info": {"num_steps_sampled": 4994635, "sample_time_ms": 15157.346, "update_time_ms": 8.461, "grad_time_ms": 10074.658, "default": {"kl": 0.015620904043316841, "entropy": 1.2370105981826782, "cur_lr": 0.0005000000237487257, "total_loss": 18.564315795898438, "vf_explained_var": 0.9171149730682373, "policy_loss": -0.0092739537358284, "vf_loss": 18.57025146484375, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 4994635, "load_time_ms": 12.164}, "custom_metrics": {"system_level_velocity_max": 18.997116908077885, "outflow_rate_max": 1278.2867916520634, "system_level_velocity_mean": 13.27816667393998, "cost1_min": 27.493603406242038, "cost2_min": -0.8, "cost1_mean": 329.29085095818715, "cost2_mean": -0.06639412895286187, "outflow_rate_mean": 1026.0375727085996, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 10.136119067392142, "cost1_max": 476.22523716322826, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 128, "done": false, "episodes_total": 2261, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266f28>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062667f0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 852.8419818162806, "episode_reward_min": 53.23143710837949, "timesteps_total": 4994635, "time_since_restore": 3282.9425809383392, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37407, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187775, "time_this_iter_s": 24.07604432106018, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 128, "date": "2019-05-07_00-09-35", "episode_len_mean": 681.94}
{"timesteps_since_restore": 5033337, "policy_reward_mean": {}, "time_total_s": 3308.5613012313843, "episode_reward_max": 1114.1628574155304, "info": {"num_steps_sampled": 5033337, "sample_time_ms": 15140.439, "update_time_ms": 8.539, "grad_time_ms": 10161.656, "default": {"kl": 0.015041996724903584, "entropy": 1.2538871765136719, "cur_lr": 0.0005000000237487257, "total_loss": 15.850327491760254, "vf_explained_var": 0.9175223112106323, "policy_loss": -0.00956632848829031, "vf_loss": 15.856681823730469, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5033337, "load_time_ms": 12.272}, "custom_metrics": {"system_level_velocity_max": 18.997116908077885, "outflow_rate_max": 1278.2867916520634, "system_level_velocity_mean": 13.271151438274313, "cost1_min": 27.493603406242038, "cost2_min": -0.8, "cost1_mean": 333.6301665899029, "cost2_mean": -0.06556714210726042, "outflow_rate_mean": 1033.548328064166, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 10.136119067392142, "cost1_max": 476.22523716322826, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 129, "done": false, "episodes_total": 2280, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406248fd0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233358>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 858.9007694654442, "episode_reward_min": 53.23143710837949, "timesteps_total": 5033337, "time_since_restore": 3308.5613012313843, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38702, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187801, "time_this_iter_s": 25.618720293045044, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 129, "date": "2019-05-07_00-10-01", "episode_len_mean": 688.5}
{"timesteps_since_restore": 5071852, "policy_reward_mean": {}, "time_total_s": 3332.315899372101, "episode_reward_max": 1114.1628574155304, "info": {"num_steps_sampled": 5071852, "sample_time_ms": 14899.876, "update_time_ms": 8.794, "grad_time_ms": 10168.133, "default": {"kl": 0.0143197663128376, "entropy": 1.249003529548645, "cur_lr": 0.0005000000237487257, "total_loss": 17.403425216674805, "vf_explained_var": 0.9033069014549255, "policy_loss": -0.00649268226698041, "vf_loss": 17.406858444213867, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5071852, "load_time_ms": 12.151}, "custom_metrics": {"system_level_velocity_max": 18.997116908077885, "outflow_rate_max": 1275.9082491069428, "system_level_velocity_mean": 13.037457379566563, "cost1_min": 27.493603406242038, "cost2_min": -0.8, "cost1_mean": 330.6858232141348, "cost2_mean": -0.05970990832287306, "outflow_rate_mean": 1026.9068060449142, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 10.334542212849607, "cost1_max": 476.22523716322826, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 130, "done": false, "episodes_total": 2299, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f9e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 861.784027909835, "episode_reward_min": 53.23143710837949, "timesteps_total": 5071852, "time_since_restore": 3332.315899372101, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38515, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187825, "time_this_iter_s": 23.754598140716553, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 130, "date": "2019-05-07_00-10-25", "episode_len_mean": 693.41}
{"timesteps_since_restore": 5109559, "policy_reward_mean": {}, "time_total_s": 3359.2086832523346, "episode_reward_max": 1114.1628574155304, "info": {"num_steps_sampled": 5109559, "sample_time_ms": 15015.261, "update_time_ms": 8.988, "grad_time_ms": 10146.407, "default": {"kl": 0.017054220661520958, "entropy": 1.2188667058944702, "cur_lr": 0.0005000000237487257, "total_loss": 19.788637161254883, "vf_explained_var": 0.9062381386756897, "policy_loss": -0.009509837254881859, "vf_loss": 19.794504165649414, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5109559, "load_time_ms": 11.723}, "custom_metrics": {"system_level_velocity_max": 19.105618941490768, "outflow_rate_max": 1254.2181980651415, "system_level_velocity_mean": 13.186252692190498, "cost1_min": 27.493603406242038, "cost2_min": -0.8, "cost1_mean": 326.8338746203451, "cost2_mean": -0.06435647497273674, "outflow_rate_mean": 1021.695199998698, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 10.30364745619428, "cost1_max": 459.9899420673262, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 131, "done": false, "episodes_total": 2317, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062335f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062337b8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233080>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 843.8313214656586, "episode_reward_min": 53.23143710837949, "timesteps_total": 5109559, "time_since_restore": 3359.2086832523346, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37707, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187852, "time_this_iter_s": 26.892783880233765, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 131, "date": "2019-05-07_00-10-52", "episode_len_mean": 682.39}
{"timesteps_since_restore": 5147489, "policy_reward_mean": {}, "time_total_s": 3382.9248123168945, "episode_reward_max": 1114.1628574155304, "info": {"num_steps_sampled": 5147489, "sample_time_ms": 14795.784, "update_time_ms": 8.73, "grad_time_ms": 10087.955, "default": {"kl": 0.014267035759985447, "entropy": 1.2471009492874146, "cur_lr": 0.0005000000237487257, "total_loss": 15.19508171081543, "vf_explained_var": 0.9175489544868469, "policy_loss": -0.008975284174084663, "vf_loss": 15.201009750366211, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5147489, "load_time_ms": 11.33}, "custom_metrics": {"system_level_velocity_max": 19.105618941490768, "outflow_rate_max": 1254.2181980651415, "system_level_velocity_mean": 13.077869983723586, "cost1_min": 27.493603406242038, "cost2_min": -0.8, "cost1_mean": 324.2318854571736, "cost2_mean": -0.06702474058857719, "outflow_rate_mean": 1017.6134383138891, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 9.907688302529428, "cost1_max": 459.9899420673262, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 132, "done": false, "episodes_total": 2334, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266518>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 846.2994047147457, "episode_reward_min": 53.23143710837949, "timesteps_total": 5147489, "time_since_restore": 3382.9248123168945, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37930, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187876, "time_this_iter_s": 23.716129064559937, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 132, "date": "2019-05-07_00-11-16", "episode_len_mean": 682.39}
{"timesteps_since_restore": 5185635, "policy_reward_mean": {}, "time_total_s": 3407.7137055397034, "episode_reward_max": 1000.9899037342283, "info": {"num_steps_sampled": 5185635, "sample_time_ms": 14793.553, "update_time_ms": 8.804, "grad_time_ms": 10023.135, "default": {"kl": 0.017150694504380226, "entropy": 1.2558205127716064, "cur_lr": 0.0005000000237487257, "total_loss": 15.511079788208008, "vf_explained_var": 0.9091352224349976, "policy_loss": -0.008740671910345554, "vf_loss": 15.516159057617188, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5185635, "load_time_ms": 11.302}, "custom_metrics": {"system_level_velocity_max": 19.105618941490768, "outflow_rate_max": 1235.3684288075967, "system_level_velocity_mean": 13.030335185543638, "cost1_min": 27.493603406242038, "cost2_min": -0.8393043575774337, "cost1_mean": 322.9462365545472, "cost2_mean": -0.051391218627448325, "outflow_rate_mean": 1014.9284318123936, "outflow_rate_min": 438.228456464188, "system_level_velocity_min": 9.907688302529428, "cost1_max": 459.9899420673262, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 133, "done": false, "episodes_total": 2351, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062664a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233a90>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233390>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.8096802524186, "episode_reward_min": 53.23143710837949, "timesteps_total": 5185635, "time_since_restore": 3407.7137055397034, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38146, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557187900, "time_this_iter_s": 24.788893222808838, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 133, "date": "2019-05-07_00-11-40", "episode_len_mean": 682.39}
{"timesteps_since_restore": 5223689, "policy_reward_mean": {}, "time_total_s": 3433.3550658226013, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5223689, "sample_time_ms": 15077.285, "update_time_ms": 8.73, "grad_time_ms": 9897.382, "default": {"kl": 0.01637629047036171, "entropy": 1.2445528507232666, "cur_lr": 0.0005000000237487257, "total_loss": 21.6556396484375, "vf_explained_var": 0.8926346302032471, "policy_loss": -0.007691999897360802, "vf_loss": 21.659833908081055, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5223689, "load_time_ms": 11.45}, "custom_metrics": {"system_level_velocity_max": 19.12217463767404, "outflow_rate_max": 1234.3520921395007, "system_level_velocity_mean": 13.063473054047341, "cost1_min": 18.992233082925022, "cost2_min": -0.8393043575774337, "cost1_mean": 319.1935740307341, "cost2_mean": -0.043393718039505175, "outflow_rate_mean": 1008.028945450208, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 9.907688302529428, "cost1_max": 430.2104803133937, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 134, "done": false, "episodes_total": 2371, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f198>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 831.0203339743507, "episode_reward_min": 36.33612350511468, "timesteps_total": 5223689, "time_since_restore": 3433.3550658226013, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38054, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557187926, "time_this_iter_s": 25.64136028289795, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 134, "date": "2019-05-07_00-12-06", "episode_len_mean": 675.88}
{"timesteps_since_restore": 5262326, "policy_reward_mean": {}, "time_total_s": 3458.2293651103973, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5262326, "sample_time_ms": 15179.552, "update_time_ms": 8.762, "grad_time_ms": 9786.935, "default": {"kl": 0.016065893694758415, "entropy": 1.225798487663269, "cur_lr": 0.0005000000237487257, "total_loss": 17.521392822265625, "vf_explained_var": 0.9221554398536682, "policy_loss": -0.008497550152242184, "vf_loss": 17.526460647583008, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 5262326, "load_time_ms": 11.791}, "custom_metrics": {"system_level_velocity_max": 19.12217463767404, "outflow_rate_max": 1312.8906021074927, "system_level_velocity_mean": 13.206808144324862, "cost1_min": 18.992233082925022, "cost2_min": -1.0340822367597435, "cost1_mean": 323.19270952820546, "cost2_mean": -0.05319173457021347, "outflow_rate_mean": 1013.6679809049576, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 9.907688302529428, "cost1_max": 480.86370097349743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 135, "done": false, "episodes_total": 2390, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062334e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.7658255089214, "episode_reward_min": 36.33612350511468, "timesteps_total": 5262326, "time_since_restore": 3458.2293651103973, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38637, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557187951, "time_this_iter_s": 24.87429928779602, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 135, "date": "2019-05-07_00-12-31", "episode_len_mean": 675.88}
{"timesteps_since_restore": 5300557, "policy_reward_mean": {}, "time_total_s": 3483.7117898464203, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5300557, "sample_time_ms": 15216.798, "update_time_ms": 8.581, "grad_time_ms": 9662.474, "default": {"kl": 0.016915839165449142, "entropy": 1.2292520999908447, "cur_lr": 0.0005000000237487257, "total_loss": 20.408029556274414, "vf_explained_var": 0.8994792103767395, "policy_loss": -0.009194353595376015, "vf_loss": 20.413610458374023, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5300557, "load_time_ms": 11.836}, "custom_metrics": {"system_level_velocity_max": 19.12217463767404, "outflow_rate_max": 1312.8906021074927, "system_level_velocity_mean": 13.311058979158709, "cost1_min": 18.992233082925022, "cost2_min": -1.0340822367597435, "cost1_mean": 325.46463200292527, "cost2_mean": -0.056847266825064906, "outflow_rate_mean": 1015.371449204786, "outflow_rate_min": 414.8144809032192, "system_level_velocity_min": 9.907688302529428, "cost1_max": 480.86370097349743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 136, "done": false, "episodes_total": 2408, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266780>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266908>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 835.5342443249687, "episode_reward_min": 36.33612350511468, "timesteps_total": 5300557, "time_since_restore": 3483.7117898464203, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38231, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557187976, "time_this_iter_s": 25.48242473602295, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 136, "date": "2019-05-07_00-12-56", "episode_len_mean": 674.92}
{"timesteps_since_restore": 5339301, "policy_reward_mean": {}, "time_total_s": 3507.3064777851105, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5339301, "sample_time_ms": 15243.874, "update_time_ms": 8.552, "grad_time_ms": 9495.311, "default": {"kl": 0.017093176022171974, "entropy": 1.244113564491272, "cur_lr": 0.0005000000237487257, "total_loss": 16.823246002197266, "vf_explained_var": 0.9021968245506287, "policy_loss": -0.009221196174621582, "vf_loss": 16.828815460205078, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5339301, "load_time_ms": 11.816}, "custom_metrics": {"system_level_velocity_max": 19.12217463767404, "outflow_rate_max": 1312.8906021074927, "system_level_velocity_mean": 13.328715919159372, "cost1_min": 18.992233082925022, "cost2_min": -1.0340822367597435, "cost1_mean": 325.2423738122889, "cost2_mean": -0.04971778432447729, "outflow_rate_mean": 1013.2410515375929, "outflow_rate_min": 414.8144809032192, "system_level_velocity_min": 9.907688302529428, "cost1_max": 480.86370097349743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 137, "done": false, "episodes_total": 2426, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f5f8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.3378487647126, "episode_reward_min": 36.33612350511468, "timesteps_total": 5339301, "time_since_restore": 3507.3064777851105, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38744, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188000, "time_this_iter_s": 23.594687938690186, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 137, "date": "2019-05-07_00-13-20", "episode_len_mean": 673.69}
{"timesteps_since_restore": 5378085, "policy_reward_mean": {}, "time_total_s": 3532.5493910312653, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5378085, "sample_time_ms": 15514.62, "update_time_ms": 8.245, "grad_time_ms": 9342.323, "default": {"kl": 0.018111955374479294, "entropy": 1.2407398223876953, "cur_lr": 0.0005000000237487257, "total_loss": 19.0582332611084, "vf_explained_var": 0.9014803767204285, "policy_loss": -0.01046337466686964, "vf_loss": 19.064828872680664, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 5378085, "load_time_ms": 11.693}, "custom_metrics": {"cost1_mean": 318.3828594689522, "outflow_rate_max": 1312.8906021074927, "system_level_velocity_mean": 13.253549438039167, "cost1_min": 18.992233082925022, "cost1_max": 480.86370097349743, "outflow_rate_min": 414.8144809032192, "cost2_mean": -0.04484608121395477, "outflow_rate_mean": 998.9403291414908, "system_level_velocity_min": 9.642565481596325, "cost2_min": -1.0340822367597435, "system_level_velocity_max": 19.12217463767404, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 138, "done": false, "episodes_total": 2445, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540622e358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266c18>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266390>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 824.8510996815461, "episode_reward_min": 36.33612350511468, "timesteps_total": 5378085, "time_since_restore": 3532.5493910312653, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38784, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188025, "time_this_iter_s": 25.242913246154785, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 138, "date": "2019-05-07_00-13-45", "episode_len_mean": 666.98}
{"timesteps_since_restore": 5417199, "policy_reward_mean": {}, "time_total_s": 3557.825409889221, "episode_reward_max": 1073.1739144127334, "info": {"num_steps_sampled": 5417199, "sample_time_ms": 15640.635, "update_time_ms": 7.942, "grad_time_ms": 9183.944, "default": {"kl": 0.01532803475856781, "entropy": 1.2225831747055054, "cur_lr": 0.0005000000237487257, "total_loss": 17.39544105529785, "vf_explained_var": 0.919585108757019, "policy_loss": -0.006480665411800146, "vf_loss": 17.39864730834961, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5417199, "load_time_ms": 11.648}, "custom_metrics": {"system_level_velocity_max": 18.852270217228323, "outflow_rate_max": 1312.8906021074927, "system_level_velocity_mean": 13.285279242617776, "cost1_min": 19.53712857738807, "cost2_min": -1.0340822367597435, "cost1_mean": 324.029771561587, "cost2_mean": -0.045885485617043954, "outflow_rate_mean": 1008.2882878264296, "outflow_rate_min": 414.8144809032192, "system_level_velocity_min": 9.642565481596325, "cost1_max": 496.5747038641743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 139, "done": false, "episodes_total": 2463, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062336d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.0808958686409, "episode_reward_min": 36.78119101725726, "timesteps_total": 5417199, "time_since_restore": 3557.825409889221, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39114, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188051, "time_this_iter_s": 25.276018857955933, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 139, "date": "2019-05-07_00-14-11", "episode_len_mean": 673.49}
{"timesteps_since_restore": 5455568, "policy_reward_mean": {}, "time_total_s": 3584.4929010868073, "episode_reward_max": 1033.5807625021166, "info": {"num_steps_sampled": 5455568, "sample_time_ms": 16053.698, "update_time_ms": 7.893, "grad_time_ms": 9060.347, "default": {"kl": 0.01515357568860054, "entropy": 1.239253044128418, "cur_lr": 0.0005000000237487257, "total_loss": 16.489389419555664, "vf_explained_var": 0.9114446043968201, "policy_loss": -0.00783561822026968, "vf_loss": 16.493988037109375, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5455568, "load_time_ms": 12.211}, "custom_metrics": {"system_level_velocity_max": 18.852270217228323, "outflow_rate_max": 1244.5673196978014, "system_level_velocity_mean": 13.225652363038641, "cost1_min": 19.53712857738807, "cost2_min": -0.5519233363324998, "cost1_mean": 322.6433430864048, "cost2_mean": -0.03841134869241659, "outflow_rate_mean": 1007.5354307554718, "outflow_rate_min": 414.8144809032192, "system_level_velocity_min": 9.642565481596325, "cost1_max": 496.5747038641743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 140, "done": false, "episodes_total": 2482, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233cf8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233358>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.9625297637126, "episode_reward_min": 36.78119101725726, "timesteps_total": 5455568, "time_since_restore": 3584.4929010868073, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38369, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188077, "time_this_iter_s": 26.66749119758606, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 140, "date": "2019-05-07_00-14-37", "episode_len_mean": 673.49}
{"timesteps_since_restore": 5493115, "policy_reward_mean": {}, "time_total_s": 3609.241263151169, "episode_reward_max": 1033.5807625021166, "info": {"num_steps_sampled": 5493115, "sample_time_ms": 16039.924, "update_time_ms": 7.746, "grad_time_ms": 8859.171, "default": {"kl": 0.016232816502451897, "entropy": 1.2193195819854736, "cur_lr": 0.0005000000237487257, "total_loss": 17.281049728393555, "vf_explained_var": 0.9221853017807007, "policy_loss": -0.009081505239009857, "vf_loss": 17.286664962768555, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5493115, "load_time_ms": 12.551}, "custom_metrics": {"system_level_velocity_max": 18.852270217228323, "outflow_rate_max": 1244.5673196978014, "system_level_velocity_mean": 13.125667871613848, "cost1_min": 19.53712857738807, "cost2_min": -0.5, "cost1_mean": 324.15010006663925, "cost2_mean": -0.03632348784773643, "outflow_rate_mean": 1011.6475862059732, "outflow_rate_min": 434.2208556650385, "system_level_velocity_min": 9.642565481596325, "cost1_max": 496.5747038641743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 141, "done": false, "episodes_total": 2501, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406235630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625feb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f400>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.4256729706076, "episode_reward_min": 36.78119101725726, "timesteps_total": 5493115, "time_since_restore": 3609.241263151169, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37547, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188102, "time_this_iter_s": 24.748362064361572, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 141, "date": "2019-05-07_00-15-02", "episode_len_mean": 680.05}
{"timesteps_since_restore": 5530671, "policy_reward_mean": {}, "time_total_s": 3632.4371705055237, "episode_reward_max": 1033.5807625021166, "info": {"num_steps_sampled": 5530671, "sample_time_ms": 16144.668, "update_time_ms": 7.69, "grad_time_ms": 8703.055, "default": {"kl": 0.01697533018887043, "entropy": 1.2389857769012451, "cur_lr": 0.0005000000237487257, "total_loss": 19.493070602416992, "vf_explained_var": 0.893017053604126, "policy_loss": -0.009626492857933044, "vf_loss": 19.499069213867188, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5530671, "load_time_ms": 12.29}, "custom_metrics": {"system_level_velocity_max": 19.45932022059485, "outflow_rate_max": 1244.5673196978014, "system_level_velocity_mean": 13.241058161160888, "cost1_min": 19.53712857738807, "cost2_min": -1.3242980115746816, "cost1_mean": 323.0360487620266, "cost2_mean": -0.05159540930035982, "outflow_rate_mean": 1010.8372052849518, "outflow_rate_min": 438.2966037840952, "system_level_velocity_min": 9.642565481596325, "cost1_max": 496.5747038641743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 142, "done": false, "episodes_total": 2519, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062660b8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266a20>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 851.2784653303628, "episode_reward_min": 36.78119101725726, "timesteps_total": 5530671, "time_since_restore": 3632.4371705055237, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37556, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188125, "time_this_iter_s": 23.19590735435486, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 142, "date": "2019-05-07_00-15-25", "episode_len_mean": 673.89}
{"timesteps_since_restore": 5569103, "policy_reward_mean": {}, "time_total_s": 3658.0016181468964, "episode_reward_max": 1033.5807625021166, "info": {"num_steps_sampled": 5569103, "sample_time_ms": 16310.269, "update_time_ms": 7.678, "grad_time_ms": 8616.073, "default": {"kl": 0.016524048522114754, "entropy": 1.2553762197494507, "cur_lr": 0.0005000000237487257, "total_loss": 17.37872314453125, "vf_explained_var": 0.9085136651992798, "policy_loss": -0.008531777188181877, "vf_loss": 17.383724212646484, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5569103, "load_time_ms": 12.314}, "custom_metrics": {"system_level_velocity_max": 19.45932022059485, "outflow_rate_max": 1244.5673196978014, "system_level_velocity_mean": 13.384755472110182, "cost1_min": 28.0998976070829, "cost2_min": -1.3242980115746816, "cost1_mean": 326.8899714383151, "cost2_mean": -0.05799028111306297, "outflow_rate_mean": 1020.0114212848094, "outflow_rate_min": 450.28903944885144, "system_level_velocity_min": 9.76693226038965, "cost1_max": 496.5747038641743, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 143, "done": false, "episodes_total": 2537, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266f28>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 851.8920962901851, "episode_reward_min": 52.341489135778176, "timesteps_total": 5569103, "time_since_restore": 3658.0016181468964, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38432, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188151, "time_this_iter_s": 25.56444764137268, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 143, "date": "2019-05-07_00-15-51", "episode_len_mean": 674.03}
{"timesteps_since_restore": 5607455, "policy_reward_mean": {}, "time_total_s": 3683.7284140586853, "episode_reward_max": 1033.5807625021166, "info": {"num_steps_sampled": 5607455, "sample_time_ms": 16381.286, "update_time_ms": 7.883, "grad_time_ms": 8553.184, "default": {"kl": 0.016301456838846207, "entropy": 1.276897668838501, "cur_lr": 0.0005000000237487257, "total_loss": 17.34938621520996, "vf_explained_var": 0.9134828448295593, "policy_loss": -0.01056175772100687, "vf_loss": 17.35646629333496, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5607455, "load_time_ms": 12.061}, "custom_metrics": {"system_level_velocity_max": 19.45932022059485, "outflow_rate_max": 1221.546468724779, "system_level_velocity_mean": 13.16795766623411, "cost1_min": 28.665159966595585, "cost2_min": -1.3242980115746816, "cost1_mean": 325.40124993302754, "cost2_mean": -0.06290957959350996, "outflow_rate_mean": 1016.6076355278706, "outflow_rate_min": 450.28903944885144, "system_level_velocity_min": 9.76693226038965, "cost1_max": 450.64179870226525, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 144, "done": false, "episodes_total": 2555, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062476a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247ef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247a90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 853.9676801254369, "episode_reward_min": 52.341489135778176, "timesteps_total": 5607455, "time_since_restore": 3683.7284140586853, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38352, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188177, "time_this_iter_s": 25.72679591178894, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 144, "date": "2019-05-07_00-16-17", "episode_len_mean": 680.62}
{"timesteps_since_restore": 5644344, "policy_reward_mean": {}, "time_total_s": 3708.9622132778168, "episode_reward_max": 1034.9922886254983, "info": {"num_steps_sampled": 5644344, "sample_time_ms": 16504.416, "update_time_ms": 7.806, "grad_time_ms": 8465.628, "default": {"kl": 0.01615111529827118, "entropy": 1.2713329792022705, "cur_lr": 0.0005000000237487257, "total_loss": 18.313966751098633, "vf_explained_var": 0.9074261784553528, "policy_loss": -0.009227144531905651, "vf_loss": 18.319744110107422, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5644344, "load_time_ms": 11.741}, "custom_metrics": {"cost1_mean": 326.2555252327336, "outflow_rate_max": 1245.0931800403227, "system_level_velocity_mean": 13.339881306017814, "cost1_min": 28.665159966595585, "cost1_max": 463.1197699381171, "outflow_rate_min": 450.28903944885144, "cost2_mean": -0.06937265728345066, "outflow_rate_mean": 1020.6286138821418, "system_level_velocity_min": 9.76693226038965, "cost2_min": -1.3242980115746816, "system_level_velocity_max": 19.45932022059485, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 145, "done": false, "episodes_total": 2573, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f908>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 851.137421302426, "episode_reward_min": 52.341489135778176, "timesteps_total": 5644344, "time_since_restore": 3708.9622132778168, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 36889, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188202, "time_this_iter_s": 25.23379921913147, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 145, "date": "2019-05-07_00-16-42", "episode_len_mean": 675.13}
{"timesteps_since_restore": 5681626, "policy_reward_mean": {}, "time_total_s": 3734.269167661667, "episode_reward_max": 1073.5357208469802, "info": {"num_steps_sampled": 5681626, "sample_time_ms": 16503.873, "update_time_ms": 7.856, "grad_time_ms": 8447.776, "default": {"kl": 0.015705229714512825, "entropy": 1.2568433284759521, "cur_lr": 0.0005000000237487257, "total_loss": 17.687768936157227, "vf_explained_var": 0.9141025543212891, "policy_loss": -0.009288343600928783, "vf_loss": 17.693700790405273, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5681626, "load_time_ms": 11.483}, "custom_metrics": {"system_level_velocity_max": 19.45932022059485, "outflow_rate_max": 1245.0931800403227, "system_level_velocity_mean": 13.363080236414445, "cost1_min": 28.665159966595585, "cost2_min": -1.3242980115746816, "cost1_mean": 326.70040981022385, "cost2_mean": -0.0661892301927952, "outflow_rate_mean": 1020.5866272264218, "outflow_rate_min": 450.28903944885144, "system_level_velocity_min": 9.76693226038965, "cost1_max": 463.1197699381171, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 146, "done": false, "episodes_total": 2591, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f847f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84080>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f846d8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 845.7435569338758, "episode_reward_min": 52.341489135778176, "timesteps_total": 5681626, "time_since_restore": 3734.269167661667, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37282, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188227, "time_this_iter_s": 25.306954383850098, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 146, "date": "2019-05-07_00-17-07", "episode_len_mean": 675.13}
{"timesteps_since_restore": 5719755, "policy_reward_mean": {}, "time_total_s": 3759.924414873123, "episode_reward_max": 1073.5357208469802, "info": {"num_steps_sampled": 5719755, "sample_time_ms": 16768.497, "update_time_ms": 7.83, "grad_time_ms": 8388.501, "default": {"kl": 0.016620947048068047, "entropy": 1.2773385047912598, "cur_lr": 0.0005000000237487257, "total_loss": 21.013370513916016, "vf_explained_var": 0.8918246626853943, "policy_loss": -0.008107176050543785, "vf_loss": 21.017927169799805, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5719755, "load_time_ms": 11.374}, "custom_metrics": {"system_level_velocity_max": 19.465978341907668, "outflow_rate_max": 1288.483311314603, "system_level_velocity_mean": 13.31201450913138, "cost1_min": 28.665159966595585, "cost2_min": -0.8, "cost1_mean": 330.5387358137804, "cost2_mean": -0.05482871731945609, "outflow_rate_mean": 1027.4834165220068, "outflow_rate_min": 450.28903944885144, "system_level_velocity_min": 9.963920205116043, "cost1_max": 468.21671774112895, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 147, "done": false, "episodes_total": 2610, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f198>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 855.4921118308898, "episode_reward_min": 52.341489135778176, "timesteps_total": 5719755, "time_since_restore": 3759.924414873123, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38129, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188253, "time_this_iter_s": 25.6552472114563, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 147, "date": "2019-05-07_00-17-33", "episode_len_mean": 682.46}
{"timesteps_since_restore": 5758132, "policy_reward_mean": {}, "time_total_s": 3786.335883140564, "episode_reward_max": 1073.5357208469802, "info": {"num_steps_sampled": 5758132, "sample_time_ms": 16956.469, "update_time_ms": 8.198, "grad_time_ms": 8317.321, "default": {"kl": 0.017005961388349533, "entropy": 1.2134581804275513, "cur_lr": 0.0005000000237487257, "total_loss": 18.347026824951172, "vf_explained_var": 0.9218829870223999, "policy_loss": -0.006613808684051037, "vf_loss": 18.350008010864258, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5758132, "load_time_ms": 11.299}, "custom_metrics": {"system_level_velocity_max": 19.465978341907668, "outflow_rate_max": 1288.483311314603, "system_level_velocity_mean": 13.361348990333443, "cost1_min": 28.665159966595585, "cost2_min": -0.8, "cost1_mean": 331.58317359964764, "cost2_mean": -0.0615990307683728, "outflow_rate_mean": 1027.6790339454137, "outflow_rate_min": 450.28903944885144, "system_level_velocity_min": 9.963920205116043, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 148, "done": false, "episodes_total": 2629, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247f60>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062476a0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 852.2122534438574, "episode_reward_min": 52.341489135778176, "timesteps_total": 5758132, "time_since_restore": 3786.335883140564, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38377, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188279, "time_this_iter_s": 26.411468267440796, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 148, "date": "2019-05-07_00-17-59", "episode_len_mean": 682.46}
{"timesteps_since_restore": 5795501, "policy_reward_mean": {}, "time_total_s": 3811.643176317215, "episode_reward_max": 1073.5357208469802, "info": {"num_steps_sampled": 5795501, "sample_time_ms": 17054.749, "update_time_ms": 8.113, "grad_time_ms": 8222.945, "default": {"kl": 0.016091935336589813, "entropy": 1.2269465923309326, "cur_lr": 0.0005000000237487257, "total_loss": 21.050323486328125, "vf_explained_var": 0.9059337973594666, "policy_loss": -0.007604890037328005, "vf_loss": 21.054492950439453, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5795501, "load_time_ms": 11.343}, "custom_metrics": {"system_level_velocity_max": 19.465978341907668, "outflow_rate_max": 1288.483311314603, "system_level_velocity_mean": 13.493381212163104, "cost1_min": 106.5752349321341, "cost2_min": -0.7774516624961922, "cost1_mean": 339.40864618511, "cost2_mean": -0.058594664589676194, "outflow_rate_mean": 1042.370822828263, "outflow_rate_min": 675.9063542613725, "system_level_velocity_min": 9.963920205116043, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 149, "done": false, "episodes_total": 2650, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062334e0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233ef0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 858.9736446460848, "episode_reward_min": 201.2103315718566, "timesteps_total": 5795501, "time_since_restore": 3811.643176317215, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37369, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557188305, "time_this_iter_s": 25.307293176651, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 149, "date": "2019-05-07_00-18-25", "episode_len_mean": 689.03}
{"timesteps_since_restore": 5833150, "policy_reward_mean": {}, "time_total_s": 3836.0575742721558, "episode_reward_max": 1073.5357208469802, "info": {"num_steps_sampled": 5833150, "sample_time_ms": 16951.576, "update_time_ms": 7.955, "grad_time_ms": 8103.351, "default": {"kl": 0.01503097452223301, "entropy": 1.2416589260101318, "cur_lr": 0.0005000000237487257, "total_loss": 17.28108024597168, "vf_explained_var": 0.9240583777427673, "policy_loss": -0.007634162902832031, "vf_loss": 17.285505294799805, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5833150, "load_time_ms": 11.158}, "custom_metrics": {"system_level_velocity_max": 19.81484957265615, "outflow_rate_max": 1288.483311314603, "system_level_velocity_mean": 13.687098487531827, "cost1_min": 18.153244930958127, "cost2_min": -1.1939458041654927, "cost1_mean": 339.2632493984483, "cost2_mean": -0.06959016304491662, "outflow_rate_mean": 1041.325232144424, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 9.963920205116043, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 150, "done": false, "episodes_total": 2667, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84710>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f845f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 852.8312001796971, "episode_reward_min": 33.91174235711595, "timesteps_total": 5833150, "time_since_restore": 3836.0575742721558, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37649, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557188329, "time_this_iter_s": 24.414397954940796, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 150, "date": "2019-05-07_00-18-49", "episode_len_mean": 682.3}
{"timesteps_since_restore": 5872248, "policy_reward_mean": {}, "time_total_s": 3862.483307361603, "episode_reward_max": 1046.650127128251, "info": {"num_steps_sampled": 5872248, "sample_time_ms": 17106.629, "update_time_ms": 7.713, "grad_time_ms": 8116.142, "default": {"kl": 0.014811640605330467, "entropy": 1.2392700910568237, "cur_lr": 0.0005000000237487257, "total_loss": 17.532085418701172, "vf_explained_var": 0.9169031381607056, "policy_loss": -0.008261878043413162, "vf_loss": 17.53718376159668, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 5872248, "load_time_ms": 11.185}, "custom_metrics": {"system_level_velocity_max": 19.81484957265615, "outflow_rate_max": 1288.483311314603, "system_level_velocity_mean": 13.705051239582968, "cost1_min": 18.153244930958127, "cost2_min": -1.1939458041654927, "cost1_mean": 343.5092484975415, "cost2_mean": -0.0653265172143933, "outflow_rate_mean": 1049.0648671137349, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 10.375352696663574, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 151, "done": false, "episodes_total": 2687, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe48>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f940>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 859.6590659443405, "episode_reward_min": 33.91174235711595, "timesteps_total": 5872248, "time_since_restore": 3862.483307361603, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39098, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557188356, "time_this_iter_s": 26.42573308944702, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 151, "date": "2019-05-07_00-19-16", "episode_len_mean": 687.79}
{"timesteps_since_restore": 5910079, "policy_reward_mean": {}, "time_total_s": 3887.708998441696, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 5910079, "sample_time_ms": 17348.819, "update_time_ms": 7.907, "grad_time_ms": 8075.375, "default": {"kl": 0.015949072316288948, "entropy": 1.2316317558288574, "cur_lr": 0.0005000000237487257, "total_loss": 17.73967170715332, "vf_explained_var": 0.9222006797790527, "policy_loss": -0.00690772570669651, "vf_loss": 17.743173599243164, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5910079, "load_time_ms": 11.697}, "custom_metrics": {"system_level_velocity_max": 19.81484957265615, "outflow_rate_max": 1286.9329591281698, "system_level_velocity_mean": 13.835665066045012, "cost1_min": 18.153244930958127, "cost2_min": -1.1939458041654927, "cost1_mean": 351.03677243754, "cost2_mean": -0.054770240512450545, "outflow_rate_mean": 1063.437256463806, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 10.614378501522541, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 152, "done": false, "episodes_total": 2705, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266da0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 868.0512873432536, "episode_reward_min": 33.91174235711595, "timesteps_total": 5910079, "time_since_restore": 3887.708998441696, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37831, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188381, "time_this_iter_s": 25.225691080093384, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 152, "date": "2019-05-07_00-19-41", "episode_len_mean": 693.27}
{"timesteps_since_restore": 5948700, "policy_reward_mean": {}, "time_total_s": 3911.8414521217346, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 5948700, "sample_time_ms": 17294.91, "update_time_ms": 7.822, "grad_time_ms": 7986.914, "default": {"kl": 0.014738469384610653, "entropy": 1.2956490516662598, "cur_lr": 0.0005000000237487257, "total_loss": 17.102558135986328, "vf_explained_var": 0.8998011350631714, "policy_loss": -0.009099354036152363, "vf_loss": 17.108510971069336, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 5948700, "load_time_ms": 11.811}, "custom_metrics": {"system_level_velocity_max": 19.81484957265615, "outflow_rate_max": 1286.9329591281698, "system_level_velocity_mean": 13.819814031363657, "cost1_min": 18.153244930958127, "cost2_min": -1.1939458041654927, "cost1_mean": 350.51176076460405, "cost2_mean": -0.053087746859397565, "outflow_rate_mean": 1063.4572703497568, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 10.304001679975846, "cost1_max": 498.47338897465187, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 153, "done": false, "episodes_total": 2721, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84160>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84828>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 869.4561131101638, "episode_reward_min": 33.91174235711595, "timesteps_total": 5948700, "time_since_restore": 3911.8414521217346, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38621, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557188405, "time_this_iter_s": 24.132453680038452, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 153, "date": "2019-05-07_00-20-05", "episode_len_mean": 693.27}
{"timesteps_since_restore": 5986389, "policy_reward_mean": {}, "time_total_s": 3937.0742692947388, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 5986389, "sample_time_ms": 17269.217, "update_time_ms": 7.696, "grad_time_ms": 7963.458, "default": {"kl": 0.01651996187865734, "entropy": 1.2489194869995117, "cur_lr": 0.0005000000237487257, "total_loss": 16.115978240966797, "vf_explained_var": 0.9219595193862915, "policy_loss": -0.008959689177572727, "vf_loss": 16.121410369873047, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 5986389, "load_time_ms": 12.042}, "custom_metrics": {"system_level_velocity_max": 19.81484957265615, "outflow_rate_max": 1282.4448535318193, "system_level_velocity_mean": 13.571788216526794, "cost1_min": 18.153244930958127, "cost2_min": -1.1939458041654927, "cost1_mean": 343.8418566781248, "cost2_mean": -0.041411738725350734, "outflow_rate_mean": 1054.9621906836483, "outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 10.304001679975846, "cost1_max": 479.8747036623396, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 154, "done": false, "episodes_total": 2739, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247358>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 871.189601014034, "episode_reward_min": 33.91174235711595, "timesteps_total": 5986389, "time_since_restore": 3937.0742692947388, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37689, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188430, "time_this_iter_s": 25.23281717300415, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 154, "date": "2019-05-07_00-20-30", "episode_len_mean": 693.27}
{"timesteps_since_restore": 6024808, "policy_reward_mean": {}, "time_total_s": 3962.511641740799, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 6024808, "sample_time_ms": 17366.204, "update_time_ms": 7.746, "grad_time_ms": 7886.573, "default": {"kl": 0.016433751210570335, "entropy": 1.2680463790893555, "cur_lr": 0.0005000000237487257, "total_loss": 21.824541091918945, "vf_explained_var": 0.8850584030151367, "policy_loss": -0.008009076118469238, "vf_loss": 21.82904052734375, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6024808, "load_time_ms": 12.038}, "custom_metrics": {"system_level_velocity_max": 18.266714854107907, "outflow_rate_max": 1282.4448535318193, "system_level_velocity_mean": 13.416620178449556, "cost1_min": 262.32780249691814, "cost2_min": -0.7608455805333809, "cost1_mean": 344.6436736607367, "cost2_mean": -0.024018750205253535, "outflow_rate_mean": 1057.4110963385265, "outflow_rate_min": 917.8465222960268, "system_level_velocity_min": 10.304001679975846, "cost1_max": 479.8747036623396, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 155, "done": false, "episodes_total": 2758, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a9e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb38>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 873.729845306267, "episode_reward_min": 738.1516351249646, "timesteps_total": 6024808, "time_since_restore": 3962.511641740799, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38419, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188456, "time_this_iter_s": 25.43737244606018, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 155, "date": "2019-05-07_00-20-56", "episode_len_mean": 700.0}
{"timesteps_since_restore": 6062503, "policy_reward_mean": {}, "time_total_s": 3987.2963814735413, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 6062503, "sample_time_ms": 17468.075, "update_time_ms": 7.678, "grad_time_ms": 7733.422, "default": {"kl": 0.01763823628425598, "entropy": 1.250874638557434, "cur_lr": 0.0005000000237487257, "total_loss": 19.055837631225586, "vf_explained_var": 0.9166471362113953, "policy_loss": -0.007153789978474379, "vf_loss": 19.059221267700195, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6062503, "load_time_ms": 12.372}, "custom_metrics": {"system_level_velocity_max": 18.56963773504748, "outflow_rate_max": 1282.4448535318193, "system_level_velocity_mean": 13.273295588826722, "cost1_min": 262.32780249691814, "cost2_min": -0.7608455805333809, "cost1_mean": 340.85730346053975, "cost2_mean": -0.02324136437622538, "outflow_rate_mean": 1049.2155088309855, "outflow_rate_min": 917.8465222960268, "system_level_velocity_min": 10.304001679975846, "cost1_max": 479.8747036623396, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 156, "done": false, "episodes_total": 2777, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062662b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f4e0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 866.956386670557, "episode_reward_min": 738.1516351249646, "timesteps_total": 6062503, "time_since_restore": 3987.2963814735413, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37695, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188481, "time_this_iter_s": 24.78473973274231, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 156, "date": "2019-05-07_00-21-21", "episode_len_mean": 700.0}
{"timesteps_since_restore": 6099160, "policy_reward_mean": {}, "time_total_s": 4012.4897422790527, "episode_reward_max": 1037.2211551150986, "info": {"num_steps_sampled": 6099160, "sample_time_ms": 17444.933, "update_time_ms": 7.564, "grad_time_ms": 7709.504, "default": {"kl": 0.0189340952783823, "entropy": 1.2873542308807373, "cur_lr": 0.0005000000237487257, "total_loss": 20.89799690246582, "vf_explained_var": 0.9146608710289001, "policy_loss": -0.010976774618029594, "vf_loss": 20.90492820739746, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 6099160, "load_time_ms": 12.604}, "custom_metrics": {"system_level_velocity_max": 19.146829535174668, "outflow_rate_max": 1282.4448535318193, "system_level_velocity_mean": 13.402827488582401, "cost1_min": 101.5979855396587, "cost2_min": -0.7608455805333809, "cost1_mean": 336.44569059819855, "cost2_mean": -0.028873538187488102, "outflow_rate_mean": 1042.1390985037724, "outflow_rate_min": 658.2682763628059, "system_level_velocity_min": 10.304001679975846, "cost1_max": 479.8747036623396, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 157, "done": false, "episodes_total": 2797, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f841d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84ef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 856.2371245567176, "episode_reward_min": 186.67006243404293, "timesteps_total": 6099160, "time_since_restore": 4012.4897422790527, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 36657, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557188506, "time_this_iter_s": 25.193360805511475, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 157, "date": "2019-05-07_00-21-46", "episode_len_mean": 688.96}
{"timesteps_since_restore": 6137069, "policy_reward_mean": {}, "time_total_s": 4038.790683031082, "episode_reward_max": 1023.5043936464818, "info": {"num_steps_sampled": 6137069, "sample_time_ms": 17365.097, "update_time_ms": 7.328, "grad_time_ms": 7776.9, "default": {"kl": 0.017123645171523094, "entropy": 1.3015408515930176, "cur_lr": 0.0005000000237487257, "total_loss": 19.83295249938965, "vf_explained_var": 0.9031515121459961, "policy_loss": -0.009423885494470596, "vf_loss": 19.83871841430664, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6137069, "load_time_ms": 12.702}, "custom_metrics": {"system_level_velocity_max": 19.146829535174668, "outflow_rate_max": 1270.1977066413524, "system_level_velocity_mean": 13.647734033339356, "cost1_min": 101.5979855396587, "cost2_min": -0.7608455805333809, "cost1_mean": 342.51376172067216, "cost2_mean": -0.04113190586622067, "outflow_rate_mean": 1053.4956112594068, "outflow_rate_min": 658.2682763628059, "system_level_velocity_min": 10.721069949401235, "cost1_max": 479.46583546596804, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 158, "done": false, "episodes_total": 2816, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fa20>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f780>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 851.8944359534094, "episode_reward_min": 186.67006243404293, "timesteps_total": 6137069, "time_since_restore": 4038.790683031082, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37909, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188532, "time_this_iter_s": 26.30094075202942, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 158, "date": "2019-05-07_00-22-12", "episode_len_mean": 688.96}
{"timesteps_since_restore": 6174856, "policy_reward_mean": {}, "time_total_s": 4065.8218557834625, "episode_reward_max": 1025.6099950550688, "info": {"num_steps_sampled": 6174856, "sample_time_ms": 17566.44, "update_time_ms": 7.433, "grad_time_ms": 7748.428, "default": {"kl": 0.016233157366514206, "entropy": 1.2998181581497192, "cur_lr": 0.0005000000237487257, "total_loss": 19.26618194580078, "vf_explained_var": 0.9114617705345154, "policy_loss": -0.008615086786448956, "vf_loss": 19.271326065063477, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6174856, "load_time_ms": 12.588}, "custom_metrics": {"system_level_velocity_max": 19.683207889713522, "outflow_rate_max": 1270.1977066413524, "system_level_velocity_mean": 13.794871276593485, "cost1_min": 28.006643601106987, "cost2_min": -0.6782096339744093, "cost1_mean": 336.2287213880334, "cost2_mean": -0.036236314789903315, "outflow_rate_mean": 1038.322709846336, "outflow_rate_min": 455.2850290210211, "system_level_velocity_min": 10.264129707171781, "cost1_max": 479.46583546596804, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 159, "done": false, "episodes_total": 2836, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ad30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ac50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a5f8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 834.7687333329258, "episode_reward_min": 49.55415518205417, "timesteps_total": 6174856, "time_since_restore": 4065.8218557834625, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37787, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557188559, "time_this_iter_s": 27.03117275238037, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 159, "date": "2019-05-07_00-22-39", "episode_len_mean": 675.86}
{"timesteps_since_restore": 6213467, "policy_reward_mean": {}, "time_total_s": 4090.9145545959473, "episode_reward_max": 1025.6099950550688, "info": {"num_steps_sampled": 6213467, "sample_time_ms": 17622.745, "update_time_ms": 7.403, "grad_time_ms": 7759.903, "default": {"kl": 0.015506269410252571, "entropy": 1.3187158107757568, "cur_lr": 0.0005000000237487257, "total_loss": 16.63325309753418, "vf_explained_var": 0.9196718335151672, "policy_loss": -0.008525384590029716, "vf_loss": 16.638465881347656, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 6213467, "load_time_ms": 12.452}, "custom_metrics": {"system_level_velocity_max": 19.683207889713522, "outflow_rate_max": 1294.749569421859, "system_level_velocity_mean": 13.919626966288774, "cost1_min": 28.006643601106987, "cost2_min": -0.6782096339744093, "cost1_mean": 339.55314442949543, "cost2_mean": -0.03637500752601632, "outflow_rate_mean": 1043.4563627480152, "outflow_rate_min": 455.2850290210211, "system_level_velocity_min": 10.264129707171781, "cost1_max": 479.46583546596804, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 160, "done": false, "episodes_total": 2854, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623eba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062669b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.073838468182, "episode_reward_min": 49.55415518205417, "timesteps_total": 6213467, "time_since_restore": 4090.9145545959473, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38611, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188584, "time_this_iter_s": 25.09269881248474, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 160, "date": "2019-05-07_00-23-04", "episode_len_mean": 675.86}
{"timesteps_since_restore": 6251030, "policy_reward_mean": {}, "time_total_s": 4115.475024223328, "episode_reward_max": 1025.6099950550688, "info": {"num_steps_sampled": 6251030, "sample_time_ms": 17523.543, "update_time_ms": 7.36, "grad_time_ms": 7673.212, "default": {"kl": 0.017252778634428978, "entropy": 1.3416277170181274, "cur_lr": 0.0005000000237487257, "total_loss": 17.878015518188477, "vf_explained_var": 0.9125362038612366, "policy_loss": -0.00957985408604145, "vf_loss": 17.883913040161133, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6251030, "load_time_ms": 12.772}, "custom_metrics": {"system_level_velocity_max": 19.683207889713522, "outflow_rate_max": 1294.749569421859, "system_level_velocity_mean": 13.833700547999205, "cost1_min": 28.006643601106987, "cost2_min": -0.6782096339744093, "cost1_mean": 337.11567866296355, "cost2_mean": -0.045470723760544, "outflow_rate_mean": 1038.177265362342, "outflow_rate_min": 455.2850290210211, "system_level_velocity_min": 10.247150791868982, "cost1_max": 491.1905939915735, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 161, "done": false, "episodes_total": 2872, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84ef0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 832.2600932034023, "episode_reward_min": 49.55415518205417, "timesteps_total": 6251030, "time_since_restore": 4115.475024223328, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37563, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188609, "time_this_iter_s": 24.56046962738037, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 161, "date": "2019-05-07_00-23-29", "episode_len_mean": 675.86}
{"timesteps_since_restore": 6289631, "policy_reward_mean": {}, "time_total_s": 4141.017755508423, "episode_reward_max": 1025.6099950550688, "info": {"num_steps_sampled": 6289631, "sample_time_ms": 17547.52, "update_time_ms": 7.125, "grad_time_ms": 7680.973, "default": {"kl": 0.015661006793379784, "entropy": 1.3804396390914917, "cur_lr": 0.0005000000237487257, "total_loss": 14.340604782104492, "vf_explained_var": 0.9111763834953308, "policy_loss": -0.00860715750604868, "vf_loss": 14.345869064331055, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 6289631, "load_time_ms": 12.672}, "custom_metrics": {"system_level_velocity_max": 19.683207889713522, "outflow_rate_max": 1294.749569421859, "system_level_velocity_mean": 13.816438500224343, "cost1_min": 28.006643601106987, "cost2_min": -0.6782096339744093, "cost1_mean": 340.64711991493846, "cost2_mean": -0.04514923392413874, "outflow_rate_mean": 1044.2417126403375, "outflow_rate_min": 455.2850290210211, "system_level_velocity_min": 10.247150791868982, "cost1_max": 491.1905939915735, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 162, "done": false, "episodes_total": 2888, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ffd0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe48>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.4036626310258, "episode_reward_min": 49.55415518205417, "timesteps_total": 6289631, "time_since_restore": 4141.017755508423, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38601, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557188635, "time_this_iter_s": 25.542731285095215, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 162, "date": "2019-05-07_00-23-55", "episode_len_mean": 681.34}
{"timesteps_since_restore": 6327728, "policy_reward_mean": {}, "time_total_s": 4166.979308605194, "episode_reward_max": 1025.6099950550688, "info": {"num_steps_sampled": 6327728, "sample_time_ms": 17691.556, "update_time_ms": 7.176, "grad_time_ms": 7719.066, "default": {"kl": 0.016448481008410454, "entropy": 1.380836009979248, "cur_lr": 0.0005000000237487257, "total_loss": 23.14653205871582, "vf_explained_var": 0.8789848685264587, "policy_loss": -0.008885008282959461, "vf_loss": 23.15190315246582, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6327728, "load_time_ms": 12.532}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1294.749569421859, "system_level_velocity_mean": 13.697535074630453, "cost1_min": 18.861026765542167, "cost2_min": -0.6782096339744093, "cost1_mean": 327.41216054528905, "cost2_mean": -0.033013407896950925, "outflow_rate_mean": 1019.343942113598, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.247150791868982, "cost1_max": 491.1905939915735, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 163, "done": false, "episodes_total": 2909, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625add8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aef0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 823.4635523413396, "episode_reward_min": 35.387426327842945, "timesteps_total": 6327728, "time_since_restore": 4166.979308605194, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38097, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557188661, "time_this_iter_s": 25.96155309677124, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 163, "date": "2019-05-07_00-24-21", "episode_len_mean": 667.13}
{"timesteps_since_restore": 6366059, "policy_reward_mean": {}, "time_total_s": 4192.806492090225, "episode_reward_max": 992.7328037504788, "info": {"num_steps_sampled": 6366059, "sample_time_ms": 17781.38, "update_time_ms": 7.261, "grad_time_ms": 7689.082, "default": {"kl": 0.01751730963587761, "entropy": 1.3693021535873413, "cur_lr": 0.0005000000237487257, "total_loss": 16.422801971435547, "vf_explained_var": 0.9285597801208496, "policy_loss": -0.010572030209004879, "vf_loss": 16.42963218688965, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6366059, "load_time_ms": 12.436}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1299.445295532349, "system_level_velocity_mean": 13.513295219058204, "cost1_min": 18.861026765542167, "cost2_min": -0.5, "cost1_mean": 332.35291406365695, "cost2_mean": -0.0309169541030032, "outflow_rate_mean": 1028.5339940516005, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.247150791868982, "cost1_max": 491.1905939915735, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 164, "done": false, "episodes_total": 2929, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266d30>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266e48>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.2000526875659, "episode_reward_min": 35.387426327842945, "timesteps_total": 6366059, "time_since_restore": 4192.806492090225, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38331, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557188686, "time_this_iter_s": 25.827183485031128, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 164, "date": "2019-05-07_00-24-46", "episode_len_mean": 680.23}
{"timesteps_since_restore": 6403890, "policy_reward_mean": {}, "time_total_s": 4218.488978385925, "episode_reward_max": 1027.4042589187754, "info": {"num_steps_sampled": 6403890, "sample_time_ms": 17731.777, "update_time_ms": 7.402, "grad_time_ms": 7762.882, "default": {"kl": 0.016243869438767433, "entropy": 1.3967549800872803, "cur_lr": 0.0005000000237487257, "total_loss": 16.496877670288086, "vf_explained_var": 0.9138591289520264, "policy_loss": -0.010658088140189648, "vf_loss": 16.50406837463379, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6403890, "load_time_ms": 13.229}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1299.445295532349, "system_level_velocity_mean": 13.588746830575026, "cost1_min": 18.861026765542167, "cost2_min": -0.7107789911763862, "cost1_mean": 334.54817017041734, "cost2_mean": -0.03999144489070454, "outflow_rate_mean": 1032.5669888702957, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.247150791868982, "cost1_max": 491.1905939915735, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 165, "done": false, "episodes_total": 2947, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84438>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.5691260164617, "episode_reward_min": 35.387426327842945, "timesteps_total": 6403890, "time_since_restore": 4218.488978385925, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37831, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188712, "time_this_iter_s": 25.682486295700073, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 165, "date": "2019-05-07_00-25-12", "episode_len_mean": 680.23}
{"timesteps_since_restore": 6440815, "policy_reward_mean": {}, "time_total_s": 4244.000725030899, "episode_reward_max": 1027.4042589187754, "info": {"num_steps_sampled": 6440815, "sample_time_ms": 17731.822, "update_time_ms": 7.397, "grad_time_ms": 7835.542, "default": {"kl": 0.01686929538846016, "entropy": 1.4421781301498413, "cur_lr": 0.0005000000237487257, "total_loss": 19.093202590942383, "vf_explained_var": 0.9061681032180786, "policy_loss": -0.010180183686316013, "vf_loss": 19.09977912902832, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6440815, "load_time_ms": 13.119}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1299.445295532349, "system_level_velocity_mean": 13.520934456825241, "cost1_min": 18.861026765542167, "cost2_min": -0.7516701864929695, "cost1_mean": 328.8954060931021, "cost2_mean": -0.037232168174698016, "outflow_rate_mean": 1023.8355954463735, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.660444844787456, "cost1_max": 487.0300109543847, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 166, "done": false, "episodes_total": 2966, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb38>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f7b8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 834.4528647362237, "episode_reward_min": 35.387426327842945, "timesteps_total": 6440815, "time_since_restore": 4244.000725030899, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 36925, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188738, "time_this_iter_s": 25.511746644973755, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 166, "date": "2019-05-07_00-25-38", "episode_len_mean": 674.74}
{"timesteps_since_restore": 6478370, "policy_reward_mean": {}, "time_total_s": 4270.761159658432, "episode_reward_max": 1027.4042589187754, "info": {"num_steps_sampled": 6478370, "sample_time_ms": 17792.377, "update_time_ms": 7.334, "grad_time_ms": 7933.214, "default": {"kl": 0.015797728672623634, "entropy": 1.4322543144226074, "cur_lr": 0.0005000000237487257, "total_loss": 18.83606719970703, "vf_explained_var": 0.9176992177963257, "policy_loss": -0.010334540158510208, "vf_loss": 18.843029022216797, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6478370, "load_time_ms": 13.005}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1299.445295532349, "system_level_velocity_mean": 13.601474473207954, "cost1_min": 18.861026765542167, "cost2_min": -0.7516701864929695, "cost1_mean": 331.35286965434256, "cost2_mean": -0.04752972571404464, "outflow_rate_mean": 1028.0072541624106, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.843611970478145, "cost1_max": 487.0300109543847, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 167, "done": false, "episodes_total": 2985, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aeb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ad30>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 832.912462449279, "episode_reward_min": 35.387426327842945, "timesteps_total": 6478370, "time_since_restore": 4270.761159658432, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37555, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188764, "time_this_iter_s": 26.76043462753296, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 167, "date": "2019-05-07_00-26-04", "episode_len_mean": 674.74}
{"timesteps_since_restore": 6516322, "policy_reward_mean": {}, "time_total_s": 4296.246677398682, "episode_reward_max": 1027.4042589187754, "info": {"num_steps_sampled": 6516322, "sample_time_ms": 17802.174, "update_time_ms": 7.269, "grad_time_ms": 7843.319, "default": {"kl": 0.0167369581758976, "entropy": 1.4544013738632202, "cur_lr": 0.0005000000237487257, "total_loss": 16.796091079711914, "vf_explained_var": 0.9320551156997681, "policy_loss": -0.008888543583452702, "vf_loss": 16.80140495300293, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6516322, "load_time_ms": 12.86}, "custom_metrics": {"system_level_velocity_max": 19.70233801530545, "outflow_rate_max": 1306.0153503925537, "system_level_velocity_mean": 13.560766867205425, "cost1_min": 18.861026765542167, "cost2_min": -0.7516701864929695, "cost1_mean": 339.6272254498488, "cost2_mean": -0.05541384636390305, "outflow_rate_mean": 1041.051815508322, "outflow_rate_min": 436.5771272776546, "system_level_velocity_min": 10.435458310085249, "cost1_max": 491.28118846743115, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 168, "done": false, "episodes_total": 3003, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266198>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 847.3212607104433, "episode_reward_min": 35.387426327842945, "timesteps_total": 6516322, "time_since_restore": 4296.246677398682, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37952, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188790, "time_this_iter_s": 25.485517740249634, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 168, "date": "2019-05-07_00-26-30", "episode_len_mean": 687.79}
{"timesteps_since_restore": 6554611, "policy_reward_mean": {}, "time_total_s": 4321.283445119858, "episode_reward_max": 1099.1478741766025, "info": {"num_steps_sampled": 6554611, "sample_time_ms": 17620.142, "update_time_ms": 7.127, "grad_time_ms": 7826.06, "default": {"kl": 0.016670653596520424, "entropy": 1.4604796171188354, "cur_lr": 0.0005000000237487257, "total_loss": 14.279379844665527, "vf_explained_var": 0.9254602789878845, "policy_loss": -0.009774656035006046, "vf_loss": 14.28559398651123, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6554611, "load_time_ms": 13.11}, "custom_metrics": {"system_level_velocity_max": 19.17180048107116, "outflow_rate_max": 1319.6576887054057, "system_level_velocity_mean": 13.617503272352101, "cost1_min": 106.34784097332434, "cost2_min": -0.7516701864929695, "cost1_mean": 346.2456568149194, "cost2_mean": -0.06625786132671117, "outflow_rate_mean": 1055.8832462850207, "outflow_rate_min": 679.2985515826962, "system_level_velocity_min": 10.435458310085249, "cost1_max": 495.0219030458064, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 169, "done": false, "episodes_total": 3018, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8ca90>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c9b0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 858.7596047903079, "episode_reward_min": 178.91569298032195, "timesteps_total": 6554611, "time_since_restore": 4321.283445119858, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38289, "pid": 25263, "episodes_this_iter": 15, "timestamp": 1557188815, "time_this_iter_s": 25.036767721176147, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 169, "date": "2019-05-07_00-26-55", "episode_len_mean": 694.51}
{"timesteps_since_restore": 6593337, "policy_reward_mean": {}, "time_total_s": 4346.989444255829, "episode_reward_max": 1099.1478741766025, "info": {"num_steps_sampled": 6593337, "sample_time_ms": 17581.325, "update_time_ms": 7.041, "grad_time_ms": 7924.836, "default": {"kl": 0.015891574323177338, "entropy": 1.4778589010238647, "cur_lr": 0.0005000000237487257, "total_loss": 15.977959632873535, "vf_explained_var": 0.9213024377822876, "policy_loss": -0.00978931039571762, "vf_loss": 15.984355926513672, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6593337, "load_time_ms": 13.104}, "custom_metrics": {"system_level_velocity_max": 19.17180048107116, "outflow_rate_max": 1319.6576887054057, "system_level_velocity_mean": 13.387241641582442, "cost1_min": 106.34784097332434, "cost2_min": -0.7516701864929695, "cost1_mean": 340.0532404967019, "cost2_mean": -0.06256942908196202, "outflow_rate_mean": 1044.206293685399, "outflow_rate_min": 679.2985515826962, "system_level_velocity_min": 10.435458310085249, "cost1_max": 495.0219030458064, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 170, "done": false, "episodes_total": 3036, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8ccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c240>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8cbe0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 853.1653288983865, "episode_reward_min": 178.91569298032195, "timesteps_total": 6593337, "time_since_restore": 4346.989444255829, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38726, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188841, "time_this_iter_s": 25.70599913597107, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 170, "date": "2019-05-07_00-27-21", "episode_len_mean": 694.51}
{"timesteps_since_restore": 6632345, "policy_reward_mean": {}, "time_total_s": 4374.114141225815, "episode_reward_max": 1099.1478741766025, "info": {"num_steps_sampled": 6632345, "sample_time_ms": 17660.677, "update_time_ms": 7.291, "grad_time_ms": 8101.775, "default": {"kl": 0.014558418653905392, "entropy": 1.488272786140442, "cur_lr": 0.0005000000237487257, "total_loss": 19.953454971313477, "vf_explained_var": 0.9084337949752808, "policy_loss": -0.010411067865788937, "vf_loss": 19.960758209228516, "cur_kl_coeff": 0.21357421576976776}, "num_steps_trained": 6632345, "load_time_ms": 13.046}, "custom_metrics": {"system_level_velocity_max": 19.573160547025292, "outflow_rate_max": 1319.6576887054057, "system_level_velocity_mean": 13.41733388424965, "cost1_min": 27.584739096909058, "cost2_min": -0.75, "cost1_mean": 335.5296727663993, "cost2_mean": -0.07354933967021259, "outflow_rate_mean": 1035.75645342579, "outflow_rate_min": 458.86191195332356, "system_level_velocity_min": 9.957746231516017, "cost1_max": 495.0219030458064, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 171, "done": false, "episodes_total": 3057, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aeb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a470>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a320>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 842.0752199432472, "episode_reward_min": 46.83123813453963, "timesteps_total": 6632345, "time_since_restore": 4374.114141225815, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 39008, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557188868, "time_this_iter_s": 27.124696969985962, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 171, "date": "2019-05-07_00-27-48", "episode_len_mean": 687.04}
{"timesteps_since_restore": 6670634, "policy_reward_mean": {}, "time_total_s": 4399.690100193024, "episode_reward_max": 1099.1478741766025, "info": {"num_steps_sampled": 6670634, "sample_time_ms": 17559.534, "update_time_ms": 7.305, "grad_time_ms": 8206.421, "default": {"kl": 0.016040664166212082, "entropy": 1.4913650751113892, "cur_lr": 0.0005000000237487257, "total_loss": 16.32198143005371, "vf_explained_var": 0.9286878705024719, "policy_loss": -0.00894892681390047, "vf_loss": 16.327505111694336, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6670634, "load_time_ms": 13.199}, "custom_metrics": {"cost1_mean": 332.04170837254964, "outflow_rate_max": 1319.6576887054057, "system_level_velocity_mean": 13.293376220901711, "cost1_min": 27.584739096909058, "cost1_max": 495.0219030458064, "outflow_rate_min": 458.86191195332356, "cost2_mean": -0.06868959286234091, "outflow_rate_mean": 1026.217116920493, "system_level_velocity_min": 9.526677898951641, "cost2_min": -0.75, "system_level_velocity_max": 19.573160547025292, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 172, "done": false, "episodes_total": 3075, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062667b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062668d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266198>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 838.3626514108347, "episode_reward_min": 46.83123813453963, "timesteps_total": 6670634, "time_since_restore": 4399.690100193024, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38289, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188893, "time_this_iter_s": 25.575958967208862, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 172, "date": "2019-05-07_00-28-13", "episode_len_mean": 687.04}
{"timesteps_since_restore": 6708337, "policy_reward_mean": {}, "time_total_s": 4425.031047582626, "episode_reward_max": 1099.1478741766025, "info": {"num_steps_sampled": 6708337, "sample_time_ms": 17381.338, "update_time_ms": 7.162, "grad_time_ms": 8322.637, "default": {"kl": 0.015894610434770584, "entropy": 1.4959226846694946, "cur_lr": 0.0005000000237487257, "total_loss": 17.597951889038086, "vf_explained_var": 0.9156239628791809, "policy_loss": -0.00990113615989685, "vf_loss": 17.604459762573242, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6708337, "load_time_ms": 13.273}, "custom_metrics": {"system_level_velocity_max": 19.573160547025292, "outflow_rate_max": 1319.6576887054057, "system_level_velocity_mean": 13.353886888769491, "cost1_min": 27.584739096909058, "cost2_min": -0.75, "cost1_mean": 329.02664013980973, "cost2_mean": -0.07080569298733841, "outflow_rate_mean": 1019.949293642151, "outflow_rate_min": 458.86191195332356, "system_level_velocity_min": 9.526677898951641, "cost1_max": 495.0219030458064, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 173, "done": false, "episodes_total": 3093, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8cdd8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c240>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 827.0892582472193, "episode_reward_min": 46.83123813453963, "timesteps_total": 6708337, "time_since_restore": 4425.031047582626, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37703, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557188919, "time_this_iter_s": 25.34094738960266, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 173, "date": "2019-05-07_00-28-39", "episode_len_mean": 680.71}
{"timesteps_since_restore": 6746007, "policy_reward_mean": {}, "time_total_s": 4451.353196144104, "episode_reward_max": 1020.5896077401459, "info": {"num_steps_sampled": 6746007, "sample_time_ms": 17295.698, "update_time_ms": 6.929, "grad_time_ms": 8458.409, "default": {"kl": 0.018264560028910637, "entropy": 1.477874994277954, "cur_lr": 0.0005000000237487257, "total_loss": 20.103548049926758, "vf_explained_var": 0.9080260396003723, "policy_loss": -0.007873231545090675, "vf_loss": 20.107521057128906, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6746007, "load_time_ms": 12.951}, "custom_metrics": {"system_level_velocity_max": 19.573160547025292, "outflow_rate_max": 1296.0051044359566, "system_level_velocity_mean": 13.356768326839767, "cost1_min": 27.584739096909058, "cost2_min": -1.6747967996199447, "cost1_mean": 324.7230479242096, "cost2_mean": -0.07634139745247932, "outflow_rate_mean": 1010.5276964687363, "outflow_rate_min": 458.24713505864514, "system_level_velocity_min": 9.526677898951641, "cost1_max": 489.0179323443666, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 174, "done": false, "episodes_total": 3114, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ac50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aeb8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 818.7377990334373, "episode_reward_min": 46.83123813453963, "timesteps_total": 6746007, "time_since_restore": 4451.353196144104, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37670, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557188945, "time_this_iter_s": 26.32214856147766, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 174, "date": "2019-05-07_00-29-05", "episode_len_mean": 674.14}
{"timesteps_since_restore": 6783537, "policy_reward_mean": {}, "time_total_s": 4475.023328542709, "episode_reward_max": 1020.5896077401459, "info": {"num_steps_sampled": 6783537, "sample_time_ms": 16994.251, "update_time_ms": 6.9, "grad_time_ms": 8559.828, "default": {"kl": 0.01638779230415821, "entropy": 1.5151238441467285, "cur_lr": 0.0005000000237487257, "total_loss": 17.637666702270508, "vf_explained_var": 0.9059628248214722, "policy_loss": -0.009858277626335621, "vf_loss": 17.644025802612305, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6783537, "load_time_ms": 12.276}, "custom_metrics": {"system_level_velocity_max": 19.573160547025292, "outflow_rate_max": 1296.0051044359566, "system_level_velocity_mean": 13.413933513560448, "cost1_min": 27.584739096909058, "cost2_min": -1.6747967996199447, "cost1_mean": 317.56268305516284, "cost2_mean": -0.05966897191956985, "outflow_rate_mean": 996.9624823616053, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 9.526677898951641, "cost1_max": 489.0179323443666, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 175, "done": false, "episodes_total": 3133, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c748>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8c550>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 802.0559014240255, "episode_reward_min": 46.83123813453963, "timesteps_total": 6783537, "time_since_restore": 4475.023328542709, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37530, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557188969, "time_this_iter_s": 23.670132398605347, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 175, "date": "2019-05-07_00-29-29", "episode_len_mean": 662.14}
{"timesteps_since_restore": 6821399, "policy_reward_mean": {}, "time_total_s": 4500.2373831272125, "episode_reward_max": 1020.5896077401459, "info": {"num_steps_sampled": 6821399, "sample_time_ms": 16854.639, "update_time_ms": 6.949, "grad_time_ms": 8670.266, "default": {"kl": 0.01521605160087347, "entropy": 1.469979166984558, "cur_lr": 0.0005000000237487257, "total_loss": 16.219520568847656, "vf_explained_var": 0.9267451763153076, "policy_loss": -0.00856695231050253, "vf_loss": 16.224836349487305, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6821399, "load_time_ms": 12.234}, "custom_metrics": {"system_level_velocity_max": 19.573160547025292, "outflow_rate_max": 1296.0051044359566, "system_level_velocity_mean": 13.498258950518299, "cost1_min": 27.584739096909058, "cost2_min": -1.6747967996199447, "cost1_mean": 324.3120540298189, "cost2_mean": -0.056407733784205626, "outflow_rate_mean": 1009.3288531161737, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 9.526677898951641, "cost1_max": 489.0179323443666, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 176, "done": false, "episodes_total": 3150, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f8cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266b00>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 816.7631315622108, "episode_reward_min": 46.83123813453963, "timesteps_total": 6821399, "time_since_restore": 4500.2373831272125, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37862, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557188994, "time_this_iter_s": 25.214054584503174, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 176, "date": "2019-05-07_00-29-54", "episode_len_mean": 668.5}
{"timesteps_since_restore": 6859776, "policy_reward_mean": {}, "time_total_s": 4525.75541973114, "episode_reward_max": 1003.7460536640089, "info": {"num_steps_sampled": 6859776, "sample_time_ms": 16652.149, "update_time_ms": 6.957, "grad_time_ms": 8748.242, "default": {"kl": 0.017431797459721565, "entropy": 1.476529598236084, "cur_lr": 0.0005000000237487257, "total_loss": 15.36820125579834, "vf_explained_var": 0.924264132976532, "policy_loss": -0.009085685946047306, "vf_loss": 15.373562812805176, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6859776, "load_time_ms": 12.311}, "custom_metrics": {"system_level_velocity_max": 19.55295151913011, "outflow_rate_max": 1296.0051044359566, "system_level_velocity_mean": 13.360654893136246, "cost1_min": 29.622900510192675, "cost2_min": -1.6747967996199447, "cost1_mean": 325.49234331418427, "cost2_mean": -0.04522897442314689, "outflow_rate_mean": 1012.2622339912544, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 9.526677898951641, "cost1_max": 482.2922823906381, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 177, "done": false, "episodes_total": 3167, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f845c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f849e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84a90>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 819.6796006535885, "episode_reward_min": 52.40306290812074, "timesteps_total": 6859776, "time_since_restore": 4525.75541973114, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38377, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557189020, "time_this_iter_s": 25.518036603927612, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 177, "date": "2019-05-07_00-30-20", "episode_len_mean": 675.1}
{"timesteps_since_restore": 6897600, "policy_reward_mean": {}, "time_total_s": 4551.728986740112, "episode_reward_max": 1018.514387613789, "info": {"num_steps_sampled": 6897600, "sample_time_ms": 16528.595, "update_time_ms": 7.016, "grad_time_ms": 8920.783, "default": {"kl": 0.01696982979774475, "entropy": 1.4345299005508423, "cur_lr": 0.0005000000237487257, "total_loss": 18.472013473510742, "vf_explained_var": 0.924954354763031, "policy_loss": -0.008507144637405872, "vf_loss": 18.476896286010742, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6897600, "load_time_ms": 12.291}, "custom_metrics": {"system_level_velocity_max": 19.55295151913011, "outflow_rate_max": 1257.2954907527376, "system_level_velocity_mean": 13.454744016582392, "cost1_min": 29.622900510192675, "cost2_min": -1.6747967996199447, "cost1_mean": 328.119682181657, "cost2_mean": -0.053249317321072825, "outflow_rate_mean": 1019.4065056023946, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 10.356616445559071, "cost1_max": 470.2223478595286, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 178, "done": false, "episodes_total": 3185, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ef60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e6d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540623ecc0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 828.430357559876, "episode_reward_min": 52.40306290812074, "timesteps_total": 6897600, "time_since_restore": 4551.728986740112, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37824, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557189046, "time_this_iter_s": 25.973567008972168, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 178, "date": "2019-05-07_00-30-46", "episode_len_mean": 675.1}
{"timesteps_since_restore": 6935581, "policy_reward_mean": {}, "time_total_s": 4577.386728048325, "episode_reward_max": 1018.514387613789, "info": {"num_steps_sampled": 6935581, "sample_time_ms": 16350.282, "update_time_ms": 7.202, "grad_time_ms": 9157.246, "default": {"kl": 0.018138518556952477, "entropy": 1.4760764837265015, "cur_lr": 0.0005000000237487257, "total_loss": 21.183012008666992, "vf_explained_var": 0.9091365933418274, "policy_loss": -0.008686445653438568, "vf_loss": 21.187824249267578, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 6935581, "load_time_ms": 12.286}, "custom_metrics": {"system_level_velocity_max": 19.54180601560298, "outflow_rate_max": 1257.2954907527376, "system_level_velocity_mean": 13.437390547638802, "cost1_min": 30.332927354247005, "cost2_min": -2.0950900762416245, "cost1_mean": 331.80738738861777, "cost2_mean": -0.061503480524997566, "outflow_rate_mean": 1026.6263790072237, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 10.356616445559071, "cost1_max": 475.17164579440293, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 179, "done": false, "episodes_total": 3206, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f4a8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f358>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.4131980738442, "episode_reward_min": 52.40306290812074, "timesteps_total": 6935581, "time_since_restore": 4577.386728048325, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37981, "pid": 25263, "episodes_this_iter": 21, "timestamp": 1557189071, "time_this_iter_s": 25.65774130821228, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 179, "date": "2019-05-07_00-31-11", "episode_len_mean": 681.45}
{"timesteps_since_restore": 6973287, "policy_reward_mean": {}, "time_total_s": 4603.286057710648, "episode_reward_max": 1074.1333056753433, "info": {"num_steps_sampled": 6973287, "sample_time_ms": 16262.292, "update_time_ms": 7.288, "grad_time_ms": 9264.1, "default": {"kl": 0.016081087291240692, "entropy": 1.4703744649887085, "cur_lr": 0.0005000000237487257, "total_loss": 19.095966339111328, "vf_explained_var": 0.9184148907661438, "policy_loss": -0.008552376180887222, "vf_loss": 19.101085662841797, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 6973287, "load_time_ms": 12.373}, "custom_metrics": {"system_level_velocity_max": 19.46100017324174, "outflow_rate_max": 1327.236353707693, "system_level_velocity_mean": 13.590514862191618, "cost1_min": 30.332927354247005, "cost2_min": -2.0950900762416245, "cost1_mean": 331.8263990573536, "cost2_mean": -0.0800667267342527, "outflow_rate_mean": 1027.8529134230562, "outflow_rate_min": 447.8740255901334, "system_level_velocity_min": 10.356616445559071, "cost1_max": 488.32022164939417, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 180, "done": false, "episodes_total": 3226, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266748>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84b70>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.7695058345245, "episode_reward_min": 52.40306290812074, "timesteps_total": 6973287, "time_since_restore": 4603.286057710648, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37706, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557189097, "time_this_iter_s": 25.899329662322998, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 180, "date": "2019-05-07_00-31-37", "episode_len_mean": 676.17}
{"timesteps_since_restore": 7011688, "policy_reward_mean": {}, "time_total_s": 4629.315764665604, "episode_reward_max": 1074.1333056753433, "info": {"num_steps_sampled": 7011688, "sample_time_ms": 16080.932, "update_time_ms": 7.379, "grad_time_ms": 9336.56, "default": {"kl": 0.01696471869945526, "entropy": 1.497839331626892, "cur_lr": 0.0005000000237487257, "total_loss": 14.583587646484375, "vf_explained_var": 0.9157041311264038, "policy_loss": -0.00960173737257719, "vf_loss": 14.589563369750977, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7011688, "load_time_ms": 12.139}, "custom_metrics": {"system_level_velocity_max": 19.46100017324174, "outflow_rate_max": 1327.236353707693, "system_level_velocity_mean": 13.404054099818227, "cost1_min": 30.64401588995952, "cost2_min": -2.0950900762416245, "cost1_mean": 331.6028616334692, "cost2_mean": -0.07929486977782706, "outflow_rate_mean": 1028.019839950936, "outflow_rate_min": 462.16078645618586, "system_level_velocity_min": 10.356616445559071, "cost1_max": 488.32022164939417, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 181, "done": false, "episodes_total": 3244, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f848d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84c50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 839.5586854403875, "episode_reward_min": 55.828706741744476, "timesteps_total": 7011688, "time_since_restore": 4629.315764665604, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38401, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557189123, "time_this_iter_s": 26.029706954956055, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 181, "date": "2019-05-07_00-32-03", "episode_len_mean": 682.73}
{"timesteps_since_restore": 7049167, "policy_reward_mean": {}, "time_total_s": 4652.741904735565, "episode_reward_max": 1074.1333056753433, "info": {"num_steps_sampled": 7049167, "sample_time_ms": 15734.123, "update_time_ms": 7.321, "grad_time_ms": 9469.264, "default": {"kl": 0.017144689336419106, "entropy": 1.4893372058868408, "cur_lr": 0.0005000000237487257, "total_loss": 14.277239799499512, "vf_explained_var": 0.9322316646575928, "policy_loss": -0.00893588550388813, "vf_loss": 14.282514572143555, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7049167, "load_time_ms": 12.111}, "custom_metrics": {"cost1_mean": 330.704674555041, "outflow_rate_max": 1327.236353707693, "system_level_velocity_mean": 13.36769624522908, "cost1_min": 30.64401588995952, "cost1_max": 488.32022164939417, "outflow_rate_min": 462.16078645618586, "cost2_mean": -0.09492494923263799, "outflow_rate_mean": 1025.888254256259, "system_level_velocity_min": 10.356616445559071, "cost2_min": -2.0950900762416245, "system_level_velocity_max": 19.46100017324174, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 182, "done": false, "episodes_total": 3257, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fe80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233ba8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 838.8765448057261, "episode_reward_min": 55.828706741744476, "timesteps_total": 7049167, "time_since_restore": 4652.741904735565, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37479, "pid": 25263, "episodes_this_iter": 13, "timestamp": 1557189147, "time_this_iter_s": 23.426140069961548, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 182, "date": "2019-05-07_00-32-27", "episode_len_mean": 682.73}
{"timesteps_since_restore": 7086647, "policy_reward_mean": {}, "time_total_s": 4680.096139192581, "episode_reward_max": 1074.1333056753433, "info": {"num_steps_sampled": 7086647, "sample_time_ms": 15846.876, "update_time_ms": 7.589, "grad_time_ms": 9557.075, "default": {"kl": 0.017145851626992226, "entropy": 1.4838123321533203, "cur_lr": 0.0005000000237487257, "total_loss": 24.254667282104492, "vf_explained_var": 0.9010448455810547, "policy_loss": -0.00832720659673214, "vf_loss": 24.25933265686035, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7086647, "load_time_ms": 11.836}, "custom_metrics": {"system_level_velocity_max": 19.46100017324174, "outflow_rate_max": 1327.236353707693, "system_level_velocity_mean": 13.515538748682008, "cost1_min": 20.44031317511445, "cost2_min": -2.0950900762416245, "cost1_mean": 325.4067482269829, "cost2_mean": -0.07735618907618833, "outflow_rate_mean": 1015.3556046056051, "outflow_rate_min": 425.1392447031289, "system_level_velocity_min": 10.356616445559071, "cost1_max": 488.32022164939417, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 183, "done": false, "episodes_total": 3279, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540623e160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625feb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f080>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 826.0545099971038, "episode_reward_min": 38.56539546485354, "timesteps_total": 7086647, "time_since_restore": 4680.096139192581, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37480, "pid": 25263, "episodes_this_iter": 22, "timestamp": 1557189174, "time_this_iter_s": 27.35423445701599, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 183, "date": "2019-05-07_00-32-54", "episode_len_mean": 669.41}
{"timesteps_since_restore": 7125139, "policy_reward_mean": {}, "time_total_s": 4706.440850973129, "episode_reward_max": 1074.1333056753433, "info": {"num_steps_sampled": 7125139, "sample_time_ms": 15719.645, "update_time_ms": 7.69, "grad_time_ms": 9684.756, "default": {"kl": 0.018701938912272453, "entropy": 1.4692069292068481, "cur_lr": 0.0005000000237487257, "total_loss": 18.396038055419922, "vf_explained_var": 0.930978000164032, "policy_loss": -0.00946892611682415, "vf_loss": 18.40151023864746, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7125139, "load_time_ms": 12.172}, "custom_metrics": {"system_level_velocity_max": 19.43722569831963, "outflow_rate_max": 1327.236353707693, "system_level_velocity_mean": 13.462337547339882, "cost1_min": 20.44031317511445, "cost2_min": -2.0950900762416245, "cost1_mean": 329.0168867623168, "cost2_mean": -0.07476854541180028, "outflow_rate_mean": 1021.5567102449239, "outflow_rate_min": 425.1392447031289, "system_level_velocity_min": 10.506046743648712, "cost1_max": 488.32022164939417, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 184, "done": false, "episodes_total": 3299, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062668d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266e80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266b38>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 836.8201174427688, "episode_reward_min": 38.56539546485354, "timesteps_total": 7125139, "time_since_restore": 4706.440850973129, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38492, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557189201, "time_this_iter_s": 26.344711780548096, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 184, "date": "2019-05-07_00-33-21", "episode_len_mean": 675.96}
{"timesteps_since_restore": 7162919, "policy_reward_mean": {}, "time_total_s": 4733.389850139618, "episode_reward_max": 1057.9160238726256, "info": {"num_steps_sampled": 7162919, "sample_time_ms": 15991.296, "update_time_ms": 7.755, "grad_time_ms": 9740.366, "default": {"kl": 0.018376121297478676, "entropy": 1.4834916591644287, "cur_lr": 0.0005000000237487257, "total_loss": 16.965234756469727, "vf_explained_var": 0.931143045425415, "policy_loss": -0.009967716410756111, "vf_loss": 16.97127914428711, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7162919, "load_time_ms": 12.116}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1252.874217944181, "system_level_velocity_mean": 13.490278912955345, "cost1_min": 20.44031317511445, "cost2_min": -1.2904505103263164, "cost1_mean": 328.76200130606566, "cost2_mean": -0.04693692269369329, "outflow_rate_mean": 1020.4700963114941, "outflow_rate_min": 425.1392447031289, "system_level_velocity_min": 10.858055076873764, "cost1_max": 473.3344555263069, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 185, "done": false, "episodes_total": 3316, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84a58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84e10>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.207162224366, "episode_reward_min": 38.56539546485354, "timesteps_total": 7162919, "time_since_restore": 4733.389850139618, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37780, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557189228, "time_this_iter_s": 26.948999166488647, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 185, "date": "2019-05-07_00-33-48", "episode_len_mean": 674.09}
{"timesteps_since_restore": 7200476, "policy_reward_mean": {}, "time_total_s": 4758.059795379639, "episode_reward_max": 1057.9160238726256, "info": {"num_steps_sampled": 7200476, "sample_time_ms": 15870.108, "update_time_ms": 7.687, "grad_time_ms": 9806.425, "default": {"kl": 0.015973521396517754, "entropy": 1.5167746543884277, "cur_lr": 0.0005000000237487257, "total_loss": 15.815289497375488, "vf_explained_var": 0.9252728819847107, "policy_loss": -0.008860218338668346, "vf_loss": 15.820738792419434, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7200476, "load_time_ms": 11.803}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1252.874217944181, "system_level_velocity_mean": 13.398079274511806, "cost1_min": 20.44031317511445, "cost2_min": -1.2904505103263164, "cost1_mean": 330.72143627887345, "cost2_mean": -0.0410824544193713, "outflow_rate_mean": 1024.3084413488937, "outflow_rate_min": 425.1392447031289, "system_level_velocity_min": 9.475303996225653, "cost1_max": 473.3344555263069, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 186, "done": false, "episodes_total": 3333, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fd68>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ff60>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.4332727521577, "episode_reward_min": 38.56539546485354, "timesteps_total": 7200476, "time_since_restore": 4758.059795379639, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37557, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557189252, "time_this_iter_s": 24.669945240020752, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 186, "date": "2019-05-07_00-34-12", "episode_len_mean": 680.04}
{"timesteps_since_restore": 7238920, "policy_reward_mean": {}, "time_total_s": 4783.922696590424, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7238920, "sample_time_ms": 15862.566, "update_time_ms": 7.744, "grad_time_ms": 9847.838, "default": {"kl": 0.018439622595906258, "entropy": 1.5121002197265625, "cur_lr": 0.0005000000237487257, "total_loss": 17.699771881103516, "vf_explained_var": 0.9313830733299255, "policy_loss": -0.010826527141034603, "vf_loss": 17.7066593170166, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7238920, "load_time_ms": 11.846}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1252.874217944181, "system_level_velocity_mean": 13.610947444821539, "cost1_min": 20.44031317511445, "cost2_min": -1.2904505103263164, "cost1_mean": 336.6386353468564, "cost2_mean": -0.05046443697496363, "outflow_rate_mean": 1034.8846942901814, "outflow_rate_min": 425.1392447031289, "system_level_velocity_min": 9.475303996225653, "cost1_max": 473.3344555263069, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 187, "done": false, "episodes_total": 3353, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a860>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625a3c8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.5362618957245, "episode_reward_min": 38.56539546485354, "timesteps_total": 7238920, "time_since_restore": 4783.922696590424, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38444, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557189278, "time_this_iter_s": 25.862901210784912, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 187, "date": "2019-05-07_00-34-38", "episode_len_mean": 680.04}
{"timesteps_since_restore": 7277128, "policy_reward_mean": {}, "time_total_s": 4810.260936260223, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7277128, "sample_time_ms": 15889.975, "update_time_ms": 7.679, "grad_time_ms": 9856.698, "default": {"kl": 0.018279168754816055, "entropy": 1.4900195598602295, "cur_lr": 0.0005000000237487257, "total_loss": 17.801958084106445, "vf_explained_var": 0.9319170117378235, "policy_loss": -0.009507374837994576, "vf_loss": 17.807559967041016, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7277128, "load_time_ms": 11.899}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1293.3846912230579, "system_level_velocity_mean": 13.642669770469963, "cost1_min": 20.069834926750648, "cost2_min": -0.8544093672399947, "cost1_mean": 342.67117973321206, "cost2_mean": -0.042896949634735615, "outflow_rate_mean": 1046.3041726870788, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.475303996225653, "cost1_max": 479.2060931076338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 188, "done": false, "episodes_total": 3372, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266198>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062666a0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 856.50671052067, "episode_reward_min": 41.29452465589057, "timesteps_total": 7277128, "time_since_restore": 4810.260936260223, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38208, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557189304, "time_this_iter_s": 26.338239669799805, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 188, "date": "2019-05-07_00-35-04", "episode_len_mean": 686.66}
{"timesteps_since_restore": 7314490, "policy_reward_mean": {}, "time_total_s": 4836.018058300018, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7314490, "sample_time_ms": 15970.517, "update_time_ms": 7.513, "grad_time_ms": 9789.026, "default": {"kl": 0.015389352105557919, "entropy": 1.505833625793457, "cur_lr": 0.0005000000237487257, "total_loss": 21.308320999145508, "vf_explained_var": 0.9262868165969849, "policy_loss": -0.007844213396310806, "vf_loss": 21.31287956237793, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7314490, "load_time_ms": 11.752}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1293.3846912230579, "system_level_velocity_mean": 13.869186253645882, "cost1_min": 20.069834926750648, "cost2_min": -0.8544093672399947, "cost1_mean": 345.4769840418076, "cost2_mean": -0.042426265573942475, "outflow_rate_mean": 1051.5484881672126, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.475303996225653, "cost1_max": 479.2060931076338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 189, "done": false, "episodes_total": 3392, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406233b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84be0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84f60>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 851.9380206168303, "episode_reward_min": 41.29452465589057, "timesteps_total": 7314490, "time_since_restore": 4836.018058300018, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37362, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557189330, "time_this_iter_s": 25.757122039794922, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 189, "date": "2019-05-07_00-35-30", "episode_len_mean": 681.67}
{"timesteps_since_restore": 7352957, "policy_reward_mean": {}, "time_total_s": 4859.86935043335, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7352957, "sample_time_ms": 15768.64, "update_time_ms": 7.584, "grad_time_ms": 9787.033, "default": {"kl": 0.016138000413775444, "entropy": 1.559592843055725, "cur_lr": 0.0005000000237487257, "total_loss": 15.015950202941895, "vf_explained_var": 0.9070749878883362, "policy_loss": -0.01027745846658945, "vf_loss": 15.022781372070312, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7352957, "load_time_ms": 11.668}, "custom_metrics": {"system_level_velocity_max": 19.43355962239947, "outflow_rate_max": 1293.3846912230579, "system_level_velocity_mean": 13.506636415755437, "cost1_min": 20.069834926750648, "cost2_min": -0.8544093672399947, "cost1_mean": 335.9942699333865, "cost2_mean": -0.041971589353867154, "outflow_rate_mean": 1034.0383802256815, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.475303996225653, "cost1_max": 479.2060931076338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 190, "done": false, "episodes_total": 3408, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fa58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fd68>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.8276406880503, "episode_reward_min": 41.29452465589057, "timesteps_total": 7352957, "time_since_restore": 4859.86935043335, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38467, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557189354, "time_this_iter_s": 23.8512921333313, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 190, "date": "2019-05-07_00-35-54", "episode_len_mean": 681.67}
{"timesteps_since_restore": 7391623, "policy_reward_mean": {}, "time_total_s": 4885.174738407135, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7391623, "sample_time_ms": 15702.681, "update_time_ms": 7.287, "grad_time_ms": 9779.809, "default": {"kl": 0.01624586619436741, "entropy": 1.5658060312271118, "cur_lr": 0.0005000000237487257, "total_loss": 14.522988319396973, "vf_explained_var": 0.9247997403144836, "policy_loss": -0.008955576457083225, "vf_loss": 14.528471946716309, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7391623, "load_time_ms": 11.751}, "custom_metrics": {"system_level_velocity_max": 18.954900386813772, "outflow_rate_max": 1293.3846912230579, "system_level_velocity_mean": 13.285798323357762, "cost1_min": 20.069834926750648, "cost2_min": -0.8544093672399947, "cost1_mean": 334.9593918720688, "cost2_mean": -0.04032770766925693, "outflow_rate_mean": 1030.9107069722597, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.475303996225653, "cost1_max": 479.2060931076338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 191, "done": false, "episodes_total": 3422, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625aeb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ffd0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 849.626168097286, "episode_reward_min": 41.29452465589057, "timesteps_total": 7391623, "time_since_restore": 4885.174738407135, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38666, "pid": 25263, "episodes_this_iter": 14, "timestamp": 1557189379, "time_this_iter_s": 25.3053879737854, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 191, "date": "2019-05-07_00-36-19", "episode_len_mean": 688.31}
{"timesteps_since_restore": 7429863, "policy_reward_mean": {}, "time_total_s": 4910.980199575424, "episode_reward_max": 1074.5554863259379, "info": {"num_steps_sampled": 7429863, "sample_time_ms": 15995.692, "update_time_ms": 7.314, "grad_time_ms": 9723.215, "default": {"kl": 0.01798935793340206, "entropy": 1.5602362155914307, "cur_lr": 0.0005000000237487257, "total_loss": 16.395938873291016, "vf_explained_var": 0.9225320219993591, "policy_loss": -0.01120238658040762, "vf_loss": 16.403301239013672, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7429863, "load_time_ms": 11.83}, "custom_metrics": {"system_level_velocity_max": 18.954900386813772, "outflow_rate_max": 1293.3846912230579, "system_level_velocity_mean": 13.2596996260303, "cost1_min": 20.069834926750648, "cost2_min": -0.8544093672399947, "cost1_mean": 329.8954155931936, "cost2_mean": -0.044791663742421946, "outflow_rate_mean": 1020.3168422431789, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.76867315499587, "cost1_max": 479.2060931076338, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 192, "done": false, "episodes_total": 3441, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f802b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062479e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80e10>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 844.1565041895128, "episode_reward_min": 41.29452465589057, "timesteps_total": 7429863, "time_since_restore": 4910.980199575424, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38240, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557189405, "time_this_iter_s": 25.805461168289185, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 192, "date": "2019-05-07_00-36-45", "episode_len_mean": 681.79}
{"timesteps_since_restore": 7468416, "policy_reward_mean": {}, "time_total_s": 4936.513423204422, "episode_reward_max": 1030.2774989625407, "info": {"num_steps_sampled": 7468416, "sample_time_ms": 15845.463, "update_time_ms": 7.036, "grad_time_ms": 9692.183, "default": {"kl": 0.017062166705727577, "entropy": 1.549765706062317, "cur_lr": 0.0005000000237487257, "total_loss": 16.14971160888672, "vf_explained_var": 0.933363676071167, "policy_loss": -0.00969696044921875, "vf_loss": 16.155765533447266, "cur_kl_coeff": 0.21357417106628418}, "num_steps_trained": 7468416, "load_time_ms": 12.136}, "custom_metrics": {"system_level_velocity_max": 18.954900386813772, "outflow_rate_max": 1289.5192684944473, "system_level_velocity_mean": 12.993769183943469, "cost1_min": 20.069834926750648, "cost2_min": -0.7779108271150055, "cost1_mean": 322.79127295986456, "cost2_mean": -0.02679420307952183, "outflow_rate_mean": 1008.4891495446668, "outflow_rate_min": 398.851214696035, "system_level_velocity_min": 9.76867315499587, "cost1_max": 475.2248929837127, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 193, "done": false, "episodes_total": 3459, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f84e10>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f842e8>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 837.3729270671804, "episode_reward_min": 41.29452465589057, "timesteps_total": 7468416, "time_since_restore": 4936.513423204422, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38553, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557189431, "time_this_iter_s": 25.533223628997803, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 193, "date": "2019-05-07_00-37-11", "episode_len_mean": 681.79}
{"timesteps_since_restore": 7506468, "policy_reward_mean": {}, "time_total_s": 4960.821202039719, "episode_reward_max": 1030.2774989625407, "info": {"num_steps_sampled": 7506468, "sample_time_ms": 15725.891, "update_time_ms": 7.227, "grad_time_ms": 9609.31, "default": {"kl": 0.016945907846093178, "entropy": 1.5612730979919434, "cur_lr": 0.0005000000237487257, "total_loss": 19.49217414855957, "vf_explained_var": 0.9163690805435181, "policy_loss": -0.008844483643770218, "vf_loss": 19.497398376464844, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7506468, "load_time_ms": 12.235}, "custom_metrics": {"cost1_mean": 318.6309265990565, "outflow_rate_max": 1289.5192684944473, "system_level_velocity_mean": 12.884828387827788, "cost1_min": 27.908907961446257, "cost1_max": 473.658218291441, "outflow_rate_min": 423.3455906517627, "cost2_mean": -0.03449839982302566, "outflow_rate_mean": 1001.2031565082882, "system_level_velocity_min": 9.76867315499587, "cost2_min": -0.7779108271150055, "system_level_velocity_max": 19.216594168475417, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 194, "done": false, "episodes_total": 3479, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fbe0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625fb00>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 834.6177551105511, "episode_reward_min": 53.794983850986476, "timesteps_total": 7506468, "time_since_restore": 4960.821202039719, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38052, "pid": 25263, "episodes_this_iter": 20, "timestamp": 1557189455, "time_this_iter_s": 24.30777883529663, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 194, "date": "2019-05-07_00-37-35", "episode_len_mean": 680.4}
{"timesteps_since_restore": 7544322, "policy_reward_mean": {}, "time_total_s": 4985.815481901169, "episode_reward_max": 1030.2774989625407, "info": {"num_steps_sampled": 7544322, "sample_time_ms": 15520.129, "update_time_ms": 7.05, "grad_time_ms": 9619.574, "default": {"kl": 0.01614505983889103, "entropy": 1.5629955530166626, "cur_lr": 0.0005000000237487257, "total_loss": 17.31453514099121, "vf_explained_var": 0.9239363074302673, "policy_loss": -0.009411930106580257, "vf_loss": 17.320497512817383, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7544322, "load_time_ms": 12.22}, "custom_metrics": {"system_level_velocity_max": 19.216594168475417, "outflow_rate_max": 1289.5192684944473, "system_level_velocity_mean": 12.75110135804978, "cost1_min": 27.908907961446257, "cost2_min": -0.7779108271150055, "cost1_mean": 315.0960204459779, "cost2_mean": -0.036731613667638156, "outflow_rate_mean": 994.1761348351362, "outflow_rate_min": 423.3455906517627, "system_level_velocity_min": 9.378093184251451, "cost1_max": 461.68688732634155, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 195, "done": false, "episodes_total": 3498, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062668d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266978>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 834.6701458839966, "episode_reward_min": 53.794983850986476, "timesteps_total": 7544322, "time_since_restore": 4985.815481901169, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37854, "pid": 25263, "episodes_this_iter": 19, "timestamp": 1557189480, "time_this_iter_s": 24.994279861450195, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 195, "date": "2019-05-07_00-38-00", "episode_len_mean": 680.4}
{"timesteps_since_restore": 7582644, "policy_reward_mean": {}, "time_total_s": 5010.791687250137, "episode_reward_max": 1030.2774989625407, "info": {"num_steps_sampled": 7582644, "sample_time_ms": 15533.96, "update_time_ms": 7.186, "grad_time_ms": 9635.164, "default": {"kl": 0.018501698970794678, "entropy": 1.549760103225708, "cur_lr": 0.0005000000237487257, "total_loss": 17.94743537902832, "vf_explained_var": 0.9292320013046265, "policy_loss": -0.00868166796863079, "vf_loss": 17.952165603637695, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7582644, "load_time_ms": 12.592}, "custom_metrics": {"system_level_velocity_max": 19.216594168475417, "outflow_rate_max": 1289.5192684944473, "system_level_velocity_mean": 12.91679341921129, "cost1_min": 27.908907961446257, "cost2_min": -0.7779108271150055, "cost1_mean": 311.16406123763215, "cost2_mean": -0.0428829231709075, "outflow_rate_mean": 989.4725951842197, "outflow_rate_min": 423.3455906517627, "system_level_velocity_min": 9.378093184251451, "cost1_max": 461.68688732634155, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 196, "done": false, "episodes_total": 3515, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80828>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80278>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 823.9636550397928, "episode_reward_min": 53.794983850986476, "timesteps_total": 7582644, "time_since_restore": 5010.791687250137, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38322, "pid": 25263, "episodes_this_iter": 17, "timestamp": 1557189505, "time_this_iter_s": 24.976205348968506, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 196, "date": "2019-05-07_00-38-25", "episode_len_mean": 668.62}
{"timesteps_since_restore": 7620605, "policy_reward_mean": {}, "time_total_s": 5035.203221797943, "episode_reward_max": 1038.2816222851352, "info": {"num_steps_sampled": 7620605, "sample_time_ms": 15448.988, "update_time_ms": 7.273, "grad_time_ms": 9575.525, "default": {"kl": 0.018093813210725784, "entropy": 1.5387412309646606, "cur_lr": 0.0005000000237487257, "total_loss": 18.86029624938965, "vf_explained_var": 0.9287474155426025, "policy_loss": -0.0106115797534585, "vf_loss": 18.86704444885254, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7620605, "load_time_ms": 12.55}, "custom_metrics": {"system_level_velocity_max": 19.216594168475417, "outflow_rate_max": 1270.0624739928223, "system_level_velocity_mean": 13.211910804332783, "cost1_min": 27.908907961446257, "cost2_min": -0.6930355165146724, "cost1_mean": 315.41592453791134, "cost2_mean": -0.044718790611679174, "outflow_rate_mean": 998.5938051147273, "outflow_rate_min": 423.3455906517627, "system_level_velocity_min": 9.378093184251451, "cost1_max": 486.45165459869474, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 197, "done": false, "episodes_total": 3537, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406247080>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5401f80208>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 815.9131908600003, "episode_reward_min": 53.794983850986476, "timesteps_total": 7620605, "time_since_restore": 5035.203221797943, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37961, "pid": 25263, "episodes_this_iter": 22, "timestamp": 1557189530, "time_this_iter_s": 24.411534547805786, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 197, "date": "2019-05-07_00-38-50", "episode_len_mean": 663.49}
{"timesteps_since_restore": 7658749, "policy_reward_mean": {}, "time_total_s": 5058.928283929825, "episode_reward_max": 1038.2816222851352, "info": {"num_steps_sampled": 7658749, "sample_time_ms": 15205.547, "update_time_ms": 7.595, "grad_time_ms": 9555.309, "default": {"kl": 0.016451606526970863, "entropy": 1.5794751644134521, "cur_lr": 0.0005000000237487257, "total_loss": 14.952322006225586, "vf_explained_var": 0.9348509907722473, "policy_loss": -0.009711774066090584, "vf_loss": 14.958518981933594, "cur_kl_coeff": 0.21357420086860657}, "num_steps_trained": 7658749, "load_time_ms": 12.639}, "custom_metrics": {"system_level_velocity_max": 19.216594168475417, "outflow_rate_max": 1270.0624739928223, "system_level_velocity_mean": 13.178876200020593, "cost1_min": 27.908907961446257, "cost2_min": -0.6930355165146724, "cost1_mean": 318.99752137443613, "cost2_mean": -0.050022175582575226, "outflow_rate_mean": 1003.004085720822, "outflow_rate_min": 438.19552817076533, "system_level_velocity_min": 9.378093184251451, "cost1_max": 486.45165459869474, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 198, "done": false, "episodes_total": 3553, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f540625ff28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f540625f278>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 821.6601551169927, "episode_reward_min": 53.794983850986476, "timesteps_total": 7658749, "time_since_restore": 5058.928283929825, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38144, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557189553, "time_this_iter_s": 23.725062131881714, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 198, "date": "2019-05-07_00-39-13", "episode_len_mean": 670.01}
{"timesteps_since_restore": 7696565, "policy_reward_mean": {}, "time_total_s": 5088.610989570618, "episode_reward_max": 1038.2816222851352, "info": {"num_steps_sampled": 7696565, "sample_time_ms": 15058.296, "update_time_ms": 7.776, "grad_time_ms": 10081.83, "default": {"kl": 0.016128256916999817, "entropy": 1.5764789581298828, "cur_lr": 0.0005000000237487257, "total_loss": 15.685935974121094, "vf_explained_var": 0.9278622269630432, "policy_loss": -0.009609537199139595, "vf_loss": 15.692099571228027, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7696565, "load_time_ms": 12.588}, "custom_metrics": {"system_level_velocity_max": 19.037471834303002, "outflow_rate_max": 1270.0624739928223, "system_level_velocity_mean": 13.126737669216968, "cost1_min": 73.865150009944, "cost2_min": -0.8, "cost1_mean": 326.65179933773237, "cost2_mean": -0.06580998253987456, "outflow_rate_mean": 1018.4609330078873, "outflow_rate_min": 598.9629314422019, "system_level_velocity_min": 9.378093184251451, "cost1_max": 486.45165459869474, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 199, "done": false, "episodes_total": 3569, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266278>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5406266588>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 841.1726794597203, "episode_reward_min": 153.1785533169011, "timesteps_total": 7696565, "time_since_restore": 5088.610989570618, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 37816, "pid": 25263, "episodes_this_iter": 16, "timestamp": 1557189583, "time_this_iter_s": 29.682705640792847, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 199, "date": "2019-05-07_00-39-43", "episode_len_mean": 683.09}
{"timesteps_since_restore": 7734647, "policy_reward_mean": {}, "time_total_s": 5130.507540941238, "episode_reward_max": 1058.2413680027166, "info": {"num_steps_sampled": 7734647, "sample_time_ms": 16668.182, "update_time_ms": 9.124, "grad_time_ms": 10272.779, "default": {"kl": 0.01742755062878132, "entropy": 1.5660611391067505, "cur_lr": 0.0005000000237487257, "total_loss": 21.65512466430664, "vf_explained_var": 0.9141370058059692, "policy_loss": -0.010625049471855164, "vf_loss": 21.66202735900879, "cur_kl_coeff": 0.21357418596744537}, "num_steps_trained": 7734647, "load_time_ms": 13.48}, "custom_metrics": {"system_level_velocity_max": 19.037471834303002, "outflow_rate_max": 1270.0624739928223, "system_level_velocity_mean": 13.196114032842331, "cost1_min": 73.865150009944, "cost2_min": -0.8, "cost1_mean": 324.7818114860187, "cost2_mean": -0.059958079769155986, "outflow_rate_mean": 1017.4838070393416, "outflow_rate_min": 598.9629314422019, "system_level_velocity_min": 9.416714023977786, "cost1_max": 486.45165459869474, "cost2_max": 0.0}, "node_ip": "10.138.0.2", "iterations_since_restore": 200, "done": true, "episodes_total": 3587, "config": {"lr": 0.0005, "preprocessor_pref": "deepmind", "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_gpus": 0, "train_batch_size": 30000, "custom_resources_per_worker": {}, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "optimizer": {}, "kl_coeff": 0.2, "lambda": 0.97, "horizon": 1500, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f54062a5978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f54062a5b00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f54062a5fd0>", "on_train_result": null}, "input_evaluation": null, "sgd_minibatch_size": 128, "straggler_mitigation": false, "log_level": "INFO", "num_gpus_per_worker": 0, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "monitor": false, "model": {"custom_preprocessor": null, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "conv_activation": "relu", "use_lstm": false, "grayscale": false, "lstm_use_prev_action_reward": false, "channel_major": false, "free_log_std": false, "conv_filters": null, "max_seq_len": 20, "framestack": true, "fcnet_activation": "tanh", "squash_to_range": false, "custom_model": null, "custom_options": {}, "lstm_cell_size": 256}, "sample_batch_size": 200, "vf_share_layers": false, "vf_clip_param": 1000000.0, "use_gae": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "entropy_coeff": 0.0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "gamma": 0.99, "num_envs_per_worker": 1, "clip_actions": false, "input": "sampler", "compress_observations": false, "collect_metrics_timeout": 180, "output": null, "num_sgd_iter": 10, "vf_loss_coeff": 1.0, "clip_rewards": null, "num_cpus_per_worker": 1, "sample_async": false, "clip_param": 0.3, "simple_optimizer": false, "num_workers": 20, "kl_target": 0.01, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true}}, "episode_reward_mean": 833.1978510677051, "episode_reward_min": 153.1785533169011, "timesteps_total": 7734647, "time_since_restore": 5130.507540941238, "hostname": "flow-main", "num_metric_batches_dropped": 0, "timesteps_this_iter": 38082, "pid": 25263, "episodes_this_iter": 18, "timestamp": 1557189625, "time_this_iter_s": 41.89655137062073, "experiment_id": "aba4fbe751a644bdbb30a0ac1db07893", "training_iteration": 200, "date": "2019-05-07_00-40-25", "episode_len_mean": 678.06}
