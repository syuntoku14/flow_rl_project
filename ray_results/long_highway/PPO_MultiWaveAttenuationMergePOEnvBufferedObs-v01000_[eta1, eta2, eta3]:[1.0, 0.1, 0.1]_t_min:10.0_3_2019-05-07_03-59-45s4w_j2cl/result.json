{"info": {"update_time_ms": 2795.338, "num_steps_sampled": 47387, "num_steps_trained": 47387, "default": {"entropy": 1.4165860414505005, "policy_loss": -0.00020949100144207478, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.873073160648346, "vf_loss": 3.0014374256134033, "total_loss": 3.0014002323150635, "cur_lr": 0.0005000000237487257, "kl": 0.0008593518286943436}, "sample_time_ms": 37885.886, "load_time_ms": 57.582, "grad_time_ms": 10793.576}, "episode_len_mean": 535.75, "num_metric_batches_dropped": 0, "timesteps_total": 47387, "time_this_iter_s": 51.64123225212097, "date": "2019-05-07_04-00-51", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83978>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 249.1672614253205, "outflow_rate_mean": 422.8512802381779, "system_level_velocity_mean": 10.757674177912119, "cost2_min": -146.53458441865598, "system_level_velocity_min": 6.563092679127888, "outflow_rate_max": 522.4703894259164, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 164.45859064111636, "cost2_mean": -105.08853698240551}, "policy_reward_mean": {}, "timesteps_this_iter": 47387, "episodes_this_iter": 4, "training_iteration": 1, "done": false, "episode_reward_mean": 502.2586665895933, "iterations_since_restore": 1, "pid": 304, "time_total_s": 51.64123225212097, "timestamp": 1557201651, "episode_reward_min": 50.26616204536949, "time_since_restore": 51.64123225212097, "episode_reward_max": 753.9832574978632, "episodes_total": 4, "timesteps_since_restore": 47387, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 1401.377, "num_steps_sampled": 92763, "num_steps_trained": 92763, "default": {"entropy": 1.410841941833496, "policy_loss": -0.0021879987325519323, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.9726502299308777, "vf_loss": 1.0046005249023438, "total_loss": 1.0029850006103516, "cur_lr": 0.0005000000237487257, "kl": 0.005723855458199978}, "sample_time_ms": 25347.916, "load_time_ms": 36.136, "grad_time_ms": 9989.826}, "episode_len_mean": 671.4347826086956, "num_metric_batches_dropped": 0, "timesteps_total": 92763, "time_this_iter_s": 22.094653606414795, "date": "2019-05-07_04-01-13", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dcf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dfd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 293.84321380132076, "outflow_rate_mean": 566.3770030237259, "system_level_velocity_mean": 9.409918580318296, "cost2_min": -160.6924720780121, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 771.7259042963518, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 227.00327119195043, "cost2_mean": -126.42422061150334}, "policy_reward_mean": {}, "timesteps_this_iter": 45376, "episodes_this_iter": 19, "training_iteration": 2, "done": false, "episode_reward_mean": 689.9996079830697, "iterations_since_restore": 2, "pid": 304, "time_total_s": 73.73588585853577, "timestamp": 1557201673, "episode_reward_min": 50.26616204536949, "time_since_restore": 73.73588585853577, "episode_reward_max": 862.1993715276708, "episodes_total": 23, "timesteps_since_restore": 92763, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 936.852, "num_steps_sampled": 144687, "num_steps_trained": 144687, "default": {"entropy": 1.4000349044799805, "policy_loss": -0.0017655151896178722, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.9778638482093811, "vf_loss": 1.1502870321273804, "total_loss": 1.1489379405975342, "cur_lr": 0.0005000000237487257, "kl": 0.004162704572081566}, "sample_time_ms": 21894.823, "load_time_ms": 28.42, "grad_time_ms": 10392.154}, "episode_len_mean": 677.3448275862069, "num_metric_batches_dropped": 0, "timesteps_total": 144687, "time_this_iter_s": 26.298770904541016, "date": "2019-05-07_04-01-40", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98be0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 293.84321380132076, "outflow_rate_mean": 571.2131459735621, "system_level_velocity_mean": 9.352000639127652, "cost2_min": -172.99767144270248, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 771.7259042963518, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 229.52931821638893, "cost2_mean": -127.83633600032775}, "policy_reward_mean": {}, "timesteps_this_iter": 51924, "episodes_this_iter": 6, "training_iteration": 3, "done": false, "episode_reward_mean": 699.3352975054198, "iterations_since_restore": 3, "pid": 304, "time_total_s": 100.03465676307678, "timestamp": 1557201700, "episode_reward_min": 50.26616204536949, "time_since_restore": 100.03465676307678, "episode_reward_max": 871.9087343132398, "episodes_total": 29, "timesteps_since_restore": 144687, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 704.409, "num_steps_sampled": 188582, "num_steps_trained": 188582, "default": {"entropy": 1.4042563438415527, "policy_loss": -0.0017050690948963165, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9866281151771545, "vf_loss": 1.49344801902771, "total_loss": 1.4921866655349731, "cur_lr": 0.0005000000237487257, "kl": 0.008877980522811413}, "sample_time_ms": 19454.258, "load_time_ms": 24.638, "grad_time_ms": 10190.211}, "episode_len_mean": 685.0681818181819, "num_metric_batches_dropped": 0, "timesteps_total": 188582, "time_this_iter_s": 21.799538612365723, "date": "2019-05-07_04-02-01", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1def0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 293.84321380132076, "outflow_rate_mean": 567.6246516799215, "system_level_velocity_mean": 9.091854738686125, "cost2_min": -172.99767144270248, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 771.7259042963518, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 228.36967639077773, "cost2_mean": -126.87503333494087}, "policy_reward_mean": {}, "timesteps_this_iter": 43895, "episodes_this_iter": 15, "training_iteration": 4, "done": false, "episode_reward_mean": 703.245290517681, "iterations_since_restore": 4, "pid": 304, "time_total_s": 121.8341953754425, "timestamp": 1557201721, "episode_reward_min": 50.26616204536949, "time_since_restore": 121.8341953754425, "episode_reward_max": 871.9087343132398, "episodes_total": 44, "timesteps_since_restore": 188582, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 564.745, "num_steps_sampled": 234658, "num_steps_trained": 234658, "default": {"entropy": 1.392146110534668, "policy_loss": -0.0032581682316958904, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9748495221138, "vf_loss": 2.134497880935669, "total_loss": 2.1316306591033936, "cur_lr": 0.0005000000237487257, "kl": 0.00781948957592249}, "sample_time_ms": 18050.531, "load_time_ms": 22.474, "grad_time_ms": 10139.567}, "episode_len_mean": 688.2678571428571, "num_metric_batches_dropped": 0, "timesteps_total": 234658, "time_this_iter_s": 22.468986988067627, "date": "2019-05-07_04-02-24", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 293.84321380132076, "outflow_rate_mean": 573.615511825579, "system_level_velocity_mean": 8.970505683177839, "cost2_min": -172.99767144270248, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 771.7259042963518, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 227.47611480303428, "cost2_mean": -124.567756964723}, "policy_reward_mean": {}, "timesteps_this_iter": 46076, "episodes_this_iter": 12, "training_iteration": 5, "done": false, "episode_reward_mean": 704.8831154862373, "iterations_since_restore": 5, "pid": 304, "time_total_s": 144.30318236351013, "timestamp": 1557201744, "episode_reward_min": 50.26616204536949, "time_since_restore": 144.30318236351013, "episode_reward_max": 901.3578167650998, "episodes_total": 56, "timesteps_since_restore": 234658, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 471.675, "num_steps_sampled": 283172, "num_steps_trained": 283172, "default": {"entropy": 1.371609091758728, "policy_loss": -0.0019078522454947233, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9793148040771484, "vf_loss": 2.5045480728149414, "total_loss": 2.5029892921447754, "cur_lr": 0.0005000000237487257, "kl": 0.006985234096646309}, "sample_time_ms": 17485.615, "load_time_ms": 21.313, "grad_time_ms": 10186.906}, "episode_len_mean": 690.6142857142858, "num_metric_batches_dropped": 0, "timesteps_total": 283172, "time_this_iter_s": 25.183193683624268, "date": "2019-05-07_04-02-49", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb219b0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 319.87311100770006, "outflow_rate_mean": 597.5821289835608, "system_level_velocity_mean": 9.17607742385825, "cost2_min": -191.2932677623087, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 235.0046701840018, "cost2_mean": -130.00882496306932}, "policy_reward_mean": {}, "timesteps_this_iter": 48514, "episodes_this_iter": 14, "training_iteration": 6, "done": false, "episode_reward_mean": 748.0172243976791, "iterations_since_restore": 6, "pid": 304, "time_total_s": 169.4863760471344, "timestamp": 1557201769, "episode_reward_min": 50.26616204536949, "time_since_restore": 169.4863760471344, "episode_reward_max": 1035.0817314488522, "episodes_total": 70, "timesteps_since_restore": 283172, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 405.438, "num_steps_sampled": 330103, "num_steps_trained": 330103, "default": {"entropy": 1.3761311769485474, "policy_loss": -0.0007766258786432445, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9689809083938599, "vf_loss": 3.556680679321289, "total_loss": 3.556190252304077, "cur_lr": 0.0005000000237487257, "kl": 0.005727674346417189}, "sample_time_ms": 16815.627, "load_time_ms": 20.109, "grad_time_ms": 10324.945}, "episode_len_mean": 692.1785714285714, "num_metric_batches_dropped": 0, "timesteps_total": 330103, "time_this_iter_s": 24.046030044555664, "date": "2019-05-07_04-03-13", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71e48>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 319.87311100770006, "outflow_rate_mean": 616.4219902048802, "system_level_velocity_mean": 9.339791713094039, "cost2_min": -200.98184498629377, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 240.72437121939203, "cost2_mean": -136.54285610319025}, "policy_reward_mean": {}, "timesteps_this_iter": 46931, "episodes_this_iter": 14, "training_iteration": 7, "done": false, "episode_reward_mean": 790.3887568592701, "iterations_since_restore": 7, "pid": 304, "time_total_s": 193.53240609169006, "timestamp": 1557201793, "episode_reward_min": 50.26616204536949, "time_since_restore": 193.53240609169006, "episode_reward_max": 1121.8950085439628, "episodes_total": 84, "timesteps_since_restore": 330103, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 355.85, "num_steps_sampled": 380336, "num_steps_trained": 380336, "default": {"entropy": 1.3712327480316162, "policy_loss": -0.002808263758197427, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9859395027160645, "vf_loss": 1.7569471597671509, "total_loss": 1.7545857429504395, "cur_lr": 0.0005000000237487257, "kl": 0.008935331366956234}, "sample_time_ms": 16422.297, "load_time_ms": 19.329, "grad_time_ms": 10366.397}, "episode_len_mean": 693.0106382978723, "num_metric_batches_dropped": 0, "timesteps_total": 380336, "time_this_iter_s": 24.42384123802185, "date": "2019-05-07_04-03-38", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.775640716141307, "cost2_max": -28.641144303627154, "outflow_rate_min": 322.1420478737697, "cost1_max": 319.87311100770006, "outflow_rate_mean": 629.6903123312592, "system_level_velocity_mean": 9.479434951418625, "cost2_min": -200.98184498629377, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 19.218679470289356, "cost1_mean": 244.6717516253848, "cost2_mean": -139.95559132739785}, "policy_reward_mean": {}, "timesteps_this_iter": 50233, "episodes_this_iter": 10, "training_iteration": 8, "done": false, "episode_reward_mean": 812.2277803278884, "iterations_since_restore": 8, "pid": 304, "time_total_s": 217.9562473297119, "timestamp": 1557201818, "episode_reward_min": 50.26616204536949, "time_since_restore": 217.9562473297119, "episode_reward_max": 1121.8950085439628, "episodes_total": 94, "timesteps_since_restore": 380336, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 317.044, "num_steps_sampled": 427045, "num_steps_trained": 427045, "default": {"entropy": 1.3645408153533936, "policy_loss": -0.0012608946999534965, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9779173731803894, "vf_loss": 3.0238780975341797, "total_loss": 3.0229227542877197, "cur_lr": 0.0005000000237487257, "kl": 0.006109260488301516}, "sample_time_ms": 16112.196, "load_time_ms": 18.857, "grad_time_ms": 10308.965}, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "timesteps_total": 427045, "time_this_iter_s": 23.579045295715332, "date": "2019-05-07_04-04-01", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69320>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69518>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 159.1897471206771, "cost2_max": -71.93204067745528, "outflow_rate_min": 362.95857311608125, "cost1_max": 319.87311100770006, "outflow_rate_mean": 655.5375127327497, "system_level_velocity_mean": 9.585478144725977, "cost2_min": -200.98184498629377, "system_level_velocity_min": 6.025778085776905, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 11.972401016714214, "cost1_mean": 252.54624186684296, "cost2_mean": -146.44879897018475}, "policy_reward_mean": {}, "timesteps_this_iter": 46709, "episodes_this_iter": 16, "training_iteration": 9, "done": false, "episode_reward_mean": 858.9659806234149, "iterations_since_restore": 9, "pid": 304, "time_total_s": 241.53529262542725, "timestamp": 1557201841, "episode_reward_min": 452.0210972600789, "time_since_restore": 241.53529262542725, "episode_reward_max": 1121.8950085439628, "episodes_total": 110, "timesteps_since_restore": 427045, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 285.918, "num_steps_sampled": 473985, "num_steps_trained": 473985, "default": {"entropy": 1.370206356048584, "policy_loss": -0.0032481688540428877, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9685625433921814, "vf_loss": 3.9226348400115967, "total_loss": 3.9199235439300537, "cur_lr": 0.0005000000237487257, "kl": 0.010740446858108044}, "sample_time_ms": 15800.433, "load_time_ms": 18.387, "grad_time_ms": 10213.04}, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "timesteps_total": 473985, "time_this_iter_s": 22.43515110015869, "date": "2019-05-07_04-04-24", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71a20>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 166.41049444243714, "cost2_max": -71.93204067745528, "outflow_rate_min": 441.1778986723615, "cost1_max": 319.87311100770006, "outflow_rate_mean": 671.9984719536253, "system_level_velocity_mean": 9.717219244174892, "cost2_min": -200.98184498629377, "system_level_velocity_min": 6.305387226170754, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 11.972401016714214, "cost1_mean": 256.2261059354368, "cost2_mean": -149.1166015175036}, "policy_reward_mean": {}, "timesteps_this_iter": 46940, "episodes_this_iter": 14, "training_iteration": 10, "done": false, "episode_reward_mean": 889.6752712601862, "iterations_since_restore": 10, "pid": 304, "time_total_s": 263.97044372558594, "timestamp": 1557201864, "episode_reward_min": 517.1387120221978, "time_since_restore": 263.97044372558594, "episode_reward_max": 1121.8950085439628, "episodes_total": 124, "timesteps_since_restore": 473985, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.069, "num_steps_sampled": 520270, "num_steps_trained": 520270, "default": {"entropy": 1.34333074092865, "policy_loss": -0.0013539892388507724, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9487898349761963, "vf_loss": 6.292125225067139, "total_loss": 6.29115104675293, "cur_lr": 0.0005000000237487257, "kl": 0.007581079378724098}, "sample_time_ms": 13328.761, "load_time_ms": 13.832, "grad_time_ms": 10107.92}, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "timesteps_total": 520270, "time_this_iter_s": 23.001392364501953, "date": "2019-05-07_04-04-47", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e691d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69908>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 166.41049444243714, "cost2_max": -94.45539697093909, "outflow_rate_min": 456.33315766459367, "cost1_max": 319.87311100770006, "outflow_rate_mean": 687.2488819194391, "system_level_velocity_mean": 9.88881406734779, "cost2_min": -200.98184498629377, "system_level_velocity_min": 6.305387226170754, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 11.972401016714214, "cost1_mean": 261.30686434828243, "cost2_mean": -150.46814650875342}, "policy_reward_mean": {}, "timesteps_this_iter": 46285, "episodes_this_iter": 13, "training_iteration": 11, "done": false, "episode_reward_mean": 926.4759456898236, "iterations_since_restore": 11, "pid": 304, "time_total_s": 286.9718360900879, "timestamp": 1557201887, "episode_reward_min": 549.0034953713144, "time_since_restore": 286.9718360900879, "episode_reward_max": 1121.8950085439628, "episodes_total": 137, "timesteps_since_restore": 520270, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.966, "num_steps_sampled": 564776, "num_steps_trained": 564776, "default": {"entropy": 1.3503097295761108, "policy_loss": -0.0022699697874486446, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9529378414154053, "vf_loss": 6.198378086090088, "total_loss": 6.196543216705322, "cur_lr": 0.0005000000237487257, "kl": 0.008694715797901154}, "sample_time_ms": 13548.951, "load_time_ms": 13.813, "grad_time_ms": 10110.727}, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "timesteps_total": 564776, "time_this_iter_s": 24.322469234466553, "date": "2019-05-07_04-05-11", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc50>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 210.05467385401255, "cost2_max": -97.27471521055905, "outflow_rate_min": 560.5859478449836, "cost1_max": 320.14594597826436, "outflow_rate_mean": 715.345376823001, "system_level_velocity_mean": 10.264921384867453, "cost2_min": -200.98184498629377, "system_level_velocity_min": 8.130654750028413, "outflow_rate_max": 832.8642512598955, "system_level_velocity_max": 11.972401016714214, "cost1_mean": 272.13919758081744, "cost2_mean": -159.48059727899056}, "policy_reward_mean": {}, "timesteps_this_iter": 44506, "episodes_this_iter": 17, "training_iteration": 12, "done": false, "episode_reward_mean": 987.0180039529484, "iterations_since_restore": 12, "pid": 304, "time_total_s": 311.29430532455444, "timestamp": 1557201911, "episode_reward_min": 620.6252724929093, "time_since_restore": 311.29430532455444, "episode_reward_max": 1186.2538565387272, "episodes_total": 154, "timesteps_since_restore": 564776, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.837, "num_steps_sampled": 610572, "num_steps_trained": 610572, "default": {"entropy": 1.3519119024276733, "policy_loss": -0.0026457495987415314, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9441232681274414, "vf_loss": 5.518846035003662, "total_loss": 5.5166916847229, "cur_lr": 0.0005000000237487257, "kl": 0.009837083518505096}, "sample_time_ms": 13365.284, "load_time_ms": 14.002, "grad_time_ms": 9974.946}, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "timesteps_total": 610572, "time_this_iter_s": 23.09098505973816, "date": "2019-05-07_04-05-34", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb002b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00cc0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 210.05467385401255, "cost2_max": -101.12482920176319, "outflow_rate_min": 587.7720586847715, "cost1_max": 332.43220574698734, "outflow_rate_mean": 726.6079139666533, "system_level_velocity_mean": 10.414578263354386, "cost2_min": -200.98184498629377, "system_level_velocity_min": 8.130654750028413, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 12.211790600675704, "cost1_mean": 276.8836246271326, "cost2_mean": -161.05787581659214}, "policy_reward_mean": {}, "timesteps_this_iter": 45796, "episodes_this_iter": 12, "training_iteration": 13, "done": false, "episode_reward_mean": 1013.7372612191424, "iterations_since_restore": 13, "pid": 304, "time_total_s": 334.3852903842926, "timestamp": 1557201934, "episode_reward_min": 820.1083772675324, "time_since_restore": 334.3852903842926, "episode_reward_max": 1195.2390282164108, "episodes_total": 166, "timesteps_since_restore": 610572, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.76, "num_steps_sampled": 655765, "num_steps_trained": 655765, "default": {"entropy": 1.3361674547195435, "policy_loss": -0.002137924311682582, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.932018518447876, "vf_loss": 8.661673545837402, "total_loss": 8.659984588623047, "cur_lr": 0.0005000000237487257, "kl": 0.008971157483756542}, "sample_time_ms": 13507.128, "load_time_ms": 13.871, "grad_time_ms": 9956.042}, "episode_len_mean": 693.5, "num_metric_batches_dropped": 0, "timesteps_total": 655765, "time_this_iter_s": 23.035266160964966, "date": "2019-05-07_04-05-57", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 326.3279975793562, "cost1_max": 332.43220574698734, "outflow_rate_mean": 729.0169434506722, "system_level_velocity_mean": 10.606712324312372, "cost2_min": -191.7028448871029, "system_level_velocity_min": 8.130654750028413, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.371972354132218, "cost1_mean": 278.02651028436156, "cost2_mean": -157.5652187741766}, "policy_reward_mean": {}, "timesteps_this_iter": 45193, "episodes_this_iter": 14, "training_iteration": 14, "done": false, "episode_reward_mean": 1014.3421968116686, "iterations_since_restore": 14, "pid": 304, "time_total_s": 357.42055654525757, "timestamp": 1557201957, "episode_reward_min": 68.08325485980528, "time_since_restore": 357.42055654525757, "episode_reward_max": 1195.2390282164108, "episodes_total": 180, "timesteps_since_restore": 655765, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.849, "num_steps_sampled": 700455, "num_steps_trained": 700455, "default": {"entropy": 1.3255411386489868, "policy_loss": -0.00210832548327744, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9304552674293518, "vf_loss": 8.215226173400879, "total_loss": 8.213546752929688, "cur_lr": 0.0005000000237487257, "kl": 0.008572738617658615}, "sample_time_ms": 13560.868, "load_time_ms": 13.795, "grad_time_ms": 9899.965}, "episode_len_mean": 693.5, "num_metric_batches_dropped": 0, "timesteps_total": 700455, "time_this_iter_s": 22.43898892402649, "date": "2019-05-07_04-06-20", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 326.3279975793562, "cost1_max": 338.5206598615911, "outflow_rate_mean": 734.3353129547976, "system_level_velocity_mean": 10.711148783302844, "cost2_min": -188.4960396013317, "system_level_velocity_min": 9.155929366816968, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.371972354132218, "cost1_mean": 282.02554492009136, "cost2_mean": -154.52268759429765}, "policy_reward_mean": {}, "timesteps_this_iter": 44690, "episodes_this_iter": 15, "training_iteration": 15, "done": false, "episode_reward_mean": 1029.060425592911, "iterations_since_restore": 15, "pid": 304, "time_total_s": 379.85954546928406, "timestamp": 1557201980, "episode_reward_min": 68.08325485980528, "time_since_restore": 379.85954546928406, "episode_reward_max": 1195.2390282164108, "episodes_total": 195, "timesteps_since_restore": 700455, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.921, "num_steps_sampled": 745650, "num_steps_trained": 745650, "default": {"entropy": 1.3136831521987915, "policy_loss": -0.0017641951562836766, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9424580931663513, "vf_loss": 7.150774955749512, "total_loss": 7.149365425109863, "cur_lr": 0.0005000000237487257, "kl": 0.00710793724283576}, "sample_time_ms": 13386.154, "load_time_ms": 13.542, "grad_time_ms": 9833.429}, "episode_len_mean": 693.5, "num_metric_batches_dropped": 0, "timesteps_total": 745650, "time_this_iter_s": 22.765679836273193, "date": "2019-05-07_04-06-42", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c390>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 326.3279975793562, "cost1_max": 338.5206598615911, "outflow_rate_mean": 738.5951313679097, "system_level_velocity_mean": 10.843428302634727, "cost2_min": -187.70277502622974, "system_level_velocity_min": 9.155929366816968, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.371972354132218, "cost1_mean": 286.3871592678785, "cost2_mean": -151.1430945002527}, "policy_reward_mean": {}, "timesteps_this_iter": 45195, "episodes_this_iter": 13, "training_iteration": 16, "done": false, "episode_reward_mean": 1042.2088569956782, "iterations_since_restore": 16, "pid": 304, "time_total_s": 402.62522530555725, "timestamp": 1557202002, "episode_reward_min": 68.08325485980528, "time_since_restore": 402.62522530555725, "episode_reward_max": 1229.122203350155, "episodes_total": 208, "timesteps_since_restore": 745650, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.744, "num_steps_sampled": 790473, "num_steps_trained": 790473, "default": {"entropy": 1.295792818069458, "policy_loss": -0.0019611890893429518, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.940862774848938, "vf_loss": 7.515838623046875, "total_loss": 7.51434850692749, "cur_lr": 0.0005000000237487257, "kl": 0.009434349834918976}, "sample_time_ms": 13536.516, "load_time_ms": 13.604, "grad_time_ms": 9712.858}, "episode_len_mean": 693.5, "num_metric_batches_dropped": 0, "timesteps_total": 790473, "time_this_iter_s": 24.341090440750122, "date": "2019-05-07_04-07-07", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c668>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c8d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 326.3279975793562, "cost1_max": 338.5206598615911, "outflow_rate_mean": 750.5734672348176, "system_level_velocity_mean": 11.041100390801974, "cost2_min": -193.19759436438216, "system_level_velocity_min": 9.155929366816968, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.371972354132218, "cost1_mean": 292.843549385619, "cost2_mean": -153.27939839625506}, "policy_reward_mean": {}, "timesteps_this_iter": 44823, "episodes_this_iter": 16, "training_iteration": 17, "done": false, "episode_reward_mean": 1075.0778934170974, "iterations_since_restore": 17, "pid": 304, "time_total_s": 426.9663157463074, "timestamp": 1557202027, "episode_reward_min": 68.08325485980528, "time_since_restore": 426.9663157463074, "episode_reward_max": 1286.140215079906, "episodes_total": 224, "timesteps_since_restore": 790473, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.572, "num_steps_sampled": 838009, "num_steps_trained": 838009, "default": {"entropy": 1.3039113283157349, "policy_loss": -0.0012322793481871486, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9478169083595276, "vf_loss": 5.934724807739258, "total_loss": 5.933925628662109, "cur_lr": 0.0005000000237487257, "kl": 0.008656593970954418}, "sample_time_ms": 13673.815, "load_time_ms": 13.491, "grad_time_ms": 9694.598}, "episode_len_mean": 687.03, "num_metric_batches_dropped": 0, "timesteps_total": 838009, "time_this_iter_s": 25.607651233673096, "date": "2019-05-07_04-07-32", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1ddd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e797b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dd68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 324.61478118186216, "cost1_max": 338.5206598615911, "outflow_rate_mean": 754.2113249190933, "system_level_velocity_mean": 11.217966782019882, "cost2_min": -193.19759436438216, "system_level_velocity_min": 9.155929366816968, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.376626934697764, "cost1_mean": 293.49321200192054, "cost2_mean": -155.55117343351955}, "policy_reward_mean": {}, "timesteps_this_iter": 47536, "episodes_this_iter": 16, "training_iteration": 18, "done": false, "episode_reward_mean": 1081.6041602176192, "iterations_since_restore": 18, "pid": 304, "time_total_s": 452.57396697998047, "timestamp": 1557202052, "episode_reward_min": 65.79845049188093, "time_since_restore": 452.57396697998047, "episode_reward_max": 1286.140215079906, "episodes_total": 240, "timesteps_since_restore": 838009, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.554, "num_steps_sampled": 884603, "num_steps_trained": 884603, "default": {"entropy": 1.2836358547210693, "policy_loss": -0.0018192544812336564, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9793888926506042, "vf_loss": 3.120081663131714, "total_loss": 3.1186468601226807, "cur_lr": 0.0005000000237487257, "kl": 0.007694747298955917}, "sample_time_ms": 13721.869, "load_time_ms": 13.496, "grad_time_ms": 9760.622}, "episode_len_mean": 687.03, "num_metric_batches_dropped": 0, "timesteps_total": 884603, "time_this_iter_s": 24.723483562469482, "date": "2019-05-07_04-07-57", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e719e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 324.61478118186216, "cost1_max": 338.5206598615911, "outflow_rate_mean": 753.8355453188591, "system_level_velocity_mean": 11.195716487599704, "cost2_min": -193.19759436438216, "system_level_velocity_min": 9.155929366816968, "outflow_rate_max": 858.2809696326188, "system_level_velocity_max": 18.376626934697764, "cost1_mean": 293.3314610151628, "cost2_mean": -155.7454169704264}, "policy_reward_mean": {}, "timesteps_this_iter": 46594, "episodes_this_iter": 10, "training_iteration": 19, "done": false, "episode_reward_mean": 1083.9651405373972, "iterations_since_restore": 19, "pid": 304, "time_total_s": 477.29745054244995, "timestamp": 1557202077, "episode_reward_min": 65.79845049188093, "time_since_restore": 477.29745054244995, "episode_reward_max": 1286.140215079906, "episodes_total": 250, "timesteps_since_restore": 884603, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.652, "num_steps_sampled": 929988, "num_steps_trained": 929988, "default": {"entropy": 1.2854431867599487, "policy_loss": -0.0017167560290545225, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9459396004676819, "vf_loss": 6.75533390045166, "total_loss": 6.753952980041504, "cur_lr": 0.0005000000237487257, "kl": 0.006709004752337933}, "sample_time_ms": 13742.002, "load_time_ms": 13.544, "grad_time_ms": 9883.434}, "episode_len_mean": 687.03, "num_metric_batches_dropped": 0, "timesteps_total": 929988, "time_this_iter_s": 23.881174087524414, "date": "2019-05-07_04-08-21", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cbe0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cd68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.12865789071451, "cost2_max": -25.47714477175013, "outflow_rate_min": 324.61478118186216, "cost1_max": 338.5206598615911, "outflow_rate_mean": 754.639490072695, "system_level_velocity_mean": 11.200268646297538, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.70480195299216, "outflow_rate_max": 851.8983454342217, "system_level_velocity_max": 18.376626934697764, "cost1_mean": 293.8140596811967, "cost2_mean": -156.16234531255165}, "policy_reward_mean": {}, "timesteps_this_iter": 45385, "episodes_this_iter": 15, "training_iteration": 20, "done": false, "episode_reward_mean": 1086.3144877343316, "iterations_since_restore": 20, "pid": 304, "time_total_s": 501.17862462997437, "timestamp": 1557202101, "episode_reward_min": 65.79845049188093, "time_since_restore": 501.17862462997437, "episode_reward_max": 1286.140215079906, "episodes_total": 265, "timesteps_since_restore": 929988, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.82, "num_steps_sampled": 973250, "num_steps_trained": 973250, "default": {"entropy": 1.2771759033203125, "policy_loss": -0.0038828523829579353, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8904096484184265, "vf_loss": 11.883357048034668, "total_loss": 11.880094528198242, "cur_lr": 0.0005000000237487257, "kl": 0.012376504950225353}, "sample_time_ms": 13754.38, "load_time_ms": 13.712, "grad_time_ms": 9858.259}, "episode_len_mean": 693.53, "num_metric_batches_dropped": 0, "timesteps_total": 973250, "time_this_iter_s": 22.877464056015015, "date": "2019-05-07_04-08-44", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f60>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 35.576986040700206, "cost2_max": -26.432731071821685, "outflow_rate_min": 324.61478118186216, "cost1_max": 338.5206598615911, "outflow_rate_mean": 757.1005252587546, "system_level_velocity_mean": 11.075859929551916, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.554699769003816, "outflow_rate_max": 851.8983454342217, "system_level_velocity_max": 18.376626934697764, "cost1_mean": 295.3608660047679, "cost2_mean": -154.72871922386193}, "policy_reward_mean": {}, "timesteps_this_iter": 43262, "episodes_this_iter": 15, "training_iteration": 21, "done": false, "episode_reward_mean": 1098.8865513134808, "iterations_since_restore": 21, "pid": 304, "time_total_s": 524.0560886859894, "timestamp": 1557202124, "episode_reward_min": 65.79845049188093, "time_since_restore": 524.0560886859894, "episode_reward_max": 1286.140215079906, "episodes_total": 280, "timesteps_since_restore": 973250, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.902, "num_steps_sampled": 1015658, "num_steps_trained": 1015658, "default": {"entropy": 1.2837640047073364, "policy_loss": -0.003179240506142378, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.7968763113021851, "vf_loss": 16.916025161743164, "total_loss": 16.91346549987793, "cur_lr": 0.0005000000237487257, "kl": 0.012434314005076885}, "sample_time_ms": 13524.846, "load_time_ms": 13.685, "grad_time_ms": 9891.368}, "episode_len_mean": 686.99, "num_metric_batches_dropped": 0, "timesteps_total": 1015658, "time_this_iter_s": 22.358686208724976, "date": "2019-05-07_04-09-06", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1def0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1db70>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.953575588949864, "cost2_max": -23.711946154044792, "outflow_rate_min": 324.61478118186216, "cost1_max": 337.0956693020067, "outflow_rate_mean": 752.4426036464735, "system_level_velocity_mean": 11.098917938907716, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.554699769003816, "outflow_rate_max": 851.8983454342217, "system_level_velocity_max": 18.558328890736952, "cost1_mean": 291.3471446440615, "cost2_mean": -145.8587147906497}, "policy_reward_mean": {}, "timesteps_this_iter": 42408, "episodes_this_iter": 17, "training_iteration": 22, "done": false, "episode_reward_mean": 1079.3669502006178, "iterations_since_restore": 22, "pid": 304, "time_total_s": 546.4147748947144, "timestamp": 1557202146, "episode_reward_min": 53.66181681643869, "time_since_restore": 546.4147748947144, "episode_reward_max": 1286.140215079906, "episodes_total": 297, "timesteps_since_restore": 1015658, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.909, "num_steps_sampled": 1057303, "num_steps_trained": 1057303, "default": {"entropy": 1.2903794050216675, "policy_loss": -0.0020759901963174343, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.7592788338661194, "vf_loss": 18.215469360351562, "total_loss": 18.213903427124023, "cur_lr": 0.0005000000237487257, "kl": 0.010191396810114384}, "sample_time_ms": 13578.065, "load_time_ms": 13.52, "grad_time_ms": 9833.959}, "episode_len_mean": 680.49, "num_metric_batches_dropped": 0, "timesteps_total": 1057303, "time_this_iter_s": 23.03898048400879, "date": "2019-05-07_04-09-29", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e719e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f60>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.953575588949864, "cost2_max": -20.629182531839596, "outflow_rate_min": 324.61478118186216, "cost1_max": 330.59185023489346, "outflow_rate_mean": 740.0541643929245, "system_level_velocity_mean": 11.00290403102631, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.554699769003816, "outflow_rate_max": 842.8853087176944, "system_level_velocity_max": 18.558328890736952, "cost1_mean": 284.1381551156879, "cost2_mean": -136.1540401226365}, "policy_reward_mean": {}, "timesteps_this_iter": 41645, "episodes_this_iter": 17, "training_iteration": 23, "done": false, "episode_reward_mean": 1051.8290856635788, "iterations_since_restore": 23, "pid": 304, "time_total_s": 569.4537553787231, "timestamp": 1557202169, "episode_reward_min": 53.66181681643869, "time_since_restore": 569.4537553787231, "episode_reward_max": 1286.140215079906, "episodes_total": 314, "timesteps_since_restore": 1057303, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.908, "num_steps_sampled": 1099476, "num_steps_trained": 1099476, "default": {"entropy": 1.2877960205078125, "policy_loss": -0.002103813923895359, "cur_kl_coeff": 0.05000000074505806, "vf_explained_var": 0.8329284191131592, "vf_loss": 13.409601211547852, "total_loss": 13.407936096191406, "cur_lr": 0.0005000000237487257, "kl": 0.00874281208962202}, "sample_time_ms": 13606.896, "load_time_ms": 13.664, "grad_time_ms": 9819.005}, "episode_len_mean": 686.96, "num_metric_batches_dropped": 0, "timesteps_total": 1099476, "time_this_iter_s": 23.177605867385864, "date": "2019-05-07_04-09-53", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1da90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dd30>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.953575588949864, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 325.4775378032103, "outflow_rate_mean": 739.6071719846536, "system_level_velocity_mean": 10.860472909396005, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.554699769003816, "outflow_rate_max": 842.8853087176944, "system_level_velocity_max": 18.558328890736952, "cost1_mean": 284.54442927276153, "cost2_mean": -124.93228586016035}, "policy_reward_mean": {}, "timesteps_this_iter": 42173, "episodes_this_iter": 15, "training_iteration": 24, "done": false, "episode_reward_mean": 1049.7579325969032, "iterations_since_restore": 24, "pid": 304, "time_total_s": 592.631361246109, "timestamp": 1557202193, "episode_reward_min": 53.66181681643869, "time_since_restore": 592.631361246109, "episode_reward_max": 1280.1581643189056, "episodes_total": 329, "timesteps_since_restore": 1099476, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.885, "num_steps_sampled": 1142800, "num_steps_trained": 1142800, "default": {"entropy": 1.2708948850631714, "policy_loss": -0.0022102880757302046, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8195725679397583, "vf_loss": 14.569414138793945, "total_loss": 14.567741394042969, "cur_lr": 0.0005000000237487257, "kl": 0.010778176598250866}, "sample_time_ms": 13709.674, "load_time_ms": 13.659, "grad_time_ms": 9855.115}, "episode_len_mean": 686.96, "num_metric_batches_dropped": 0, "timesteps_total": 1142800, "time_this_iter_s": 23.830267190933228, "date": "2019-05-07_04-10-17", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1d748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1d668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc88>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.953575588949864, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 325.8406196911348, "outflow_rate_mean": 740.9544196929745, "system_level_velocity_mean": 10.880124148853408, "cost2_min": -197.88011128425842, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 844.2688856724482, "system_level_velocity_max": 18.558328890736952, "cost1_mean": 284.705916785097, "cost2_mean": -113.4777770032452}, "policy_reward_mean": {}, "timesteps_this_iter": 43324, "episodes_this_iter": 14, "training_iteration": 25, "done": false, "episode_reward_mean": 1041.7257031224594, "iterations_since_restore": 25, "pid": 304, "time_total_s": 616.4616284370422, "timestamp": 1557202217, "episode_reward_min": 53.66181681643869, "time_since_restore": 616.4616284370422, "episode_reward_max": 1205.888657856105, "episodes_total": 343, "timesteps_since_restore": 1142800, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.855, "num_steps_sampled": 1185406, "num_steps_trained": 1185406, "default": {"entropy": 1.2636322975158691, "policy_loss": -0.0017671986715868115, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8530846238136292, "vf_loss": 13.374847412109375, "total_loss": 13.373614311218262, "cur_lr": 0.0005000000237487257, "kl": 0.010663782246410847}, "sample_time_ms": 13696.763, "load_time_ms": 13.631, "grad_time_ms": 9870.076}, "episode_len_mean": 686.96, "num_metric_batches_dropped": 0, "timesteps_total": 1185406, "time_this_iter_s": 22.792675733566284, "date": "2019-05-07_04-10-39", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.953575588949864, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 325.8406196911348, "outflow_rate_mean": 739.4086968035186, "system_level_velocity_mean": 10.862256760970606, "cost2_min": -193.7265358596378, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 844.2688856724482, "system_level_velocity_max": 18.558328890736952, "cost1_mean": 283.8819379558798, "cost2_mean": -101.57213813187556}, "policy_reward_mean": {}, "timesteps_this_iter": 42606, "episodes_this_iter": 15, "training_iteration": 26, "done": false, "episode_reward_mean": 1034.9370028805724, "iterations_since_restore": 26, "pid": 304, "time_total_s": 639.2543041706085, "timestamp": 1557202239, "episode_reward_min": 53.66181681643869, "time_since_restore": 639.2543041706085, "episode_reward_max": 1187.8680843635086, "episodes_total": 358, "timesteps_since_restore": 1185406, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.965, "num_steps_sampled": 1226928, "num_steps_trained": 1226928, "default": {"entropy": 1.249738335609436, "policy_loss": -0.003018386662006378, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8504438996315002, "vf_loss": 16.034282684326172, "total_loss": 16.031843185424805, "cur_lr": 0.0005000000237487257, "kl": 0.01165330596268177}, "sample_time_ms": 13576.799, "load_time_ms": 13.657, "grad_time_ms": 9769.361}, "episode_len_mean": 680.41, "num_metric_batches_dropped": 0, "timesteps_total": 1226928, "time_this_iter_s": 22.135844469070435, "date": "2019-05-07_04-11-02", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98c18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e984a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 330.60691512952, "outflow_rate_mean": 741.0154951854099, "system_level_velocity_mean": 11.062644669710918, "cost2_min": -166.40162600170936, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 849.5255827475526, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 284.18128245800295, "cost2_mean": -91.67125494254032}, "policy_reward_mean": {}, "timesteps_this_iter": 41522, "episodes_this_iter": 17, "training_iteration": 27, "done": false, "episode_reward_mean": 1023.9218700311923, "iterations_since_restore": 27, "pid": 304, "time_total_s": 661.390148639679, "timestamp": 1557202262, "episode_reward_min": 53.66181681643869, "time_since_restore": 661.390148639679, "episode_reward_max": 1173.161574052231, "episodes_total": 375, "timesteps_since_restore": 1226928, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.974, "num_steps_sampled": 1268791, "num_steps_trained": 1268791, "default": {"entropy": 1.241817593574524, "policy_loss": -0.0027487080078572035, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8593637943267822, "vf_loss": 14.579167366027832, "total_loss": 14.576870918273926, "cur_lr": 0.0005000000237487257, "kl": 0.009053714573383331}, "sample_time_ms": 13402.228, "load_time_ms": 13.559, "grad_time_ms": 9663.835}, "episode_len_mean": 686.95, "num_metric_batches_dropped": 0, "timesteps_total": 1268791, "time_this_iter_s": 22.803468465805054, "date": "2019-05-07_04-11-24", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1db70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1da58>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 330.60691512952, "outflow_rate_mean": 750.2814732914389, "system_level_velocity_mean": 11.070748399098285, "cost2_min": -139.74828080876307, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 856.9482469203881, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 289.0201354383737, "cost2_mean": -89.42419040700713}, "policy_reward_mean": {}, "timesteps_this_iter": 41863, "episodes_this_iter": 16, "training_iteration": 28, "done": false, "episode_reward_mean": 1041.779816454762, "iterations_since_restore": 28, "pid": 304, "time_total_s": 684.193617105484, "timestamp": 1557202284, "episode_reward_min": 58.499690686518996, "time_since_restore": 684.193617105484, "episode_reward_max": 1199.1846847132267, "episodes_total": 391, "timesteps_since_restore": 1268791, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.008, "num_steps_sampled": 1311276, "num_steps_trained": 1311276, "default": {"entropy": 1.2363566160202026, "policy_loss": -0.002684700069949031, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8631465435028076, "vf_loss": 13.877870559692383, "total_loss": 13.87568473815918, "cur_lr": 0.0005000000237487257, "kl": 0.009977498091757298}, "sample_time_ms": 13308.482, "load_time_ms": 13.368, "grad_time_ms": 9544.861}, "episode_len_mean": 686.95, "num_metric_batches_dropped": 0, "timesteps_total": 1311276, "time_this_iter_s": 22.591700553894043, "date": "2019-05-07_04-11-47", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98978>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -20.629182531839596, "outflow_rate_min": 326.3279975793562, "cost1_max": 334.0569999136793, "outflow_rate_mean": 755.1337622009379, "system_level_velocity_mean": 11.183050897768922, "cost2_min": -139.74828080876307, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 856.9482469203881, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 291.9203584476022, "cost2_mean": -87.24876891642005}, "policy_reward_mean": {}, "timesteps_this_iter": 42485, "episodes_this_iter": 16, "training_iteration": 29, "done": false, "episode_reward_mean": 1047.7582261446541, "iterations_since_restore": 29, "pid": 304, "time_total_s": 706.785317659378, "timestamp": 1557202307, "episode_reward_min": 58.499690686518996, "time_since_restore": 706.785317659378, "episode_reward_max": 1199.1846847132267, "episodes_total": 407, "timesteps_since_restore": 1311276, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.064, "num_steps_sampled": 1353796, "num_steps_trained": 1353796, "default": {"entropy": 1.2452874183654785, "policy_loss": -0.003205465618520975, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8754276037216187, "vf_loss": 14.94619369506836, "total_loss": 14.943572998046875, "cur_lr": 0.0005000000237487257, "kl": 0.011714193038642406}, "sample_time_ms": 13335.16, "load_time_ms": 13.247, "grad_time_ms": 9416.839}, "episode_len_mean": 687.74, "num_metric_batches_dropped": 0, "timesteps_total": 1353796, "time_this_iter_s": 22.855180978775024, "date": "2019-05-07_04-12-10", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb002e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -22.775516128613706, "outflow_rate_min": 328.79979500073733, "cost1_max": 334.0569999136793, "outflow_rate_mean": 761.1643495411266, "system_level_velocity_mean": 11.265716836951468, "cost2_min": -114.10736502395984, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 861.0486859184916, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 294.9793079546633, "cost2_mean": -87.0782101483261}, "policy_reward_mean": {}, "timesteps_this_iter": 42520, "episodes_this_iter": 15, "training_iteration": 30, "done": false, "episode_reward_mean": 1057.5445087840892, "iterations_since_restore": 30, "pid": 304, "time_total_s": 729.6404986381531, "timestamp": 1557202330, "episode_reward_min": 58.499690686518996, "time_since_restore": 729.6404986381531, "episode_reward_max": 1199.1846847132267, "episodes_total": 422, "timesteps_since_restore": 1353796, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.796, "num_steps_sampled": 1397044, "num_steps_trained": 1397044, "default": {"entropy": 1.2547519207000732, "policy_loss": -0.00199668831191957, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9027637243270874, "vf_loss": 11.574211120605469, "total_loss": 11.572749137878418, "cur_lr": 0.0005000000237487257, "kl": 0.010677643120288849}, "sample_time_ms": 13383.785, "load_time_ms": 13.162, "grad_time_ms": 9446.674}, "episode_len_mean": 687.74, "num_metric_batches_dropped": 0, "timesteps_total": 1397044, "time_this_iter_s": 23.659607648849487, "date": "2019-05-07_04-12-34", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98828>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -22.775516128613706, "outflow_rate_min": 328.79979500073733, "cost1_max": 334.0569999136793, "outflow_rate_mean": 763.6054547374753, "system_level_velocity_mean": 11.315491146959817, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.50218481536372, "outflow_rate_max": 861.0486859184916, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 296.47027656066564, "cost2_mean": -89.1345645408378}, "policy_reward_mean": {}, "timesteps_this_iter": 43248, "episodes_this_iter": 13, "training_iteration": 31, "done": false, "episode_reward_mean": 1066.0429645331826, "iterations_since_restore": 31, "pid": 304, "time_total_s": 753.3001062870026, "timestamp": 1557202354, "episode_reward_min": 58.499690686518996, "time_since_restore": 753.3001062870026, "episode_reward_max": 1237.092245624518, "episodes_total": 435, "timesteps_since_restore": 1397044, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.872, "num_steps_sampled": 1438732, "num_steps_trained": 1438732, "default": {"entropy": 1.2321606874465942, "policy_loss": -0.0037449360825121403, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8582220673561096, "vf_loss": 16.262556076049805, "total_loss": 16.259471893310547, "cur_lr": 0.0005000000237487257, "kl": 0.013236510567367077}, "sample_time_ms": 13406.943, "load_time_ms": 13.022, "grad_time_ms": 9443.668}, "episode_len_mean": 681.24, "num_metric_batches_dropped": 0, "timesteps_total": 1438732, "time_this_iter_s": 22.554866552352905, "date": "2019-05-07_04-12-56", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e799b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.802726516875666, "cost2_max": -22.775516128613706, "outflow_rate_min": 326.3279975793562, "cost1_max": 334.0569999136793, "outflow_rate_mean": 768.6511034652659, "system_level_velocity_mean": 11.554197610794853, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.825018867391014, "outflow_rate_max": 861.0486859184916, "system_level_velocity_max": 18.92584136834752, "cost1_mean": 298.157329418073, "cost2_mean": -89.0116629672671}, "policy_reward_mean": {}, "timesteps_this_iter": 41688, "episodes_this_iter": 17, "training_iteration": 32, "done": false, "episode_reward_mean": 1059.7640916004632, "iterations_since_restore": 32, "pid": 304, "time_total_s": 775.8549728393555, "timestamp": 1557202376, "episode_reward_min": 58.499690686518996, "time_since_restore": 775.8549728393555, "episode_reward_max": 1237.092245624518, "episodes_total": 452, "timesteps_since_restore": 1438732, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.861, "num_steps_sampled": 1480201, "num_steps_trained": 1480201, "default": {"entropy": 1.2276854515075684, "policy_loss": -0.0032747157383710146, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8311657905578613, "vf_loss": 17.589548110961914, "total_loss": 17.586872100830078, "cur_lr": 0.0005000000237487257, "kl": 0.01204048190265894}, "sample_time_ms": 13258.143, "load_time_ms": 13.102, "grad_time_ms": 9437.254}, "episode_len_mean": 687.79, "num_metric_batches_dropped": 0, "timesteps_total": 1480201, "time_this_iter_s": 21.492270946502686, "date": "2019-05-07_04-13-18", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98978>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.40716731089391, "cost2_max": -23.680084228091403, "outflow_rate_min": 326.3279975793562, "cost1_max": 334.0569999136793, "outflow_rate_mean": 775.3560570570502, "system_level_velocity_mean": 11.534078564665954, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.825018867391014, "outflow_rate_max": 861.0486859184916, "system_level_velocity_max": 18.485444919422612, "cost1_mean": 301.90709852249995, "cost2_mean": -86.36867421140926}, "policy_reward_mean": {}, "timesteps_this_iter": 41469, "episodes_this_iter": 15, "training_iteration": 33, "done": false, "episode_reward_mean": 1064.943882075293, "iterations_since_restore": 33, "pid": 304, "time_total_s": 797.3472437858582, "timestamp": 1557202398, "episode_reward_min": 60.56717784852021, "time_since_restore": 797.3472437858582, "episode_reward_max": 1237.092245624518, "episodes_total": 467, "timesteps_since_restore": 1480201, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.923, "num_steps_sampled": 1521292, "num_steps_trained": 1521292, "default": {"entropy": 1.2107776403427124, "policy_loss": -0.003147981595247984, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8068537712097168, "vf_loss": 21.387874603271484, "total_loss": 21.385332107543945, "cur_lr": 0.0005000000237487257, "kl": 0.01210161205381155}, "sample_time_ms": 13164.102, "load_time_ms": 13.013, "grad_time_ms": 9543.511}, "episode_len_mean": 687.79, "num_metric_batches_dropped": 0, "timesteps_total": 1521292, "time_this_iter_s": 23.300272941589355, "date": "2019-05-07_04-13-41", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb006a0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb005c0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.40716731089391, "cost2_max": -23.680084228091403, "outflow_rate_min": 326.3279975793562, "cost1_max": 338.30386790699174, "outflow_rate_mean": 777.0222818184566, "system_level_velocity_mean": 11.588918024912052, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 868.8901941566933, "system_level_velocity_max": 18.485444919422612, "cost1_mean": 302.8621188776696, "cost2_mean": -83.10644331693724}, "policy_reward_mean": {}, "timesteps_this_iter": 41091, "episodes_this_iter": 18, "training_iteration": 34, "done": false, "episode_reward_mean": 1057.261553539598, "iterations_since_restore": 34, "pid": 304, "time_total_s": 820.6475167274475, "timestamp": 1557202421, "episode_reward_min": 60.56717784852021, "time_since_restore": 820.6475167274475, "episode_reward_max": 1237.092245624518, "episodes_total": 485, "timesteps_since_restore": 1521292, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.906, "num_steps_sampled": 1562532, "num_steps_trained": 1562532, "default": {"entropy": 1.201497197151184, "policy_loss": -0.003176629077643156, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8373817801475525, "vf_loss": 19.61172866821289, "total_loss": 19.60921859741211, "cur_lr": 0.0005000000237487257, "kl": 0.013337898999452591}, "sample_time_ms": 12959.985, "load_time_ms": 12.853, "grad_time_ms": 9526.298}, "episode_len_mean": 684.18, "num_metric_batches_dropped": 0, "timesteps_total": 1562532, "time_this_iter_s": 21.61120343208313, "date": "2019-05-07_04-14-03", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98c18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98f28>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.40716731089391, "cost2_max": -23.680084228091403, "outflow_rate_min": 326.3279975793562, "cost1_max": 338.30386790699174, "outflow_rate_mean": 775.5991434250826, "system_level_velocity_mean": 11.661600559923663, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 868.8901941566933, "system_level_velocity_max": 18.485444919422612, "cost1_mean": 302.0937376795412, "cost2_mean": -79.75930747180172}, "policy_reward_mean": {}, "timesteps_this_iter": 41240, "episodes_this_iter": 16, "training_iteration": 35, "done": false, "episode_reward_mean": 1049.1774285663712, "iterations_since_restore": 35, "pid": 304, "time_total_s": 842.2587201595306, "timestamp": 1557202443, "episode_reward_min": 60.56717784852021, "time_since_restore": 842.2587201595306, "episode_reward_max": 1237.092245624518, "episodes_total": 501, "timesteps_since_restore": 1562532, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.887, "num_steps_sampled": 1602457, "num_steps_trained": 1602457, "default": {"entropy": 1.20420503616333, "policy_loss": -0.003351530060172081, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8501349687576294, "vf_loss": 20.197010040283203, "total_loss": 20.194305419921875, "cur_lr": 0.0005000000237487257, "kl": 0.012907308526337147}, "sample_time_ms": 12907.465, "load_time_ms": 12.785, "grad_time_ms": 9394.137}, "episode_len_mean": 684.18, "num_metric_batches_dropped": 0, "timesteps_total": 1602457, "time_this_iter_s": 20.93480396270752, "date": "2019-05-07_04-14-24", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e987b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e987f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98f60>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.40716731089391, "cost2_max": -23.680084228091403, "outflow_rate_min": 326.3279975793562, "cost1_max": 347.0274758564504, "outflow_rate_mean": 780.2088671899389, "system_level_velocity_mean": 11.75395406123463, "cost2_min": -137.4599522476994, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 871.5670277017132, "system_level_velocity_max": 18.485444919422612, "cost1_mean": 304.0536093289535, "cost2_mean": -77.27278620754927}, "policy_reward_mean": {}, "timesteps_this_iter": 39925, "episodes_this_iter": 18, "training_iteration": 36, "done": false, "episode_reward_mean": 1043.9073543566963, "iterations_since_restore": 36, "pid": 304, "time_total_s": 863.1935241222382, "timestamp": 1557202464, "episode_reward_min": 60.56717784852021, "time_since_restore": 863.1935241222382, "episode_reward_max": 1237.092245624518, "episodes_total": 519, "timesteps_since_restore": 1602457, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.806, "num_steps_sampled": 1642668, "num_steps_trained": 1642668, "default": {"entropy": 1.1909351348876953, "policy_loss": -0.0031489762477576733, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8080711364746094, "vf_loss": 21.791034698486328, "total_loss": 21.788503646850586, "cur_lr": 0.0005000000237487257, "kl": 0.0123809315264225}, "sample_time_ms": 12856.549, "load_time_ms": 12.75, "grad_time_ms": 9427.661}, "episode_len_mean": 689.89, "num_metric_batches_dropped": 0, "timesteps_total": 1642668, "time_this_iter_s": 21.958648204803467, "date": "2019-05-07_04-14-46", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98e10>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.40716731089391, "cost2_max": -23.680084228091403, "outflow_rate_min": 326.3279975793562, "cost1_max": 352.62709301986877, "outflow_rate_mean": 788.5938390369323, "system_level_velocity_mean": 11.789079350823613, "cost2_min": -128.09218424309051, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 906.3154706722942, "system_level_velocity_max": 18.485444919422612, "cost1_mean": 308.20011707956866, "cost2_mean": -73.7341088325369}, "policy_reward_mean": {}, "timesteps_this_iter": 40211, "episodes_this_iter": 17, "training_iteration": 37, "done": false, "episode_reward_mean": 1040.4061029727272, "iterations_since_restore": 37, "pid": 304, "time_total_s": 885.1521723270416, "timestamp": 1557202486, "episode_reward_min": 60.56717784852021, "time_since_restore": 885.1521723270416, "episode_reward_max": 1191.59283703013, "episodes_total": 536, "timesteps_since_restore": 1642668, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.74, "num_steps_sampled": 1683794, "num_steps_trained": 1683794, "default": {"entropy": 1.189514398574829, "policy_loss": -0.003787986934185028, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8464005589485168, "vf_loss": 16.43889045715332, "total_loss": 16.435686111450195, "cur_lr": 0.0005000000237487257, "kl": 0.011677681468427181}, "sample_time_ms": 12768.272, "load_time_ms": 12.859, "grad_time_ms": 9397.328}, "episode_len_mean": 683.36, "num_metric_batches_dropped": 0, "timesteps_total": 1683794, "time_this_iter_s": 21.619832754135132, "date": "2019-05-07_04-15-07", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb007b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb005c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00748>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 352.62709301986877, "outflow_rate_mean": 782.2877201480046, "system_level_velocity_mean": 11.846930197019075, "cost2_min": -128.09218424309051, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 906.3154706722942, "system_level_velocity_max": 18.15424255403051, "cost1_mean": 305.05501220369007, "cost2_mean": -70.5403722028148}, "policy_reward_mean": {}, "timesteps_this_iter": 41126, "episodes_this_iter": 12, "training_iteration": 38, "done": false, "episode_reward_mean": 1026.0456814070712, "iterations_since_restore": 38, "pid": 304, "time_total_s": 906.7720050811768, "timestamp": 1557202507, "episode_reward_min": 56.49685286452292, "time_since_restore": 906.7720050811768, "episode_reward_max": 1154.3789589112018, "episodes_total": 548, "timesteps_since_restore": 1683794, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.78, "num_steps_sampled": 1723832, "num_steps_trained": 1723832, "default": {"entropy": 1.1590131521224976, "policy_loss": -0.0023124562576413155, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8085638284683228, "vf_loss": 21.931503295898438, "total_loss": 21.9298095703125, "cur_lr": 0.0005000000237487257, "kl": 0.012378153391182423}, "sample_time_ms": 12651.891, "load_time_ms": 12.775, "grad_time_ms": 9362.271}, "episode_len_mean": 683.36, "num_metric_batches_dropped": 0, "timesteps_total": 1723832, "time_this_iter_s": 21.068089246749878, "date": "2019-05-07_04-15-28", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dd30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98fd0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 352.62709301986877, "outflow_rate_mean": 785.532353892001, "system_level_velocity_mean": 11.919059792452435, "cost2_min": -85.17363032728838, "system_level_velocity_min": 9.810694804459285, "outflow_rate_max": 906.3154706722942, "system_level_velocity_max": 18.15424255403051, "cost1_mean": 306.8494716469237, "cost2_mean": -69.60634683771136}, "policy_reward_mean": {}, "timesteps_this_iter": 40038, "episodes_this_iter": 18, "training_iteration": 39, "done": false, "episode_reward_mean": 1024.6666305502702, "iterations_since_restore": 39, "pid": 304, "time_total_s": 927.8400943279266, "timestamp": 1557202528, "episode_reward_min": 56.49685286452292, "time_since_restore": 927.8400943279266, "episode_reward_max": 1154.3789589112018, "episodes_total": 566, "timesteps_since_restore": 1723832, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.734, "num_steps_sampled": 1765451, "num_steps_trained": 1765451, "default": {"entropy": 1.172588586807251, "policy_loss": -0.003999765962362289, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8246363401412964, "vf_loss": 21.711898803710938, "total_loss": 21.70856285095215, "cur_lr": 0.0005000000237487257, "kl": 0.013270756229758263}, "sample_time_ms": 12491.266, "load_time_ms": 12.869, "grad_time_ms": 9373.434}, "episode_len_mean": 679.24, "num_metric_batches_dropped": 0, "timesteps_total": 1765451, "time_this_iter_s": 21.36353874206543, "date": "2019-05-07_04-15-50", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e799b0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 352.62709301986877, "outflow_rate_mean": 788.9087476361924, "system_level_velocity_mean": 12.082106545528745, "cost2_min": -85.00704672178546, "system_level_velocity_min": 10.34787695239519, "outflow_rate_max": 906.3154706722942, "system_level_velocity_max": 18.15424255403051, "cost1_mean": 307.87883796377724, "cost2_mean": -68.79101783453405}, "policy_reward_mean": {}, "timesteps_this_iter": 41619, "episodes_this_iter": 17, "training_iteration": 40, "done": false, "episode_reward_mean": 1018.1562378595535, "iterations_since_restore": 40, "pid": 304, "time_total_s": 949.2036330699921, "timestamp": 1557202550, "episode_reward_min": 56.49685286452292, "time_since_restore": 949.2036330699921, "episode_reward_max": 1177.1318314562727, "episodes_total": 583, "timesteps_since_restore": 1765451, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.823, "num_steps_sampled": 1806212, "num_steps_trained": 1806212, "default": {"entropy": 1.187543511390686, "policy_loss": -0.00488204276189208, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8362228870391846, "vf_loss": 22.36394691467285, "total_loss": 22.359712600708008, "cur_lr": 0.0005000000237487257, "kl": 0.013007485307753086}, "sample_time_ms": 12296.32, "load_time_ms": 12.921, "grad_time_ms": 9332.391}, "episode_len_mean": 676.35, "num_metric_batches_dropped": 0, "timesteps_total": 1806212, "time_this_iter_s": 21.301204681396484, "date": "2019-05-07_04-16-11", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dd30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1db70>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 358.1507965548589, "outflow_rate_mean": 791.6015391544399, "system_level_velocity_mean": 12.211707241570299, "cost2_min": -85.00704672178546, "system_level_velocity_min": 10.46002911539246, "outflow_rate_max": 910.8353786552208, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 308.46966773725046, "cost2_mean": -69.34962198562721}, "policy_reward_mean": {}, "timesteps_this_iter": 40761, "episodes_this_iter": 18, "training_iteration": 41, "done": false, "episode_reward_mean": 1020.0612845481305, "iterations_since_restore": 41, "pid": 304, "time_total_s": 970.5048377513885, "timestamp": 1557202571, "episode_reward_min": 56.49685286452292, "time_since_restore": 970.5048377513885, "episode_reward_max": 1177.1318314562727, "episodes_total": 601, "timesteps_since_restore": 1806212, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.682, "num_steps_sampled": 1846897, "num_steps_trained": 1846897, "default": {"entropy": 1.174173355102539, "policy_loss": -0.004466029815375805, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8000325560569763, "vf_loss": 25.027042388916016, "total_loss": 25.023345947265625, "cur_lr": 0.0005000000237487257, "kl": 0.015403997153043747}, "sample_time_ms": 12271.813, "load_time_ms": 12.825, "grad_time_ms": 9257.552}, "episode_len_mean": 667.76, "num_metric_batches_dropped": 0, "timesteps_total": 1846897, "time_this_iter_s": 21.557902097702026, "date": "2019-05-07_04-16-33", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1da58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1ddd8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 358.1507965548589, "outflow_rate_mean": 788.4651640711014, "system_level_velocity_mean": 12.341813603763876, "cost2_min": -87.27505961672742, "system_level_velocity_min": 10.558821402720225, "outflow_rate_max": 910.8353786552208, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 306.20979507072656, "cost2_mean": -69.30180024505746}, "policy_reward_mean": {}, "timesteps_this_iter": 40685, "episodes_this_iter": 19, "training_iteration": 42, "done": false, "episode_reward_mean": 1010.9868943803858, "iterations_since_restore": 42, "pid": 304, "time_total_s": 992.0627398490906, "timestamp": 1557202593, "episode_reward_min": 56.49685286452292, "time_since_restore": 992.0627398490906, "episode_reward_max": 1177.1318314562727, "episodes_total": 620, "timesteps_since_restore": 1846897, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.733, "num_steps_sampled": 1887424, "num_steps_trained": 1887424, "default": {"entropy": 1.1335208415985107, "policy_loss": -0.003980427049100399, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8585495948791504, "vf_loss": 17.819028854370117, "total_loss": 17.815704345703125, "cur_lr": 0.0005000000237487257, "kl": 0.013155805878341198}, "sample_time_ms": 12287.938, "load_time_ms": 12.679, "grad_time_ms": 9224.955}, "episode_len_mean": 661.81, "num_metric_batches_dropped": 0, "timesteps_total": 1887424, "time_this_iter_s": 21.326451063156128, "date": "2019-05-07_04-16-54", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e985c0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.254763439210585, "cost2_max": -22.003652536016254, "outflow_rate_min": 314.4098345622007, "cost1_max": 358.1507965548589, "outflow_rate_mean": 786.8217304878974, "system_level_velocity_mean": 12.449202582134053, "cost2_min": -87.27505961672742, "system_level_velocity_min": 10.558821402720225, "outflow_rate_max": 910.8353786552208, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 304.59521749571655, "cost2_mean": -68.99746975104115}, "policy_reward_mean": {}, "timesteps_this_iter": 40527, "episodes_this_iter": 12, "training_iteration": 43, "done": false, "episode_reward_mean": 1005.3013596076995, "iterations_since_restore": 43, "pid": 304, "time_total_s": 1013.3891909122467, "timestamp": 1557202614, "episode_reward_min": 56.49685286452292, "time_since_restore": 1013.3891909122467, "episode_reward_max": 1177.1318314562727, "episodes_total": 632, "timesteps_since_restore": 1887424, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.795, "num_steps_sampled": 1928168, "num_steps_trained": 1928168, "default": {"entropy": 1.103928804397583, "policy_loss": -0.0036126382183283567, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8278169631958008, "vf_loss": 22.40611457824707, "total_loss": 22.40313720703125, "cur_lr": 0.0005000000237487257, "kl": 0.012715423479676247}, "sample_time_ms": 12167.476, "load_time_ms": 12.653, "grad_time_ms": 9097.828}, "episode_len_mean": 674.84, "num_metric_batches_dropped": 0, "timesteps_total": 1928168, "time_this_iter_s": 20.820347547531128, "date": "2019-05-07_04-17-15", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e987b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98ba8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.37198913582351, "cost2_max": -29.35038968682628, "outflow_rate_min": 326.3279975793562, "cost1_max": 358.1507965548589, "outflow_rate_mean": 803.892374416555, "system_level_velocity_mean": 12.466720077942082, "cost2_min": -87.27505961672742, "system_level_velocity_min": 10.558821402720225, "outflow_rate_max": 910.8353786552208, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 313.26434943674144, "cost2_mean": -70.19037540124278}, "policy_reward_mean": {}, "timesteps_this_iter": 40744, "episodes_this_iter": 18, "training_iteration": 44, "done": false, "episode_reward_mean": 1028.8774805271507, "iterations_since_restore": 44, "pid": 304, "time_total_s": 1034.2095384597778, "timestamp": 1557202635, "episode_reward_min": 59.44380688456637, "time_since_restore": 1034.2095384597778, "episode_reward_max": 1177.1318314562727, "episodes_total": 650, "timesteps_since_restore": 1928168, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.751, "num_steps_sampled": 1968373, "num_steps_trained": 1968373, "default": {"entropy": 1.08199942111969, "policy_loss": -0.00274881930090487, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8283788561820984, "vf_loss": 22.47095489501953, "total_loss": 22.46880531311035, "cur_lr": 0.0005000000237487257, "kl": 0.011967926286160946}, "sample_time_ms": 12120.758, "load_time_ms": 12.829, "grad_time_ms": 9042.658}, "episode_len_mean": 674.84, "num_metric_batches_dropped": 0, "timesteps_total": 1968373, "time_this_iter_s": 20.591451406478882, "date": "2019-05-07_04-17-35", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dd68>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1db70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc18>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.37198913582351, "cost2_max": -29.35038968682628, "outflow_rate_min": 326.3279975793562, "cost1_max": 366.1035540066102, "outflow_rate_mean": 810.0967187155501, "system_level_velocity_mean": 12.585182257128102, "cost2_min": -87.27505961672742, "system_level_velocity_min": 10.558821402720225, "outflow_rate_max": 917.8178932890193, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 315.8363268264549, "cost2_mean": -70.96079458060522}, "policy_reward_mean": {}, "timesteps_this_iter": 40205, "episodes_this_iter": 16, "training_iteration": 45, "done": false, "episode_reward_mean": 1035.938409661415, "iterations_since_restore": 45, "pid": 304, "time_total_s": 1054.8009898662567, "timestamp": 1557202655, "episode_reward_min": 59.44380688456637, "time_since_restore": 1054.8009898662567, "episode_reward_max": 1177.1318314562727, "episodes_total": 666, "timesteps_since_restore": 1968373, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.688, "num_steps_sampled": 2008110, "num_steps_trained": 2008110, "default": {"entropy": 1.0646873712539673, "policy_loss": -0.005003591533750296, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8436936736106873, "vf_loss": 22.275827407836914, "total_loss": 22.27153205871582, "cur_lr": 0.0005000000237487257, "kl": 0.014173271134495735}, "sample_time_ms": 12033.445, "load_time_ms": 13.016, "grad_time_ms": 9058.599}, "episode_len_mean": 678.96, "num_metric_batches_dropped": 0, "timesteps_total": 2008110, "time_this_iter_s": 20.222810983657837, "date": "2019-05-07_04-17-56", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96dd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e967f0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 33.37198913582351, "cost2_max": -29.35038968682628, "outflow_rate_min": 326.3279975793562, "cost1_max": 373.05620623024987, "outflow_rate_mean": 820.5233080099864, "system_level_velocity_mean": 12.68911769684575, "cost2_min": -87.27505961672742, "system_level_velocity_min": 10.558821402720225, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 18.466651206729612, "cost1_mean": 321.06035163969506, "cost2_mean": -71.98071222123745}, "policy_reward_mean": {}, "timesteps_this_iter": 39737, "episodes_this_iter": 18, "training_iteration": 46, "done": false, "episode_reward_mean": 1048.425819747742, "iterations_since_restore": 46, "pid": 304, "time_total_s": 1075.0238008499146, "timestamp": 1557202676, "episode_reward_min": 59.44380688456637, "time_since_restore": 1075.0238008499146, "episode_reward_max": 1189.3682522109648, "episodes_total": 684, "timesteps_since_restore": 2008110, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.676, "num_steps_sampled": 2048292, "num_steps_trained": 2048292, "default": {"entropy": 1.080700159072876, "policy_loss": -0.002636403776705265, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8190220594406128, "vf_loss": 27.269615173339844, "total_loss": 27.267671585083008, "cur_lr": 0.0005000000237487257, "kl": 0.013879816979169846}, "sample_time_ms": 11970.066, "load_time_ms": 12.921, "grad_time_ms": 9041.813}, "episode_len_mean": 685.12, "num_metric_batches_dropped": 0, "timesteps_total": 2048292, "time_this_iter_s": 21.15379810333252, "date": "2019-05-07_04-18-17", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 70.73376309724969, "cost2_max": -38.442790402328825, "outflow_rate_min": 395.7478941412717, "cost1_max": 373.05620623024987, "outflow_rate_mean": 834.6237626722716, "system_level_velocity_mean": 12.79899934853355, "cost2_min": -89.9580888089569, "system_level_velocity_min": 10.996724538506715, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 18.229696176315763, "cost1_mean": 327.60305076300864, "cost2_mean": -72.42714493423136}, "policy_reward_mean": {}, "timesteps_this_iter": 40182, "episodes_this_iter": 21, "training_iteration": 47, "done": false, "episode_reward_mean": 1058.0552624043305, "iterations_since_restore": 47, "pid": 304, "time_total_s": 1096.177598953247, "timestamp": 1557202697, "episode_reward_min": 170.24822223059485, "time_since_restore": 1096.177598953247, "episode_reward_max": 1189.3682522109648, "episodes_total": 705, "timesteps_since_restore": 2048292, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.703, "num_steps_sampled": 2088020, "num_steps_trained": 2088020, "default": {"entropy": 1.075666904449463, "policy_loss": -0.0032383641228079796, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8483189940452576, "vf_loss": 22.171825408935547, "total_loss": 22.169307708740234, "cur_lr": 0.0005000000237487257, "kl": 0.014413304626941681}, "sample_time_ms": 11937.03, "load_time_ms": 12.82, "grad_time_ms": 9026.567}, "episode_len_mean": 677.85, "num_metric_batches_dropped": 0, "timesteps_total": 2088020, "time_this_iter_s": 21.139129161834717, "date": "2019-05-07_04-18-38", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb002e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb002b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00390>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 373.05620623024987, "outflow_rate_mean": 832.3305127690703, "system_level_velocity_mean": 12.93642859625529, "cost2_min": -89.9580888089569, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 325.96684313380297, "cost2_mean": -72.46783394082995}, "policy_reward_mean": {}, "timesteps_this_iter": 39728, "episodes_this_iter": 17, "training_iteration": 48, "done": false, "episode_reward_mean": 1051.8975285375727, "iterations_since_restore": 48, "pid": 304, "time_total_s": 1117.3167281150818, "timestamp": 1557202718, "episode_reward_min": 57.45641198883347, "time_since_restore": 1117.3167281150818, "episode_reward_max": 1189.3682522109648, "episodes_total": 722, "timesteps_since_restore": 2088020, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.723, "num_steps_sampled": 2128784, "num_steps_trained": 2128784, "default": {"entropy": 1.0894591808319092, "policy_loss": -0.004512140527367592, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8259758353233337, "vf_loss": 25.868459701538086, "total_loss": 25.864761352539062, "cur_lr": 0.0005000000237487257, "kl": 0.01627896912395954}, "sample_time_ms": 12030.631, "load_time_ms": 12.88, "grad_time_ms": 9023.623}, "episode_len_mean": 666.48, "num_metric_batches_dropped": 0, "timesteps_total": 2128784, "time_this_iter_s": 21.978514194488525, "date": "2019-05-07_04-19-00", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ac8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 373.05620623024987, "outflow_rate_mean": 832.7196222189971, "system_level_velocity_mean": 13.144221170938255, "cost2_min": -93.7546966929498, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 324.60364322754833, "cost2_mean": -74.10301848421433}, "policy_reward_mean": {}, "timesteps_this_iter": 40764, "episodes_this_iter": 18, "training_iteration": 49, "done": false, "episode_reward_mean": 1042.6826754350352, "iterations_since_restore": 49, "pid": 304, "time_total_s": 1139.2952423095703, "timestamp": 1557202740, "episode_reward_min": 57.45641198883347, "time_since_restore": 1139.2952423095703, "episode_reward_max": 1204.1288973440878, "episodes_total": 740, "timesteps_since_restore": 2128784, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.758, "num_steps_sampled": 2169245, "num_steps_trained": 2169245, "default": {"entropy": 1.0632634162902832, "policy_loss": -0.004756850190460682, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8757191896438599, "vf_loss": 16.643198013305664, "total_loss": 16.639270782470703, "cur_lr": 0.0005000000237487257, "kl": 0.016576075926423073}, "sample_time_ms": 12051.968, "load_time_ms": 12.716, "grad_time_ms": 8995.475}, "episode_len_mean": 664.98, "num_metric_batches_dropped": 0, "timesteps_total": 2169245, "time_this_iter_s": 21.28997254371643, "date": "2019-05-07_04-19-21", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98d68>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 373.05620623024987, "outflow_rate_mean": 834.612272077651, "system_level_velocity_mean": 13.188458696117477, "cost2_min": -96.13549891393373, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 324.91857481915133, "cost2_mean": -75.66138713590048}, "policy_reward_mean": {}, "timesteps_this_iter": 40461, "episodes_this_iter": 13, "training_iteration": 50, "done": false, "episode_reward_mean": 1044.6209773612077, "iterations_since_restore": 50, "pid": 304, "time_total_s": 1160.5852148532867, "timestamp": 1557202761, "episode_reward_min": 57.45641198883347, "time_since_restore": 1160.5852148532867, "episode_reward_max": 1230.1903647871352, "episodes_total": 753, "timesteps_since_restore": 2169245, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.718, "num_steps_sampled": 2210676, "num_steps_trained": 2210676, "default": {"entropy": 1.0452204942703247, "policy_loss": -0.0032712833490222692, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8681145310401917, "vf_loss": 19.94195556640625, "total_loss": 19.939409255981445, "cur_lr": 0.0005000000237487257, "kl": 0.014493755996227264}, "sample_time_ms": 12056.291, "load_time_ms": 12.693, "grad_time_ms": 8979.497}, "episode_len_mean": 659.08, "num_metric_batches_dropped": 0, "timesteps_total": 2210676, "time_this_iter_s": 21.185330867767334, "date": "2019-05-07_04-19-42", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98550>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 382.08429604911964, "outflow_rate_mean": 830.6611833330633, "system_level_velocity_mean": 13.260642619622645, "cost2_min": -100.4941950143624, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 954.5864524180439, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 322.7160472369269, "cost2_mean": -76.95091070959963}, "policy_reward_mean": {}, "timesteps_this_iter": 41431, "episodes_this_iter": 16, "training_iteration": 51, "done": false, "episode_reward_mean": 1038.609897314151, "iterations_since_restore": 51, "pid": 304, "time_total_s": 1181.770545721054, "timestamp": 1557202782, "episode_reward_min": 57.45641198883347, "time_since_restore": 1181.770545721054, "episode_reward_max": 1230.1903647871352, "episodes_total": 769, "timesteps_since_restore": 2210676, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.743, "num_steps_sampled": 2251955, "num_steps_trained": 2251955, "default": {"entropy": 1.0327032804489136, "policy_loss": -0.0021569058299064636, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8671966791152954, "vf_loss": 19.622461318969727, "total_loss": 19.620986938476562, "cur_lr": 0.0005000000237487257, "kl": 0.013650065287947655}, "sample_time_ms": 11968.752, "load_time_ms": 12.732, "grad_time_ms": 9031.359}, "episode_len_mean": 656.85, "num_metric_batches_dropped": 0, "timesteps_total": 2251955, "time_this_iter_s": 21.204046964645386, "date": "2019-05-07_04-20-04", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 389.68291284378563, "outflow_rate_mean": 827.9026434607932, "system_level_velocity_mean": 13.245270908324462, "cost2_min": -108.9007258526996, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 954.4820932121966, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 321.2054591838148, "cost2_mean": -80.10657010517804}, "policy_reward_mean": {}, "timesteps_this_iter": 41279, "episodes_this_iter": 17, "training_iteration": 52, "done": false, "episode_reward_mean": 1045.6671380857424, "iterations_since_restore": 52, "pid": 304, "time_total_s": 1202.9745926856995, "timestamp": 1557202804, "episode_reward_min": 57.45641198883347, "time_since_restore": 1202.9745926856995, "episode_reward_max": 1230.1903647871352, "episodes_total": 786, "timesteps_since_restore": 2251955, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.717, "num_steps_sampled": 2293191, "num_steps_trained": 2293191, "default": {"entropy": 1.0551246404647827, "policy_loss": -0.004386845510452986, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8674346804618835, "vf_loss": 22.226980209350586, "total_loss": 22.22338104248047, "cur_lr": 0.0005000000237487257, "kl": 0.015699191018939018}, "sample_time_ms": 11960.112, "load_time_ms": 12.259, "grad_time_ms": 9013.368}, "episode_len_mean": 661.64, "num_metric_batches_dropped": 0, "timesteps_total": 2293191, "time_this_iter_s": 21.049959182739258, "date": "2019-05-07_04-20-25", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e985c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 31.75676934524066, "cost2_max": -25.847479204334242, "outflow_rate_min": 326.35737326487157, "cost1_max": 389.68291284378563, "outflow_rate_mean": 834.830445666301, "system_level_velocity_mean": 13.248990592920403, "cost2_min": -120.93459009912964, "system_level_velocity_min": 10.38598784927469, "outflow_rate_max": 955.3865186974617, "system_level_velocity_max": 19.175360306105784, "cost1_mean": 324.80441393175346, "cost2_mean": -85.5593233755972}, "policy_reward_mean": {}, "timesteps_this_iter": 41236, "episodes_this_iter": 19, "training_iteration": 53, "done": false, "episode_reward_mean": 1065.6786328968335, "iterations_since_restore": 53, "pid": 304, "time_total_s": 1224.0245518684387, "timestamp": 1557202825, "episode_reward_min": 57.45641198883347, "time_since_restore": 1224.0245518684387, "episode_reward_max": 1266.24605533862, "episodes_total": 805, "timesteps_since_restore": 2293191, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.597, "num_steps_sampled": 2334026, "num_steps_trained": 2334026, "default": {"entropy": 1.064383864402771, "policy_loss": -0.0031469843816012144, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8962897062301636, "vf_loss": 16.82615089416504, "total_loss": 16.823810577392578, "cur_lr": 0.0005000000237487257, "kl": 0.0161258727312088}, "sample_time_ms": 12069.876, "load_time_ms": 12.294, "grad_time_ms": 9019.161}, "episode_len_mean": 673.05, "num_metric_batches_dropped": 0, "timesteps_total": 2334026, "time_this_iter_s": 21.974306106567383, "date": "2019-05-07_04-20-47", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce80>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 75.29117041935056, "cost2_max": -39.779509418782084, "outflow_rate_min": 404.97709698282415, "cost1_max": 389.68291284378563, "outflow_rate_mean": 847.494396338032, "system_level_velocity_mean": 13.20628621042271, "cost2_min": -120.93459009912964, "system_level_velocity_min": 10.796857987130617, "outflow_rate_max": 967.8091976206975, "system_level_velocity_max": 18.677012159404256, "cost1_mean": 331.852698791967, "cost2_mean": -90.20606586019369}, "policy_reward_mean": {}, "timesteps_this_iter": 40835, "episodes_this_iter": 17, "training_iteration": 54, "done": false, "episode_reward_mean": 1088.9003007870506, "iterations_since_restore": 54, "pid": 304, "time_total_s": 1245.998857975006, "timestamp": 1557202847, "episode_reward_min": 161.70636543900494, "time_since_restore": 1245.998857975006, "episode_reward_max": 1266.2520206219779, "episodes_total": 822, "timesteps_since_restore": 2334026, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.586, "num_steps_sampled": 2375503, "num_steps_trained": 2375503, "default": {"entropy": 1.0223488807678223, "policy_loss": -0.0035582890268415213, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8827060461044312, "vf_loss": 18.521121978759766, "total_loss": 18.51836395263672, "cur_lr": 0.0005000000237487257, "kl": 0.015935340896248817}, "sample_time_ms": 12164.674, "load_time_ms": 12.113, "grad_time_ms": 9033.398}, "episode_len_mean": 677.14, "num_metric_batches_dropped": 0, "timesteps_total": 2375503, "time_this_iter_s": 21.688460111618042, "date": "2019-05-07_04-21-09", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -39.779509418782084, "outflow_rate_min": 404.97709698282415, "cost1_max": 389.68291284378563, "outflow_rate_mean": 850.0777855334504, "system_level_velocity_mean": 13.182265712390077, "cost2_min": -120.93459009912964, "system_level_velocity_min": 10.796857987130617, "outflow_rate_max": 967.8091976206975, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 333.370497833401, "cost2_mean": -93.09711487811674}, "policy_reward_mean": {}, "timesteps_this_iter": 41477, "episodes_this_iter": 15, "training_iteration": 55, "done": false, "episode_reward_mean": 1101.6641315552072, "iterations_since_restore": 55, "pid": 304, "time_total_s": 1267.6873180866241, "timestamp": 1557202869, "episode_reward_min": 161.70636543900494, "time_since_restore": 1267.6873180866241, "episode_reward_max": 1286.880783702305, "episodes_total": 837, "timesteps_since_restore": 2375503, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.71, "num_steps_sampled": 2415868, "num_steps_trained": 2415868, "default": {"entropy": 1.024558186531067, "policy_loss": -0.004867988638579845, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8921753168106079, "vf_loss": 16.79976463317871, "total_loss": 16.79571533203125, "cur_lr": 0.0005000000237487257, "kl": 0.016344556584954262}, "sample_time_ms": 12221.101, "load_time_ms": 11.848, "grad_time_ms": 9058.398}, "episode_len_mean": 672.12, "num_metric_batches_dropped": 0, "timesteps_total": 2415868, "time_this_iter_s": 21.0368595123291, "date": "2019-05-07_04-21-30", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1ddd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae22e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -39.779509418782084, "outflow_rate_min": 404.97709698282415, "cost1_max": 389.68291284378563, "outflow_rate_mean": 852.3505947213569, "system_level_velocity_mean": 13.342396391080635, "cost2_min": -125.91841977141456, "system_level_velocity_min": 10.796857987130617, "outflow_rate_max": 967.8091976206975, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 334.17235511966, "cost2_mean": -96.46265153107625}, "policy_reward_mean": {}, "timesteps_this_iter": 40365, "episodes_this_iter": 16, "training_iteration": 56, "done": false, "episode_reward_mean": 1100.400585169456, "iterations_since_restore": 56, "pid": 304, "time_total_s": 1288.7241775989532, "timestamp": 1557202890, "episode_reward_min": 161.70636543900494, "time_since_restore": 1288.7241775989532, "episode_reward_max": 1286.880783702305, "episodes_total": 853, "timesteps_since_restore": 2415868, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.756, "num_steps_sampled": 2457556, "num_steps_trained": 2457556, "default": {"entropy": 1.028784155845642, "policy_loss": -0.0036611431278288364, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.8608094453811646, "vf_loss": 20.065532684326172, "total_loss": 20.06258773803711, "cur_lr": 0.0005000000237487257, "kl": 0.014297344721853733}, "sample_time_ms": 12251.099, "load_time_ms": 11.786, "grad_time_ms": 9065.067}, "episode_len_mean": 672.32, "num_metric_batches_dropped": 0, "timesteps_total": 2457556, "time_this_iter_s": 21.52295231819153, "date": "2019-05-07_04-21-51", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98668>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -46.28237769769853, "outflow_rate_min": 406.8635187923412, "cost1_max": 389.68291284378563, "outflow_rate_mean": 857.3584507247824, "system_level_velocity_mean": 13.413905154250223, "cost2_min": -134.32745958399718, "system_level_velocity_min": 10.796857987130617, "outflow_rate_max": 987.0786592954425, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 336.50945919106243, "cost2_mean": -100.07362745658519}, "policy_reward_mean": {}, "timesteps_this_iter": 41688, "episodes_this_iter": 16, "training_iteration": 57, "done": false, "episode_reward_mean": 1108.453574651627, "iterations_since_restore": 57, "pid": 304, "time_total_s": 1310.2471299171448, "timestamp": 1557202911, "episode_reward_min": 165.90466345086685, "time_since_restore": 1310.2471299171448, "episode_reward_max": 1296.3091626853081, "episodes_total": 869, "timesteps_since_restore": 2457556, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.772, "num_steps_sampled": 2498994, "num_steps_trained": 2498994, "default": {"entropy": 1.0019595623016357, "policy_loss": -0.0034562046639621258, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8838882446289062, "vf_loss": 18.578516006469727, "total_loss": 18.575864791870117, "cur_lr": 0.0005000000237487257, "kl": 0.016091758385300636}, "sample_time_ms": 12266.661, "load_time_ms": 11.786, "grad_time_ms": 9095.778}, "episode_len_mean": 669.84, "num_metric_batches_dropped": 0, "timesteps_total": 2498994, "time_this_iter_s": 21.60019874572754, "date": "2019-05-07_04-22-13", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c1d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c2b0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -46.28237769769853, "outflow_rate_min": 406.8635187923412, "cost1_max": 388.89471660427057, "outflow_rate_mean": 859.9186481228221, "system_level_velocity_mean": 13.507844900987282, "cost2_min": -134.32745958399718, "system_level_velocity_min": 11.129779364805007, "outflow_rate_max": 987.0786592954425, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 337.6421530529527, "cost2_mean": -102.87992959027346}, "policy_reward_mean": {}, "timesteps_this_iter": 41438, "episodes_this_iter": 17, "training_iteration": 58, "done": false, "episode_reward_mean": 1111.048337406507, "iterations_since_restore": 58, "pid": 304, "time_total_s": 1331.8473286628723, "timestamp": 1557202933, "episode_reward_min": 165.90466345086685, "time_since_restore": 1331.8473286628723, "episode_reward_max": 1296.3091626853081, "episodes_total": 886, "timesteps_since_restore": 2498994, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.686, "num_steps_sampled": 2540009, "num_steps_trained": 2540009, "default": {"entropy": 1.0317299365997314, "policy_loss": -0.004586218856275082, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8701284527778625, "vf_loss": 23.481107711791992, "total_loss": 23.4774169921875, "cur_lr": 0.0005000000237487257, "kl": 0.01792396418750286}, "sample_time_ms": 12211.331, "load_time_ms": 11.635, "grad_time_ms": 9111.04}, "episode_len_mean": 663.27, "num_metric_batches_dropped": 0, "timesteps_total": 2540009, "time_this_iter_s": 21.577754259109497, "date": "2019-05-07_04-22-34", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98550>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -46.28237769769853, "outflow_rate_min": 406.8635187923412, "cost1_max": 399.72208314475114, "outflow_rate_mean": 858.1734852075599, "system_level_velocity_mean": 13.608805303570836, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.129779364805007, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 336.5907925335645, "cost2_mean": -105.19805701129317}, "policy_reward_mean": {}, "timesteps_this_iter": 41015, "episodes_this_iter": 18, "training_iteration": 59, "done": false, "episode_reward_mean": 1106.1688734554516, "iterations_since_restore": 59, "pid": 304, "time_total_s": 1353.4250829219818, "timestamp": 1557202954, "episode_reward_min": 165.90466345086685, "time_since_restore": 1353.4250829219818, "episode_reward_max": 1296.3091626853081, "episodes_total": 904, "timesteps_since_restore": 2540009, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.663, "num_steps_sampled": 2581548, "num_steps_trained": 2581548, "default": {"entropy": 1.0308406352996826, "policy_loss": -0.005636047106236219, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8959019780158997, "vf_loss": 16.13582992553711, "total_loss": 16.131099700927734, "cur_lr": 0.0005000000237487257, "kl": 0.01812412217259407}, "sample_time_ms": 12291.981, "load_time_ms": 11.671, "grad_time_ms": 9130.54}, "episode_len_mean": 663.27, "num_metric_batches_dropped": 0, "timesteps_total": 2581548, "time_this_iter_s": 22.292989492416382, "date": "2019-05-07_04-22-57", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1da58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc88>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 72.62410503419342, "cost2_max": -46.28237769769853, "outflow_rate_min": 406.8635187923412, "cost1_max": 399.72208314475114, "outflow_rate_mean": 858.734877932333, "system_level_velocity_mean": 13.617362670121159, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.129779364805007, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 18.958698851110032, "cost1_mean": 336.87501028499065, "cost2_mean": -106.14397694043154}, "policy_reward_mean": {}, "timesteps_this_iter": 41539, "episodes_this_iter": 15, "training_iteration": 60, "done": false, "episode_reward_mean": 1103.9145672644602, "iterations_since_restore": 60, "pid": 304, "time_total_s": 1375.7180724143982, "timestamp": 1557202977, "episode_reward_min": 165.90466345086685, "time_since_restore": 1375.7180724143982, "episode_reward_max": 1296.3091626853081, "episodes_total": 919, "timesteps_since_restore": 2581548, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.713, "num_steps_sampled": 2622732, "num_steps_trained": 2622732, "default": {"entropy": 1.0610735416412354, "policy_loss": -0.0035119412932544947, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8911564350128174, "vf_loss": 16.985332489013672, "total_loss": 16.982656478881836, "cur_lr": 0.0005000000237487257, "kl": 0.016736486926674843}, "sample_time_ms": 12311.775, "load_time_ms": 11.573, "grad_time_ms": 9148.044}, "episode_len_mean": 671.76, "num_metric_batches_dropped": 0, "timesteps_total": 2622732, "time_this_iter_s": 21.55507779121399, "date": "2019-05-07_04-23-18", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb004e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71be0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 79.58954202952313, "cost2_max": -47.04880685431283, "outflow_rate_min": 407.56170067072554, "cost1_max": 399.72208314475114, "outflow_rate_mean": 863.6986798357565, "system_level_velocity_mean": 13.507748041612572, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.129779364805007, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 18.315768980451136, "cost1_mean": 339.7910066157656, "cost2_mean": -106.29095378563831}, "policy_reward_mean": {}, "timesteps_this_iter": 41184, "episodes_this_iter": 15, "training_iteration": 61, "done": false, "episode_reward_mean": 1117.085264768891, "iterations_since_restore": 61, "pid": 304, "time_total_s": 1397.2731502056122, "timestamp": 1557202998, "episode_reward_min": 165.90466345086685, "time_since_restore": 1397.2731502056122, "episode_reward_max": 1296.3091626853081, "episodes_total": 934, "timesteps_since_restore": 2622732, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.909, "num_steps_sampled": 2664085, "num_steps_trained": 2664085, "default": {"entropy": 1.0486390590667725, "policy_loss": -0.0036296003963798285, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.8829129338264465, "vf_loss": 18.22006607055664, "total_loss": 18.217065811157227, "cur_lr": 0.0005000000237487257, "kl": 0.012594482861459255}, "sample_time_ms": 12405.31, "load_time_ms": 11.609, "grad_time_ms": 9171.668}, "episode_len_mean": 683.02, "num_metric_batches_dropped": 0, "timesteps_total": 2664085, "time_this_iter_s": 22.374104022979736, "date": "2019-05-07_04-23-41", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 88.05448759469553, "cost2_max": -47.04880685431283, "outflow_rate_min": 431.85423613706695, "cost1_max": 399.72208314475114, "outflow_rate_mean": 866.5682720336731, "system_level_velocity_mean": 13.33694649155278, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.129779364805007, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 18.29718410774111, "cost1_mean": 342.94887426626383, "cost2_mean": -105.58039349094332}, "policy_reward_mean": {}, "timesteps_this_iter": 41353, "episodes_this_iter": 17, "training_iteration": 62, "done": false, "episode_reward_mean": 1128.6524852801242, "iterations_since_restore": 62, "pid": 304, "time_total_s": 1419.647254228592, "timestamp": 1557203021, "episode_reward_min": 218.20928137386176, "time_since_restore": 1419.647254228592, "episode_reward_max": 1296.3091626853081, "episodes_total": 951, "timesteps_since_restore": 2664085, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.9, "num_steps_sampled": 2705337, "num_steps_trained": 2705337, "default": {"entropy": 1.0884525775909424, "policy_loss": -0.007752236910164356, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.8516796231269836, "vf_loss": 25.269880294799805, "total_loss": 25.263317108154297, "cur_lr": 0.0005000000237487257, "kl": 0.023785633966326714}, "sample_time_ms": 12743.224, "load_time_ms": 12.032, "grad_time_ms": 9255.085}, "episode_len_mean": 669.08, "num_metric_batches_dropped": 0, "timesteps_total": 2705337, "time_this_iter_s": 25.270873308181763, "date": "2019-05-07_04-24-06", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c828>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.508489415778268, "cost2_max": -23.174334984797472, "outflow_rate_min": 326.3279975793562, "cost1_max": 399.72208314475114, "outflow_rate_mean": 855.026606973823, "system_level_velocity_mean": 13.460652041063407, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.167917966684847, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 19.616559131339695, "cost1_mean": 335.54445353542974, "cost2_mean": -103.65005534626424}, "policy_reward_mean": {}, "timesteps_this_iter": 41252, "episodes_this_iter": 19, "training_iteration": 63, "done": false, "episode_reward_mean": 1105.3771880335385, "iterations_since_restore": 63, "pid": 304, "time_total_s": 1444.9181275367737, "timestamp": 1557203046, "episode_reward_min": 51.569388880852614, "time_since_restore": 1444.9181275367737, "episode_reward_max": 1280.77104276235, "episodes_total": 970, "timesteps_since_restore": 2705337, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.866, "num_steps_sampled": 2745900, "num_steps_trained": 2745900, "default": {"entropy": 1.0820515155792236, "policy_loss": -0.003291996894404292, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.8620518445968628, "vf_loss": 20.939167022705078, "total_loss": 20.937002182006836, "cur_lr": 0.0005000000237487257, "kl": 0.015021502040326595}, "sample_time_ms": 12640.519, "load_time_ms": 12.04, "grad_time_ms": 9157.412}, "episode_len_mean": 672.61, "num_metric_batches_dropped": 0, "timesteps_total": 2745900, "time_this_iter_s": 19.97439217567444, "date": "2019-05-07_04-24-26", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e966d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96588>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.508489415778268, "cost2_max": -23.174334984797472, "outflow_rate_min": 326.3279975793562, "cost1_max": 399.72208314475114, "outflow_rate_mean": 859.4460381923968, "system_level_velocity_mean": 13.458500102387127, "cost2_min": -142.35970172366254, "system_level_velocity_min": 11.167917966684847, "outflow_rate_max": 995.6164487348515, "system_level_velocity_max": 19.616559131339695, "cost1_mean": 337.294080295225, "cost2_mean": -103.10619506214229}, "policy_reward_mean": {}, "timesteps_this_iter": 40563, "episodes_this_iter": 16, "training_iteration": 64, "done": false, "episode_reward_mean": 1103.5414871880446, "iterations_since_restore": 64, "pid": 304, "time_total_s": 1464.8925197124481, "timestamp": 1557203066, "episode_reward_min": 51.569388880852614, "time_since_restore": 1464.8925197124481, "episode_reward_max": 1280.77104276235, "episodes_total": 986, "timesteps_since_restore": 2745900, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.978, "num_steps_sampled": 2786533, "num_steps_trained": 2786533, "default": {"entropy": 1.0994195938110352, "policy_loss": -0.004941350780427456, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8466802835464478, "vf_loss": 23.31083106994629, "total_loss": 23.307161331176758, "cur_lr": 0.0005000000237487257, "kl": 0.01696902886033058}, "sample_time_ms": 12654.845, "load_time_ms": 11.988, "grad_time_ms": 9167.198}, "episode_len_mean": 669.39, "num_metric_batches_dropped": 0, "timesteps_total": 2786533, "time_this_iter_s": 21.923308849334717, "date": "2019-05-07_04-24-48", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e963c8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.508489415778268, "cost2_max": -23.174334984797472, "outflow_rate_min": 326.3279975793562, "cost1_max": 387.5805533197654, "outflow_rate_mean": 854.4988423767896, "system_level_velocity_mean": 13.445236923933246, "cost2_min": -134.07394561024154, "system_level_velocity_min": 10.733383161934913, "outflow_rate_max": 969.322638475216, "system_level_velocity_max": 19.616559131339695, "cost1_mean": 333.45934848140183, "cost2_mean": -98.41785932306233}, "policy_reward_mean": {}, "timesteps_this_iter": 40633, "episodes_this_iter": 19, "training_iteration": 65, "done": false, "episode_reward_mean": 1082.9027214496214, "iterations_since_restore": 65, "pid": 304, "time_total_s": 1486.8158285617828, "timestamp": 1557203088, "episode_reward_min": 51.569388880852614, "time_since_restore": 1486.8158285617828, "episode_reward_max": 1258.3810966920628, "episodes_total": 1005, "timesteps_since_restore": 2786533, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.953, "num_steps_sampled": 2826804, "num_steps_trained": 2826804, "default": {"entropy": 1.1001402139663696, "policy_loss": -0.005661582574248314, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8538514375686646, "vf_loss": 23.45800018310547, "total_loss": 23.45384979248047, "cur_lr": 0.0005000000237487257, "kl": 0.020129339769482613}, "sample_time_ms": 12630.49, "load_time_ms": 12.0, "grad_time_ms": 9178.05}, "episode_len_mean": 664.42, "num_metric_batches_dropped": 0, "timesteps_total": 2826804, "time_this_iter_s": 20.899155378341675, "date": "2019-05-07_04-25-09", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96748>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.508489415778268, "cost2_max": -23.174334984797472, "outflow_rate_min": 326.3279975793562, "cost1_max": 387.5805533197654, "outflow_rate_mean": 849.7488629243549, "system_level_velocity_mean": 13.478294885335785, "cost2_min": -121.5789876954052, "system_level_velocity_min": 10.733383161934913, "outflow_rate_max": 967.6993365395572, "system_level_velocity_max": 19.616559131339695, "cost1_mean": 330.702945769265, "cost2_mean": -94.84625269973967}, "policy_reward_mean": {}, "timesteps_this_iter": 40271, "episodes_this_iter": 16, "training_iteration": 66, "done": false, "episode_reward_mean": 1069.8774119330237, "iterations_since_restore": 66, "pid": 304, "time_total_s": 1507.7149839401245, "timestamp": 1557203109, "episode_reward_min": 51.569388880852614, "time_since_restore": 1507.7149839401245, "episode_reward_max": 1239.9216570738508, "episodes_total": 1021, "timesteps_since_restore": 2826804, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.931, "num_steps_sampled": 2865779, "num_steps_trained": 2865779, "default": {"entropy": 1.0866576433181763, "policy_loss": -0.006562163587659597, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8462188839912415, "vf_loss": 22.730302810668945, "total_loss": 22.725482940673828, "cur_lr": 0.0005000000237487257, "kl": 0.01550400909036398}, "sample_time_ms": 12590.577, "load_time_ms": 11.987, "grad_time_ms": 9139.873}, "episode_len_mean": 658.79, "num_metric_batches_dropped": 0, "timesteps_total": 2865779, "time_this_iter_s": 20.738645315170288, "date": "2019-05-07_04-25-30", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b00>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.508489415778268, "cost2_max": -23.174334984797472, "outflow_rate_min": 326.3279975793562, "cost1_max": 387.5805533197654, "outflow_rate_mean": 845.7548426577284, "system_level_velocity_mean": 13.534477418351416, "cost2_min": -121.5789876954052, "system_level_velocity_min": 10.733383161934913, "outflow_rate_max": 967.3708910876445, "system_level_velocity_max": 19.616559131339695, "cost1_mean": 327.3497780654428, "cost2_mean": -92.19738031326102}, "policy_reward_mean": {}, "timesteps_this_iter": 38975, "episodes_this_iter": 18, "training_iteration": 67, "done": false, "episode_reward_mean": 1053.2859788494345, "iterations_since_restore": 67, "pid": 304, "time_total_s": 1528.4536292552948, "timestamp": 1557203130, "episode_reward_min": 51.569388880852614, "time_since_restore": 1528.4536292552948, "episode_reward_max": 1239.9216570738508, "episodes_total": 1039, "timesteps_since_restore": 2865779, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.932, "num_steps_sampled": 2906419, "num_steps_trained": 2906419, "default": {"entropy": 1.115020513534546, "policy_loss": -0.005075319204479456, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8702267408370972, "vf_loss": 21.826982498168945, "total_loss": 21.823694229125977, "cur_lr": 0.0005000000237487257, "kl": 0.01588481105864048}, "sample_time_ms": 12653.107, "load_time_ms": 11.925, "grad_time_ms": 9144.68}, "episode_len_mean": 672.99, "num_metric_batches_dropped": 0, "timesteps_total": 2906419, "time_this_iter_s": 22.274004220962524, "date": "2019-05-07_04-25-52", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96588>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.893677443458305, "cost2_max": -24.509676679353092, "outflow_rate_min": 329.6337234057179, "cost1_max": 387.5805533197654, "outflow_rate_mean": 860.8487141072123, "system_level_velocity_mean": 13.451734080164993, "cost2_min": -121.5789876954052, "system_level_velocity_min": 10.733383161934913, "outflow_rate_max": 967.3708910876445, "system_level_velocity_max": 19.577847608773496, "cost1_mean": 335.0734173393658, "cost2_mean": -91.87095520584367}, "policy_reward_mean": {}, "timesteps_this_iter": 40640, "episodes_this_iter": 17, "training_iteration": 68, "done": false, "episode_reward_mean": 1067.1510080636886, "iterations_since_restore": 68, "pid": 304, "time_total_s": 1550.7276334762573, "timestamp": 1557203152, "episode_reward_min": 54.326650539936416, "time_since_restore": 1550.7276334762573, "episode_reward_max": 1239.9216570738508, "episodes_total": 1056, "timesteps_since_restore": 2906419, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.927, "num_steps_sampled": 2947053, "num_steps_trained": 2947053, "default": {"entropy": 1.1027315855026245, "policy_loss": -0.006175152026116848, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8413376808166504, "vf_loss": 22.934141159057617, "total_loss": 22.929819107055664, "cur_lr": 0.0005000000237487257, "kl": 0.01646057516336441}, "sample_time_ms": 12604.102, "load_time_ms": 11.519, "grad_time_ms": 9141.168}, "episode_len_mean": 658.24, "num_metric_batches_dropped": 0, "timesteps_total": 2947053, "time_this_iter_s": 21.05195713043213, "date": "2019-05-07_04-26-13", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98710>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.893677443458305, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 384.52733132070955, "outflow_rate_mean": 848.5211179266378, "system_level_velocity_mean": 13.54820394371239, "cost2_min": -121.5789876954052, "system_level_velocity_min": 10.733383161934913, "outflow_rate_max": 967.3708910876445, "system_level_velocity_max": 19.577847608773496, "cost1_mean": 327.8132987988487, "cost2_mean": -87.70802419982967}, "policy_reward_mean": {}, "timesteps_this_iter": 40634, "episodes_this_iter": 17, "training_iteration": 69, "done": false, "episode_reward_mean": 1041.0337383758554, "iterations_since_restore": 69, "pid": 304, "time_total_s": 1571.7795906066895, "timestamp": 1557203173, "episode_reward_min": 52.84937480527192, "time_since_restore": 1571.7795906066895, "episode_reward_max": 1226.8124744613522, "episodes_total": 1073, "timesteps_since_restore": 2947053, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.927, "num_steps_sampled": 2987748, "num_steps_trained": 2987748, "default": {"entropy": 1.099419355392456, "policy_loss": -0.004857139196246862, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.879595935344696, "vf_loss": 20.29741096496582, "total_loss": 20.29424476623535, "cur_lr": 0.0005000000237487257, "kl": 0.01502491906285286}, "sample_time_ms": 12568.914, "load_time_ms": 10.95, "grad_time_ms": 9100.898}, "episode_len_mean": 661.27, "num_metric_batches_dropped": 0, "timesteps_total": 2987748, "time_this_iter_s": 21.534902095794678, "date": "2019-05-07_04-26-34", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c2b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.481379445241135, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 381.22587499151894, "outflow_rate_mean": 848.2867597214413, "system_level_velocity_mean": 13.44634838718035, "cost2_min": -113.5726151249797, "system_level_velocity_min": 11.129041865130688, "outflow_rate_max": 960.6524852584408, "system_level_velocity_max": 18.39258322042293, "cost1_mean": 328.099792991432, "cost2_mean": -85.94052419628284}, "policy_reward_mean": {}, "timesteps_this_iter": 40695, "episodes_this_iter": 20, "training_iteration": 70, "done": false, "episode_reward_mean": 1039.9913587333858, "iterations_since_restore": 70, "pid": 304, "time_total_s": 1593.3144927024841, "timestamp": 1557203194, "episode_reward_min": 52.84937480527192, "time_since_restore": 1593.3144927024841, "episode_reward_max": 1212.0481867497301, "episodes_total": 1093, "timesteps_since_restore": 2987748, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.943, "num_steps_sampled": 3028250, "num_steps_trained": 3028250, "default": {"entropy": 1.089794635772705, "policy_loss": -0.004106923472136259, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.9070575833320618, "vf_loss": 14.45390510559082, "total_loss": 14.451157569885254, "cur_lr": 0.0005000000237487257, "kl": 0.012081502005457878}, "sample_time_ms": 12601.42, "load_time_ms": 10.961, "grad_time_ms": 9080.934}, "episode_len_mean": 662.36, "num_metric_batches_dropped": 0, "timesteps_total": 3028250, "time_this_iter_s": 21.684755563735962, "date": "2019-05-07_04-26-56", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae22e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.481379445241135, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 381.22587499151894, "outflow_rate_mean": 843.9674310948553, "system_level_velocity_mean": 13.371690702903134, "cost2_min": -108.11022470152864, "system_level_velocity_min": 11.129041865130688, "outflow_rate_max": 960.6524852584408, "system_level_velocity_max": 18.39258322042293, "cost1_mean": 326.99192633745963, "cost2_mean": -85.07359823668413}, "policy_reward_mean": {}, "timesteps_this_iter": 40502, "episodes_this_iter": 14, "training_iteration": 71, "done": false, "episode_reward_mean": 1045.8163431265875, "iterations_since_restore": 71, "pid": 304, "time_total_s": 1614.99924826622, "timestamp": 1557203216, "episode_reward_min": 52.84937480527192, "time_since_restore": 1614.99924826622, "episode_reward_max": 1212.0481867497301, "episodes_total": 1107, "timesteps_since_restore": 3028250, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.828, "num_steps_sampled": 3068926, "num_steps_trained": 3068926, "default": {"entropy": 1.1077543497085571, "policy_loss": -0.005995885003358126, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8876521587371826, "vf_loss": 19.724470138549805, "total_loss": 19.71996307373047, "cur_lr": 0.0005000000237487257, "kl": 0.013245590031147003}, "sample_time_ms": 12567.177, "load_time_ms": 10.866, "grad_time_ms": 9041.515}, "episode_len_mean": 657.81, "num_metric_batches_dropped": 0, "timesteps_total": 3068926, "time_this_iter_s": 21.64428210258484, "date": "2019-05-07_04-27-18", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.481379445241135, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 381.22587499151894, "outflow_rate_mean": 841.9387700694929, "system_level_velocity_mean": 13.417883274378891, "cost2_min": -108.11022470152864, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 960.6524852584408, "system_level_velocity_max": 18.39258322042293, "cost1_mean": 324.91480186037074, "cost2_mean": -84.61417256344075}, "policy_reward_mean": {}, "timesteps_this_iter": 40676, "episodes_this_iter": 18, "training_iteration": 72, "done": false, "episode_reward_mean": 1041.1938942284378, "iterations_since_restore": 72, "pid": 304, "time_total_s": 1636.643530368805, "timestamp": 1557203238, "episode_reward_min": 52.84937480527192, "time_since_restore": 1636.643530368805, "episode_reward_max": 1212.0481867497301, "episodes_total": 1125, "timesteps_since_restore": 3068926, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.932, "num_steps_sampled": 3109429, "num_steps_trained": 3109429, "default": {"entropy": 1.117021918296814, "policy_loss": -0.005621886812150478, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.9014909863471985, "vf_loss": 17.152952194213867, "total_loss": 17.14894676208496, "cur_lr": 0.0005000000237487257, "kl": 0.014382878318428993}, "sample_time_ms": 12186.404, "load_time_ms": 11.019, "grad_time_ms": 8984.265}, "episode_len_mean": 663.44, "num_metric_batches_dropped": 0, "timesteps_total": 3109429, "time_this_iter_s": 20.895109176635742, "date": "2019-05-07_04-27-39", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98550>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.481379445241135, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 381.22587499151894, "outflow_rate_mean": 850.595527937351, "system_level_velocity_mean": 13.430871231821396, "cost2_min": -108.11022470152864, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 960.6524852584408, "system_level_velocity_max": 18.39258322042293, "cost1_mean": 329.00001223545826, "cost2_mean": -85.59058175276137}, "policy_reward_mean": {}, "timesteps_this_iter": 40503, "episodes_this_iter": 15, "training_iteration": 73, "done": false, "episode_reward_mean": 1053.117331052233, "iterations_since_restore": 73, "pid": 304, "time_total_s": 1657.5386395454407, "timestamp": 1557203259, "episode_reward_min": 52.84937480527192, "time_since_restore": 1657.5386395454407, "episode_reward_max": 1212.0481867497301, "episodes_total": 1140, "timesteps_since_restore": 3109429, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.931, "num_steps_sampled": 3148824, "num_steps_trained": 3148824, "default": {"entropy": 1.076035737991333, "policy_loss": -0.0045783123932778835, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.840474009513855, "vf_loss": 22.172779083251953, "total_loss": 22.169797897338867, "cur_lr": 0.0005000000237487257, "kl": 0.014189617708325386}, "sample_time_ms": 12171.622, "load_time_ms": 10.774, "grad_time_ms": 9043.712}, "episode_len_mean": 668.78, "num_metric_batches_dropped": 0, "timesteps_total": 3148824, "time_this_iter_s": 20.41482162475586, "date": "2019-05-07_04-27-59", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e968d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.481379445241135, "cost2_max": -22.16043491364837, "outflow_rate_min": 319.54044312360406, "cost1_max": 381.22587499151894, "outflow_rate_mean": 855.4744613830735, "system_level_velocity_mean": 13.389677410176809, "cost2_min": -108.11022470152864, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 960.6524852584408, "system_level_velocity_max": 18.39258322042293, "cost1_mean": 331.79971612292576, "cost2_mean": -85.89578931453012}, "policy_reward_mean": {}, "timesteps_this_iter": 39395, "episodes_this_iter": 17, "training_iteration": 74, "done": false, "episode_reward_mean": 1070.470273903805, "iterations_since_restore": 74, "pid": 304, "time_total_s": 1677.9534611701965, "timestamp": 1557203279, "episode_reward_min": 52.84937480527192, "time_since_restore": 1677.9534611701965, "episode_reward_max": 1212.0481867497301, "episodes_total": 1157, "timesteps_since_restore": 3148824, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.87, "num_steps_sampled": 3188999, "num_steps_trained": 3188999, "default": {"entropy": 1.1235053539276123, "policy_loss": -0.003850058652460575, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8364213109016418, "vf_loss": 30.18258285522461, "total_loss": 30.180295944213867, "cur_lr": 0.0005000000237487257, "kl": 0.013878707773983479}, "sample_time_ms": 12162.052, "load_time_ms": 10.908, "grad_time_ms": 8995.256}, "episode_len_mean": 679.26, "num_metric_batches_dropped": 0, "timesteps_total": 3188999, "time_this_iter_s": 21.351126194000244, "date": "2019-05-07_04-28-21", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c208>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 93.17661681614935, "cost2_max": -45.9614170475474, "outflow_rate_min": 436.19192851753894, "cost1_max": 385.05694249943986, "outflow_rate_mean": 864.4282906052779, "system_level_velocity_mean": 13.351177051999596, "cost2_min": -108.11022470152864, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 953.176788210359, "system_level_velocity_max": 17.692982193200876, "cost1_mean": 337.13446959591334, "cost2_mean": -86.48596148008721}, "policy_reward_mean": {}, "timesteps_this_iter": 40175, "episodes_this_iter": 21, "training_iteration": 75, "done": false, "episode_reward_mean": 1085.4996361536141, "iterations_since_restore": 75, "pid": 304, "time_total_s": 1699.3045873641968, "timestamp": 1557203301, "episode_reward_min": 254.19508119989217, "time_since_restore": 1699.3045873641968, "episode_reward_max": 1201.3272708769339, "episodes_total": 1178, "timesteps_since_restore": 3188999, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.856, "num_steps_sampled": 3229872, "num_steps_trained": 3229872, "default": {"entropy": 1.1228890419006348, "policy_loss": -0.00455847941339016, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.898552417755127, "vf_loss": 18.8974666595459, "total_loss": 18.894662857055664, "cur_lr": 0.0005000000237487257, "kl": 0.01559554971754551}, "sample_time_ms": 12250.718, "load_time_ms": 10.957, "grad_time_ms": 9027.797}, "episode_len_mean": 675.12, "num_metric_batches_dropped": 0, "timesteps_total": 3229872, "time_this_iter_s": 22.11793565750122, "date": "2019-05-07_04-28-43", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e968d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 93.17661681614935, "cost2_max": -45.9614170475474, "outflow_rate_min": 436.19192851753894, "cost1_max": 385.05694249943986, "outflow_rate_mean": 862.0366469575584, "system_level_velocity_mean": 13.417149378061668, "cost2_min": -99.51875037469976, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 953.176788210359, "system_level_velocity_max": 17.692982193200876, "cost1_mean": 335.7495874675619, "cost2_mean": -85.79591856432003}, "policy_reward_mean": {}, "timesteps_this_iter": 40873, "episodes_this_iter": 15, "training_iteration": 76, "done": false, "episode_reward_mean": 1082.4985730203462, "iterations_since_restore": 76, "pid": 304, "time_total_s": 1721.422523021698, "timestamp": 1557203323, "episode_reward_min": 254.19508119989217, "time_since_restore": 1721.422523021698, "episode_reward_max": 1210.399846448479, "episodes_total": 1193, "timesteps_since_restore": 3229872, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.919, "num_steps_sampled": 3271015, "num_steps_trained": 3271015, "default": {"entropy": 1.0986340045928955, "policy_loss": -0.007068781182169914, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.9159568548202515, "vf_loss": 16.329164505004883, "total_loss": 16.323823928833008, "cur_lr": 0.0005000000237487257, "kl": 0.015371561981737614}, "sample_time_ms": 12311.294, "load_time_ms": 11.003, "grad_time_ms": 9164.715}, "episode_len_mean": 677.25, "num_metric_batches_dropped": 0, "timesteps_total": 3271015, "time_this_iter_s": 22.71753215789795, "date": "2019-05-07_04-29-06", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1ac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea12b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea14e0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 93.17661681614935, "cost2_max": -45.9614170475474, "outflow_rate_min": 436.19192851753894, "cost1_max": 385.05694249943986, "outflow_rate_mean": 865.8025883528654, "system_level_velocity_mean": 13.424108436529298, "cost2_min": -109.42130191593067, "system_level_velocity_min": 11.103116837680947, "outflow_rate_max": 953.176788210359, "system_level_velocity_max": 17.692982193200876, "cost1_mean": 337.36081726880604, "cost2_mean": -87.69951324340984}, "policy_reward_mean": {}, "timesteps_this_iter": 41143, "episodes_this_iter": 16, "training_iteration": 77, "done": false, "episode_reward_mean": 1084.0897262510748, "iterations_since_restore": 77, "pid": 304, "time_total_s": 1744.140055179596, "timestamp": 1557203346, "episode_reward_min": 254.19508119989217, "time_since_restore": 1744.140055179596, "episode_reward_max": 1210.399846448479, "episodes_total": 1209, "timesteps_since_restore": 3271015, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.982, "num_steps_sampled": 3311613, "num_steps_trained": 3311613, "default": {"entropy": 1.09507155418396, "policy_loss": -0.0034669172018766403, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8529356122016907, "vf_loss": 20.253782272338867, "total_loss": 20.25178337097168, "cur_lr": 0.0005000000237487257, "kl": 0.013032925315201283}, "sample_time_ms": 12269.385, "load_time_ms": 10.993, "grad_time_ms": 9121.183}, "episode_len_mean": 678.74, "num_metric_batches_dropped": 0, "timesteps_total": 3311613, "time_this_iter_s": 21.4266939163208, "date": "2019-05-07_04-29-27", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e967f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 124.26576445637868, "cost2_max": -59.3533675157346, "outflow_rate_min": 517.0471607105083, "cost1_max": 385.05694249943986, "outflow_rate_mean": 870.041361398862, "system_level_velocity_mean": 13.45627522070835, "cost2_min": -110.56396023729862, "system_level_velocity_min": 11.246824259979622, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 16.945077934862994, "cost1_mean": 339.9381973116951, "cost2_mean": -90.26033649326193}, "policy_reward_mean": {}, "timesteps_this_iter": 40598, "episodes_this_iter": 15, "training_iteration": 78, "done": false, "episode_reward_mean": 1089.832297694652, "iterations_since_restore": 78, "pid": 304, "time_total_s": 1765.5667490959167, "timestamp": 1557203367, "episode_reward_min": 354.721087351761, "time_since_restore": 1765.5667490959167, "episode_reward_max": 1213.954264472636, "episodes_total": 1224, "timesteps_since_restore": 3311613, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.107, "num_steps_sampled": 3352301, "num_steps_trained": 3352301, "default": {"entropy": 1.1238491535186768, "policy_loss": -0.00641210749745369, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8854822516441345, "vf_loss": 21.621984481811523, "total_loss": 21.617515563964844, "cur_lr": 0.0005000000237487257, "kl": 0.017282038927078247}, "sample_time_ms": 12355.703, "load_time_ms": 11.286, "grad_time_ms": 9134.732}, "episode_len_mean": 673.31, "num_metric_batches_dropped": 0, "timesteps_total": 3352301, "time_this_iter_s": 22.049323558807373, "date": "2019-05-07_04-29-49", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb002b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 99.10240630369893, "cost2_max": -54.40782211921394, "outflow_rate_min": 455.4148533955121, "cost1_max": 385.05694249943986, "outflow_rate_mean": 864.6017830718635, "system_level_velocity_mean": 13.485753903103364, "cost2_min": -110.56396023729862, "system_level_velocity_min": 11.274854208895581, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 17.22850012892726, "cost1_mean": 337.590316779788, "cost2_mean": -91.167282945424}, "policy_reward_mean": {}, "timesteps_this_iter": 40688, "episodes_this_iter": 19, "training_iteration": 79, "done": false, "episode_reward_mean": 1084.2339657931286, "iterations_since_restore": 79, "pid": 304, "time_total_s": 1787.6160726547241, "timestamp": 1557203389, "episode_reward_min": 249.9055955753394, "time_since_restore": 1787.6160726547241, "episode_reward_max": 1213.954264472636, "episodes_total": 1243, "timesteps_since_restore": 3352301, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.088, "num_steps_sampled": 3392467, "num_steps_trained": 3392467, "default": {"entropy": 1.1001304388046265, "policy_loss": -0.006799529306590557, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8594291806221008, "vf_loss": 24.981765747070312, "total_loss": 24.977092742919922, "cur_lr": 0.0005000000237487257, "kl": 0.018902096897363663}, "sample_time_ms": 12352.586, "load_time_ms": 12.247, "grad_time_ms": 9150.753}, "episode_len_mean": 671.17, "num_metric_batches_dropped": 0, "timesteps_total": 3392467, "time_this_iter_s": 21.666610717773438, "date": "2019-05-07_04-30-11", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71198>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 99.10240630369893, "cost2_max": -54.40782211921394, "outflow_rate_min": 455.4148533955121, "cost1_max": 383.03993798139686, "outflow_rate_mean": 860.9688586343302, "system_level_velocity_mean": 13.455179487037956, "cost2_min": -110.56396023729862, "system_level_velocity_min": 11.274854208895581, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 17.22850012892726, "cost1_mean": 335.7891113669094, "cost2_mean": -91.54754400173157}, "policy_reward_mean": {}, "timesteps_this_iter": 40166, "episodes_this_iter": 19, "training_iteration": 80, "done": false, "episode_reward_mean": 1080.0088697100225, "iterations_since_restore": 80, "pid": 304, "time_total_s": 1809.2826833724976, "timestamp": 1557203411, "episode_reward_min": 249.9055955753394, "time_since_restore": 1809.2826833724976, "episode_reward_max": 1213.954264472636, "episodes_total": 1262, "timesteps_since_restore": 3392467, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.995, "num_steps_sampled": 3431716, "num_steps_trained": 3431716, "default": {"entropy": 1.1146918535232544, "policy_loss": -0.005959413480013609, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.8951684236526489, "vf_loss": 17.8221435546875, "total_loss": 17.81798553466797, "cur_lr": 0.0005000000237487257, "kl": 0.016001543030142784}, "sample_time_ms": 12391.029, "load_time_ms": 12.216, "grad_time_ms": 9105.204}, "episode_len_mean": 677.12, "num_metric_batches_dropped": 0, "timesteps_total": 3431716, "time_this_iter_s": 21.616199254989624, "date": "2019-05-07_04-30-32", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb007b8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 99.10240630369893, "cost2_max": -54.40782211921394, "outflow_rate_min": 455.4148533955121, "cost1_max": 383.03993798139686, "outflow_rate_mean": 860.5925106505966, "system_level_velocity_mean": 13.360759374572115, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.274854208895581, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 17.22850012892726, "cost1_mean": 337.58932506122153, "cost2_mean": -91.90416371390191}, "policy_reward_mean": {}, "timesteps_this_iter": 39249, "episodes_this_iter": 16, "training_iteration": 81, "done": false, "episode_reward_mean": 1085.4858011072738, "iterations_since_restore": 81, "pid": 304, "time_total_s": 1830.8988826274872, "timestamp": 1557203432, "episode_reward_min": 249.9055955753394, "time_since_restore": 1830.8988826274872, "episode_reward_max": 1213.954264472636, "episodes_total": 1278, "timesteps_since_restore": 3431716, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.926, "num_steps_sampled": 3471191, "num_steps_trained": 3471191, "default": {"entropy": 1.1161043643951416, "policy_loss": -0.0064103021286427975, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8631431460380554, "vf_loss": 24.9001407623291, "total_loss": 24.895526885986328, "cur_lr": 0.0005000000237487257, "kl": 0.01596570573747158}, "sample_time_ms": 12443.84, "load_time_ms": 12.142, "grad_time_ms": 9047.859}, "episode_len_mean": 672.24, "num_metric_batches_dropped": 0, "timesteps_total": 3471191, "time_this_iter_s": 21.59071111679077, "date": "2019-05-07_04-30-54", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e967f0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 383.03993798139686, "outflow_rate_mean": 855.9943510096022, "system_level_velocity_mean": 13.423820494224453, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.274854208895581, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 335.6172380664048, "cost2_mean": -90.85994683726334}, "policy_reward_mean": {}, "timesteps_this_iter": 39475, "episodes_this_iter": 19, "training_iteration": 82, "done": false, "episode_reward_mean": 1073.1216438251163, "iterations_since_restore": 82, "pid": 304, "time_total_s": 1852.489593744278, "timestamp": 1557203454, "episode_reward_min": 52.851443549240614, "time_since_restore": 1852.489593744278, "episode_reward_max": 1213.954264472636, "episodes_total": 1297, "timesteps_since_restore": 3471191, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.909, "num_steps_sampled": 3511256, "num_steps_trained": 3511256, "default": {"entropy": 1.0927166938781738, "policy_loss": -0.005404496565461159, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.868882417678833, "vf_loss": 20.450815200805664, "total_loss": 20.447351455688477, "cur_lr": 0.0005000000237487257, "kl": 0.01725890301167965}, "sample_time_ms": 12449.967, "load_time_ms": 11.956, "grad_time_ms": 9009.0}, "episode_len_mean": 662.58, "num_metric_batches_dropped": 0, "timesteps_total": 3511256, "time_this_iter_s": 20.561165809631348, "date": "2019-05-07_04-31-15", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb004a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb007b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00128>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 383.03993798139686, "outflow_rate_mean": 846.6026222421762, "system_level_velocity_mean": 13.500064082774593, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.274854208895581, "outflow_rate_max": 965.5859688714542, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 331.1070525685414, "cost2_mean": -88.41685585881883}, "policy_reward_mean": {}, "timesteps_this_iter": 40065, "episodes_this_iter": 13, "training_iteration": 83, "done": false, "episode_reward_mean": 1055.2488386855998, "iterations_since_restore": 83, "pid": 304, "time_total_s": 1873.0507595539093, "timestamp": 1557203475, "episode_reward_min": 52.851443549240614, "time_since_restore": 1873.0507595539093, "episode_reward_max": 1213.954264472636, "episodes_total": 1310, "timesteps_since_restore": 3511256, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.981, "num_steps_sampled": 3550488, "num_steps_trained": 3550488, "default": {"entropy": 1.1043684482574463, "policy_loss": -0.00772708049044013, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.8448238968849182, "vf_loss": 23.959903717041016, "total_loss": 23.954185485839844, "cur_lr": 0.0005000000237487257, "kl": 0.017834825441241264}, "sample_time_ms": 12545.824, "load_time_ms": 12.044, "grad_time_ms": 9022.492}, "episode_len_mean": 665.74, "num_metric_batches_dropped": 0, "timesteps_total": 3550488, "time_this_iter_s": 21.51951313018799, "date": "2019-05-07_04-31-36", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71dd8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 381.0090283430914, "outflow_rate_mean": 843.1032267151833, "system_level_velocity_mean": 13.4069787191934, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.013901112024694, "outflow_rate_max": 957.5933713709737, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 329.8232185146982, "cost2_mean": -85.0206657473032}, "policy_reward_mean": {}, "timesteps_this_iter": 39232, "episodes_this_iter": 20, "training_iteration": 84, "done": false, "episode_reward_mean": 1048.5032867203984, "iterations_since_restore": 84, "pid": 304, "time_total_s": 1894.5702726840973, "timestamp": 1557203496, "episode_reward_min": 52.851443549240614, "time_since_restore": 1894.5702726840973, "episode_reward_max": 1201.1622038064763, "episodes_total": 1330, "timesteps_since_restore": 3550488, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.996, "num_steps_sampled": 3589704, "num_steps_trained": 3589704, "default": {"entropy": 1.0888185501098633, "policy_loss": -0.0057721869088709354, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.8196399211883545, "vf_loss": 27.287006378173828, "total_loss": 27.28309440612793, "cur_lr": 0.0005000000237487257, "kl": 0.016543535515666008}, "sample_time_ms": 12533.432, "load_time_ms": 11.567, "grad_time_ms": 9019.92}, "episode_len_mean": 669.23, "num_metric_batches_dropped": 0, "timesteps_total": 3589704, "time_this_iter_s": 21.189734935760498, "date": "2019-05-07_04-31-57", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb005c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb006a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00630>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 381.0090283430914, "outflow_rate_mean": 843.6509791226422, "system_level_velocity_mean": 13.359840020361812, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.013901112024694, "outflow_rate_max": 957.5933713709737, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 330.4317296713505, "cost2_mean": -82.14594525541547}, "policy_reward_mean": {}, "timesteps_this_iter": 39216, "episodes_this_iter": 17, "training_iteration": 85, "done": false, "episode_reward_mean": 1046.064715162666, "iterations_since_restore": 85, "pid": 304, "time_total_s": 1915.7600076198578, "timestamp": 1557203517, "episode_reward_min": 52.851443549240614, "time_since_restore": 1915.7600076198578, "episode_reward_max": 1197.9451077492747, "episodes_total": 1347, "timesteps_since_restore": 3589704, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.976, "num_steps_sampled": 3628275, "num_steps_trained": 3628275, "default": {"entropy": 1.0914530754089355, "policy_loss": -0.006356000900268555, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.8231194019317627, "vf_loss": 24.731016159057617, "total_loss": 24.726762771606445, "cur_lr": 0.0005000000237487257, "kl": 0.01867859624326229}, "sample_time_ms": 12439.374, "load_time_ms": 11.653, "grad_time_ms": 8953.025}, "episode_len_mean": 665.78, "num_metric_batches_dropped": 0, "timesteps_total": 3628275, "time_this_iter_s": 20.50617003440857, "date": "2019-05-07_04-32-18", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e966d8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 381.0090283430914, "outflow_rate_mean": 844.7918445684918, "system_level_velocity_mean": 13.462355426220281, "cost2_min": -111.5971216128946, "system_level_velocity_min": 11.013901112024694, "outflow_rate_max": 957.5933713709737, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 329.7654586481679, "cost2_mean": -80.28946636377881}, "policy_reward_mean": {}, "timesteps_this_iter": 38571, "episodes_this_iter": 19, "training_iteration": 86, "done": false, "episode_reward_mean": 1035.445768549994, "iterations_since_restore": 86, "pid": 304, "time_total_s": 1936.2661776542664, "timestamp": 1557203538, "episode_reward_min": 52.851443549240614, "time_since_restore": 1936.2661776542664, "episode_reward_max": 1183.1762403926882, "episodes_total": 1366, "timesteps_since_restore": 3628275, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.921, "num_steps_sampled": 3667734, "num_steps_trained": 3667734, "default": {"entropy": 1.096735954284668, "policy_loss": -0.005967153701931238, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8429157137870789, "vf_loss": 24.389232635498047, "total_loss": 24.385093688964844, "cur_lr": 0.0005000000237487257, "kl": 0.016262592747807503}, "sample_time_ms": 12371.412, "load_time_ms": 11.579, "grad_time_ms": 8832.85}, "episode_len_mean": 671.28, "num_metric_batches_dropped": 0, "timesteps_total": 3667734, "time_this_iter_s": 20.832624673843384, "date": "2019-05-07_04-32-39", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e968d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 29.484734814438774, "cost2_max": -22.031036453604116, "outflow_rate_min": 313.2933317464343, "cost1_max": 381.0090283430914, "outflow_rate_mean": 851.6009419476396, "system_level_velocity_mean": 13.48912530581518, "cost2_min": -94.91792507314919, "system_level_velocity_min": 11.013901112024694, "outflow_rate_max": 957.5933713709737, "system_level_velocity_max": 19.098748409688447, "cost1_mean": 332.7151718134239, "cost2_mean": -78.46131066588478}, "policy_reward_mean": {}, "timesteps_this_iter": 39459, "episodes_this_iter": 18, "training_iteration": 87, "done": false, "episode_reward_mean": 1046.4056175336593, "iterations_since_restore": 87, "pid": 304, "time_total_s": 1957.0988023281097, "timestamp": 1557203559, "episode_reward_min": 52.851443549240614, "time_since_restore": 1957.0988023281097, "episode_reward_max": 1183.1762403926882, "episodes_total": 1384, "timesteps_since_restore": 3667734, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.896, "num_steps_sampled": 3706851, "num_steps_trained": 3706851, "default": {"entropy": 1.1085071563720703, "policy_loss": -0.007192595861852169, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.8426048159599304, "vf_loss": 24.526540756225586, "total_loss": 24.521438598632812, "cur_lr": 0.0005000000237487257, "kl": 0.018571246415376663}, "sample_time_ms": 12332.813, "load_time_ms": 11.703, "grad_time_ms": 8823.475}, "episode_len_mean": 671.27, "num_metric_batches_dropped": 0, "timesteps_total": 3706851, "time_this_iter_s": 20.94055676460266, "date": "2019-05-07_04-33-00", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1de80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dc50>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 390.43741999336874, "outflow_rate_mean": 854.6626822209885, "system_level_velocity_mean": 13.54111833496269, "cost2_min": -94.08216540107996, "system_level_velocity_min": 11.013901112024694, "outflow_rate_max": 983.1251423984386, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 333.6110229131298, "cost2_mean": -77.56222727431685}, "policy_reward_mean": {}, "timesteps_this_iter": 39117, "episodes_this_iter": 18, "training_iteration": 88, "done": false, "episode_reward_mean": 1047.599523313342, "iterations_since_restore": 88, "pid": 304, "time_total_s": 1978.0393590927124, "timestamp": 1557203580, "episode_reward_min": 51.3218319690873, "time_since_restore": 1978.0393590927124, "episode_reward_max": 1192.469698316903, "episodes_total": 1402, "timesteps_since_restore": 3706851, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.813, "num_steps_sampled": 3747765, "num_steps_trained": 3747765, "default": {"entropy": 1.100966453552246, "policy_loss": -0.006084693130105734, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.9028574824333191, "vf_loss": 16.574962615966797, "total_loss": 16.570829391479492, "cur_lr": 0.0005000000237487257, "kl": 0.017328303307294846}, "sample_time_ms": 12280.442, "load_time_ms": 12.173, "grad_time_ms": 8812.836}, "episode_len_mean": 680.93, "num_metric_batches_dropped": 0, "timesteps_total": 3747765, "time_this_iter_s": 21.438946962356567, "date": "2019-05-07_04-33-21", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb007b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb00630>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 390.43741999336874, "outflow_rate_mean": 864.7953737979157, "system_level_velocity_mean": 13.512519744709337, "cost2_min": -94.08216540107996, "system_level_velocity_min": 11.204869892911049, "outflow_rate_max": 983.1251423984386, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 338.90503893543683, "cost2_mean": -77.71693381911221}, "policy_reward_mean": {}, "timesteps_this_iter": 40914, "episodes_this_iter": 16, "training_iteration": 89, "done": false, "episode_reward_mean": 1066.5221367630154, "iterations_since_restore": 89, "pid": 304, "time_total_s": 1999.478306055069, "timestamp": 1557203601, "episode_reward_min": 51.3218319690873, "time_since_restore": 1999.478306055069, "episode_reward_max": 1197.2510636529955, "episodes_total": 1418, "timesteps_since_restore": 3747765, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.736, "num_steps_sampled": 3787989, "num_steps_trained": 3787989, "default": {"entropy": 1.0594879388809204, "policy_loss": -0.005738536361604929, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8571697473526001, "vf_loss": 17.511327743530273, "total_loss": 17.507442474365234, "cur_lr": 0.0005000000237487257, "kl": 0.016483023762702942}, "sample_time_ms": 12245.303, "load_time_ms": 11.687, "grad_time_ms": 8811.191}, "episode_len_mean": 685.8, "num_metric_batches_dropped": 0, "timesteps_total": 3787989, "time_this_iter_s": 21.301665544509888, "date": "2019-05-07_04-33-42", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e48>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 390.43741999336874, "outflow_rate_mean": 864.9108970501795, "system_level_velocity_mean": 13.418712857578514, "cost2_min": -94.08216540107996, "system_level_velocity_min": 11.204869892911049, "outflow_rate_max": 983.1251423984386, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 339.9822974160321, "cost2_mean": -77.97365644419159}, "policy_reward_mean": {}, "timesteps_this_iter": 40224, "episodes_this_iter": 12, "training_iteration": 90, "done": false, "episode_reward_mean": 1080.9296543367084, "iterations_since_restore": 90, "pid": 304, "time_total_s": 2020.7799715995789, "timestamp": 1557203622, "episode_reward_min": 51.3218319690873, "time_since_restore": 2020.7799715995789, "episode_reward_max": 1211.3523812985547, "episodes_total": 1430, "timesteps_since_restore": 3787989, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.862, "num_steps_sampled": 3827831, "num_steps_trained": 3827831, "default": {"entropy": 1.0587472915649414, "policy_loss": -0.005855661351233721, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.8375656008720398, "vf_loss": 21.54784393310547, "total_loss": 21.54399299621582, "cur_lr": 0.0005000000237487257, "kl": 0.017811737954616547}, "sample_time_ms": 12220.204, "load_time_ms": 11.723, "grad_time_ms": 8814.554}, "episode_len_mean": 682.03, "num_metric_batches_dropped": 0, "timesteps_total": 3827831, "time_this_iter_s": 21.39835810661316, "date": "2019-05-07_04-34-04", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b70>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 390.43741999336874, "outflow_rate_mean": 858.9195293739359, "system_level_velocity_mean": 13.384727821410666, "cost2_min": -94.08216540107996, "system_level_velocity_min": 11.204869892911049, "outflow_rate_max": 983.1251423984386, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 337.40608688105834, "cost2_mean": -77.18198232149255}, "policy_reward_mean": {}, "timesteps_this_iter": 39842, "episodes_this_iter": 18, "training_iteration": 91, "done": false, "episode_reward_mean": 1081.6907488647983, "iterations_since_restore": 91, "pid": 304, "time_total_s": 2042.178329706192, "timestamp": 1557203644, "episode_reward_min": 51.3218319690873, "time_since_restore": 2042.178329706192, "episode_reward_max": 1211.3523812985547, "episodes_total": 1448, "timesteps_since_restore": 3827831, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.806, "num_steps_sampled": 3866999, "num_steps_trained": 3866999, "default": {"entropy": 1.0738797187805176, "policy_loss": -0.006001192145049572, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.86383455991745, "vf_loss": 23.52512550354004, "total_loss": 23.521120071411133, "cur_lr": 0.0005000000237487257, "kl": 0.017728500068187714}, "sample_time_ms": 12166.798, "load_time_ms": 11.773, "grad_time_ms": 8895.894}, "episode_len_mean": 682.72, "num_metric_batches_dropped": 0, "timesteps_total": 3866999, "time_this_iter_s": 21.876951217651367, "date": "2019-05-07_04-34-26", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 390.43741999336874, "outflow_rate_mean": 858.3616441817488, "system_level_velocity_mean": 13.357802280179122, "cost2_min": -94.43819486135021, "system_level_velocity_min": 11.204869892911049, "outflow_rate_max": 983.1251423984386, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 337.691930550918, "cost2_mean": -76.09182289318544}, "policy_reward_mean": {}, "timesteps_this_iter": 39168, "episodes_this_iter": 19, "training_iteration": 92, "done": false, "episode_reward_mean": 1085.176963507211, "iterations_since_restore": 92, "pid": 304, "time_total_s": 2064.0552809238434, "timestamp": 1557203666, "episode_reward_min": 51.3218319690873, "time_since_restore": 2064.0552809238434, "episode_reward_max": 1211.3523812985547, "episodes_total": 1467, "timesteps_since_restore": 3866999, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.28, "num_steps_sampled": 3905987, "num_steps_trained": 3905987, "default": {"entropy": 1.0846184492111206, "policy_loss": -0.006530186627060175, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8447805643081665, "vf_loss": 25.813190460205078, "total_loss": 25.808731079101562, "cur_lr": 0.0005000000237487257, "kl": 0.018399162217974663}, "sample_time_ms": 12181.324, "load_time_ms": 11.728, "grad_time_ms": 8914.904}, "episode_len_mean": 677.82, "num_metric_batches_dropped": 0, "timesteps_total": 3905987, "time_this_iter_s": 20.90449547767639, "date": "2019-05-07_04-34-47", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96198>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.902833332060496, "cost2_max": -24.34388245494692, "outflow_rate_min": 329.6337234057179, "cost1_max": 371.7583916601615, "outflow_rate_mean": 846.9696024077962, "system_level_velocity_mean": 13.233855856412147, "cost2_min": -94.43819486135021, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 940.4579281961254, "system_level_velocity_max": 19.406126940967123, "cost1_mean": 332.0990580646295, "cost2_mean": -73.85066460314937}, "policy_reward_mean": {}, "timesteps_this_iter": 38988, "episodes_this_iter": 20, "training_iteration": 93, "done": false, "episode_reward_mean": 1073.2219367702023, "iterations_since_restore": 93, "pid": 304, "time_total_s": 2084.95977640152, "timestamp": 1557203687, "episode_reward_min": 51.3218319690873, "time_since_restore": 2084.95977640152, "episode_reward_max": 1211.3523812985547, "episodes_total": 1487, "timesteps_since_restore": 3905987, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.333, "num_steps_sampled": 3944031, "num_steps_trained": 3944031, "default": {"entropy": 1.0618817806243896, "policy_loss": -0.00592117989435792, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.7956733703613281, "vf_loss": 31.798473358154297, "total_loss": 31.794652938842773, "cur_lr": 0.0005000000237487257, "kl": 0.018673568964004517}, "sample_time_ms": 12129.576, "load_time_ms": 11.717, "grad_time_ms": 8880.751}, "episode_len_mean": 669.73, "num_metric_batches_dropped": 0, "timesteps_total": 3944031, "time_this_iter_s": 20.650761127471924, "date": "2019-05-07_04-35-07", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1dda0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb555f8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 383.9567937757962, "outflow_rate_mean": 844.2195356933639, "system_level_velocity_mean": 13.369066012743176, "cost2_min": -94.43819486135021, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 948.3085874595603, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 330.09339817797166, "cost2_mean": -71.01318298278633}, "policy_reward_mean": {}, "timesteps_this_iter": 38044, "episodes_this_iter": 20, "training_iteration": 94, "done": false, "episode_reward_mean": 1054.7915388449876, "iterations_since_restore": 94, "pid": 304, "time_total_s": 2105.6105375289917, "timestamp": 1557203707, "episode_reward_min": 54.526619278365665, "time_since_restore": 2105.6105375289917, "episode_reward_max": 1211.3523812985547, "episodes_total": 1507, "timesteps_since_restore": 3944031, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.416, "num_steps_sampled": 3983569, "num_steps_trained": 3983569, "default": {"entropy": 1.069610357284546, "policy_loss": -0.006922357250005007, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8749881386756897, "vf_loss": 17.637248992919922, "total_loss": 17.63254737854004, "cur_lr": 0.0005000000237487257, "kl": 0.019756263121962547}, "sample_time_ms": 12052.653, "load_time_ms": 12.21, "grad_time_ms": 8889.051}, "episode_len_mean": 660.88, "num_metric_batches_dropped": 0, "timesteps_total": 3983569, "time_this_iter_s": 20.514705657958984, "date": "2019-05-07_04-35-28", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 383.9567937757962, "outflow_rate_mean": 838.2963074659779, "system_level_velocity_mean": 13.465765494533784, "cost2_min": -94.43819486135021, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 948.3085874595603, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 326.7777864483244, "cost2_mean": -68.62109937036261}, "policy_reward_mean": {}, "timesteps_this_iter": 39538, "episodes_this_iter": 14, "training_iteration": 95, "done": false, "episode_reward_mean": 1039.0331662542833, "iterations_since_restore": 95, "pid": 304, "time_total_s": 2126.1252431869507, "timestamp": 1557203728, "episode_reward_min": 54.526619278365665, "time_since_restore": 2126.1252431869507, "episode_reward_max": 1189.1668792200119, "episodes_total": 1521, "timesteps_since_restore": 3983569, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.426, "num_steps_sampled": 4023742, "num_steps_trained": 4023742, "default": {"entropy": 1.104291558265686, "policy_loss": -0.006050430703908205, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.8794787526130676, "vf_loss": 22.56635856628418, "total_loss": 22.562637329101562, "cur_lr": 0.0005000000237487257, "kl": 0.020674174651503563}, "sample_time_ms": 12070.575, "load_time_ms": 12.091, "grad_time_ms": 8914.006}, "episode_len_mean": 656.42, "num_metric_batches_dropped": 0, "timesteps_total": 4023742, "time_this_iter_s": 20.93561840057373, "date": "2019-05-07_04-35-49", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 389.2907877871836, "outflow_rate_mean": 840.6887589878461, "system_level_velocity_mean": 13.608394914493267, "cost2_min": -94.43819486135021, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 960.1442554551359, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 327.4112105931647, "cost2_mean": -68.28061546358794}, "policy_reward_mean": {}, "timesteps_this_iter": 40173, "episodes_this_iter": 19, "training_iteration": 96, "done": false, "episode_reward_mean": 1026.4706276679533, "iterations_since_restore": 96, "pid": 304, "time_total_s": 2147.0608615875244, "timestamp": 1557203749, "episode_reward_min": 54.526619278365665, "time_since_restore": 2147.0608615875244, "episode_reward_max": 1188.3460987743952, "episodes_total": 1540, "timesteps_since_restore": 4023742, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.465, "num_steps_sampled": 4062705, "num_steps_trained": 4062705, "default": {"entropy": 1.0778855085372925, "policy_loss": -0.006571195553988218, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.8640274405479431, "vf_loss": 24.34234046936035, "total_loss": 24.338298797607422, "cur_lr": 0.0005000000237487257, "kl": 0.01497559156268835}, "sample_time_ms": 12153.516, "load_time_ms": 12.08, "grad_time_ms": 8863.643}, "episode_len_mean": 655.26, "num_metric_batches_dropped": 0, "timesteps_total": 4062705, "time_this_iter_s": 21.160205841064453, "date": "2019-05-07_04-36-10", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96860>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 410.0411545066912, "outflow_rate_mean": 841.3744985346739, "system_level_velocity_mean": 13.688458982466754, "cost2_min": -97.0017116619364, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 987.2455215611886, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 328.0069804111994, "cost2_mean": -69.25685541323139}, "policy_reward_mean": {}, "timesteps_this_iter": 38963, "episodes_this_iter": 20, "training_iteration": 97, "done": false, "episode_reward_mean": 1022.4986283045307, "iterations_since_restore": 97, "pid": 304, "time_total_s": 2168.221067428589, "timestamp": 1557203770, "episode_reward_min": 53.693556895947054, "time_since_restore": 2168.221067428589, "episode_reward_max": 1236.010728437267, "episodes_total": 1560, "timesteps_since_restore": 4062705, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.406, "num_steps_sampled": 4101222, "num_steps_trained": 4101222, "default": {"entropy": 1.07749342918396, "policy_loss": -0.006665915250778198, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.8735813498497009, "vf_loss": 20.680912017822266, "total_loss": 20.676807403564453, "cur_lr": 0.0005000000237487257, "kl": 0.015174987725913525}, "sample_time_ms": 12098.103, "load_time_ms": 11.855, "grad_time_ms": 8822.952}, "episode_len_mean": 652.56, "num_metric_batches_dropped": 0, "timesteps_total": 4101222, "time_this_iter_s": 19.97807765007019, "date": "2019-05-07_04-36-30", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb004a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb008d0>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 410.0411545066912, "outflow_rate_mean": 841.2049639326289, "system_level_velocity_mean": 13.790581939713979, "cost2_min": -97.0017116619364, "system_level_velocity_min": 10.958234115165862, "outflow_rate_max": 987.2455215611886, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 328.63980318865686, "cost2_mean": -69.55593435180346}, "policy_reward_mean": {}, "timesteps_this_iter": 38517, "episodes_this_iter": 18, "training_iteration": 98, "done": false, "episode_reward_mean": 1022.0175088763522, "iterations_since_restore": 98, "pid": 304, "time_total_s": 2188.199145078659, "timestamp": 1557203790, "episode_reward_min": 53.693556895947054, "time_since_restore": 2188.199145078659, "episode_reward_max": 1236.010728437267, "episodes_total": 1578, "timesteps_since_restore": 4101222, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.387, "num_steps_sampled": 4140072, "num_steps_trained": 4140072, "default": {"entropy": 1.0818589925765991, "policy_loss": -0.007197128143161535, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.8292129039764404, "vf_loss": 21.510034561157227, "total_loss": 21.50518035888672, "cur_lr": 0.0005000000237487257, "kl": 0.013881265185773373}, "sample_time_ms": 12071.948, "load_time_ms": 11.509, "grad_time_ms": 8741.615}, "episode_len_mean": 657.46, "num_metric_batches_dropped": 0, "timesteps_total": 4140072, "time_this_iter_s": 20.341274738311768, "date": "2019-05-07_04-36-50", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96198>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.24273810656767, "cost2_max": -20.32631285014707, "outflow_rate_min": 329.6337234057179, "cost1_max": 410.0411545066912, "outflow_rate_mean": 851.8097320612698, "system_level_velocity_mean": 13.91493277028994, "cost2_min": -97.0017116619364, "system_level_velocity_min": 11.35078150146814, "outflow_rate_max": 987.2455215611886, "system_level_velocity_max": 18.929778172925214, "cost1_mean": 334.3003255545396, "cost2_mean": -71.19243686337562}, "policy_reward_mean": {}, "timesteps_this_iter": 38850, "episodes_this_iter": 16, "training_iteration": 99, "done": false, "episode_reward_mean": 1037.054736009276, "iterations_since_restore": 99, "pid": 304, "time_total_s": 2208.540419816971, "timestamp": 1557203810, "episode_reward_min": 53.693556895947054, "time_since_restore": 2208.540419816971, "episode_reward_max": 1236.010728437267, "episodes_total": 1594, "timesteps_since_restore": 4140072, "hostname": "flow-main", "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.406, "num_steps_sampled": 4177973, "num_steps_trained": 4177973, "default": {"entropy": 1.1009272336959839, "policy_loss": -0.007699146401137114, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.841575026512146, "vf_loss": 28.19011878967285, "total_loss": 28.185392379760742, "cur_lr": 0.0005000000237487257, "kl": 0.017620522528886795}, "sample_time_ms": 12122.831, "load_time_ms": 11.373, "grad_time_ms": 8678.895}, "episode_len_mean": 662.95, "num_metric_batches_dropped": 0, "timesteps_total": 4177973, "time_this_iter_s": 21.169957876205444, "date": "2019-05-07_04-37-12", "config": {"sample_async": false, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "gamma": 0.99, "input_evaluation": null, "model": {"zero_mean": true, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "max_seq_len": 20, "free_log_std": false, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "clip_param": 0.3, "kl_target": 0.01, "sample_batch_size": 200, "compress_observations": false, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "horizon": 1500, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a58>", "on_sample_end": null}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "entropy_coeff": 0.0, "monitor": false, "output": null, "lr_schedule": null, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "output_max_file_size": 67108864, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "log_level": "INFO"}, "experiment_id": "c5c7e655275441aba2214ee9210496f0", "custom_metrics": {"cost1_min": 28.262925021412002, "cost2_max": -20.812399257439694, "outflow_rate_min": 329.6337234057179, "cost1_max": 410.0411545066912, "outflow_rate_mean": 854.4543963791511, "system_level_velocity_mean": 13.84985354655175, "cost2_min": -97.0017116619364, "system_level_velocity_min": 11.35078150146814, "outflow_rate_max": 987.2455215611886, "system_level_velocity_max": 18.991763637310616, "cost1_mean": 336.4542309626642, "cost2_mean": -71.94381137528921}, "policy_reward_mean": {}, "timesteps_this_iter": 37901, "episodes_this_iter": 21, "training_iteration": 100, "done": true, "episode_reward_mean": 1045.7950313409249, "iterations_since_restore": 100, "pid": 304, "time_total_s": 2229.7103776931763, "timestamp": 1557203832, "episode_reward_min": 53.693556895947054, "time_since_restore": 2229.7103776931763, "episode_reward_max": 1236.010728437267, "episodes_total": 1615, "timesteps_since_restore": 4177973, "hostname": "flow-main", "node_ip": "10.138.0.2"}
