{"info": {"update_time_ms": 1410.547, "num_steps_sampled": 49939, "num_steps_trained": 49939, "load_time_ms": 73.658, "sample_time_ms": 38791.229, "default": {"entropy": 1.4163082838058472, "policy_loss": -0.00035574176581576467, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.9161766767501831, "vf_loss": 1.778979778289795, "total_loss": 1.7788164615631104, "cur_lr": 0.0005000000237487257, "kl": 0.0009618474869057536}, "grad_time_ms": 12054.843}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 49939, "time_this_iter_s": 52.49769639968872, "date": "2019-05-07_03-15-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1d518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1d550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfb1d4e0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {}, "policy_reward_mean": {}, "timesteps_this_iter": 49939, "episodes_this_iter": 0, "training_iteration": 1, "pid": 324, "episode_reward_mean": NaN, "iterations_since_restore": 1, "time_total_s": 52.49769639968872, "episode_len_mean": NaN, "hostname": "flow-main", "episode_reward_min": NaN, "time_since_restore": 52.49769639968872, "episode_reward_max": NaN, "episodes_total": 0, "timesteps_since_restore": 49939, "timestamp": 1557198945, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 708.966, "num_steps_sampled": 96460, "num_steps_trained": 96460, "load_time_ms": 45.211, "sample_time_ms": 28495.512, "default": {"entropy": 1.413989543914795, "policy_loss": -0.0013217664090916514, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.9782129526138306, "vf_loss": 1.0057133436203003, "total_loss": 1.0047731399536133, "cur_lr": 0.0005000000237487257, "kl": 0.0038161263801157475}, "grad_time_ms": 11069.552}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 96460, "time_this_iter_s": 28.40669345855713, "date": "2019-05-07_03-16-13", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f60>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 163.0369690543459, "cost2_max": -36.35087971937635, "system_level_velocity_mean": 8.380516844109497, "outflow_rate_mean": 554.0465577835488, "cost1_max": 265.3111933167811, "cost2_min": -83.86790117478444, "cost2_mean": -66.05626063091552, "system_level_velocity_min": 6.4500348664521425, "outflow_rate_max": 724.6426509843067, "system_level_velocity_max": 10.162463967947895, "cost1_mean": 219.47565845157152, "outflow_rate_min": 362.01766294301393}, "policy_reward_mean": {}, "timesteps_this_iter": 46521, "episodes_this_iter": 20, "training_iteration": 2, "pid": 324, "episode_reward_mean": 673.2021531503758, "iterations_since_restore": 2, "time_total_s": 80.90438985824585, "episode_len_mean": 700.0, "hostname": "flow-main", "episode_reward_min": 418.7214782302579, "time_since_restore": 80.90438985824585, "episode_reward_max": 923.2927831783605, "episodes_total": 20, "timesteps_since_restore": 96460, "timestamp": 1557198973, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 475.588, "num_steps_sampled": 144229, "num_steps_trained": 144229, "load_time_ms": 35.164, "sample_time_ms": 25288.447, "default": {"entropy": 1.4099841117858887, "policy_loss": -0.0019062773790210485, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9738327860832214, "vf_loss": 1.3221460580825806, "total_loss": 1.320696234703064, "cur_lr": 0.0005000000237487257, "kl": 0.009130372665822506}, "grad_time_ms": 11338.482}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 144229, "time_this_iter_s": 30.860077381134033, "date": "2019-05-07_03-16-44", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 120.85064216810612, "cost2_max": -36.35087971937635, "system_level_velocity_mean": 7.946790939610815, "outflow_rate_mean": 509.4906689303405, "cost1_max": 265.3111933167811, "cost2_min": -83.86790117478444, "cost2_mean": -63.484217698936654, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 724.6426509843067, "system_level_velocity_max": 10.162463967947895, "cost1_mean": 207.95362207685258, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 47769, "episodes_this_iter": 15, "training_iteration": 3, "pid": 324, "episode_reward_mean": 658.0328276224335, "iterations_since_restore": 3, "time_total_s": 111.76446723937988, "episode_len_mean": 700.0, "hostname": "flow-main", "episode_reward_min": 416.2302325960234, "time_since_restore": 111.76446723937988, "episode_reward_max": 923.2927831783605, "episodes_total": 35, "timesteps_since_restore": 144229, "timestamp": 1557199004, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 358.893, "num_steps_sampled": 193928, "num_steps_trained": 193928, "load_time_ms": 30.695, "sample_time_ms": 23319.125, "default": {"entropy": 1.3896647691726685, "policy_loss": -0.001221252721734345, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.984485924243927, "vf_loss": 1.8340494632720947, "total_loss": 1.8330994844436646, "cur_lr": 0.0005000000237487257, "kl": 0.005422506015747786}, "grad_time_ms": 11155.742}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 193928, "time_this_iter_s": 28.132301330566406, "date": "2019-05-07_03-17-12", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79780>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e797b8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 120.85064216810612, "cost2_max": -36.35087971937635, "system_level_velocity_mean": 8.015731349089037, "outflow_rate_mean": 514.1145690843571, "cost1_max": 265.3111933167811, "cost2_min": -104.93679546272871, "cost2_mean": -65.45892972620892, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 724.6426509843067, "system_level_velocity_max": 10.162463967947895, "cost1_mean": 210.13015085911238, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 49699, "episodes_this_iter": 5, "training_iteration": 4, "pid": 324, "episode_reward_mean": 682.6259441569985, "iterations_since_restore": 4, "time_total_s": 139.8967685699463, "episode_len_mean": 700.0, "hostname": "flow-main", "episode_reward_min": 416.2302325960234, "time_since_restore": 139.8967685699463, "episode_reward_max": 969.6003031227698, "episodes_total": 40, "timesteps_since_restore": 193928, "timestamp": 1557199032, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 289.279, "num_steps_sampled": 240962, "num_steps_trained": 240962, "load_time_ms": 27.448, "sample_time_ms": 22588.999, "default": {"entropy": 1.3770456314086914, "policy_loss": -0.0014179772697389126, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9750789999961853, "vf_loss": 3.608659267425537, "total_loss": 3.60754656791687, "cur_lr": 0.0005000000237487257, "kl": 0.00609948392957449}, "grad_time_ms": 11020.866}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 240962, "time_this_iter_s": 30.267259120941162, "date": "2019-05-07_03-17-43", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69eb8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -14.833958871999716, "system_level_velocity_mean": 9.539119757490484, "outflow_rate_mean": 584.2263845977302, "cost1_max": 380.3452691254652, "cost2_min": -147.065698850685, "cost2_mean": -75.08111062412614, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 232.85413123700033, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 47034, "episodes_this_iter": 18, "training_iteration": 5, "pid": 324, "episode_reward_mean": 781.2523653269792, "iterations_since_restore": 5, "time_total_s": 170.16402769088745, "episode_len_mean": 677.3448275862069, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 170.16402769088745, "episode_reward_max": 1404.969745355944, "episodes_total": 58, "timesteps_since_restore": 240962, "timestamp": 1557199063, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 242.483, "num_steps_sampled": 288091, "num_steps_trained": 288091, "load_time_ms": 25.288, "sample_time_ms": 21494.607, "default": {"entropy": 1.3972063064575195, "policy_loss": -0.00200111442245543, "cur_kl_coeff": 0.05000000447034836, "vf_explained_var": 0.9777522683143616, "vf_loss": 2.4820220470428467, "total_loss": 2.4803237915039062, "cur_lr": 0.0005000000237487257, "kl": 0.006057423073798418}, "grad_time_ms": 10833.377}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 288091, "time_this_iter_s": 26.02790665626526, "date": "2019-05-07_03-18-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71dd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71b38>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -14.833958871999716, "system_level_velocity_mean": 10.074992497386894, "outflow_rate_mean": 627.7582243761203, "cost1_max": 382.4222308465402, "cost2_min": -147.065698850685, "cost2_mean": -82.92440787368218, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 250.44203117139253, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 47129, "episodes_this_iter": 18, "training_iteration": 6, "pid": 324, "episode_reward_mean": 855.1481133609168, "iterations_since_restore": 6, "time_total_s": 196.1919343471527, "episode_len_mean": 682.7105263157895, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 196.1919343471527, "episode_reward_max": 1404.969745355944, "episodes_total": 76, "timesteps_since_restore": 288091, "timestamp": 1557199089, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 208.878, "num_steps_sampled": 342530, "num_steps_trained": 342530, "load_time_ms": 24.027, "sample_time_ms": 20874.836, "default": {"entropy": 1.3918328285217285, "policy_loss": -0.002255234168842435, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9818063378334045, "vf_loss": 1.586287021636963, "total_loss": 1.5843939781188965, "cur_lr": 0.0005000000237487257, "kl": 0.007245158776640892}, "grad_time_ms": 11021.527}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 342530, "time_this_iter_s": 29.434354066848755, "date": "2019-05-07_03-18-38", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79dd8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e790b8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -14.833958871999716, "system_level_velocity_mean": 10.146033509271101, "outflow_rate_mean": 635.8622554711479, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -85.3846918567865, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 253.28083198301107, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 54439, "episodes_this_iter": 6, "training_iteration": 7, "pid": 324, "episode_reward_mean": 874.7393190689666, "iterations_since_restore": 7, "time_total_s": 225.62628841400146, "episode_len_mean": 683.9756097560976, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 225.62628841400146, "episode_reward_max": 1404.969745355944, "episodes_total": 82, "timesteps_since_restore": 342530, "timestamp": 1557199118, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 183.7, "num_steps_sampled": 391817, "num_steps_trained": 391817, "load_time_ms": 23.095, "sample_time_ms": 20432.939, "default": {"entropy": 1.3973169326782227, "policy_loss": -0.0012739537050947547, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9555972218513489, "vf_loss": 5.714611530303955, "total_loss": 5.713542461395264, "cur_lr": 0.0005000000237487257, "kl": 0.004099136218428612}, "grad_time_ms": 11149.829}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 391817, "time_this_iter_s": 29.51064133644104, "date": "2019-05-07_03-19-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d30>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 10.272966030636562, "outflow_rate_mean": 636.7698505171539, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -90.4458384645924, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 250.17850152528436, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 49287, "episodes_this_iter": 18, "training_iteration": 8, "pid": 324, "episode_reward_mean": 896.9782364007157, "iterations_since_restore": 8, "time_total_s": 255.1369297504425, "episode_len_mean": 673.86, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 255.1369297504425, "episode_reward_max": 1404.969745355944, "episodes_total": 100, "timesteps_since_restore": 391817, "timestamp": 1557199148, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 164.255, "num_steps_sampled": 444965, "num_steps_trained": 444965, "load_time_ms": 22.498, "sample_time_ms": 19999.975, "default": {"entropy": 1.4033644199371338, "policy_loss": -0.0021398495882749557, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9338691234588623, "vf_loss": 2.9124882221221924, "total_loss": 2.910552501678467, "cur_lr": 0.0005000000237487257, "kl": 0.008157114498317242}, "grad_time_ms": 11345.244}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 444965, "time_this_iter_s": 29.57044768333435, "date": "2019-05-07_03-19-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79780>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79a58>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 10.215418879506474, "outflow_rate_mean": 630.5444575778089, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -96.1420673742315, "system_level_velocity_min": 4.586608506758501, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 249.0615925969444, "outflow_rate_min": 223.14712355666327}, "policy_reward_mean": {}, "timesteps_this_iter": 53148, "episodes_this_iter": 15, "training_iteration": 9, "pid": 324, "episode_reward_mean": 946.9352183232226, "iterations_since_restore": 9, "time_total_s": 284.70737743377686, "episode_len_mean": 673.86, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 284.70737743377686, "episode_reward_max": 1404.969745355944, "episodes_total": 115, "timesteps_since_restore": 444965, "timestamp": 1557199177, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 148.834, "num_steps_sampled": 496758, "num_steps_trained": 496758, "load_time_ms": 21.913, "sample_time_ms": 19686.999, "default": {"entropy": 1.3877605199813843, "policy_loss": -0.0013008092064410448, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.981056809425354, "vf_loss": 2.075211763381958, "total_loss": 2.074075698852539, "cur_lr": 0.0005000000237487257, "kl": 0.006591718178242445}, "grad_time_ms": 11473.293}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 496758, "time_this_iter_s": 29.61298418045044, "date": "2019-05-07_03-20-07", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69630>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 10.249698928321983, "outflow_rate_mean": 637.7443588183974, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -98.76867141069798, "system_level_velocity_min": 6.076859362280481, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 250.29330416888428, "outflow_rate_min": 326.2713828205716}, "policy_reward_mean": {}, "timesteps_this_iter": 51793, "episodes_this_iter": 9, "training_iteration": 10, "pid": 324, "episode_reward_mean": 974.55397575132, "iterations_since_restore": 10, "time_total_s": 314.3203616142273, "episode_len_mean": 673.86, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 314.3203616142273, "episode_reward_max": 1404.969745355944, "episodes_total": 124, "timesteps_since_restore": 496758, "timestamp": 1557199207, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.504, "num_steps_sampled": 545286, "num_steps_trained": 545286, "load_time_ms": 16.037, "sample_time_ms": 17445.326, "default": {"entropy": 1.3808172941207886, "policy_loss": -0.001492429175414145, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9793033599853516, "vf_loss": 2.555169105529785, "total_loss": 2.553837776184082, "cur_lr": 0.0005000000237487257, "kl": 0.00644256453961134}, "grad_time_ms": 11514.001}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 545286, "time_this_iter_s": 28.95513415336609, "date": "2019-05-07_03-20-36", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71278>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71898>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.469560834134157, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 10.275807541644731, "outflow_rate_mean": 638.0367598637758, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -103.41227179214793, "system_level_velocity_min": 6.73063630820272, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 20.38898071665487, "cost1_mean": 251.22416780632645, "outflow_rate_min": 326.2713828205716}, "policy_reward_mean": {}, "timesteps_this_iter": 48528, "episodes_this_iter": 13, "training_iteration": 11, "pid": 324, "episode_reward_mean": 1007.550450338943, "iterations_since_restore": 11, "time_total_s": 343.2754957675934, "episode_len_mean": 673.86, "hostname": "flow-main", "episode_reward_min": 54.163648843889746, "time_since_restore": 343.2754957675934, "episode_reward_max": 1404.969745355944, "episodes_total": 137, "timesteps_since_restore": 545286, "timestamp": 1557199236, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.451, "num_steps_sampled": 594027, "num_steps_trained": 594027, "load_time_ms": 16.299, "sample_time_ms": 17209.849, "default": {"entropy": 1.3794043064117432, "policy_loss": -0.0022349399514496326, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9664174914360046, "vf_loss": 3.1279797554016113, "total_loss": 3.1260597705841064, "cur_lr": 0.0005000000237487257, "kl": 0.012601198628544807}, "grad_time_ms": 11739.993}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 594027, "time_this_iter_s": 28.335842609405518, "date": "2019-05-07_03-21-04", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e795c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71940>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 32.8210286113931, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 9.691624223384892, "outflow_rate_mean": 621.2247355015512, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -104.40762439335145, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 955.7611066399284, "system_level_velocity_max": 19.167130537668132, "cost1_mean": 246.3056367449144, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 48741, "episodes_this_iter": 13, "training_iteration": 12, "pid": 324, "episode_reward_mean": 1023.3975478521924, "iterations_since_restore": 12, "time_total_s": 371.6113383769989, "episode_len_mean": 687.0, "hostname": "flow-main", "episode_reward_min": 61.134923995471425, "time_since_restore": 371.6113383769989, "episode_reward_max": 1404.969745355944, "episodes_total": 150, "timesteps_since_restore": 594027, "timestamp": 1557199264, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.508, "num_steps_sampled": 641967, "num_steps_trained": 641967, "load_time_ms": 16.76, "sample_time_ms": 16899.507, "default": {"entropy": 1.3612871170043945, "policy_loss": -0.0017111623892560601, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9786502718925476, "vf_loss": 2.553678035736084, "total_loss": 2.5522496700286865, "cur_lr": 0.0005000000237487257, "kl": 0.011312915943562984}, "grad_time_ms": 11698.23}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 641967, "time_this_iter_s": 27.346616744995117, "date": "2019-05-07_03-21-32", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79f98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79828>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e797b8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 32.8210286113931, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 9.484894336356504, "outflow_rate_mean": 611.0935527317193, "cost1_max": 382.4222308465402, "cost2_min": -147.343647507796, "cost2_mean": -101.49065339695811, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 891.4387792180506, "system_level_velocity_max": 19.167130537668132, "cost1_mean": 241.35187023314046, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 47940, "episodes_this_iter": 9, "training_iteration": 13, "pid": 324, "episode_reward_mean": 1020.1759075754932, "iterations_since_restore": 13, "time_total_s": 398.957955121994, "episode_len_mean": 687.0, "hostname": "flow-main", "episode_reward_min": 61.134923995471425, "time_since_restore": 398.957955121994, "episode_reward_max": 1316.3030132476513, "episodes_total": 159, "timesteps_since_restore": 641967, "timestamp": 1557199292, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.374, "num_steps_sampled": 688585, "num_steps_trained": 688585, "load_time_ms": 16.401, "sample_time_ms": 16849.134, "default": {"entropy": 1.3428930044174194, "policy_loss": -0.0016696250531822443, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9593687057495117, "vf_loss": 4.996047496795654, "total_loss": 4.994656562805176, "cur_lr": 0.0005000000237487257, "kl": 0.011134189553558826}, "grad_time_ms": 11848.761}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 688585, "time_this_iter_s": 29.127586126327515, "date": "2019-05-07_03-22-01", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cf98>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c4e0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.65565279872586, "system_level_velocity_mean": 9.27804758024113, "outflow_rate_mean": 593.9009907015048, "cost1_max": 350.3876784380986, "cost2_min": -147.343647507796, "cost2_mean": -96.43697331257779, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 891.4387792180506, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 232.36394855991122, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 46618, "episodes_this_iter": 14, "training_iteration": 14, "pid": 324, "episode_reward_mean": 1016.9134044899896, "iterations_since_restore": 14, "time_total_s": 428.08554124832153, "episode_len_mean": 680.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 428.08554124832153, "episode_reward_max": 1362.5710285970235, "episodes_total": 173, "timesteps_since_restore": 688585, "timestamp": 1557199321, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.143, "num_steps_sampled": 735118, "num_steps_trained": 735118, "load_time_ms": 16.43, "sample_time_ms": 16507.35, "default": {"entropy": 1.3313612937927246, "policy_loss": -0.002459118142724037, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9654737710952759, "vf_loss": 4.896434307098389, "total_loss": 4.894215106964111, "cur_lr": 0.0005000000237487257, "kl": 0.00959826447069645}, "grad_time_ms": 11937.18}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 735118, "time_this_iter_s": 27.74422335624695, "date": "2019-05-07_03-22-28", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79dd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d68>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e795c0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 9.061622881173008, "outflow_rate_mean": 600.9701053354273, "cost1_max": 310.6141319238973, "cost2_min": -140.41626168379003, "cost2_mean": -91.24420645315129, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 799.7857891141763, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 237.0759057623348, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 46533, "episodes_this_iter": 15, "training_iteration": 15, "pid": 324, "episode_reward_mean": 1048.3652746040334, "iterations_since_restore": 15, "time_total_s": 455.8297646045685, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 455.8297646045685, "episode_reward_max": 1362.5710285970235, "episodes_total": 188, "timesteps_since_restore": 735118, "timestamp": 1557199348, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.262, "num_steps_sampled": 779641, "num_steps_trained": 779641, "load_time_ms": 16.467, "sample_time_ms": 16593.556, "default": {"entropy": 1.3161031007766724, "policy_loss": -0.0022787151392549276, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9675485491752625, "vf_loss": 5.000173568725586, "total_loss": 4.99821138381958, "cur_lr": 0.0005000000237487257, "kl": 0.01265626959502697}, "grad_time_ms": 12062.84}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 779641, "time_this_iter_s": 28.16663908958435, "date": "2019-05-07_03-22-57", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e719e8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 9.252953245607337, "outflow_rate_mean": 614.8876130666957, "cost1_max": 323.54255683552776, "cost2_min": -124.35247945281188, "cost2_mean": -84.42965853163041, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 826.0026687179989, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 242.97347669149156, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 44523, "episodes_this_iter": 14, "training_iteration": 16, "pid": 324, "episode_reward_mean": 1063.7319013421404, "iterations_since_restore": 16, "time_total_s": 483.99640369415283, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 483.99640369415283, "episode_reward_max": 1373.3858810291806, "episodes_total": 202, "timesteps_since_restore": 779641, "timestamp": 1557199377, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.239, "num_steps_sampled": 825342, "num_steps_trained": 825342, "load_time_ms": 16.201, "sample_time_ms": 16633.525, "default": {"entropy": 1.264245867729187, "policy_loss": -0.001527745625935495, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9371946454048157, "vf_loss": 7.29276704788208, "total_loss": 7.291579246520996, "cur_lr": 0.0005000000237487257, "kl": 0.013605646789073944}, "grad_time_ms": 11952.562}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 825342, "time_this_iter_s": 28.71201777458191, "date": "2019-05-07_03-23-25", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69780>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69748>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 9.718545990269499, "outflow_rate_mean": 650.9672472376869, "cost1_max": 334.85180001338534, "cost2_min": -124.35247945281188, "cost2_mean": -78.95917585548199, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 851.1574428592639, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 256.2087248554888, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 45701, "episodes_this_iter": 13, "training_iteration": 17, "pid": 324, "episode_reward_mean": 1096.592221741425, "iterations_since_restore": 17, "time_total_s": 512.7084214687347, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 512.7084214687347, "episode_reward_max": 1373.3858810291806, "episodes_total": 215, "timesteps_since_restore": 825342, "timestamp": 1557199405, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.323, "num_steps_sampled": 870015, "num_steps_trained": 870015, "load_time_ms": 16.109, "sample_time_ms": 16502.824, "default": {"entropy": 1.2296888828277588, "policy_loss": -0.0013229228788986802, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.9361293911933899, "vf_loss": 8.148289680480957, "total_loss": 8.147298812866211, "cur_lr": 0.0005000000237487257, "kl": 0.013275397941470146}, "grad_time_ms": 11720.222}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 870015, "time_this_iter_s": 25.86466073989868, "date": "2019-05-07_03-23-51", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c160>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c240>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 10.239669908280872, "outflow_rate_mean": 691.8459813298327, "cost1_max": 344.4269673234482, "cost2_min": -112.15751032364622, "cost2_mean": -73.19905910126822, "system_level_velocity_min": 6.042009534768921, "outflow_rate_max": 879.1931255052523, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 270.9923181654371, "outflow_rate_min": 320.65779705062613}, "policy_reward_mean": {}, "timesteps_this_iter": 44673, "episodes_this_iter": 14, "training_iteration": 18, "pid": 324, "episode_reward_mean": 1137.6697814138552, "iterations_since_restore": 18, "time_total_s": 538.5730822086334, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 538.5730822086334, "episode_reward_max": 1373.3858810291806, "episodes_total": 229, "timesteps_since_restore": 870015, "timestamp": 1557199431, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.213, "num_steps_sampled": 912816, "num_steps_trained": 912816, "load_time_ms": 15.796, "sample_time_ms": 16495.072, "default": {"entropy": 1.2137343883514404, "policy_loss": -0.0015849977498874068, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.8818331956863403, "vf_loss": 14.276899337768555, "total_loss": 14.275643348693848, "cur_lr": 0.0005000000237487257, "kl": 0.013172369450330734}, "grad_time_ms": 11420.71}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 912816, "time_this_iter_s": 26.48165249824524, "date": "2019-05-07_03-24-18", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cac8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c7f0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 10.783457411407642, "outflow_rate_mean": 733.7609741782173, "cost1_max": 344.4269673234482, "cost2_min": -100.30911159431984, "cost2_mean": -65.2372449873773, "system_level_velocity_min": 7.356565316035358, "outflow_rate_max": 879.1931255052523, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 286.4587756336298, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 42801, "episodes_this_iter": 16, "training_iteration": 19, "pid": 324, "episode_reward_mean": 1173.5713549692966, "iterations_since_restore": 19, "time_total_s": 565.0547347068787, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 565.0547347068787, "episode_reward_max": 1373.3858810291806, "episodes_total": 245, "timesteps_since_restore": 912816, "timestamp": 1557199458, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.247, "num_steps_sampled": 955393, "num_steps_trained": 955393, "load_time_ms": 15.348, "sample_time_ms": 16507.085, "default": {"entropy": 1.2017346620559692, "policy_loss": -0.0012539761373773217, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.8659586906433105, "vf_loss": 14.098651885986328, "total_loss": 14.097756385803223, "cur_lr": 0.0005000000237487257, "kl": 0.014269410632550716}, "grad_time_ms": 11066.339}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 955393, "time_this_iter_s": 26.16936755180359, "date": "2019-05-07_03-24-44", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e694a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.04497178224624, "cost2_max": -11.72484357076845, "system_level_velocity_mean": 11.14536951774061, "outflow_rate_mean": 757.095402006871, "cost1_max": 344.4269673234482, "cost2_min": -99.70424115915591, "cost2_mean": -59.9621714704764, "system_level_velocity_min": 8.619971114787687, "outflow_rate_max": 879.1931255052523, "system_level_velocity_max": 19.637671613655087, "cost1_mean": 296.71643343197417, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 42577, "episodes_this_iter": 14, "training_iteration": 20, "pid": 324, "episode_reward_mean": 1189.5672869096159, "iterations_since_restore": 20, "time_total_s": 591.2241022586823, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 57.13082091361497, "time_since_restore": 591.2241022586823, "episode_reward_max": 1373.3858810291806, "episodes_total": 259, "timesteps_since_restore": 955393, "timestamp": 1557199484, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.13, "num_steps_sampled": 997353, "num_steps_trained": 997353, "load_time_ms": 15.225, "sample_time_ms": 16507.742, "default": {"entropy": 1.1739931106567383, "policy_loss": -0.002514359075576067, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.8882774710655212, "vf_loss": 14.6410493850708, "total_loss": 14.638888359069824, "cur_lr": 0.0005000000237487257, "kl": 0.014144162647426128}, "grad_time_ms": 10775.904}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 997353, "time_this_iter_s": 26.047921657562256, "date": "2019-05-07_03-25-10", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cf98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c1d0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 262.8261563548365, "cost2_max": -36.461374636389046, "system_level_velocity_mean": 11.35317360017752, "outflow_rate_mean": 779.4328689091559, "cost1_max": 352.8582800492147, "cost2_min": -99.70424115915591, "cost2_mean": -56.071407939012225, "system_level_velocity_min": 9.635429650350051, "outflow_rate_max": 879.1931255052523, "system_level_velocity_max": 13.081091491943678, "cost1_mean": 307.60211325747014, "outflow_rate_min": 680.5958422132077}, "policy_reward_mean": {}, "timesteps_this_iter": 41960, "episodes_this_iter": 17, "training_iteration": 21, "pid": 324, "episode_reward_mean": 1205.7198920939643, "iterations_since_restore": 21, "time_total_s": 617.2720239162445, "episode_len_mean": 700.0, "hostname": "flow-main", "episode_reward_min": 1070.8658925129084, "time_since_restore": 617.2720239162445, "episode_reward_max": 1373.3858810291806, "episodes_total": 276, "timesteps_since_restore": 997353, "timestamp": 1557199510, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.217, "num_steps_sampled": 1040978, "num_steps_trained": 1040978, "load_time_ms": 14.68, "sample_time_ms": 16584.211, "default": {"entropy": 1.1438815593719482, "policy_loss": -0.002280085813254118, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.8920483589172363, "vf_loss": 14.131686210632324, "total_loss": 14.129817008972168, "cur_lr": 0.0005000000237487257, "kl": 0.01633944734930992}, "grad_time_ms": 10536.317}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1040978, "time_this_iter_s": 26.654115438461304, "date": "2019-05-07_03-25-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71cf8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71518>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.803484586905824, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 11.69164679668671, "outflow_rate_mean": 792.0232428991345, "cost1_max": 361.42530160138347, "cost2_min": -82.25059108379178, "cost2_mean": -52.11457350179446, "system_level_velocity_min": 9.635429650350051, "outflow_rate_max": 893.6451396628048, "system_level_velocity_max": 18.510168095492446, "cost1_mean": 312.29308091271736, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 43625, "episodes_this_iter": 15, "training_iteration": 22, "pid": 324, "episode_reward_mean": 1205.8024667568968, "iterations_since_restore": 22, "time_total_s": 643.9261393547058, "episode_len_mean": 693.53, "hostname": "flow-main", "episode_reward_min": 73.03268865313908, "time_since_restore": 643.9261393547058, "episode_reward_max": 1382.8189428171108, "episodes_total": 291, "timesteps_since_restore": 1040978, "timestamp": 1557199537, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.874, "num_steps_sampled": 1086169, "num_steps_trained": 1086169, "load_time_ms": 14.295, "sample_time_ms": 16727.984, "default": {"entropy": 1.152714729309082, "policy_loss": -0.0011015034979209304, "cur_kl_coeff": 0.02500000223517418, "vf_explained_var": 0.9596788287162781, "vf_loss": 6.085851669311523, "total_loss": 6.085068702697754, "cur_lr": 0.0005000000237487257, "kl": 0.012735916301608086}, "grad_time_ms": 10389.754}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1086169, "time_this_iter_s": 27.31917643547058, "date": "2019-05-07_03-26-04", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e798d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79940>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.803484586905824, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 11.864345092600885, "outflow_rate_mean": 801.9216365853115, "cost1_max": 361.42530160138347, "cost2_min": -76.84724343307695, "cost2_mean": -51.13968563769862, "system_level_velocity_min": 9.635429650350051, "outflow_rate_max": 899.5152473187475, "system_level_velocity_max": 18.510168095492446, "cost1_mean": 316.9967375656946, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 45191, "episodes_this_iter": 13, "training_iteration": 23, "pid": 324, "episode_reward_mean": 1214.512663118505, "iterations_since_restore": 23, "time_total_s": 671.2453157901764, "episode_len_mean": 693.53, "hostname": "flow-main", "episode_reward_min": 73.03268865313908, "time_since_restore": 671.2453157901764, "episode_reward_max": 1392.9537114453003, "episodes_total": 304, "timesteps_since_restore": 1086169, "timestamp": 1557199564, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.854, "num_steps_sampled": 1131228, "num_steps_trained": 1131228, "load_time_ms": 14.173, "sample_time_ms": 16764.567, "default": {"entropy": 1.159899353981018, "policy_loss": -0.001464414643123746, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9648810029029846, "vf_loss": 6.813229560852051, "total_loss": 6.812082290649414, "cur_lr": 0.0005000000237487257, "kl": 0.012674730271100998}, "grad_time_ms": 10095.187}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1131228, "time_this_iter_s": 26.544572591781616, "date": "2019-05-07_03-26-31", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69dd8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69c50>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.803484586905824, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 12.072099743343031, "outflow_rate_mean": 813.5227042262725, "cost1_max": 376.19010613143246, "cost2_min": -77.7468527973387, "cost2_mean": -52.029544741199906, "system_level_velocity_min": 9.772570784962655, "outflow_rate_max": 923.9401948875375, "system_level_velocity_max": 18.510168095492446, "cost1_mean": 322.49507381716097, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 45059, "episodes_this_iter": 14, "training_iteration": 24, "pid": 324, "episode_reward_mean": 1225.3848135924618, "iterations_since_restore": 24, "time_total_s": 697.789888381958, "episode_len_mean": 693.53, "hostname": "flow-main", "episode_reward_min": 73.03268865313908, "time_since_restore": 697.789888381958, "episode_reward_max": 1424.6058087224526, "episodes_total": 318, "timesteps_since_restore": 1131228, "timestamp": 1557199591, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.75, "num_steps_sampled": 1174922, "num_steps_trained": 1174922, "load_time_ms": 14.238, "sample_time_ms": 16669.77, "default": {"entropy": 1.176462173461914, "policy_loss": -0.0012601453345268965, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9598479866981506, "vf_loss": 8.68322467803955, "total_loss": 8.682246208190918, "cur_lr": 0.0005000000237487257, "kl": 0.011313728988170624}, "grad_time_ms": 10010.441}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1174922, "time_this_iter_s": 25.92308497428894, "date": "2019-05-07_03-26-57", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c278>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c1d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c9e8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.354522882837195, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 12.305988689033288, "outflow_rate_mean": 817.457743893586, "cost1_max": 376.19010613143246, "cost2_min": -82.64959922037052, "cost2_mean": -54.34733698029297, "system_level_velocity_min": 9.772570784962655, "outflow_rate_max": 923.9401948875375, "system_level_velocity_max": 19.420453825431554, "cost1_mean": 323.6228118769114, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 43694, "episodes_this_iter": 16, "training_iteration": 25, "pid": 324, "episode_reward_mean": 1221.0179615899094, "iterations_since_restore": 25, "time_total_s": 723.712973356247, "episode_len_mean": 687.03, "hostname": "flow-main", "episode_reward_min": 61.4231396225402, "time_since_restore": 723.712973356247, "episode_reward_max": 1467.1608929584718, "episodes_total": 334, "timesteps_since_restore": 1174922, "timestamp": 1557199617, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.364, "num_steps_sampled": 1217966, "num_steps_trained": 1217966, "load_time_ms": 14.336, "sample_time_ms": 16570.651, "default": {"entropy": 1.1569231748580933, "policy_loss": -0.00207316386513412, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9721902012825012, "vf_loss": 6.078433036804199, "total_loss": 6.076740264892578, "cur_lr": 0.0005000000237487257, "kl": 0.015208775177598}, "grad_time_ms": 9905.109}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1217966, "time_this_iter_s": 26.102811336517334, "date": "2019-05-07_03-27-23", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c438>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c3c8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.354522882837195, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 12.542062787023776, "outflow_rate_mean": 829.9552635224021, "cost1_max": 376.19010613143246, "cost2_min": -82.64959922037052, "cost2_mean": -57.55407078515875, "system_level_velocity_min": 10.073842557097164, "outflow_rate_max": 924.6263204989209, "system_level_velocity_max": 19.420453825431554, "cost1_mean": 329.7012008356437, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 43044, "episodes_this_iter": 14, "training_iteration": 26, "pid": 324, "episode_reward_mean": 1237.9035572997616, "iterations_since_restore": 26, "time_total_s": 749.8157846927643, "episode_len_mean": 687.03, "hostname": "flow-main", "episode_reward_min": 61.4231396225402, "time_since_restore": 749.8157846927643, "episode_reward_max": 1467.1608929584718, "episodes_total": 348, "timesteps_since_restore": 1217966, "timestamp": 1557199643, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.236, "num_steps_sampled": 1262471, "num_steps_trained": 1262471, "load_time_ms": 14.294, "sample_time_ms": 16455.323, "default": {"entropy": 1.1311544179916382, "policy_loss": -0.0027378154918551445, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.957139253616333, "vf_loss": 9.438289642333984, "total_loss": 9.43591022491455, "cur_lr": 0.0005000000237487257, "kl": 0.014323699288070202}, "grad_time_ms": 9850.366}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1262471, "time_this_iter_s": 26.997305393218994, "date": "2019-05-07_03-27-50", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e792b0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 30.238804418143122, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 12.959060203301906, "outflow_rate_mean": 835.8166329547176, "cost1_max": 381.04521727683084, "cost2_min": -90.34178968551475, "cost2_mean": -61.44690886009052, "system_level_velocity_min": 10.073842557097164, "outflow_rate_max": 954.9076268073421, "system_level_velocity_max": 19.80165134341556, "cost1_mean": 330.57472602085335, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 44505, "episodes_this_iter": 18, "training_iteration": 27, "pid": 324, "episode_reward_mean": 1236.992885613104, "iterations_since_restore": 27, "time_total_s": 776.8130900859833, "episode_len_mean": 673.97, "hostname": "flow-main", "episode_reward_min": 56.18139773176306, "time_since_restore": 776.8130900859833, "episode_reward_max": 1477.4264700743286, "episodes_total": 366, "timesteps_since_restore": 1262471, "timestamp": 1557199670, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.095, "num_steps_sampled": 1306892, "num_steps_trained": 1306892, "load_time_ms": 13.544, "sample_time_ms": 16400.805, "default": {"entropy": 1.1629350185394287, "policy_loss": -0.003941116854548454, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9633687138557434, "vf_loss": 7.690357208251953, "total_loss": 7.686828136444092, "cur_lr": 0.0005000000237487257, "kl": 0.016482381150126457}, "grad_time_ms": 9936.18}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1306892, "time_this_iter_s": 26.168866872787476, "date": "2019-05-07_03-28-16", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c9e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ccf8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 30.238804418143122, "cost2_max": -9.765350892466946, "system_level_velocity_mean": 13.167279664800107, "outflow_rate_mean": 846.9358896141794, "cost1_max": 405.9490621049091, "cost2_min": -90.34178968551475, "cost2_mean": -66.25993048118593, "system_level_velocity_min": 10.48174428618917, "outflow_rate_max": 954.9076268073421, "system_level_velocity_max": 19.80165134341556, "cost1_mean": 335.6901106309456, "outflow_rate_min": 314.91895216754455}, "policy_reward_mean": {}, "timesteps_this_iter": 44421, "episodes_this_iter": 15, "training_iteration": 28, "pid": 324, "episode_reward_mean": 1248.75157578154, "iterations_since_restore": 28, "time_total_s": 802.9819569587708, "episode_len_mean": 673.97, "hostname": "flow-main", "episode_reward_min": 56.18139773176306, "time_since_restore": 802.9819569587708, "episode_reward_max": 1477.4264700743286, "episodes_total": 381, "timesteps_since_restore": 1306892, "timestamp": 1557199696, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.93, "num_steps_sampled": 1352485, "num_steps_trained": 1352485, "load_time_ms": 13.669, "sample_time_ms": 16259.624, "default": {"entropy": 1.1528953313827515, "policy_loss": -0.0024492854718118906, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9598677754402161, "vf_loss": 8.302501678466797, "total_loss": 8.300398826599121, "cur_lr": 0.0005000000237487257, "kl": 0.013873347081243992}, "grad_time_ms": 10045.956}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1352485, "time_this_iter_s": 26.16998291015625, "date": "2019-05-07_03-28-42", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83e48>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83860>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -12.119512457019631, "system_level_velocity_mean": 13.244322421888137, "outflow_rate_mean": 850.4394195107898, "cost1_max": 405.9490621049091, "cost2_min": -90.34178968551475, "cost2_mean": -68.93309744874955, "system_level_velocity_min": 11.061428749594706, "outflow_rate_max": 954.9076268073421, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 337.0381189097536, "outflow_rate_min": 317.9670165501775}, "policy_reward_mean": {}, "timesteps_this_iter": 45593, "episodes_this_iter": 13, "training_iteration": 29, "pid": 324, "episode_reward_mean": 1254.766862065697, "iterations_since_restore": 29, "time_total_s": 829.151939868927, "episode_len_mean": 673.87, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 829.151939868927, "episode_reward_max": 1477.4264700743286, "episodes_total": 394, "timesteps_since_restore": 1352485, "timestamp": 1557199722, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.55, "num_steps_sampled": 1396109, "num_steps_trained": 1396109, "load_time_ms": 13.704, "sample_time_ms": 16040.095, "default": {"entropy": 1.1119041442871094, "policy_loss": -0.0035415783058851957, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.959465503692627, "vf_loss": 9.623819351196289, "total_loss": 9.62059497833252, "cur_lr": 0.0005000000237487257, "kl": 0.012664096429944038}, "grad_time_ms": 10194.39}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1396109, "time_this_iter_s": 25.48436713218689, "date": "2019-05-07_03-29-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69f28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69cf8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -12.119512457019631, "system_level_velocity_mean": 13.359516496378262, "outflow_rate_mean": 855.4328055628974, "cost1_max": 405.9490621049091, "cost2_min": -104.92130405717, "cost2_mean": -71.41691876222166, "system_level_velocity_min": 11.061428749594706, "outflow_rate_max": 967.3042797251406, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 339.6912536496729, "outflow_rate_min": 317.9670165501775}, "policy_reward_mean": {}, "timesteps_this_iter": 43624, "episodes_this_iter": 15, "training_iteration": 30, "pid": 324, "episode_reward_mean": 1259.0004678953865, "iterations_since_restore": 30, "time_total_s": 854.6363070011139, "episode_len_mean": 673.87, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 854.6363070011139, "episode_reward_max": 1477.4264700743286, "episodes_total": 409, "timesteps_since_restore": 1396109, "timestamp": 1557199748, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.664, "num_steps_sampled": 1440277, "num_steps_trained": 1440277, "load_time_ms": 13.628, "sample_time_ms": 15848.384, "default": {"entropy": 1.1576718091964722, "policy_loss": -0.0038602366112172604, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.9698923230171204, "vf_loss": 8.132399559020996, "total_loss": 8.128886222839355, "cur_lr": 0.0005000000237487257, "kl": 0.013860289007425308}, "grad_time_ms": 10315.151}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1440277, "time_this_iter_s": 25.332095861434937, "date": "2019-05-07_03-29-33", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e799b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79780>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -12.119512457019631, "system_level_velocity_mean": 13.4450163018391, "outflow_rate_mean": 868.4559908878509, "cost1_max": 405.9490621049091, "cost2_min": -105.17796091530576, "cost2_mean": -74.35637363976882, "system_level_velocity_min": 11.061428749594706, "outflow_rate_max": 993.6027871328723, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 346.5032496135981, "outflow_rate_min": 317.9670165501775}, "policy_reward_mean": {}, "timesteps_this_iter": 44168, "episodes_this_iter": 17, "training_iteration": 31, "pid": 324, "episode_reward_mean": 1274.5196253442618, "iterations_since_restore": 31, "time_total_s": 879.9684028625488, "episode_len_mean": 680.37, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 879.9684028625488, "episode_reward_max": 1522.2925505661215, "episodes_total": 426, "timesteps_since_restore": 1440277, "timestamp": 1557199773, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.761, "num_steps_sampled": 1484120, "num_steps_trained": 1484120, "load_time_ms": 13.829, "sample_time_ms": 15540.439, "default": {"entropy": 1.1315791606903076, "policy_loss": -0.0032714400440454483, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.9805859327316284, "vf_loss": 5.202330589294434, "total_loss": 5.1993842124938965, "cur_lr": 0.0005000000237487257, "kl": 0.013010164722800255}, "grad_time_ms": 10447.44}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1484120, "time_this_iter_s": 24.908518075942993, "date": "2019-05-07_03-29-58", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ce10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cc18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cbe0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -12.119512457019631, "system_level_velocity_mean": 13.50511218678097, "outflow_rate_mean": 870.1888768275368, "cost1_max": 405.9490621049091, "cost2_min": -105.17796091530576, "cost2_mean": -75.91076103426454, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 993.6027871328723, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 347.8737044948182, "outflow_rate_min": 317.9670165501775}, "policy_reward_mean": {}, "timesteps_this_iter": 43843, "episodes_this_iter": 12, "training_iteration": 32, "pid": 324, "episode_reward_mean": 1280.4553320827836, "iterations_since_restore": 32, "time_total_s": 904.8769209384918, "episode_len_mean": 680.37, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 904.8769209384918, "episode_reward_max": 1524.7566385629186, "episodes_total": 438, "timesteps_since_restore": 1484120, "timestamp": 1557199798, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.954, "num_steps_sampled": 1529965, "num_steps_trained": 1529965, "load_time_ms": 13.569, "sample_time_ms": 15449.296, "default": {"entropy": 1.126907229423523, "policy_loss": -0.0022472357377409935, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9687770009040833, "vf_loss": 8.003820419311523, "total_loss": 8.001870155334473, "cur_lr": 0.0005000000237487257, "kl": 0.011853759177029133}, "grad_time_ms": 10556.578}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1529965, "time_this_iter_s": 27.483680248260498, "date": "2019-05-07_03-30-25", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -12.119512457019631, "system_level_velocity_mean": 13.585256896412327, "outflow_rate_mean": 874.847860982968, "cost1_max": 408.01188659512053, "cost2_min": -111.16790469210504, "cost2_mean": -79.3094299846729, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1010.9709941173334, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 349.8032772909831, "outflow_rate_min": 317.9670165501775}, "policy_reward_mean": {}, "timesteps_this_iter": 45845, "episodes_this_iter": 16, "training_iteration": 33, "pid": 324, "episode_reward_mean": 1287.6063260989877, "iterations_since_restore": 33, "time_total_s": 932.3606011867523, "episode_len_mean": 680.37, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 932.3606011867523, "episode_reward_max": 1551.7936793621514, "episodes_total": 454, "timesteps_since_restore": 1529965, "timestamp": 1557199825, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.919, "num_steps_sampled": 1575568, "num_steps_trained": 1575568, "load_time_ms": 13.844, "sample_time_ms": 15301.388, "default": {"entropy": 1.110138177871704, "policy_loss": -0.0027116157580167055, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9738702774047852, "vf_loss": 7.233537673950195, "total_loss": 7.231174945831299, "cur_lr": 0.0005000000237487257, "kl": 0.01395872700959444}, "grad_time_ms": 10760.098}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1575568, "time_this_iter_s": 27.10854411125183, "date": "2019-05-07_03-30-53", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c5f8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -16.113237520425486, "system_level_velocity_mean": 13.522141156355325, "outflow_rate_mean": 888.4875270949857, "cost1_max": 408.01188659512053, "cost2_min": -111.16790469210504, "cost2_mean": -83.28992336613295, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1010.9709941173334, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 357.5364708396609, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 45603, "episodes_this_iter": 14, "training_iteration": 34, "pid": 324, "episode_reward_mean": 1312.2440014224128, "iterations_since_restore": 34, "time_total_s": 959.4691452980042, "episode_len_mean": 693.43, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 959.4691452980042, "episode_reward_max": 1551.7936793621514, "episodes_total": 468, "timesteps_since_restore": 1575568, "timestamp": 1557199853, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.874, "num_steps_sampled": 1620471, "num_steps_trained": 1620471, "load_time_ms": 13.645, "sample_time_ms": 15225.824, "default": {"entropy": 1.0578573942184448, "policy_loss": -0.0034940324258059263, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.9806608557701111, "vf_loss": 5.251786708831787, "total_loss": 5.248673915863037, "cur_lr": 0.0005000000237487257, "kl": 0.015256490558385849}, "grad_time_ms": 10737.841}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1620471, "time_this_iter_s": 24.946236848831177, "date": "2019-05-07_03-31-18", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e798d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e797b8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.416472868779632, "cost2_max": -16.113237520425486, "system_level_velocity_mean": 13.520837059052612, "outflow_rate_mean": 888.6113104992952, "cost1_max": 408.01188659512053, "cost2_min": -114.59320176462754, "cost2_mean": -85.26688068027235, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1010.9709941173334, "system_level_velocity_max": 20.08471496123818, "cost1_mean": 356.5980081654095, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 44903, "episodes_this_iter": 12, "training_iteration": 35, "pid": 324, "episode_reward_mean": 1311.094036303956, "iterations_since_restore": 35, "time_total_s": 984.4153821468353, "episode_len_mean": 692.07, "hostname": "flow-main", "episode_reward_min": 53.87694599130079, "time_since_restore": 984.4153821468353, "episode_reward_max": 1551.7936793621514, "episodes_total": 480, "timesteps_since_restore": 1620471, "timestamp": 1557199878, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.196, "num_steps_sampled": 1662858, "num_steps_trained": 1662858, "load_time_ms": 13.313, "sample_time_ms": 15235.788, "default": {"entropy": 1.0465458631515503, "policy_loss": -0.004175106529146433, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.963051438331604, "vf_loss": 12.203961372375488, "total_loss": 12.200249671936035, "cur_lr": 0.0005000000237487257, "kl": 0.018573042005300522}, "grad_time_ms": 10736.827}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1662858, "time_this_iter_s": 26.187663555145264, "date": "2019-05-07_03-31-44", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cc88>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ce80>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.351599354766883, "cost2_max": -15.352959529050047, "system_level_velocity_mean": 13.692870106327925, "outflow_rate_mean": 890.7572229426303, "cost1_max": 408.01188659512053, "cost2_min": -114.59320176462754, "cost2_mean": -88.00344703238827, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1010.9709941173334, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 357.7976821002865, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 42387, "episodes_this_iter": 21, "training_iteration": 36, "pid": 324, "episode_reward_mean": 1299.783636849218, "iterations_since_restore": 36, "time_total_s": 1010.6030457019806, "episode_len_mean": 687.8, "hostname": "flow-main", "episode_reward_min": 58.48316144412097, "time_since_restore": 1010.6030457019806, "episode_reward_max": 1551.7936793621514, "episodes_total": 501, "timesteps_since_restore": 1662858, "timestamp": 1557199904, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.523, "num_steps_sampled": 1706564, "num_steps_trained": 1706564, "load_time_ms": 13.193, "sample_time_ms": 15099.203, "default": {"entropy": 1.0758899450302124, "policy_loss": -0.0026270519010722637, "cur_kl_coeff": 0.02500000409781933, "vf_explained_var": 0.9718106985092163, "vf_loss": 7.780415058135986, "total_loss": 7.778184413909912, "cur_lr": 0.0005000000237487257, "kl": 0.015814349055290222}, "grad_time_ms": 10731.739}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1706564, "time_this_iter_s": 25.62400531768799, "date": "2019-05-07_03-32-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e839b0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.351599354766883, "cost2_max": -15.352959529050047, "system_level_velocity_mean": 13.783339095678611, "outflow_rate_mean": 892.9989701590446, "cost1_max": 419.73908053047836, "cost2_min": -114.59320176462754, "cost2_mean": -89.27811538769026, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1020.5046011376884, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 359.91498085019543, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 43706, "episodes_this_iter": 14, "training_iteration": 37, "pid": 324, "episode_reward_mean": 1302.018236426139, "iterations_since_restore": 37, "time_total_s": 1036.2270510196686, "episode_len_mean": 687.8, "hostname": "flow-main", "episode_reward_min": 58.48316144412097, "time_since_restore": 1036.2270510196686, "episode_reward_max": 1567.8105579576575, "episodes_total": 515, "timesteps_since_restore": 1706564, "timestamp": 1557199929, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.942, "num_steps_sampled": 1752965, "num_steps_trained": 1752965, "load_time_ms": 13.663, "sample_time_ms": 15246.951, "default": {"entropy": 1.031264305114746, "policy_loss": -0.0024085615295916796, "cur_kl_coeff": 0.02500000223517418, "vf_explained_var": 0.9809076189994812, "vf_loss": 5.53521203994751, "total_loss": 5.533204078674316, "cur_lr": 0.0005000000237487257, "kl": 0.016030393540859222}, "grad_time_ms": 10720.155}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1752965, "time_this_iter_s": 27.535979986190796, "date": "2019-05-07_03-32-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69f60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96160>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69780>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.351599354766883, "cost2_max": -15.352959529050047, "system_level_velocity_mean": 13.794737125544772, "outflow_rate_mean": 893.6022581621909, "cost1_max": 419.73908053047836, "cost2_min": -118.42949552044395, "cost2_mean": -91.05168295066204, "system_level_velocity_min": 10.881450520813763, "outflow_rate_max": 1020.5046011376884, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 359.88020772511356, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 46401, "episodes_this_iter": 10, "training_iteration": 38, "pid": 324, "episode_reward_mean": 1300.9170577154196, "iterations_since_restore": 38, "time_total_s": 1063.7630310058594, "episode_len_mean": 687.8, "hostname": "flow-main", "episode_reward_min": 58.48316144412097, "time_since_restore": 1063.7630310058594, "episode_reward_max": 1567.8105579576575, "episodes_total": 525, "timesteps_since_restore": 1752965, "timestamp": 1557199957, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.212, "num_steps_sampled": 1797133, "num_steps_trained": 1797133, "load_time_ms": 13.453, "sample_time_ms": 15287.282, "default": {"entropy": 0.998306393623352, "policy_loss": -0.004859926179051399, "cur_kl_coeff": 0.025000005960464478, "vf_explained_var": 0.973481297492981, "vf_loss": 8.870781898498535, "total_loss": 8.866482734680176, "cur_lr": 0.0005000000237487257, "kl": 0.022442657500505447}, "grad_time_ms": 10575.6}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1797133, "time_this_iter_s": 25.124339818954468, "date": "2019-05-07_03-33-02", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e710f0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71198>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 13.981704234236773, "outflow_rate_mean": 896.578397308825, "cost1_max": 440.0914870343751, "cost2_min": -118.42949552044395, "cost2_mean": -92.69363811346003, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1048.08114139125, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 359.45008261777446, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 44168, "episodes_this_iter": 16, "training_iteration": 39, "pid": 324, "episode_reward_mean": 1293.2842286867788, "iterations_since_restore": 39, "time_total_s": 1088.8873708248138, "episode_len_mean": 681.23, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1088.8873708248138, "episode_reward_max": 1595.0958392060381, "episodes_total": 541, "timesteps_since_restore": 1797133, "timestamp": 1557199982, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.466, "num_steps_sampled": 1840105, "num_steps_trained": 1840105, "load_time_ms": 13.784, "sample_time_ms": 15450.101, "default": {"entropy": 1.0048604011535645, "policy_loss": -0.0036068104673177004, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.9775773286819458, "vf_loss": 7.538042068481445, "total_loss": 7.534962177276611, "cur_lr": 0.0005000000237487257, "kl": 0.01406545378267765}, "grad_time_ms": 10473.587}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1840105, "time_this_iter_s": 26.07856273651123, "date": "2019-05-07_03-33-28", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83ba8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83668>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.068247545027129, "outflow_rate_mean": 900.0165852342801, "cost1_max": 440.0914870343751, "cost2_min": -120.3075194326523, "cost2_mean": -94.70284695636414, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1048.08114139125, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 361.39306800857804, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 42972, "episodes_this_iter": 18, "training_iteration": 40, "pid": 324, "episode_reward_mean": 1288.265227862234, "iterations_since_restore": 40, "time_total_s": 1114.965933561325, "episode_len_mean": 681.23, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1114.965933561325, "episode_reward_max": 1595.0958392060381, "episodes_total": 559, "timesteps_since_restore": 1840105, "timestamp": 1557200008, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.455, "num_steps_sampled": 1883727, "num_steps_trained": 1883727, "load_time_ms": 14.054, "sample_time_ms": 15724.161, "default": {"entropy": 1.0228816270828247, "policy_loss": -0.002993594156578183, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.9778939485549927, "vf_loss": 7.243926525115967, "total_loss": 7.241459369659424, "cur_lr": 0.0005000000237487257, "kl": 0.01405305601656437}, "grad_time_ms": 10323.466}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1883727, "time_this_iter_s": 26.58312702178955, "date": "2019-05-07_03-33-55", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b70>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a90>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.22771535198485, "outflow_rate_mean": 907.323778039438, "cost1_max": 446.91887444692145, "cost2_min": -137.95913379684112, "cost2_mean": -96.43649731017229, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 365.30166401772874, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 43622, "episodes_this_iter": 14, "training_iteration": 41, "pid": 324, "episode_reward_mean": 1292.280803630433, "iterations_since_restore": 41, "time_total_s": 1141.5490605831146, "episode_len_mean": 681.23, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1141.5490605831146, "episode_reward_max": 1595.0958392060381, "episodes_total": 573, "timesteps_since_restore": 1883727, "timestamp": 1557200035, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.323, "num_steps_sampled": 1929449, "num_steps_trained": 1929449, "load_time_ms": 13.864, "sample_time_ms": 16200.244, "default": {"entropy": 1.0353518724441528, "policy_loss": -0.0015668374253436923, "cur_kl_coeff": 0.03749999776482582, "vf_explained_var": 0.9738462567329407, "vf_loss": 8.16247272491455, "total_loss": 8.16152572631836, "cur_lr": 0.0005000000237487257, "kl": 0.016534948721528053}, "grad_time_ms": 10199.503}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1929449, "time_this_iter_s": 28.43670415878296, "date": "2019-05-07_03-34-23", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c278>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.265355131404021, "outflow_rate_mean": 911.5118004089328, "cost1_max": 446.91887444692145, "cost2_min": -137.95913379684112, "cost2_mean": -97.61342598652392, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 19.94976266002262, "cost1_mean": 366.239621304803, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 45722, "episodes_this_iter": 13, "training_iteration": 42, "pid": 324, "episode_reward_mean": 1291.7943343761833, "iterations_since_restore": 42, "time_total_s": 1169.9857647418976, "episode_len_mean": 682.02, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1169.9857647418976, "episode_reward_max": 1595.0958392060381, "episodes_total": 586, "timesteps_since_restore": 1929449, "timestamp": 1557200063, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.439, "num_steps_sampled": 1974093, "num_steps_trained": 1974093, "load_time_ms": 14.014, "sample_time_ms": 16227.518, "default": {"entropy": 1.017971396446228, "policy_loss": -0.0032697913702577353, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.9774366617202759, "vf_loss": 8.036282539367676, "total_loss": 8.033461570739746, "cur_lr": 0.0005000000237487257, "kl": 0.011968248523771763}, "grad_time_ms": 9963.182}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 1974093, "time_this_iter_s": 25.414389610290527, "date": "2019-05-07_03-34-49", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c9b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ceb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c8d0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.273792368952035, "outflow_rate_mean": 921.4941730078609, "cost1_max": 446.91887444692145, "cost2_min": -137.95913379684112, "cost2_mean": -100.29550575467292, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 19.83489773614922, "cost1_mean": 371.01132879576727, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 44644, "episodes_this_iter": 17, "training_iteration": 43, "pid": 324, "episode_reward_mean": 1302.1766200169018, "iterations_since_restore": 43, "time_total_s": 1195.400154352188, "episode_len_mean": 688.59, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1195.400154352188, "episode_reward_max": 1595.0958392060381, "episodes_total": 603, "timesteps_since_restore": 1974093, "timestamp": 1557200089, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.541, "num_steps_sampled": 2019881, "num_steps_trained": 2019881, "load_time_ms": 14.008, "sample_time_ms": 16439.896, "default": {"entropy": 1.0371514558792114, "policy_loss": -0.003243423067033291, "cur_kl_coeff": 0.03749999776482582, "vf_explained_var": 0.9769426584243774, "vf_loss": 7.043403625488281, "total_loss": 7.040839672088623, "cur_lr": 0.0005000000237487257, "kl": 0.018137101083993912}, "grad_time_ms": 9847.892}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2019881, "time_this_iter_s": 28.09981393814087, "date": "2019-05-07_03-35-17", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cdd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c2e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ce48>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.238772890941966, "outflow_rate_mean": 921.5269323458614, "cost1_max": 446.91887444692145, "cost2_min": -137.95913379684112, "cost2_mean": -102.477725327615, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 19.83489773614922, "cost1_mean": 369.5301851027996, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 45788, "episodes_this_iter": 12, "training_iteration": 44, "pid": 324, "episode_reward_mean": 1301.143775832753, "iterations_since_restore": 44, "time_total_s": 1223.499968290329, "episode_len_mean": 688.59, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1223.499968290329, "episode_reward_max": 1595.0958392060381, "episodes_total": 615, "timesteps_since_restore": 2019881, "timestamp": 1557200117, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.761, "num_steps_sampled": 2063548, "num_steps_trained": 2063548, "load_time_ms": 14.178, "sample_time_ms": 16706.091, "default": {"entropy": 1.0107358694076538, "policy_loss": -0.0028204964473843575, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.972643256187439, "vf_loss": 9.427302360534668, "total_loss": 9.425037384033203, "cur_lr": 0.0005000000237487257, "kl": 0.014791371300816536}, "grad_time_ms": 9628.547}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2063548, "time_this_iter_s": 25.41752815246582, "date": "2019-05-07_03-35-42", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e966d8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.247058317651504, "cost2_max": -13.73964858390934, "system_level_velocity_mean": 14.25697278107726, "outflow_rate_mean": 918.4870282692598, "cost1_max": 446.91887444692145, "cost2_min": -137.95913379684112, "cost2_mean": -102.48738892123143, "system_level_velocity_min": 11.490490960360114, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 19.83489773614922, "cost1_mean": 366.0096027231843, "outflow_rate_min": 329.6337234057179}, "policy_reward_mean": {}, "timesteps_this_iter": 43667, "episodes_this_iter": 15, "training_iteration": 45, "pid": 324, "episode_reward_mean": 1287.8340145225493, "iterations_since_restore": 45, "time_total_s": 1248.9174964427948, "episode_len_mean": 683.21, "hostname": "flow-main", "episode_reward_min": 53.97806488499154, "time_since_restore": 1248.9174964427948, "episode_reward_max": 1595.0958392060381, "episodes_total": 630, "timesteps_since_restore": 2063548, "timestamp": 1557200142, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.72, "num_steps_sampled": 2107364, "num_steps_trained": 2107364, "load_time_ms": 14.255, "sample_time_ms": 16824.739, "default": {"entropy": 1.0102903842926025, "policy_loss": -0.0036072665825486183, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.971335768699646, "vf_loss": 9.514140129089355, "total_loss": 9.511087417602539, "cur_lr": 0.0005000000237487257, "kl": 0.014779757708311081}, "grad_time_ms": 9504.303}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2107364, "time_this_iter_s": 26.134300708770752, "date": "2019-05-07_03-36-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e837b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83518>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 110.38676439527427, "cost2_max": -37.430596957032954, "system_level_velocity_mean": 14.2537284758786, "outflow_rate_mean": 927.157491604071, "cost1_max": 458.50169849704605, "cost2_min": -137.95913379684112, "cost2_mean": -102.5517094665147, "system_level_velocity_min": 12.159995763688515, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 18.271436966947576, "cost1_mean": 370.60571285733465, "outflow_rate_min": 432.66511708115235}, "policy_reward_mean": {}, "timesteps_this_iter": 43816, "episodes_this_iter": 18, "training_iteration": 46, "pid": 324, "episode_reward_mean": 1290.3117711954833, "iterations_since_restore": 46, "time_total_s": 1275.0517971515656, "episode_len_mean": 689.78, "hostname": "flow-main", "episode_reward_min": 302.8339618619605, "time_since_restore": 1275.0517971515656, "episode_reward_max": 1541.798399384062, "episodes_total": 648, "timesteps_since_restore": 2107364, "timestamp": 1557200169, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.793, "num_steps_sampled": 2152699, "num_steps_trained": 2152699, "load_time_ms": 14.737, "sample_time_ms": 17143.442, "default": {"entropy": 1.0411509275436401, "policy_loss": -0.002814259845763445, "cur_kl_coeff": 0.03749999776482582, "vf_explained_var": 0.9813120365142822, "vf_loss": 5.7117600440979, "total_loss": 5.709466457366943, "cur_lr": 0.0005000000237487257, "kl": 0.01387092750519514}, "grad_time_ms": 9316.199}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2152699, "time_this_iter_s": 26.90279531478882, "date": "2019-05-07_03-36-35", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c7f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ceb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c9b0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 110.38676439527427, "cost2_max": -37.430596957032954, "system_level_velocity_mean": 14.279788792981915, "outflow_rate_mean": 929.0993479136575, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -103.11246818973281, "system_level_velocity_min": 12.309946786521133, "outflow_rate_max": 1069.0921899228413, "system_level_velocity_max": 18.271436966947576, "cost1_mean": 371.19079571049406, "outflow_rate_min": 432.66511708115235}, "policy_reward_mean": {}, "timesteps_this_iter": 45335, "episodes_this_iter": 13, "training_iteration": 47, "pid": 324, "episode_reward_mean": 1290.631516633969, "iterations_since_restore": 47, "time_total_s": 1301.9545924663544, "episode_len_mean": 689.78, "hostname": "flow-main", "episode_reward_min": 302.8339618619605, "time_since_restore": 1301.9545924663544, "episode_reward_max": 1541.798399384062, "episodes_total": 661, "timesteps_since_restore": 2152699, "timestamp": 1557200195, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.543, "num_steps_sampled": 2197130, "num_steps_trained": 2197130, "load_time_ms": 15.028, "sample_time_ms": 17143.998, "default": {"entropy": 1.0127960443496704, "policy_loss": -0.003995099570602179, "cur_kl_coeff": 0.03749999776482582, "vf_explained_var": 0.9821191430091858, "vf_loss": 5.266741752624512, "total_loss": 5.263321876525879, "cur_lr": 0.0005000000237487257, "kl": 0.015332026407122612}, "grad_time_ms": 9027.424}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2197130, "time_this_iter_s": 24.648160696029663, "date": "2019-05-07_03-37-00", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e967f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96eb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96320>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 110.38676439527427, "cost2_max": -37.430596957032954, "system_level_velocity_mean": 14.204793993766756, "outflow_rate_mean": 926.0247542078678, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -102.03044136256968, "system_level_velocity_min": 12.309946786521133, "outflow_rate_max": 1064.6666466459324, "system_level_velocity_max": 18.271436966947576, "cost1_mean": 369.1190883944356, "outflow_rate_min": 432.66511708115235}, "policy_reward_mean": {}, "timesteps_this_iter": 44431, "episodes_this_iter": 12, "training_iteration": 48, "pid": 324, "episode_reward_mean": 1285.1849199391797, "iterations_since_restore": 48, "time_total_s": 1326.602753162384, "episode_len_mean": 689.78, "hostname": "flow-main", "episode_reward_min": 302.8339618619605, "time_since_restore": 1326.602753162384, "episode_reward_max": 1541.798399384062, "episodes_total": 673, "timesteps_since_restore": 2197130, "timestamp": 1557200220, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.259, "num_steps_sampled": 2240404, "num_steps_trained": 2240404, "load_time_ms": 15.22, "sample_time_ms": 17350.964, "default": {"entropy": 0.9936864972114563, "policy_loss": -0.003920688293874264, "cur_kl_coeff": 0.03749999403953552, "vf_explained_var": 0.9743585586547852, "vf_loss": 8.695714950561523, "total_loss": 8.692458152770996, "cur_lr": 0.0005000000237487257, "kl": 0.017713775858283043}, "grad_time_ms": 8961.724}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2240404, "time_this_iter_s": 26.523564338684082, "date": "2019-05-07_03-37-27", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e960b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d68>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 110.38676439527427, "cost2_max": -38.63696193972428, "system_level_velocity_mean": 14.141417628747854, "outflow_rate_mean": 929.6110864929088, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -101.19239048990494, "system_level_velocity_min": 12.568556446002772, "outflow_rate_max": 1064.6666466459324, "system_level_velocity_max": 17.96910809574145, "cost1_mean": 371.05511601592457, "outflow_rate_min": 432.66511708115235}, "policy_reward_mean": {}, "timesteps_this_iter": 43274, "episodes_this_iter": 18, "training_iteration": 49, "pid": 324, "episode_reward_mean": 1296.0613528273557, "iterations_since_restore": 49, "time_total_s": 1353.1263175010681, "episode_len_mean": 694.62, "hostname": "flow-main", "episode_reward_min": 302.8339618619605, "time_since_restore": 1353.1263175010681, "episode_reward_max": 1541.798399384062, "episodes_total": 691, "timesteps_since_restore": 2240404, "timestamp": 1557200247, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.917, "num_steps_sampled": 2284863, "num_steps_trained": 2284863, "load_time_ms": 15.159, "sample_time_ms": 17376.157, "default": {"entropy": 1.047346591949463, "policy_loss": -0.005714987404644489, "cur_kl_coeff": 0.03749999776482582, "vf_explained_var": 0.9660605788230896, "vf_loss": 9.557902336120605, "total_loss": 9.553009986877441, "cur_lr": 0.0005000000237487257, "kl": 0.02193659171462059}, "grad_time_ms": 8962.961}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2284863, "time_this_iter_s": 26.335627555847168, "date": "2019-05-07_03-37-53", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ce48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cb00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae25f8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 110.38676439527427, "cost2_max": -34.79221604825985, "system_level_velocity_mean": 14.116335939926005, "outflow_rate_mean": 921.8152894321513, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -98.74719799653931, "system_level_velocity_min": 12.072371952678692, "outflow_rate_max": 1038.412158221932, "system_level_velocity_max": 18.257745101998413, "cost1_mean": 366.9888204151349, "outflow_rate_min": 432.66511708115235}, "policy_reward_mean": {}, "timesteps_this_iter": 44459, "episodes_this_iter": 13, "training_iteration": 50, "pid": 324, "episode_reward_mean": 1287.427881170953, "iterations_since_restore": 50, "time_total_s": 1379.4619450569153, "episode_len_mean": 689.6, "hostname": "flow-main", "episode_reward_min": 302.8339618619605, "time_since_restore": 1379.4619450569153, "episode_reward_max": 1541.798399384062, "episodes_total": 704, "timesteps_since_restore": 2284863, "timestamp": 1557200273, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.834, "num_steps_sampled": 2329190, "num_steps_trained": 2329190, "load_time_ms": 15.157, "sample_time_ms": 17365.461, "default": {"entropy": 1.0165777206420898, "policy_loss": -0.00532116973772645, "cur_kl_coeff": 0.05624999850988388, "vf_explained_var": 0.972325325012207, "vf_loss": 8.182343482971191, "total_loss": 8.177884101867676, "cur_lr": 0.0005000000237487257, "kl": 0.015328424051404}, "grad_time_ms": 8920.973}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2329190, "time_this_iter_s": 26.031901836395264, "date": "2019-05-07_03-38-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e695c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce10>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.218541764550025, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.149632024889172, "outflow_rate_mean": 914.774950952283, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -95.4650444392952, "system_level_velocity_min": 12.072371952678692, "outflow_rate_max": 1038.412158221932, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 363.7331161928719, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44327, "episodes_this_iter": 16, "training_iteration": 51, "pid": 324, "episode_reward_mean": 1275.4305473336447, "iterations_since_restore": 51, "time_total_s": 1405.4938468933105, "episode_len_mean": 683.1, "hostname": "flow-main", "episode_reward_min": 63.932276760390494, "time_since_restore": 1405.4938468933105, "episode_reward_max": 1541.798399384062, "episodes_total": 720, "timesteps_since_restore": 2329190, "timestamp": 1557200299, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.7, "num_steps_sampled": 2373449, "num_steps_trained": 2373449, "load_time_ms": 15.09, "sample_time_ms": 17191.907, "default": {"entropy": 1.0206159353256226, "policy_loss": -0.0063674296252429485, "cur_kl_coeff": 0.05624999850988388, "vf_explained_var": 0.9650079011917114, "vf_loss": 10.901592254638672, "total_loss": 10.896261215209961, "cur_lr": 0.0005000000237487257, "kl": 0.01843801513314247}, "grad_time_ms": 8823.725}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2373449, "time_this_iter_s": 25.711261987686157, "date": "2019-05-07_03-38-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e969e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96c88>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e965c0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.18045844156884, "outflow_rate_mean": 913.7973869000066, "cost1_max": 458.50169849704605, "cost2_min": -140.00172361672966, "cost2_mean": -92.98789435206862, "system_level_velocity_min": 12.072371952678692, "outflow_rate_max": 1038.412158221932, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 363.76340800340967, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44259, "episodes_this_iter": 16, "training_iteration": 52, "pid": 324, "episode_reward_mean": 1276.3558761083236, "iterations_since_restore": 52, "time_total_s": 1431.2051088809967, "episode_len_mean": 681.98, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1431.2051088809967, "episode_reward_max": 1536.8661052764705, "episodes_total": 736, "timesteps_since_restore": 2373449, "timestamp": 1557200325, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.491, "num_steps_sampled": 2417040, "num_steps_trained": 2417040, "load_time_ms": 14.792, "sample_time_ms": 17147.424, "default": {"entropy": 1.0492522716522217, "policy_loss": -0.006123974919319153, "cur_kl_coeff": 0.05624999850988388, "vf_explained_var": 0.9586524367332458, "vf_loss": 13.174407958984375, "total_loss": 13.169449806213379, "cur_lr": 0.0005000000237487257, "kl": 0.020714405924081802}, "grad_time_ms": 8850.049}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2417040, "time_this_iter_s": 25.21345090866089, "date": "2019-05-07_03-39-10", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c470>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c198>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.13638195547715, "outflow_rate_mean": 905.1058464439594, "cost1_max": 418.86095834353716, "cost2_min": -140.00172361672966, "cost2_mean": -91.11751805785357, "system_level_velocity_min": 11.863144905658098, "outflow_rate_max": 1038.0690058588098, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 358.60433912896997, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43591, "episodes_this_iter": 18, "training_iteration": 53, "pid": 324, "episode_reward_mean": 1265.9065866743438, "iterations_since_restore": 53, "time_total_s": 1456.4185597896576, "episode_len_mean": 676.29, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1456.4185597896576, "episode_reward_max": 1536.8661052764705, "episodes_total": 754, "timesteps_since_restore": 2417040, "timestamp": 1557200350, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.366, "num_steps_sampled": 2461784, "num_steps_trained": 2461784, "load_time_ms": 14.691, "sample_time_ms": 17044.446, "default": {"entropy": 1.0211559534072876, "policy_loss": -0.004820919595658779, "cur_kl_coeff": 0.08437501639127731, "vf_explained_var": 0.9780861139297485, "vf_loss": 6.726658821105957, "total_loss": 6.722881317138672, "cur_lr": 0.0005000000237487257, "kl": 0.012361028231680393}, "grad_time_ms": 8791.936}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2461784, "time_this_iter_s": 26.463788986206055, "date": "2019-05-07_03-39-37", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e968d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79898>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.095475589048027, "outflow_rate_mean": 901.5680790892279, "cost1_max": 433.28881662341917, "cost2_min": -122.68099630460719, "cost2_mean": -88.8764265101623, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1038.0690058588098, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 357.8606333595232, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44744, "episodes_this_iter": 13, "training_iteration": 54, "pid": 324, "episode_reward_mean": 1266.756976903562, "iterations_since_restore": 54, "time_total_s": 1482.8823487758636, "episode_len_mean": 676.29, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1482.8823487758636, "episode_reward_max": 1536.8661052764705, "episodes_total": 767, "timesteps_since_restore": 2461784, "timestamp": 1557200377, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.096, "num_steps_sampled": 2505465, "num_steps_trained": 2505465, "load_time_ms": 14.676, "sample_time_ms": 16870.56, "default": {"entropy": 1.009768009185791, "policy_loss": -0.004625283181667328, "cur_kl_coeff": 0.08437500894069672, "vf_explained_var": 0.982262372970581, "vf_loss": 5.397429943084717, "total_loss": 5.393936634063721, "cur_lr": 0.0005000000237487257, "kl": 0.013419327326118946}, "grad_time_ms": 8961.169}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2505465, "time_this_iter_s": 25.37779688835144, "date": "2019-05-07_03-40-02", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.110890460108426, "outflow_rate_mean": 903.2955262511974, "cost1_max": 433.28881662341917, "cost2_min": -121.0671308112041, "cost2_mean": -88.44712299264562, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1038.0690058588098, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 358.55632612384665, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43681, "episodes_this_iter": 12, "training_iteration": 55, "pid": 324, "episode_reward_mean": 1273.3644810529827, "iterations_since_restore": 55, "time_total_s": 1508.260145664215, "episode_len_mean": 676.29, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1508.260145664215, "episode_reward_max": 1536.8661052764705, "episodes_total": 779, "timesteps_since_restore": 2505465, "timestamp": 1557200402, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.962, "num_steps_sampled": 2548473, "num_steps_trained": 2548473, "load_time_ms": 14.652, "sample_time_ms": 16713.997, "default": {"entropy": 0.9972492456436157, "policy_loss": -0.0053734490647912025, "cur_kl_coeff": 0.08437500894069672, "vf_explained_var": 0.9771612286567688, "vf_loss": 8.171687126159668, "total_loss": 8.167516708374023, "cur_lr": 0.0005000000237487257, "kl": 0.0142484987154603}, "grad_time_ms": 9031.343}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2548473, "time_this_iter_s": 25.27073049545288, "date": "2019-05-07_03-40-27", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1470>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.145748506031575, "outflow_rate_mean": 904.3333454363452, "cost1_max": 433.28881662341917, "cost2_min": -128.41133650881451, "cost2_mean": -88.87440695454443, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1038.0690058588098, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 359.7749943105711, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43008, "episodes_this_iter": 18, "training_iteration": 56, "pid": 324, "episode_reward_mean": 1280.0269313283563, "iterations_since_restore": 56, "time_total_s": 1533.530876159668, "episode_len_mean": 676.29, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1533.530876159668, "episode_reward_max": 1568.10747339871, "episodes_total": 797, "timesteps_since_restore": 2548473, "timestamp": 1557200427, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.728, "num_steps_sampled": 2592134, "num_steps_trained": 2592134, "load_time_ms": 14.338, "sample_time_ms": 16478.191, "default": {"entropy": 1.035504698753357, "policy_loss": -0.004515445325523615, "cur_kl_coeff": 0.08437500894069672, "vf_explained_var": 0.9696005582809448, "vf_loss": 10.5703125, "total_loss": 10.567360877990723, "cur_lr": 0.0005000000237487257, "kl": 0.018539246171712875}, "grad_time_ms": 9156.014}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2592134, "time_this_iter_s": 25.787883043289185, "date": "2019-05-07_03-40-53", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96358>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96588>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.04130084187703, "cost2_max": -14.394119415532295, "system_level_velocity_mean": 14.168413889205176, "outflow_rate_mean": 902.9898335470216, "cost1_max": 448.93069367887153, "cost2_min": -128.41133650881451, "cost2_mean": -89.82099926825131, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1038.0690058588098, "system_level_velocity_max": 19.312412921030628, "cost1_mean": 360.90734547678505, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43661, "episodes_this_iter": 15, "training_iteration": 57, "pid": 324, "episode_reward_mean": 1276.6549609833035, "iterations_since_restore": 57, "time_total_s": 1559.3187592029572, "episode_len_mean": 676.77, "hostname": "flow-main", "episode_reward_min": 63.56215908808251, "time_since_restore": 1559.3187592029572, "episode_reward_max": 1568.10747339871, "episodes_total": 812, "timesteps_since_restore": 2592134, "timestamp": 1557200453, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.562, "num_steps_sampled": 2637058, "num_steps_trained": 2637058, "load_time_ms": 14.048, "sample_time_ms": 16401.83, "default": {"entropy": 1.0539370775222778, "policy_loss": -0.005208170972764492, "cur_kl_coeff": 0.08437500894069672, "vf_explained_var": 0.9775971174240112, "vf_loss": 7.306525707244873, "total_loss": 7.302746772766113, "cur_lr": 0.0005000000237487257, "kl": 0.016941383481025696}, "grad_time_ms": 9389.498}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2637058, "time_this_iter_s": 26.227223873138428, "date": "2019-05-07_03-41-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b00>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 89.79499817245122, "cost2_max": -25.903817458629888, "system_level_velocity_mean": 14.050119733785293, "outflow_rate_mean": 908.7636650613899, "cost1_max": 448.93069367887153, "cost2_min": -128.41133650881451, "cost2_mean": -91.75736263714123, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1032.0071565094067, "system_level_velocity_max": 18.588849823434597, "cost1_mean": 364.6169859416712, "outflow_rate_min": 432.98531151548474}, "policy_reward_mean": {}, "timesteps_this_iter": 44924, "episodes_this_iter": 15, "training_iteration": 58, "pid": 324, "episode_reward_mean": 1290.2941784964553, "iterations_since_restore": 58, "time_total_s": 1585.5459830760956, "episode_len_mean": 685.81, "hostname": "flow-main", "episode_reward_min": 239.29601130433116, "time_since_restore": 1585.5459830760956, "episode_reward_max": 1568.10747339871, "episodes_total": 827, "timesteps_since_restore": 2637058, "timestamp": 1557200479, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 6.901, "num_steps_sampled": 2682370, "num_steps_trained": 2682370, "load_time_ms": 13.883, "sample_time_ms": 16226.453, "default": {"entropy": 1.059335708618164, "policy_loss": -0.005938434507697821, "cur_kl_coeff": 0.08437501639127731, "vf_explained_var": 0.9737668037414551, "vf_loss": 8.18764591217041, "total_loss": 8.183053970336914, "cur_lr": 0.0005000000237487257, "kl": 0.01595848612487316}, "grad_time_ms": 9484.84}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2682370, "time_this_iter_s": 25.74359440803528, "date": "2019-05-07_03-41-45", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e966d8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e835f8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 89.79499817245122, "cost2_max": -25.903817458629888, "system_level_velocity_mean": 13.970010084366313, "outflow_rate_mean": 900.8537971624096, "cost1_max": 448.93069367887153, "cost2_min": -130.26686657245003, "cost2_mean": -93.92626679035874, "system_level_velocity_min": 11.567583483575236, "outflow_rate_max": 1032.0071565094067, "system_level_velocity_max": 18.588849823434597, "cost1_mean": 360.8426423932467, "outflow_rate_min": 432.98531151548474}, "policy_reward_mean": {}, "timesteps_this_iter": 45312, "episodes_this_iter": 15, "training_iteration": 59, "pid": 324, "episode_reward_mean": 1280.8951803909613, "iterations_since_restore": 59, "time_total_s": 1611.2895774841309, "episode_len_mean": 683.36, "hostname": "flow-main", "episode_reward_min": 239.29601130433116, "time_since_restore": 1611.2895774841309, "episode_reward_max": 1568.10747339871, "episodes_total": 842, "timesteps_since_restore": 2682370, "timestamp": 1557200505, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.055, "num_steps_sampled": 2726014, "num_steps_trained": 2726014, "load_time_ms": 13.656, "sample_time_ms": 16260.168, "default": {"entropy": 1.0711190700531006, "policy_loss": -0.009484348818659782, "cur_kl_coeff": 0.08437500894069672, "vf_explained_var": 0.9539089202880859, "vf_loss": 15.737895965576172, "total_loss": 15.730377197265625, "cur_lr": 0.0005000000237487257, "kl": 0.023271024227142334}, "grad_time_ms": 9516.681}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2726014, "time_this_iter_s": 26.987539052963257, "date": "2019-05-07_03-42-12", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1668>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1278>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 14.146963660908238, "outflow_rate_mean": 885.8089847037832, "cost1_max": 448.93069367887153, "cost2_min": -130.26686657245003, "cost2_mean": -92.17340390339345, "system_level_velocity_min": 12.013213584171211, "outflow_rate_max": 1032.0071565094067, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 352.0380646621497, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 43644, "episodes_this_iter": 18, "training_iteration": 60, "pid": 324, "episode_reward_mean": 1250.2318809988947, "iterations_since_restore": 60, "time_total_s": 1638.2771165370941, "episode_len_mean": 664.48, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1638.2771165370941, "episode_reward_max": 1568.10747339871, "episodes_total": 860, "timesteps_since_restore": 2726014, "timestamp": 1557200532, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.041, "num_steps_sampled": 2769770, "num_steps_trained": 2769770, "load_time_ms": 13.565, "sample_time_ms": 16209.653, "default": {"entropy": 1.0767500400543213, "policy_loss": -0.0036690779961645603, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9708483815193176, "vf_loss": 9.404671669006348, "total_loss": 9.402548789978027, "cur_lr": 0.0005000000237487257, "kl": 0.012220614589750767}, "grad_time_ms": 9701.23}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2769770, "time_this_iter_s": 27.39116334915161, "date": "2019-05-07_03-42-40", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d68>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96a90>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 14.08582044887818, "outflow_rate_mean": 875.6592093228395, "cost1_max": 448.93069367887153, "cost2_min": -130.26686657245003, "cost2_mean": -92.01767798974066, "system_level_velocity_min": 12.013213584171211, "outflow_rate_max": 1032.0071565094067, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 347.0159464204478, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 43756, "episodes_this_iter": 16, "training_iteration": 61, "pid": 324, "episode_reward_mean": 1228.3178098343963, "iterations_since_restore": 61, "time_total_s": 1665.6682798862457, "episode_len_mean": 659.58, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1665.6682798862457, "episode_reward_max": 1568.10747339871, "episodes_total": 876, "timesteps_since_restore": 2769770, "timestamp": 1557200560, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.196, "num_steps_sampled": 2814129, "num_steps_trained": 2814129, "load_time_ms": 13.63, "sample_time_ms": 16124.972, "default": {"entropy": 1.1041783094406128, "policy_loss": -0.004980957135558128, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9788356423377991, "vf_loss": 6.338959693908691, "total_loss": 6.335504055023193, "cur_lr": 0.0005000000237487257, "kl": 0.012050166726112366}, "grad_time_ms": 9787.032}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2814129, "time_this_iter_s": 25.73734974861145, "date": "2019-05-07_03-43-05", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e794a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e793c8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 14.086044916005383, "outflow_rate_mean": 874.4006572532751, "cost1_max": 448.93069367887153, "cost2_min": -130.26686657245003, "cost2_mean": -91.28377170144073, "system_level_velocity_min": 12.013213584171211, "outflow_rate_max": 1032.0071565094067, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 346.83955358001117, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 44359, "episodes_this_iter": 13, "training_iteration": 62, "pid": 324, "episode_reward_mean": 1227.890691251618, "iterations_since_restore": 62, "time_total_s": 1691.4056296348572, "episode_len_mean": 659.58, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1691.4056296348572, "episode_reward_max": 1568.10747339871, "episodes_total": 889, "timesteps_since_restore": 2814129, "timestamp": 1557200585, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.114, "num_steps_sampled": 2858077, "num_steps_trained": 2858077, "load_time_ms": 14.027, "sample_time_ms": 16144.046, "default": {"entropy": 1.0970221757888794, "policy_loss": -0.004784810822457075, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9816250205039978, "vf_loss": 5.799020767211914, "total_loss": 5.7958903312683105, "cur_lr": 0.0005000000237487257, "kl": 0.01307232491672039}, "grad_time_ms": 9862.766}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2858077, "time_this_iter_s": 26.170634031295776, "date": "2019-05-07_03-43-32", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c9b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c828>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 13.960345305033341, "outflow_rate_mean": 875.4323238092156, "cost1_max": 448.93069367887153, "cost2_min": -130.26686657245003, "cost2_mean": -92.09927633410338, "system_level_velocity_min": 12.013213584171211, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 346.7953779213577, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 43948, "episodes_this_iter": 15, "training_iteration": 63, "pid": 324, "episode_reward_mean": 1239.7147036676895, "iterations_since_restore": 63, "time_total_s": 1717.576263666153, "episode_len_mean": 664.12, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1717.576263666153, "episode_reward_max": 1529.372600060843, "episodes_total": 904, "timesteps_since_restore": 2858077, "timestamp": 1557200612, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.062, "num_steps_sampled": 2903991, "num_steps_trained": 2903991, "load_time_ms": 14.119, "sample_time_ms": 16142.744, "default": {"entropy": 1.1088824272155762, "policy_loss": -0.004684115294367075, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9705398082733154, "vf_loss": 8.71345043182373, "total_loss": 8.710585594177246, "cur_lr": 0.0005000000237487257, "kl": 0.014377773739397526}, "grad_time_ms": 9930.259}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2903991, "time_this_iter_s": 27.121394872665405, "date": "2019-05-07_03-43-59", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea19b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1e10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1c88>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 13.86796125498848, "outflow_rate_mean": 878.9725133611599, "cost1_max": 440.70862983849173, "cost2_min": -130.26686657245003, "cost2_mean": -92.58596918499032, "system_level_velocity_min": 12.013213584171211, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 347.20853575192496, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 45914, "episodes_this_iter": 15, "training_iteration": 64, "pid": 324, "episode_reward_mean": 1253.2515193622064, "iterations_since_restore": 64, "time_total_s": 1744.6976585388184, "episode_len_mean": 668.08, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1744.6976585388184, "episode_reward_max": 1505.7648453384809, "episodes_total": 919, "timesteps_since_restore": 2903991, "timestamp": 1557200639, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.288, "num_steps_sampled": 2948335, "num_steps_trained": 2948335, "load_time_ms": 13.798, "sample_time_ms": 16249.145, "default": {"entropy": 1.0937944650650024, "policy_loss": -0.004711763001978397, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9758569002151489, "vf_loss": 7.661031246185303, "total_loss": 7.657836437225342, "cur_lr": 0.0005000000237487257, "kl": 0.01197770144790411}, "grad_time_ms": 9973.243}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2948335, "time_this_iter_s": 26.86430525779724, "date": "2019-05-07_03-44-26", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96b00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96588>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96d30>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.109436303199875, "cost2_max": -12.121879333501818, "system_level_velocity_mean": 13.788507799336813, "outflow_rate_mean": 877.7264678870365, "cost1_max": 440.70862983849173, "cost2_min": -130.26686657245003, "cost2_mean": -92.41725465334484, "system_level_velocity_min": 11.496296139359456, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 19.844010268945155, "cost1_mean": 346.7709550390414, "outflow_rate_min": 327.9458014252228}, "policy_reward_mean": {}, "timesteps_this_iter": 44344, "episodes_this_iter": 13, "training_iteration": 65, "pid": 324, "episode_reward_mean": 1258.0186285362836, "iterations_since_restore": 65, "time_total_s": 1771.5619637966156, "episode_len_mean": 670.53, "hostname": "flow-main", "episode_reward_min": 57.17308473845944, "time_since_restore": 1771.5619637966156, "episode_reward_max": 1505.7648453384809, "episodes_total": 932, "timesteps_since_restore": 2948335, "timestamp": 1557200666, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.307, "num_steps_sampled": 2993521, "num_steps_trained": 2993521, "load_time_ms": 13.877, "sample_time_ms": 16276.654, "default": {"entropy": 1.0967869758605957, "policy_loss": -0.004594518803060055, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9771367907524109, "vf_loss": 6.7435736656188965, "total_loss": 6.740609169006348, "cur_lr": 0.0005000000237487257, "kl": 0.01288667693734169}, "grad_time_ms": 10042.055}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 2993521, "time_this_iter_s": 26.23049283027649, "date": "2019-05-07_03-44-52", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83f60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e837b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e83940>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 74.7772268719792, "cost2_max": -23.477623017484913, "system_level_velocity_mean": 13.573145782825469, "outflow_rate_mean": 892.2362869717679, "cost1_max": 440.70862983849173, "cost2_min": -120.58415780624155, "cost2_mean": -92.33308386111489, "system_level_velocity_min": 11.496296139359456, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 17.99162042159909, "cost1_mean": 355.2220443773549, "outflow_rate_min": 376.51254787418407}, "policy_reward_mean": {}, "timesteps_this_iter": 45186, "episodes_this_iter": 17, "training_iteration": 66, "pid": 324, "episode_reward_mean": 1292.4899897413195, "iterations_since_restore": 66, "time_total_s": 1797.792456626892, "episode_len_mean": 689.2, "hostname": "flow-main", "episode_reward_min": 200.81813066432744, "time_since_restore": 1797.792456626892, "episode_reward_max": 1505.7648453384809, "episodes_total": 949, "timesteps_since_restore": 2993521, "timestamp": 1557200692, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.311, "num_steps_sampled": 3037700, "num_steps_trained": 3037700, "load_time_ms": 14.115, "sample_time_ms": 16257.587, "default": {"entropy": 1.0847707986831665, "policy_loss": -0.005830707959830761, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9725678563117981, "vf_loss": 9.407052040100098, "total_loss": 9.403316497802734, "cur_lr": 0.0005000000237487257, "kl": 0.016558539122343063}, "grad_time_ms": 10020.787}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3037700, "time_this_iter_s": 25.39710545539856, "date": "2019-05-07_03-45-17", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96e80>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 140.71634859451052, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.554667797232707, "outflow_rate_mean": 894.1471559291355, "cost1_max": 440.70862983849173, "cost2_min": -120.58415780624155, "cost2_mean": -91.74990727907738, "system_level_velocity_min": 11.496296139359456, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 355.5765975829542, "outflow_rate_min": 534.6940220078245}, "policy_reward_mean": {}, "timesteps_this_iter": 44179, "episodes_this_iter": 15, "training_iteration": 67, "pid": 324, "episode_reward_mean": 1294.4883978020064, "iterations_since_restore": 67, "time_total_s": 1823.1895620822906, "episode_len_mean": 690.26, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1823.1895620822906, "episode_reward_max": 1505.7648453384809, "episodes_total": 964, "timesteps_since_restore": 3037700, "timestamp": 1557200717, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.291, "num_steps_sampled": 3082704, "num_steps_trained": 3082704, "load_time_ms": 14.382, "sample_time_ms": 16164.661, "default": {"entropy": 1.1033504009246826, "policy_loss": -0.004237218759953976, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9838264584541321, "vf_loss": 5.154699802398682, "total_loss": 5.152300834655762, "cur_lr": 0.0005000000237487257, "kl": 0.014529510401189327}, "grad_time_ms": 10035.281}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3082704, "time_this_iter_s": 25.440863370895386, "date": "2019-05-07_03-45-43", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea13c8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1c88>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.5563659449522, "outflow_rate_mean": 901.1747684892699, "cost1_max": 440.70862983849173, "cost2_min": -120.58415780624155, "cost2_mean": -92.18223994507643, "system_level_velocity_min": 11.496296139359456, "outflow_rate_max": 1014.7647063897713, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 359.0593718101193, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 45004, "episodes_this_iter": 13, "training_iteration": 68, "pid": 324, "episode_reward_mean": 1311.568483471255, "iterations_since_restore": 68, "time_total_s": 1848.630425453186, "episode_len_mean": 695.16, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1848.630425453186, "episode_reward_max": 1516.1459676301786, "episodes_total": 977, "timesteps_since_restore": 3082704, "timestamp": 1557200743, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.014, "num_steps_sampled": 3127505, "num_steps_trained": 3127505, "load_time_ms": 14.691, "sample_time_ms": 16199.171, "default": {"entropy": 1.103303074836731, "policy_loss": -0.004316185601055622, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9752762317657471, "vf_loss": 8.38239860534668, "total_loss": 8.380099296569824, "cur_lr": 0.0005000000237487257, "kl": 0.015937449410557747}, "grad_time_ms": 10050.157}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3127505, "time_this_iter_s": 26.23914122581482, "date": "2019-05-07_03-46-09", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69358>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c7b8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.498209384599615, "outflow_rate_mean": 898.4568173346353, "cost1_max": 425.17573569676995, "cost2_min": -115.77382873385255, "cost2_mean": -92.64509257517412, "system_level_velocity_min": 11.496296139359456, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 357.4715303407601, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 44801, "episodes_this_iter": 16, "training_iteration": 69, "pid": 324, "episode_reward_mean": 1306.1977586635996, "iterations_since_restore": 69, "time_total_s": 1874.8695666790009, "episode_len_mean": 695.16, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1874.8695666790009, "episode_reward_max": 1516.1459676301786, "episodes_total": 993, "timesteps_since_restore": 3127505, "timestamp": 1557200769, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.019, "num_steps_sampled": 3171261, "num_steps_trained": 3171261, "load_time_ms": 14.736, "sample_time_ms": 16164.906, "default": {"entropy": 1.110151767730713, "policy_loss": -0.004986753687262535, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.97442626953125, "vf_loss": 8.040206909179688, "total_loss": 8.037083625793457, "cur_lr": 0.0005000000237487257, "kl": 0.014724369160830975}, "grad_time_ms": 10028.459}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3171261, "time_this_iter_s": 26.43267846107483, "date": "2019-05-07_03-46-35", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e69dd8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.459521403562354, "outflow_rate_mean": 895.8925242419604, "cost1_max": 425.17573569676995, "cost2_min": -118.5687931785406, "cost2_mean": -90.96359657737952, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 356.085977442807, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 43756, "episodes_this_iter": 15, "training_iteration": 70, "pid": 324, "episode_reward_mean": 1301.8087229119346, "iterations_since_restore": 70, "time_total_s": 1901.3022451400757, "episode_len_mean": 695.16, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1901.3022451400757, "episode_reward_max": 1516.1459676301786, "episodes_total": 1008, "timesteps_since_restore": 3171261, "timestamp": 1557200795, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.049, "num_steps_sampled": 3216790, "num_steps_trained": 3216790, "load_time_ms": 14.517, "sample_time_ms": 16205.78, "default": {"entropy": 1.149735450744629, "policy_loss": -0.0036333478055894375, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9746882915496826, "vf_loss": 6.70060396194458, "total_loss": 6.6985955238342285, "cur_lr": 0.0005000000237487257, "kl": 0.012849606573581696}, "grad_time_ms": 9963.675}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3216790, "time_this_iter_s": 27.160792350769043, "date": "2019-05-07_03-47-03", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96cf8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.487964153821174, "outflow_rate_mean": 896.986951294739, "cost1_max": 425.17573569676995, "cost2_min": -118.5687931785406, "cost2_mean": -89.58325660164344, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 357.0053860760804, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 45529, "episodes_this_iter": 13, "training_iteration": 71, "pid": 324, "episode_reward_mean": 1300.5208548647886, "iterations_since_restore": 71, "time_total_s": 1928.4630374908447, "episode_len_mean": 695.16, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1928.4630374908447, "episode_reward_max": 1516.1459676301786, "episodes_total": 1021, "timesteps_since_restore": 3216790, "timestamp": 1557200823, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.118, "num_steps_sampled": 3259804, "num_steps_trained": 3259804, "load_time_ms": 14.638, "sample_time_ms": 16305.57, "default": {"entropy": 1.1044557094573975, "policy_loss": -0.004734649322926998, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9784889221191406, "vf_loss": 7.363034248352051, "total_loss": 7.3602070808410645, "cur_lr": 0.0005000000237487257, "kl": 0.015068916603922844}, "grad_time_ms": 9916.503}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3259804, "time_this_iter_s": 26.253586530685425, "date": "2019-05-07_03-47-29", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea17b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1470>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1400>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -32.26004214667239, "system_level_velocity_mean": 13.466264459458843, "outflow_rate_mean": 896.9166257689136, "cost1_max": 425.17573569676995, "cost2_min": -118.5687931785406, "cost2_mean": -87.55201470644133, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 356.5752423515315, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 43014, "episodes_this_iter": 15, "training_iteration": 72, "pid": 324, "episode_reward_mean": 1299.0173507138936, "iterations_since_restore": 72, "time_total_s": 1954.7166240215302, "episode_len_mean": 695.16, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1954.7166240215302, "episode_reward_max": 1516.1459676301786, "episodes_total": 1036, "timesteps_since_restore": 3259804, "timestamp": 1557200849, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.393, "num_steps_sampled": 3304224, "num_steps_trained": 3304224, "load_time_ms": 14.406, "sample_time_ms": 16347.661, "default": {"entropy": 1.1352490186691284, "policy_loss": -0.004350478760898113, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9686029553413391, "vf_loss": 9.462005615234375, "total_loss": 9.459278106689453, "cur_lr": 0.0005000000237487257, "kl": 0.012823556549847126}, "grad_time_ms": 9915.04}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3304224, "time_this_iter_s": 26.566073894500732, "date": "2019-05-07_03-47-56", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea19e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea15f8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1438>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 145.96335809526943, "cost2_max": -30.953988071446084, "system_level_velocity_mean": 13.60978353462358, "outflow_rate_mean": 897.8430375565493, "cost1_max": 425.17573569676995, "cost2_min": -118.5687931785406, "cost2_mean": -85.35520868728669, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.01035955593764, "cost1_mean": 356.8787597431762, "outflow_rate_min": 545.481501386373}, "policy_reward_mean": {}, "timesteps_this_iter": 44420, "episodes_this_iter": 15, "training_iteration": 73, "pid": 324, "episode_reward_mean": 1289.3730924859221, "iterations_since_restore": 73, "time_total_s": 1981.2826979160309, "episode_len_mean": 690.42, "hostname": "flow-main", "episode_reward_min": 380.09556513890163, "time_since_restore": 1981.2826979160309, "episode_reward_max": 1516.1459676301786, "episodes_total": 1051, "timesteps_since_restore": 3304224, "timestamp": 1557200876, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.47, "num_steps_sampled": 3348091, "num_steps_trained": 3348091, "load_time_ms": 14.316, "sample_time_ms": 16314.27, "default": {"entropy": 1.1296725273132324, "policy_loss": -0.005437241401523352, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9736713767051697, "vf_loss": 8.8867769241333, "total_loss": 8.883179664611816, "cur_lr": 0.0005000000237487257, "kl": 0.014537426643073559}, "grad_time_ms": 9869.979}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3348091, "time_this_iter_s": 26.341188192367554, "date": "2019-05-07_03-48-22", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ca58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1320>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71dd8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 98.54102995445949, "cost2_max": -24.284274523035364, "system_level_velocity_mean": 13.60625589063638, "outflow_rate_mean": 896.8215859560577, "cost1_max": 425.17573569676995, "cost2_min": -118.5687931785406, "cost2_mean": -85.00557440082225, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.86152043713678, "cost1_mean": 355.722449365784, "outflow_rate_min": 449.4677309306419}, "policy_reward_mean": {}, "timesteps_this_iter": 43867, "episodes_this_iter": 16, "training_iteration": 74, "pid": 324, "episode_reward_mean": 1284.556735996798, "iterations_since_restore": 74, "time_total_s": 2007.6238861083984, "episode_len_mean": 689.68, "hostname": "flow-main", "episode_reward_min": 245.8843650240065, "time_since_restore": 2007.6238861083984, "episode_reward_max": 1516.1459676301786, "episodes_total": 1067, "timesteps_since_restore": 3348091, "timestamp": 1557200902, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.219, "num_steps_sampled": 3391469, "num_steps_trained": 3391469, "load_time_ms": 14.828, "sample_time_ms": 16276.374, "default": {"entropy": 1.0902798175811768, "policy_loss": -0.0058305407874286175, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9708315134048462, "vf_loss": 11.62614917755127, "total_loss": 11.622288703918457, "cur_lr": 0.0005000000237487257, "kl": 0.015569949522614479}, "grad_time_ms": 9839.949}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3391469, "time_this_iter_s": 26.187605619430542, "date": "2019-05-07_03-48-48", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c2b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cd30>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 86.51934634826259, "cost2_max": -19.663439699552708, "system_level_velocity_mean": 13.767023072326383, "outflow_rate_mean": 891.22371868093, "cost1_max": 483.1180677291343, "cost2_min": -118.5687931785406, "cost2_mean": -83.06212669382212, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1042.6788277710655, "system_level_velocity_max": 18.993043155173005, "cost1_mean": 353.0196220850939, "outflow_rate_min": 432.77313606853323}, "policy_reward_mean": {}, "timesteps_this_iter": 43378, "episodes_this_iter": 15, "training_iteration": 75, "pid": 324, "episode_reward_mean": 1266.5294963523988, "iterations_since_restore": 75, "time_total_s": 2033.811491727829, "episode_len_mean": 680.11, "hostname": "flow-main", "episode_reward_min": 219.5831164200608, "time_since_restore": 2033.811491727829, "episode_reward_max": 1486.7146339428418, "episodes_total": 1082, "timesteps_since_restore": 3391469, "timestamp": 1557200928, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.28, "num_steps_sampled": 3434360, "num_steps_trained": 3434360, "load_time_ms": 14.659, "sample_time_ms": 16349.779, "default": {"entropy": 1.1090763807296753, "policy_loss": -0.004929106216877699, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9778698086738586, "vf_loss": 8.852152824401855, "total_loss": 8.849081993103027, "cur_lr": 0.0005000000237487257, "kl": 0.014683776535093784}, "grad_time_ms": 9831.153}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3434360, "time_this_iter_s": 26.870657205581665, "date": "2019-05-07_03-49-15", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96400>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 86.51934634826259, "cost2_max": -19.663439699552708, "system_level_velocity_mean": 13.890226021112598, "outflow_rate_mean": 896.2059548744145, "cost1_max": 483.1180677291343, "cost2_min": -120.05336007221582, "cost2_mean": -83.84762248666853, "system_level_velocity_min": 11.46028317512888, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 18.993043155173005, "cost1_mean": 356.16432881136, "outflow_rate_min": 432.77313606853323}, "policy_reward_mean": {}, "timesteps_this_iter": 42891, "episodes_this_iter": 16, "training_iteration": 76, "pid": 324, "episode_reward_mean": 1266.3370168381748, "iterations_since_restore": 76, "time_total_s": 2060.6821489334106, "episode_len_mean": 680.11, "hostname": "flow-main", "episode_reward_min": 219.5831164200608, "time_since_restore": 2060.6821489334106, "episode_reward_max": 1467.632184736527, "episodes_total": 1098, "timesteps_since_restore": 3434360, "timestamp": 1557200955, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.274, "num_steps_sampled": 3476763, "num_steps_trained": 3476763, "load_time_ms": 14.17, "sample_time_ms": 16386.518, "default": {"entropy": 1.061763882637024, "policy_loss": -0.005237457808107138, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9845057129859924, "vf_loss": 6.616985321044922, "total_loss": 6.613439083099365, "cur_lr": 0.0005000000237487257, "kl": 0.013361034914851189}, "grad_time_ms": 9798.299}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3476763, "time_this_iter_s": 25.42573857307434, "date": "2019-05-07_03-49-40", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea11d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1cf8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1cc0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 86.51934634826259, "cost2_max": -19.663439699552708, "system_level_velocity_mean": 14.099400805462505, "outflow_rate_mean": 905.7285321766929, "cost1_max": 483.1180677291343, "cost2_min": -120.98547680743962, "cost2_mean": -85.41537532757637, "system_level_velocity_min": 11.814094627718465, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 18.993043155173005, "cost1_mean": 361.3018927601751, "outflow_rate_min": 432.77313606853323}, "policy_reward_mean": {}, "timesteps_this_iter": 42403, "episodes_this_iter": 15, "training_iteration": 77, "pid": 324, "episode_reward_mean": 1270.6625879062406, "iterations_since_restore": 77, "time_total_s": 2086.107887506485, "episode_len_mean": 680.11, "hostname": "flow-main", "episode_reward_min": 219.5831164200608, "time_since_restore": 2086.107887506485, "episode_reward_max": 1550.169095807416, "episodes_total": 1113, "timesteps_since_restore": 3476763, "timestamp": 1557200980, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.22, "num_steps_sampled": 3521047, "num_steps_trained": 3521047, "load_time_ms": 14.152, "sample_time_ms": 16562.167, "default": {"entropy": 1.131261944770813, "policy_loss": -0.004232778213918209, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9738491773605347, "vf_loss": 9.739350318908691, "total_loss": 9.737125396728516, "cur_lr": 0.0005000000237487257, "kl": 0.015862811356782913}, "grad_time_ms": 9739.144}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3521047, "time_this_iter_s": 26.603590726852417, "date": "2019-05-07_03-50-07", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e964a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e963c8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 86.51934634826259, "cost2_max": -19.663439699552708, "system_level_velocity_mean": 14.265009533348298, "outflow_rate_mean": 911.4136808155656, "cost1_max": 485.3701881235217, "cost2_min": -120.98547680743962, "cost2_mean": -87.94020336629418, "system_level_velocity_min": 11.944712247740512, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 18.993043155173005, "cost1_mean": 365.1414601099184, "outflow_rate_min": 432.77313606853323}, "policy_reward_mean": {}, "timesteps_this_iter": 44284, "episodes_this_iter": 14, "training_iteration": 78, "pid": 324, "episode_reward_mean": 1284.3617718655014, "iterations_since_restore": 78, "time_total_s": 2112.7114782333374, "episode_len_mean": 680.11, "hostname": "flow-main", "episode_reward_min": 219.5831164200608, "time_since_restore": 2112.7114782333374, "episode_reward_max": 1569.8578056451736, "episodes_total": 1127, "timesteps_since_restore": 3521047, "timestamp": 1557201007, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.431, "num_steps_sampled": 3566158, "num_steps_trained": 3566158, "load_time_ms": 13.969, "sample_time_ms": 16622.061, "default": {"entropy": 1.1157310009002686, "policy_loss": -0.0053758579306304455, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.981000542640686, "vf_loss": 8.049208641052246, "total_loss": 8.045665740966797, "cur_lr": 0.0005000000237487257, "kl": 0.014483684673905373}, "grad_time_ms": 9704.69}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3566158, "time_this_iter_s": 26.49589967727661, "date": "2019-05-07_03-50-34", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3ea1908>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.407914416853632, "outflow_rate_mean": 908.8477662024952, "cost1_max": 485.3701881235217, "cost2_min": -130.03226734059626, "cost2_mean": -90.84409512958624, "system_level_velocity_min": 12.10491540596577, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 363.67452616203775, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 45111, "episodes_this_iter": 16, "training_iteration": 79, "pid": 324, "episode_reward_mean": 1270.8071398766344, "iterations_since_restore": 79, "time_total_s": 2139.207377910614, "episode_len_mean": 673.57, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2139.207377910614, "episode_reward_max": 1569.8578056451736, "episodes_total": 1143, "timesteps_since_restore": 3566158, "timestamp": 1557201034, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.458, "num_steps_sampled": 3611086, "num_steps_trained": 3611086, "load_time_ms": 14.048, "sample_time_ms": 16643.378, "default": {"entropy": 1.1039882898330688, "policy_loss": -0.00439543416723609, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.987588107585907, "vf_loss": 5.468199253082275, "total_loss": 5.465779781341553, "cur_lr": 0.0005000000237487257, "kl": 0.01561641413718462}, "grad_time_ms": 9733.067}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3611086, "time_this_iter_s": 26.92767024040222, "date": "2019-05-07_03-51-01", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71940>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.472309989409885, "outflow_rate_mean": 914.5850081104372, "cost1_max": 485.3701881235217, "cost2_min": -130.03226734059626, "cost2_mean": -92.81904665485291, "system_level_velocity_min": 12.10491540596577, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 368.32563487691965, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 44928, "episodes_this_iter": 13, "training_iteration": 80, "pid": 324, "episode_reward_mean": 1277.4233319277255, "iterations_since_restore": 80, "time_total_s": 2166.1350481510162, "episode_len_mean": 678.31, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2166.1350481510162, "episode_reward_max": 1569.8578056451736, "episodes_total": 1156, "timesteps_since_restore": 3611086, "timestamp": 1557201061, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.738, "num_steps_sampled": 3653999, "num_steps_trained": 3653999, "load_time_ms": 14.273, "sample_time_ms": 16529.853, "default": {"entropy": 1.0769801139831543, "policy_loss": -0.008433965966105461, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9801468253135681, "vf_loss": 8.903741836547852, "total_loss": 8.89747142791748, "cur_lr": 0.0005000000237487257, "kl": 0.01709362491965294}, "grad_time_ms": 9675.253}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3653999, "time_this_iter_s": 25.438917875289917, "date": "2019-05-07_03-51-26", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c978>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c208>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.538300293173789, "outflow_rate_mean": 928.4363618787756, "cost1_max": 485.3701881235217, "cost2_min": -130.03226734059626, "cost2_mean": -95.58941964422816, "system_level_velocity_min": 12.10491540596577, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 376.5445257220331, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 42913, "episodes_this_iter": 17, "training_iteration": 81, "pid": 324, "episode_reward_mean": 1296.239232851236, "iterations_since_restore": 81, "time_total_s": 2191.573966026306, "episode_len_mean": 687.94, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2191.573966026306, "episode_reward_max": 1569.8578056451736, "episodes_total": 1173, "timesteps_since_restore": 3653999, "timestamp": 1557201086, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 7.965, "num_steps_sampled": 3698253, "num_steps_trained": 3698253, "load_time_ms": 14.086, "sample_time_ms": 16662.296, "default": {"entropy": 1.0994516611099243, "policy_loss": -0.004857040010392666, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9755627512931824, "vf_loss": 10.966270446777344, "total_loss": 10.963367462158203, "cur_lr": 0.0005000000237487257, "kl": 0.015436982735991478}, "grad_time_ms": 9732.754}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3698253, "time_this_iter_s": 28.16342806816101, "date": "2019-05-07_03-51-54", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e965f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e969b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e962e8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.662117707530495, "outflow_rate_mean": 928.3649796068818, "cost1_max": 485.3701881235217, "cost2_min": -130.03226734059626, "cost2_mean": -96.56446402939788, "system_level_velocity_min": 12.10491540596577, "outflow_rate_max": 1063.5753596982913, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 375.89333059243813, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 44254, "episodes_this_iter": 19, "training_iteration": 82, "pid": 324, "episode_reward_mean": 1285.1218525900756, "iterations_since_restore": 82, "time_total_s": 2219.737394094467, "episode_len_mean": 683.18, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2219.737394094467, "episode_reward_max": 1569.8578056451736, "episodes_total": 1192, "timesteps_since_restore": 3698253, "timestamp": 1557201114, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.038, "num_steps_sampled": 3743674, "num_steps_trained": 3743674, "load_time_ms": 14.099, "sample_time_ms": 16696.863, "default": {"entropy": 1.1397825479507446, "policy_loss": -0.006881845183670521, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9739852547645569, "vf_loss": 9.861732482910156, "total_loss": 9.856710433959961, "cur_lr": 0.0005000000237487257, "kl": 0.014696380123496056}, "grad_time_ms": 9745.987}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3743674, "time_this_iter_s": 27.051106929779053, "date": "2019-05-07_03-52-21", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e961d0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cac8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.769026898429207, "outflow_rate_mean": 925.3297872847438, "cost1_max": 493.46775132163754, "cost2_min": -130.03226734059626, "cost2_mean": -96.383755501364, "system_level_velocity_min": 12.10491540596577, "outflow_rate_max": 1060.9627924964605, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 374.35947898859854, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 45421, "episodes_this_iter": 12, "training_iteration": 83, "pid": 324, "episode_reward_mean": 1280.120735028887, "iterations_since_restore": 83, "time_total_s": 2246.788501024246, "episode_len_mean": 677.5, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2246.788501024246, "episode_reward_max": 1569.8578056451736, "episodes_total": 1204, "timesteps_since_restore": 3743674, "timestamp": 1557201141, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.138, "num_steps_sampled": 3786964, "num_steps_trained": 3786964, "load_time_ms": 14.36, "sample_time_ms": 16667.745, "default": {"entropy": 1.0929352045059204, "policy_loss": -0.005557505879551172, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9842720627784729, "vf_loss": 6.512039661407471, "total_loss": 6.508323669433594, "cur_lr": 0.0005000000237487257, "kl": 0.014550762251019478}, "grad_time_ms": 9760.476}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3786964, "time_this_iter_s": 26.21217918395996, "date": "2019-05-07_03-52-48", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ccf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c7b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c470>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 31.13662087404075, "cost2_max": -10.88308137202323, "system_level_velocity_mean": 14.692096007795515, "outflow_rate_mean": 920.9489776720086, "cost1_max": 493.46775132163754, "cost2_min": -130.03226734059626, "cost2_mean": -96.46612388143744, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1064.39751333388, "system_level_velocity_max": 19.21259546078061, "cost1_mean": 371.99121694334644, "outflow_rate_min": 319.0937788123051}, "policy_reward_mean": {}, "timesteps_this_iter": 43290, "episodes_this_iter": 13, "training_iteration": 84, "pid": 324, "episode_reward_mean": 1265.0748997922165, "iterations_since_restore": 84, "time_total_s": 2273.000680208206, "episode_len_mean": 677.5, "hostname": "flow-main", "episode_reward_min": 61.53352902116191, "time_since_restore": 2273.000680208206, "episode_reward_max": 1569.8578056451736, "episodes_total": 1217, "timesteps_since_restore": 3786964, "timestamp": 1557201168, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.434, "num_steps_sampled": 3830810, "num_steps_trained": 3830810, "load_time_ms": 14.105, "sample_time_ms": 16747.58, "default": {"entropy": 1.0874651670455933, "policy_loss": -0.006591452285647392, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9687828421592712, "vf_loss": 13.30224895477295, "total_loss": 13.297805786132812, "cur_lr": 0.0005000000237487257, "kl": 0.016983022913336754}, "grad_time_ms": 9764.88}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3830810, "time_this_iter_s": 27.039116621017456, "date": "2019-05-07_03-53-15", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71908>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.854852039228376, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 14.6755510361793, "outflow_rate_mean": 918.500625180041, "cost1_max": 493.46775132163754, "cost2_min": -125.88515785935067, "cost2_mean": -96.31764202993286, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.204399090620928, "cost1_mean": 370.79568153171584, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 43846, "episodes_this_iter": 19, "training_iteration": 85, "pid": 324, "episode_reward_mean": 1253.2224489301898, "iterations_since_restore": 85, "time_total_s": 2300.0397968292236, "episode_len_mean": 677.55, "hostname": "flow-main", "episode_reward_min": 64.64098354195093, "time_since_restore": 2300.0397968292236, "episode_reward_max": 1547.115540010896, "episodes_total": 1236, "timesteps_since_restore": 3830810, "timestamp": 1557201195, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.529, "num_steps_sampled": 3873368, "num_steps_trained": 3873368, "load_time_ms": 14.406, "sample_time_ms": 16613.766, "default": {"entropy": 1.0857748985290527, "policy_loss": -0.005402845796197653, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9739763140678406, "vf_loss": 11.172589302062988, "total_loss": 11.169258117675781, "cur_lr": 0.0005000000237487257, "kl": 0.016362443566322327}, "grad_time_ms": 9766.752}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3873368, "time_this_iter_s": 25.58803105354309, "date": "2019-05-07_03-53-40", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7c710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7cac8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce80>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.854852039228376, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 14.806131691606373, "outflow_rate_mean": 919.5731407573414, "cost1_max": 493.46775132163754, "cost2_min": -128.15188273665262, "cost2_mean": -96.1963437655454, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.204399090620928, "cost1_mean": 370.458665269176, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 42558, "episodes_this_iter": 17, "training_iteration": 86, "pid": 324, "episode_reward_mean": 1252.1235442063378, "iterations_since_restore": 86, "time_total_s": 2325.6278278827667, "episode_len_mean": 672.47, "hostname": "flow-main", "episode_reward_min": 64.64098354195093, "time_since_restore": 2325.6278278827667, "episode_reward_max": 1547.115540010896, "episodes_total": 1253, "timesteps_since_restore": 3873368, "timestamp": 1557201220, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.631, "num_steps_sampled": 3918427, "num_steps_trained": 3918427, "load_time_ms": 14.517, "sample_time_ms": 16500.206, "default": {"entropy": 1.0942679643630981, "policy_loss": -0.0026216795668005943, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9733421206474304, "vf_loss": 10.437749862670898, "total_loss": 10.43746280670166, "cur_lr": 0.0005000000237487257, "kl": 0.01844634674489498}, "grad_time_ms": 9949.197}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3918427, "time_this_iter_s": 26.112684965133667, "date": "2019-05-07_03-54-06", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71668>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71f60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71550>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.854852039228376, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 14.952389839464212, "outflow_rate_mean": 914.519099123329, "cost1_max": 493.46775132163754, "cost2_min": -128.15188273665262, "cost2_mean": -95.09337580365879, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 367.4561451213756, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 45059, "episodes_this_iter": 15, "training_iteration": 87, "pid": 324, "episode_reward_mean": 1239.0365237489275, "iterations_since_restore": 87, "time_total_s": 2351.7405128479004, "episode_len_mean": 663.48, "hostname": "flow-main", "episode_reward_min": 64.64098354195093, "time_since_restore": 2351.7405128479004, "episode_reward_max": 1536.161498216632, "episodes_total": 1268, "timesteps_since_restore": 3918427, "timestamp": 1557201246, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.86, "num_steps_sampled": 3962630, "num_steps_trained": 3962630, "load_time_ms": 14.549, "sample_time_ms": 16343.514, "default": {"entropy": 1.0757735967636108, "policy_loss": -0.008023539558053017, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9631263017654419, "vf_loss": 14.948808670043945, "total_loss": 14.94301700592041, "cur_lr": 0.0005000000237487257, "kl": 0.0176335871219635}, "grad_time_ms": 10099.576}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 3962630, "time_this_iter_s": 26.554187536239624, "date": "2019-05-07_03-54-33", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8cd68>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c128>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 14.902283556135917, "outflow_rate_mean": 907.0880910599305, "cost1_max": 493.46775132163754, "cost2_min": -128.15188273665262, "cost2_mean": -95.197269284217, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 360.93566444455786, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 44203, "episodes_this_iter": 16, "training_iteration": 88, "pid": 324, "episode_reward_mean": 1219.4801456024659, "iterations_since_restore": 88, "time_total_s": 2378.29470038414, "episode_len_mean": 657.28, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2378.29470038414, "episode_reward_max": 1528.0454764842239, "episodes_total": 1284, "timesteps_since_restore": 3962630, "timestamp": 1557201273, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.767, "num_steps_sampled": 4006732, "num_steps_trained": 4006732, "load_time_ms": 14.537, "sample_time_ms": 16082.285, "default": {"entropy": 1.097031593322754, "policy_loss": -0.004968386609107256, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9806680083274841, "vf_loss": 8.134350776672363, "total_loss": 8.13156509399414, "cur_lr": 0.0005000000237487257, "kl": 0.01724672131240368}, "grad_time_ms": 10242.529}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4006732, "time_this_iter_s": 25.302266597747803, "date": "2019-05-07_03-54-58", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e980b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98a20>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e982e8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 14.984624384110534, "outflow_rate_mean": 917.4334310631494, "cost1_max": 493.46775132163754, "cost2_min": -128.15188273665262, "cost2_mean": -96.20514298273606, "system_level_velocity_min": 11.346952992119725, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 367.37522975526997, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 44102, "episodes_this_iter": 14, "training_iteration": 89, "pid": 324, "episode_reward_mean": 1239.0168264806443, "iterations_since_restore": 89, "time_total_s": 2403.596966981888, "episode_len_mean": 662.96, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2403.596966981888, "episode_reward_max": 1548.4458131236854, "episodes_total": 1298, "timesteps_since_restore": 4006732, "timestamp": 1557201298, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.791, "num_steps_sampled": 4050478, "num_steps_trained": 4050478, "load_time_ms": 14.796, "sample_time_ms": 15929.524, "default": {"entropy": 1.0967658758163452, "policy_loss": -0.004114414565265179, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9776543974876404, "vf_loss": 9.162480354309082, "total_loss": 9.160301208496094, "cur_lr": 0.0005000000237487257, "kl": 0.015293728560209274}, "grad_time_ms": 10357.569}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4050478, "time_this_iter_s": 26.55659008026123, "date": "2019-05-07_03-55-25", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e969e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96eb8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -17.434947426590412, "system_level_velocity_mean": 15.053196304929777, "outflow_rate_mean": 917.0064986018074, "cost1_max": 480.2198013463165, "cost2_min": -128.15188273665262, "cost2_mean": -96.58279964747919, "system_level_velocity_min": 11.42987942498208, "outflow_rate_max": 1094.089846236101, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 366.6867315389288, "outflow_rate_min": 325.77280635295926}, "policy_reward_mean": {}, "timesteps_this_iter": 43746, "episodes_this_iter": 15, "training_iteration": 90, "pid": 324, "episode_reward_mean": 1240.462948447315, "iterations_since_restore": 90, "time_total_s": 2430.153557062149, "episode_len_mean": 659.41, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2430.153557062149, "episode_reward_max": 1548.4458131236854, "episodes_total": 1313, "timesteps_since_restore": 4050478, "timestamp": 1557201325, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.675, "num_steps_sampled": 4093132, "num_steps_trained": 4093132, "load_time_ms": 14.583, "sample_time_ms": 15790.812, "default": {"entropy": 1.1038413047790527, "policy_loss": -0.0048890807665884495, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9719828367233276, "vf_loss": 10.71565055847168, "total_loss": 10.712706565856934, "cur_lr": 0.0005000000237487257, "kl": 0.01536432933062315}, "grad_time_ms": 10503.224}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4093132, "time_this_iter_s": 25.525848150253296, "date": "2019-05-07_03-55-50", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98940>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98860>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98f28>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -18.574311722067712, "system_level_velocity_mean": 15.03761034806055, "outflow_rate_mean": 923.2254970927004, "cost1_max": 487.90147975492624, "cost2_min": -128.15188273665262, "cost2_mean": -97.45371099215771, "system_level_velocity_min": 11.993246657129475, "outflow_rate_max": 1112.1808914090236, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 370.95843341068723, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 42654, "episodes_this_iter": 17, "training_iteration": 91, "pid": 324, "episode_reward_mean": 1259.0117892865003, "iterations_since_restore": 91, "time_total_s": 2455.6794052124023, "episode_len_mean": 665.9, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2455.6794052124023, "episode_reward_max": 1549.3746524848598, "episodes_total": 1330, "timesteps_since_restore": 4093132, "timestamp": 1557201350, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.648, "num_steps_sampled": 4139029, "num_steps_trained": 4139029, "load_time_ms": 14.591, "sample_time_ms": 15470.102, "default": {"entropy": 1.1149839162826538, "policy_loss": -0.0069698672741651535, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9697996973991394, "vf_loss": 9.419798851013184, "total_loss": 9.415185928344727, "cur_lr": 0.0005000000237487257, "kl": 0.018631236627697945}, "grad_time_ms": 10672.207}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4139029, "time_this_iter_s": 26.649928331375122, "date": "2019-05-07_03-56-17", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8ccf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e8c7b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e79b00>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -18.574311722067712, "system_level_velocity_mean": 14.970225832496334, "outflow_rate_mean": 922.3085442661574, "cost1_max": 487.90147975492624, "cost2_min": -128.15188273665262, "cost2_mean": -97.9947391871084, "system_level_velocity_min": 11.993246657129475, "outflow_rate_max": 1112.1808914090236, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 369.5848685232253, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 45897, "episodes_this_iter": 12, "training_iteration": 92, "pid": 324, "episode_reward_mean": 1261.5112036252083, "iterations_since_restore": 92, "time_total_s": 2482.3293335437775, "episode_len_mean": 666.09, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2482.3293335437775, "episode_reward_max": 1549.3746524848598, "episodes_total": 1342, "timesteps_since_restore": 4139029, "timestamp": 1557201377, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.648, "num_steps_sampled": 4183443, "num_steps_trained": 4183443, "load_time_ms": 14.572, "sample_time_ms": 15260.661, "default": {"entropy": 1.0863031148910522, "policy_loss": -0.006565403193235397, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9749293923377991, "vf_loss": 9.508191108703613, "total_loss": 9.504120826721191, "cur_lr": 0.0005000000237487257, "kl": 0.019716830924153328}, "grad_time_ms": 10732.34}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4183443, "time_this_iter_s": 25.560274600982666, "date": "2019-05-07_03-56-43", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e984e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e980b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -18.574311722067712, "system_level_velocity_mean": 14.752663828087275, "outflow_rate_mean": 912.3883332746883, "cost1_max": 487.90147975492624, "cost2_min": -122.69818549942659, "cost2_mean": -98.09028107606473, "system_level_velocity_min": 11.993246657129475, "outflow_rate_max": 1112.1808914090236, "system_level_velocity_max": 19.358637735573478, "cost1_mean": 363.5478712573828, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44414, "episodes_this_iter": 15, "training_iteration": 93, "pid": 324, "episode_reward_mean": 1248.9236438909832, "iterations_since_restore": 93, "time_total_s": 2507.88960814476, "episode_len_mean": 666.09, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2507.88960814476, "episode_reward_max": 1549.3746524848598, "episodes_total": 1357, "timesteps_since_restore": 4183443, "timestamp": 1557201403, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.679, "num_steps_sampled": 4226849, "num_steps_trained": 4226849, "load_time_ms": 14.177, "sample_time_ms": 15143.0, "default": {"entropy": 1.0928479433059692, "policy_loss": -0.005414447747170925, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9806711077690125, "vf_loss": 7.931819438934326, "total_loss": 7.928530693054199, "cur_lr": 0.0005000000237487257, "kl": 0.01680455356836319}, "grad_time_ms": 10748.125}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4226849, "time_this_iter_s": 25.175110340118408, "date": "2019-05-07_03-57-08", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e988d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e987f0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e7ce80>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.21242604957264, "cost2_max": -18.574311722067712, "system_level_velocity_mean": 14.757541301550134, "outflow_rate_mean": 931.0917343051276, "cost1_max": 487.90147975492624, "cost2_min": -122.69818549942659, "cost2_mean": -99.932168980274, "system_level_velocity_min": 11.993246657129475, "outflow_rate_max": 1112.1808914090236, "system_level_velocity_max": 19.28613088296876, "cost1_mean": 374.50156298698283, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43406, "episodes_this_iter": 18, "training_iteration": 94, "pid": 324, "episode_reward_mean": 1281.6006609422898, "iterations_since_restore": 94, "time_total_s": 2533.0647184848785, "episode_len_mean": 680.54, "hostname": "flow-main", "episode_reward_min": 63.121724026620456, "time_since_restore": 2533.0647184848785, "episode_reward_max": 1596.7682727738488, "episodes_total": 1375, "timesteps_since_restore": 4226849, "timestamp": 1557201428, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.676, "num_steps_sampled": 4268986, "num_steps_trained": 4268986, "load_time_ms": 14.067, "sample_time_ms": 15030.566, "default": {"entropy": 1.0966134071350098, "policy_loss": -0.007881756871938705, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9734596610069275, "vf_loss": 11.450928688049316, "total_loss": 11.445310592651367, "cur_lr": 0.0005000000237487257, "kl": 0.017875375226140022}, "grad_time_ms": 10712.508}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4268986, "time_this_iter_s": 25.544604301452637, "date": "2019-05-07_03-57-33", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98048>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.43686161000399, "cost2_max": -19.285258768148488, "system_level_velocity_mean": 14.677857401818448, "outflow_rate_mean": 931.395602120769, "cost1_max": 487.90147975492624, "cost2_min": -122.69818549942659, "cost2_mean": -99.92528360112263, "system_level_velocity_min": 11.993246657129475, "outflow_rate_max": 1112.1808914090236, "system_level_velocity_max": 19.3999821459607, "cost1_mean": 375.40434045280256, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 42137, "episodes_this_iter": 16, "training_iteration": 95, "pid": 324, "episode_reward_mean": 1286.6740590816228, "iterations_since_restore": 95, "time_total_s": 2558.609322786331, "episode_len_mean": 685.06, "hostname": "flow-main", "episode_reward_min": 72.36009984833912, "time_since_restore": 2558.609322786331, "episode_reward_max": 1596.7682727738488, "episodes_total": 1391, "timesteps_since_restore": 4268986, "timestamp": 1557201453, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.512, "num_steps_sampled": 4313904, "num_steps_trained": 4313904, "load_time_ms": 14.028, "sample_time_ms": 15149.777, "default": {"entropy": 1.1144952774047852, "policy_loss": -0.005150341894477606, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9827847480773926, "vf_loss": 6.622569561004639, "total_loss": 6.619680404663086, "cur_lr": 0.0005000000237487257, "kl": 0.01786690019071102}, "grad_time_ms": 10764.618}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4313904, "time_this_iter_s": 27.27480411529541, "date": "2019-05-07_03-58-01", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e714e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71ef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e71d68>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.43686161000399, "cost2_max": -19.285258768148488, "system_level_velocity_mean": 14.79033333456741, "outflow_rate_mean": 940.613960598949, "cost1_max": 487.90147975492624, "cost2_min": -133.52349579255662, "cost2_mean": -100.53988488625713, "system_level_velocity_min": 12.08367261556632, "outflow_rate_max": 1114.755380113151, "system_level_velocity_max": 19.3999821459607, "cost1_mean": 380.8939368375093, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44918, "episodes_this_iter": 12, "training_iteration": 96, "pid": 324, "episode_reward_mean": 1295.5414078471606, "iterations_since_restore": 96, "time_total_s": 2585.8841269016266, "episode_len_mean": 688.61, "hostname": "flow-main", "episode_reward_min": 72.36009984833912, "time_since_restore": 2585.8841269016266, "episode_reward_max": 1646.421891073158, "episodes_total": 1403, "timesteps_since_restore": 4313904, "timestamp": 1557201481, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.571, "num_steps_sampled": 4357384, "num_steps_trained": 4357384, "load_time_ms": 14.157, "sample_time_ms": 15330.979, "default": {"entropy": 1.0887387990951538, "policy_loss": -0.005767220165580511, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9774261713027954, "vf_loss": 10.102140426635742, "total_loss": 10.098723411560059, "cur_lr": 0.0005000000237487257, "kl": 0.01857452280819416}, "grad_time_ms": 10562.044}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4357384, "time_this_iter_s": 25.89486026763916, "date": "2019-05-07_03-58-27", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e986d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98518>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 34.43686161000399, "cost2_max": -19.285258768148488, "system_level_velocity_mean": 14.720260087852408, "outflow_rate_mean": 930.9315985643, "cost1_max": 482.9613536497878, "cost2_min": -133.52349579255662, "cost2_mean": -100.22238406061692, "system_level_velocity_min": 12.08367261556632, "outflow_rate_max": 1114.755380113151, "system_level_velocity_max": 19.3999821459607, "cost1_mean": 374.60918794480494, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43480, "episodes_this_iter": 17, "training_iteration": 97, "pid": 324, "episode_reward_mean": 1277.7492171291494, "iterations_since_restore": 97, "time_total_s": 2611.7789871692657, "episode_len_mean": 683.19, "hostname": "flow-main", "episode_reward_min": 72.36009984833912, "time_since_restore": 2611.7789871692657, "episode_reward_max": 1646.421891073158, "episodes_total": 1420, "timesteps_since_restore": 4357384, "timestamp": 1557201507, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.671, "num_steps_sampled": 4400409, "num_steps_trained": 4400409, "load_time_ms": 14.017, "sample_time_ms": 15558.907, "default": {"entropy": 1.0850622653961182, "policy_loss": -0.007494655437767506, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9778280854225159, "vf_loss": 9.730839729309082, "total_loss": 9.725533485412598, "cur_lr": 0.0005000000237487257, "kl": 0.017298003658652306}, "grad_time_ms": 10271.361}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4400409, "time_this_iter_s": 25.92197871208191, "date": "2019-05-07_03-58-53", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e98d68>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.254853749951337, "cost2_max": -15.44016231974047, "system_level_velocity_mean": 14.88659893326791, "outflow_rate_mean": 936.0952446399959, "cost1_max": 482.9613536497878, "cost2_min": -133.52349579255662, "cost2_mean": -100.64664818847719, "system_level_velocity_min": 12.08367261556632, "outflow_rate_max": 1114.755380113151, "system_level_velocity_max": 20.07900933285161, "cost1_mean": 376.884563663858, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 43025, "episodes_this_iter": 16, "training_iteration": 98, "pid": 324, "episode_reward_mean": 1268.1346455625708, "iterations_since_restore": 98, "time_total_s": 2637.7009658813477, "episode_len_mean": 681.51, "hostname": "flow-main", "episode_reward_min": 51.078939795280796, "time_since_restore": 2637.7009658813477, "episode_reward_max": 1646.421891073158, "episodes_total": 1436, "timesteps_since_restore": 4400409, "timestamp": 1557201533, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.738, "num_steps_sampled": 4444445, "num_steps_trained": 4444445, "load_time_ms": 13.796, "sample_time_ms": 15940.704, "default": {"entropy": 1.1136829853057861, "policy_loss": -0.00601563835516572, "cur_kl_coeff": 0.12656249105930328, "vf_explained_var": 0.9808458685874939, "vf_loss": 8.061217308044434, "total_loss": 8.057055473327637, "cur_lr": 0.0005000000237487257, "kl": 0.014647089876234531}, "grad_time_ms": 10006.587}, "done": false, "num_metric_batches_dropped": 0, "timesteps_total": 4444445, "time_this_iter_s": 26.485509395599365, "date": "2019-05-07_03-59-19", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e96320>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42b3e968d0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.254853749951337, "cost2_max": -15.44016231974047, "system_level_velocity_mean": 15.109503763644364, "outflow_rate_mean": 942.0509488937926, "cost1_max": 482.9613536497878, "cost2_min": -133.52349579255662, "cost2_mean": -100.96112478707168, "system_level_velocity_min": 12.573296599398178, "outflow_rate_max": 1114.755380113151, "system_level_velocity_max": 20.07900933285161, "cost1_mean": 379.968227834581, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 44036, "episodes_this_iter": 15, "training_iteration": 99, "pid": 324, "episode_reward_mean": 1256.3187746544668, "iterations_since_restore": 99, "time_total_s": 2664.186475276947, "episode_len_mean": 678.0, "hostname": "flow-main", "episode_reward_min": 51.078939795280796, "time_since_restore": 2664.186475276947, "episode_reward_max": 1646.421891073158, "episodes_total": 1451, "timesteps_since_restore": 4444445, "timestamp": 1557201559, "node_ip": "10.138.0.2"}
{"info": {"update_time_ms": 8.766, "num_steps_sampled": 4487198, "num_steps_trained": 4487198, "load_time_ms": 13.275, "sample_time_ms": 16318.033, "default": {"entropy": 1.104579210281372, "policy_loss": -0.006375037133693695, "cur_kl_coeff": 0.1265624761581421, "vf_explained_var": 0.9864584803581238, "vf_loss": 6.454501628875732, "total_loss": 6.45023775100708, "cur_lr": 0.0005000000237487257, "kl": 0.01668109931051731}, "grad_time_ms": 9697.881}, "done": true, "num_metric_batches_dropped": 0, "timesteps_total": 4487198, "time_this_iter_s": 27.23905849456787, "date": "2019-05-07_03-59-46", "config": {"input_evaluation": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "straggler_mitigation": false, "num_cpus_per_worker": 1, "synchronize_filters": true, "lr_schedule": null, "sample_async": false, "sgd_minibatch_size": 128, "simple_optimizer": false, "lambda": 0.97, "num_gpus_per_worker": 0, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "observation_filter": "NoFilter", "input": "sampler", "batch_mode": "truncate_episodes", "train_batch_size": 30000, "monitor": false, "kl_target": 0.01, "sample_batch_size": 200, "output": null, "lr": 0.0005, "vf_share_layers": false, "num_cpus_for_driver": 1, "clip_rewards": null, "preprocessor_pref": "deepmind", "use_gae": true, "optimizer": {}, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "kl_coeff": 0.2, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae2b38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae2eb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f42bfae2be0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "entropy_coeff": 0.0, "clip_param": 0.3, "compress_observations": false, "gamma": 0.99, "horizon": 1500, "num_sgd_iter": 10, "output_max_file_size": 67108864, "log_level": "INFO", "num_envs_per_worker": 1, "num_gpus": 0, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_workers": 20, "model": {"fcnet_activation": "tanh", "squash_to_range": false, "framestack": true, "custom_options": {}, "lstm_cell_size": 256, "dim": 84, "conv_activation": "relu", "zero_mean": true, "custom_model": null, "conv_filters": null, "custom_preprocessor": null, "channel_major": false, "free_log_std": false, "max_seq_len": 20, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "use_lstm": false}}, "experiment_id": "513738523cd54a3d88f7054a0f8b4811", "custom_metrics": {"cost1_min": 29.254853749951337, "cost2_max": -15.44016231974047, "system_level_velocity_mean": 14.897380879150877, "outflow_rate_mean": 932.1914371316998, "cost1_max": 482.9613536497878, "cost2_min": -133.52349579255662, "cost2_mean": -101.8007957862745, "system_level_velocity_min": 12.035750727232672, "outflow_rate_max": 1114.755380113151, "system_level_velocity_max": 20.07900933285161, "cost1_mean": 374.0569572826124, "outflow_rate_min": 326.3279975793562}, "policy_reward_mean": {}, "timesteps_this_iter": 42753, "episodes_this_iter": 15, "training_iteration": 100, "pid": 324, "episode_reward_mean": 1244.8494404119103, "iterations_since_restore": 100, "time_total_s": 2691.425533771515, "episode_len_mean": 678.0, "hostname": "flow-main", "episode_reward_min": 51.078939795280796, "time_since_restore": 2691.425533771515, "episode_reward_max": 1646.421891073158, "episodes_total": 1466, "timesteps_since_restore": 4487198, "timestamp": 1557201586, "node_ip": "10.138.0.2"}
